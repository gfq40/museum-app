const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/babylon-vendor-BwsgXFG1.js","assets/ionic-vendor-C43_NSMk.js","assets/react-vendor-ikNeKBg6.js"])))=>i.map(i=>d[i]);
import{a as me,t as b3,b as nu,j as g,I as Zt,c as Vt,d as Ce,e as ie,f as Ie,g as De,h as gc,i as Se,k as ha,l as Ps,m as Gg,n as Ve,o as Ge,p as Hg,q as _s,r as de,s as E3,u as pc,v as Wt,w as Nt,x as Mt,y as kt,z as fn,A as Ln,B as qg,C as Xg,D as A3,E as Ti,F as es,G as S3,H as C3,J as _3,K as Ud,L as Fd,M as xs,_ as C0,N as T3,O as O3,P as Vu,Q as R3,R as fa,S as I3,T as Wg,U as D3,V as Tl,W as N3,X as M3,Y as Gu,Z as k3,$ as j3,a0 as B3,a1 as L3,a2 as P3,a3 as z3}from"./ionic-vendor-C43_NSMk.js";import{r as Y,b as U3,g as F3,u as Gs,R as Tt,h as eo,i as V3,j as G3,c as hn,k as Yg}from"./react-vendor-ikNeKBg6.js";import{u as qn,i as H3,B as q3,a as X3}from"./i18n-vendor-fP-_IOJE.js";import{E as W3,S as Y3,C as Q3,A as K3,V as _0,H as Z3,M as $3,a as J3,b as T0,W as ew}from"./babylon-vendor-BwsgXFG1.js";function NA(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}function Qg(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(i,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();var Kg={exports:{}},iu={},Zg={exports:{}},$g={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(re,ce){var se=re.length;re.push(ce);e:for(;0<se;){var xe=se-1>>>1,_e=re[xe];if(0<a(_e,ce))re[xe]=ce,re[se]=_e,se=xe;else break e}}function n(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var ce=re[0],se=re.pop();if(se!==ce){re[0]=se;e:for(var xe=0,_e=re.length,ln=_e>>>1;xe<ln;){var wt=2*(xe+1)-1,ci=re[wt],ft=wt+1,os=re[ft];if(0>a(ci,se))ft<_e&&0>a(os,ci)?(re[xe]=os,re[ft]=se,xe=ft):(re[xe]=ci,re[wt]=se,xe=wt);else if(ft<_e&&0>a(os,se))re[xe]=os,re[ft]=se,xe=ft;else break e}}return ce}function a(re,ce){var se=re.sortIndex-ce.sortIndex;return se!==0?se:re.id-ce.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var d=Date,m=d.now();e.unstable_now=function(){return d.now()-m}}var p=[],x=[],b=1,y=null,C=3,S=!1,N=!1,M=!1,B=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function _(re){for(var ce=n(x);ce!==null;){if(ce.callback===null)i(x);else if(ce.startTime<=re)i(x),ce.sortIndex=ce.expirationTime,t(p,ce);else break;ce=n(x)}}function D(re){if(M=!1,_(re),!N)if(n(p)!==null)N=!0,oe();else{var ce=n(x);ce!==null&&H(D,ce.startTime-re)}}var P=!1,G=-1,z=5,k=-1;function V(){return!(e.unstable_now()-k<z)}function Z(){if(P){var re=e.unstable_now();k=re;var ce=!0;try{e:{N=!1,M&&(M=!1,T(G),G=-1),S=!0;var se=C;try{t:{for(_(re),y=n(p);y!==null&&!(y.expirationTime>re&&V());){var xe=y.callback;if(typeof xe=="function"){y.callback=null,C=y.priorityLevel;var _e=xe(y.expirationTime<=re);if(re=e.unstable_now(),typeof _e=="function"){y.callback=_e,_(re),ce=!0;break t}y===n(p)&&i(p),_(re)}else i(p);y=n(p)}if(y!==null)ce=!0;else{var ln=n(x);ln!==null&&H(D,ln.startTime-re),ce=!1}}break e}finally{y=null,C=se,S=!1}ce=void 0}}finally{ce?ee():P=!1}}}var ee;if(typeof A=="function")ee=function(){A(Z)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,$=q.port2;q.port1.onmessage=Z,ee=function(){$.postMessage(null)}}else ee=function(){B(Z,0)};function oe(){P||(P=!0,ee())}function H(re,ce){G=B(function(){re(e.unstable_now())},ce)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_continueExecution=function(){N||S||(N=!0,oe())},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return C},e.unstable_getFirstCallbackNode=function(){return n(p)},e.unstable_next=function(re){switch(C){case 1:case 2:case 3:var ce=3;break;default:ce=C}var se=C;C=ce;try{return re()}finally{C=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(re,ce){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var se=C;C=re;try{return ce()}finally{C=se}},e.unstable_scheduleCallback=function(re,ce,se){var xe=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?xe+se:xe):se=xe,re){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=se+_e,re={id:b++,callback:ce,priorityLevel:re,startTime:se,expirationTime:_e,sortIndex:-1},se>xe?(re.sortIndex=se,t(x,re),n(p)===null&&re===n(x)&&(M?(T(G),G=-1):M=!0,H(D,se-xe))):(re.sortIndex=_e,t(p,re),N||S||(N=!0,oe())),re},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(re){var ce=C;return function(){var se=C;C=ce;try{return re.apply(this,arguments)}finally{C=se}}}})($g);Zg.exports=$g;var tw=Zg.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gt=tw,Jg=Y,nw=U3;function J(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var iw=Symbol.for("react.element"),Ol=Symbol.for("react.transitional.element"),uo=Symbol.for("react.portal"),ea=Symbol.for("react.fragment"),t2=Symbol.for("react.strict_mode"),Vd=Symbol.for("react.profiler"),sw=Symbol.for("react.provider"),n2=Symbol.for("react.consumer"),Qi=Symbol.for("react.context"),$h=Symbol.for("react.forward_ref"),Gd=Symbol.for("react.suspense"),Hd=Symbol.for("react.suspense_list"),Jh=Symbol.for("react.memo"),vs=Symbol.for("react.lazy"),i2=Symbol.for("react.offscreen"),rw=Symbol.for("react.memo_cache_sentinel"),O0=Symbol.iterator;function to(e){return e===null||typeof e!="object"?null:(e=O0&&e[O0]||e["@@iterator"],typeof e=="function"?e:null)}var aw=Symbol.for("react.client.reference");function qd(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===aw?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ea:return"Fragment";case uo:return"Portal";case Vd:return"Profiler";case t2:return"StrictMode";case Gd:return"Suspense";case Hd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qi:return(e.displayName||"Context")+".Provider";case n2:return(e._context.displayName||"Context")+".Consumer";case $h:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jh:return t=e.displayName||null,t!==null?t:qd(e.type)||"Memo";case vs:t=e._payload,e=e._init;try{return qd(e(t))}catch(n){}}return null}var Oe=Jg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=Object.assign,Hu,R0;function ho(e){if(Hu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Hu=t&&t[1]||"",R0=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Hu+e+R0}var qu=!1;function Xu(e,t){if(!e||qu)return"";qu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var y=function(){throw Error()};if(Object.defineProperty(y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(y,[])}catch(S){var C=S}Reflect.construct(e,[],y)}else{try{y.call()}catch(S){C=S}e.call(y.prototype)}}else{try{throw Error()}catch(S){C=S}(y=e())&&typeof y.catch=="function"&&y.catch(function(){})}}catch(S){if(S&&C&&typeof S.stack=="string")return[S.stack,C.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),d=o[0],m=o[1];if(d&&m){var p=d.split("\n"),x=m.split("\n");for(a=i=0;i<p.length&&!p[i].includes("DetermineComponentFrameRoot");)i++;for(;a<x.length&&!x[a].includes("DetermineComponentFrameRoot");)a++;if(i===p.length||a===x.length)for(i=p.length-1,a=x.length-1;1<=i&&0<=a&&p[i]!==x[a];)a--;for(;1<=i&&0<=a;i--,a--)if(p[i]!==x[a]){if(i!==1||a!==1)do if(i--,a--,0>a||p[i]!==x[a]){var b="\n"+p[i].replace(" at new "," at ");return e.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",e.displayName)),b}while(1<=i&&0<=a);break}}}finally{qu=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ho(n):""}function ow(e){switch(e.tag){case 26:case 27:case 5:return ho(e.type);case 16:return ho("Lazy");case 13:return ho("Suspense");case 19:return ho("SuspenseList");case 0:case 15:return e=Xu(e.type,!1),e;case 11:return e=Xu(e.type.render,!1),e;case 1:return e=Xu(e.type,!0),e;default:return""}}function I0(e){try{var t="";do t+=ow(e),e=e.return;while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ka(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function D0(e){if(ka(e)!==e)throw Error(J(188))}function lw(e){var t=e.alternate;if(!t){if(t=ka(e),t===null)throw Error(J(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(a===null)break;var o=a.alternate;if(o===null){if(i=a.return,i!==null){n=i;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return D0(a),e;if(o===i)return D0(a),t;o=o.sibling}throw Error(J(188))}if(n.return!==i.return)n=a,i=o;else{for(var d=!1,m=a.child;m;){if(m===n){d=!0,n=a,i=o;break}if(m===i){d=!0,i=a,n=o;break}m=m.sibling}if(!d){for(m=o.child;m;){if(m===n){d=!0,n=o,i=a;break}if(m===i){d=!0,i=o,n=a;break}m=m.sibling}if(!d)throw Error(J(189))}}if(n.alternate!==i)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?e:t}function r2(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=r2(e),t!==null)return t;e=e.sibling}return null}var fo=Array.isArray,ct=nw.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,hr={pending:!1,data:null,method:null,action:null},Xd=[],ta=-1;function ji(e){return{current:e}}function $t(e){0>ta||(e.current=Xd[ta],Xd[ta]=null,ta--)}function ht(e,t){ta++,Xd[ta]=e.current,e.current=t}var Di=ji(null),jo=ji(null),Is=ji(null),mc=ji(null);function xc(e,t){switch(ht(Is,t),ht(jo,e),ht(Di,null),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?N1(t):0;break;default:if(e=e===8?t.parentNode:t,t=e.tagName,e=e.namespaceURI)e=N1(e),t=xm(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$t(Di),ht(Di,t)}function Sa(){$t(Di),$t(jo),$t(Is)}function Wd(e){e.memoizedState!==null&&ht(mc,e);var t=Di.current,n=xm(t,e.type);t!==n&&(ht(jo,e),ht(Di,n))}function wc(e){jo.current===e&&($t(Di),$t(jo)),mc.current===e&&($t(mc),Xo._currentValue=hr)}var Yd=Object.prototype.hasOwnProperty,ef=Gt.unstable_scheduleCallback,Wu=Gt.unstable_cancelCallback,cw=Gt.unstable_shouldYield,uw=Gt.unstable_requestPaint,Ni=Gt.unstable_now,dw=Gt.unstable_getCurrentPriorityLevel,a2=Gt.unstable_ImmediatePriority,o2=Gt.unstable_UserBlockingPriority,vc=Gt.unstable_NormalPriority,hw=Gt.unstable_LowPriority,l2=Gt.unstable_IdlePriority,fw=Gt.log,gw=Gt.unstable_setDisableYieldValue,tl=null,Fn=null;function pw(e){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(tl,e,void 0,(e.current.flags&128)===128)}catch(t){}}function Ts(e){if(typeof fw=="function"&&gw(e),Fn&&typeof Fn.setStrictMode=="function")try{Fn.setStrictMode(tl,e)}catch(t){}}var Vn=Math.clz32?Math.clz32:ww,mw=Math.log,xw=Math.LN2;function ww(e){return e>>>=0,e===0?32:31-(mw(e)/xw|0)|0}var Rl=128,Il=4194304;function nr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function su(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes,d=e.warmLanes;e=e.finishedLanes!==0;var m=n&134217727;return m!==0?(n=m&~a,n!==0?i=nr(n):(o&=m,o!==0?i=nr(o):e||(d=m&~d,d!==0&&(i=nr(d))))):(m=n&~a,m!==0?i=nr(m):o!==0?i=nr(o):e||(d=n&~d,d!==0&&(i=nr(d)))),i===0?0:t!==0&&t!==i&&!(t&a)&&(a=i&-i,d=t&-t,a>=d||a===32&&(d&4194176)!==0)?t:i}function nl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function vw(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function c2(){var e=Rl;return Rl<<=1,!(Rl&4194176)&&(Rl=128),e}function u2(){var e=Il;return Il<<=1,!(Il&62914560)&&(Il=4194304),e}function Yu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function il(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function yw(e,t,n,i,a,o){var d=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var m=e.entanglements,p=e.expirationTimes,x=e.hiddenUpdates;for(n=d&~n;0<n;){var b=31-Vn(n),y=1<<b;m[b]=0,p[b]=-1;var C=x[b];if(C!==null)for(x[b]=null,b=0;b<C.length;b++){var S=C[b];S!==null&&(S.lane&=-536870913)}n&=~y}i!==0&&d2(e,i,0),o!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=o&~(d&~t))}function d2(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Vn(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194218}function h2(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Vn(n),a=1<<i;a&t|e[i]&t&&(e[i]|=t),n&=~a}}function f2(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function g2(){var e=ct.p;return e!==0?e:(e=window.event,e===void 0?32:Tm(e.type))}function bw(e,t){var n=ct.p;try{return ct.p=e,t()}finally{ct.p=n}}var Hs=Math.random().toString(36).slice(2),gn="__reactFiber$"+Hs,Rn="__reactProps$"+Hs,ja="__reactContainer$"+Hs,Qd="__reactEvents$"+Hs,Ew="__reactListeners$"+Hs,Aw="__reactHandles$"+Hs,N0="__reactResources$"+Hs,Bo="__reactMarker$"+Hs;function tf(e){delete e[gn],delete e[Rn],delete e[Qd],delete e[Ew],delete e[Aw]}function cr(e){var t=e[gn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ja]||n[gn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=k1(e);e!==null;){if(n=e[gn])return n;e=k1(e)}return t}e=n,n=e.parentNode}return null}function Ba(e){if(e=e[gn]||e[ja]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function go(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(J(33))}function ga(e){var t=e[N0];return t||(t=e[N0]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Qt(e){e[Bo]=!0}var p2=new Set,m2={};function Sr(e,t){Ca(e,t),Ca(e+"Capture",t)}function Ca(e,t){for(m2[e]=t,e=0;e<t.length;e++)p2.add(t[e])}var ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),M0={},k0={};function Cw(e){return Yd.call(k0,e)?!0:Yd.call(M0,e)?!1:Sw.test(e)?k0[e]=!0:(M0[e]=!0,!1)}function ec(e,t,n){if(Cw(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Dl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Pi(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function ei(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function x2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _w(e){var t=x2(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(d){i=""+d,o.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(d){i=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yc(e){e._valueTracker||(e._valueTracker=_w(e))}function w2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=x2(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function bc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch(t){return e.body}}var Tw=/[\n"\\]/g;function ii(e){return e.replace(Tw,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Kd(e,t,n,i,a,o,d,m){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ei(t)):e.value!==""+ei(t)&&(e.value=""+ei(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?Zd(e,d,ei(t)):n!=null?Zd(e,d,ei(n)):i!=null&&e.removeAttribute("value"),a==null&&o!=null&&(e.defaultChecked=!!o),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.name=""+ei(m):e.removeAttribute("name")}function v2(e,t,n,i,a,o,d,m){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null))return;n=n!=null?""+ei(n):"",t=t!=null?""+ei(t):n,m||t===e.value||(e.value=t),e.defaultValue=t}i=i!=null?i:a,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=m?e.checked:!!i,e.defaultChecked=!!i,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d)}function Zd(e,t,n){t==="number"&&bc(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function pa(e,t,n,i){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ei(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,i&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function y2(e,t,n){if(t!=null&&(t=""+ei(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+ei(n):""}function b2(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(J(92));if(fo(i)){if(1<i.length)throw Error(J(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=ei(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function _a(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ow=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function j0(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||Ow.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function E2(e,t,n){if(t!=null&&typeof t!="object")throw Error(J(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var a in t)i=t[a],t.hasOwnProperty(a)&&n[a]!==i&&j0(e,a,i)}else for(var o in t)t.hasOwnProperty(o)&&j0(e,o,t[o])}function nf(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Iw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tc(e){return Iw.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var $d=null;function sf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var na=null,ma=null;function B0(e){var t=Ba(e);if(t&&(e=t.stateNode)){var n=e[Rn]||null;e:switch(e=t.stateNode,t.type){case"input":if(Kd(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ii(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=i[Rn]||null;if(!a)throw Error(J(90));Kd(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&w2(i)}break e;case"textarea":y2(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&pa(e,!!n.multiple,t,!1)}}}var Qu=!1;function A2(e,t,n){if(Qu)return e(t,n);Qu=!0;try{var i=e(t);return i}finally{if(Qu=!1,(na!==null||ma!==null)&&(gu(),na&&(t=na,e=ma,ma=na=null,B0(t),e)))for(t=0;t<e.length;t++)B0(e[t])}}function Lo(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Rn]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(J(231,t,typeof n));return n}var Jd=!1;if(ns)try{var no={};Object.defineProperty(no,"passive",{get:function(){Jd=!0}}),window.addEventListener("test",no,no),window.removeEventListener("test",no,no)}catch(e){Jd=!1}var Os=null,rf=null,nc=null;function S2(){if(nc)return nc;var e,t=rf,n=t.length,i,a="value"in Os?Os.value:Os.textContent,o=a.length;for(e=0;e<n&&t[e]===a[e];e++);var d=n-e;for(i=1;i<=d&&t[n-i]===a[o-i];i++);return nc=a.slice(e,1<i?1-i:void 0)}function ic(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nl(){return!0}function L0(){return!1}function In(e){function t(n,i,a,o,d){this._reactName=n,this._targetInst=a,this.type=i,this.nativeEvent=o,this.target=d,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(n=e[m],this[m]=n?n(o):o[m]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Nl:L0,this.isPropagationStopped=L0,this}return ut(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nl)},persist:function(){},isPersistent:Nl}),t}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ru=In(Cr),sl=ut({},Cr,{view:0,detail:0}),Dw=In(sl),Ku,Zu,io,au=ut({},sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:af,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==io&&(io&&e.type==="mousemove"?(Ku=e.screenX-io.screenX,Zu=e.screenY-io.screenY):Zu=Ku=0,io=e),Ku)},movementY:function(e){return"movementY"in e?e.movementY:Zu}}),P0=In(au),Nw=ut({},au,{dataTransfer:0}),Mw=In(Nw),kw=ut({},sl,{relatedTarget:0}),$u=In(kw),jw=ut({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),Bw=In(jw),Lw=ut({},Cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pw=In(Lw),zw=ut({},Cr,{data:0}),z0=In(zw),Uw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Vw[e])?!!t[e]:!1}function af(){return Gw}var Hw=ut({},sl,{key:function(e){if(e.key){var t=Uw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ic(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:af,charCode:function(e){return e.type==="keypress"?ic(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ic(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qw=In(Hw),Xw=ut({},au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U0=In(Xw),Ww=ut({},sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:af}),Yw=In(Ww),Qw=ut({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kw=In(Qw),Zw=ut({},au,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$w=In(Zw),Jw=ut({},Cr,{newState:0,oldState:0}),ev=In(Jw),tv=[9,13,27,32],of=ns&&"CompositionEvent"in window,xo=null;ns&&"documentMode"in document&&(xo=document.documentMode);var nv=ns&&"TextEvent"in window&&!xo,C2=ns&&(!of||xo&&8<xo&&11>=xo),F0=" ",V0=!1;function _2(e,t){switch(e){case"keyup":return tv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function T2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ia=!1;function iv(e,t){switch(e){case"compositionend":return T2(t);case"keypress":return t.which!==32?null:(V0=!0,F0);case"textInput":return e=t.data,e===F0&&V0?null:e;default:return null}}function sv(e,t){if(ia)return e==="compositionend"||!of&&_2(e,t)?(e=S2(),nc=rf=Os=null,ia=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return C2&&t.locale!=="ko"?null:t.data;default:return null}}var rv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function G0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rv[e.type]:t==="textarea"}function O2(e,t,n,i){na?ma?ma.push(i):ma=[i]:na=i,t=Lc(t,"onChange"),0<t.length&&(n=new ru("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var wo=null,Po=null;function av(e){gm(e,0)}function ou(e){var t=go(e);if(w2(t))return e}function H0(e,t){if(e==="change")return t}var R2=!1;if(ns){var Ju;if(ns){var ed="oninput"in document;if(!ed){var q0=document.createElement("div");q0.setAttribute("oninput","return;"),ed=typeof q0.oninput=="function"}Ju=ed}else Ju=!1;R2=Ju&&(!document.documentMode||9<document.documentMode)}function X0(){wo&&(wo.detachEvent("onpropertychange",I2),Po=wo=null)}function I2(e){if(e.propertyName==="value"&&ou(Po)){var t=[];O2(t,Po,e,sf(e)),A2(av,t)}}function ov(e,t,n){e==="focusin"?(X0(),wo=t,Po=n,wo.attachEvent("onpropertychange",I2)):e==="focusout"&&X0()}function lv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ou(Po)}function cv(e,t){if(e==="click")return ou(t)}function uv(e,t){if(e==="input"||e==="change")return ou(t)}function dv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hn=typeof Object.is=="function"?Object.is:dv;function zo(e,t){if(Hn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var a=n[i];if(!Yd.call(t,a)||!Hn(e[a],t[a]))return!1}return!0}function W0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Y0(e,t){var n=W0(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=W0(n)}}function D2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?D2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function N2(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=bc(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch(i){n=!1}if(n)e=t.contentWindow;else break;t=bc(e.document)}return t}function lf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hv(e,t){var n=N2(t);t=e.focusedElem;var i=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&D2(t.ownerDocument.documentElement,t)){if(i!==null&&lf(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var a=t.textContent.length,o=Math.min(i.start,a);i=i.end===void 0?o:Math.min(i.end,a),!n.extend&&o>i&&(a=i,i=o,o=a),a=Y0(t,o);var d=Y0(t,i);a&&d&&(n.rangeCount!==1||n.anchorNode!==a.node||n.anchorOffset!==a.offset||n.focusNode!==d.node||n.focusOffset!==d.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),n.removeAllRanges(),o>i?(n.addRange(e),n.extend(d.node,d.offset)):(e.setEnd(d.node,d.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var fv=ns&&"documentMode"in document&&11>=document.documentMode,sa=null,eh=null,vo=null,th=!1;function Q0(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;th||sa==null||sa!==bc(i)||(i=sa,"selectionStart"in i&&lf(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),vo&&zo(vo,i)||(vo=i,i=Lc(eh,"onSelect"),0<i.length&&(t=new ru("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=sa)))}function Js(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ra={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionrun:Js("Transition","TransitionRun"),transitionstart:Js("Transition","TransitionStart"),transitioncancel:Js("Transition","TransitionCancel"),transitionend:Js("Transition","TransitionEnd")},td={},M2={};ns&&(M2=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);function _r(e){if(td[e])return td[e];if(!ra[e])return e;var t=ra[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in M2)return td[e]=t[n];return e}var k2=_r("animationend"),j2=_r("animationiteration"),B2=_r("animationstart"),gv=_r("transitionrun"),pv=_r("transitionstart"),mv=_r("transitioncancel"),L2=_r("transitionend"),P2=new Map,K0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function vi(e,t){P2.set(e,t),Sr(t,[e])}var Jn=[],aa=0,cf=0;function lu(){for(var e=aa,t=cf=aa=0;t<e;){var n=Jn[t];Jn[t++]=null;var i=Jn[t];Jn[t++]=null;var a=Jn[t];Jn[t++]=null;var o=Jn[t];if(Jn[t++]=null,i!==null&&a!==null){var d=i.pending;d===null?a.next=a:(a.next=d.next,d.next=a),i.pending=a}o!==0&&z2(n,a,o)}}function cu(e,t,n,i){Jn[aa++]=e,Jn[aa++]=t,Jn[aa++]=n,Jn[aa++]=i,cf|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function uf(e,t,n,i){return cu(e,t,n,i),Ec(e)}function zs(e,t){return cu(e,null,null,t),Ec(e)}function z2(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var a=!1,o=e.return;o!==null;)o.childLanes|=n,i=o.alternate,i!==null&&(i.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(a=!0)),e=o,o=o.return;a&&t!==null&&e.tag===3&&(o=e.stateNode,a=31-Vn(n),o=o.hiddenUpdates,e=o[a],e===null?o[a]=[t]:e.push(t),t.lane=n|536870912)}function Ec(e){if(50<Do)throw Do=0,Ah=null,Error(J(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var oa={},Z0=new WeakMap;function si(e,t){if(typeof e=="object"&&e!==null){var n=Z0.get(e);return n!==void 0?n:(t={value:e,source:t,stack:I0(t)},Z0.set(e,t),t)}return{value:e,source:t,stack:I0(t)}}var la=[],ca=0,Ac=null,Sc=0,ti=[],ni=0,fr=null,Ki=1,Zi="";function ir(e,t){la[ca++]=Sc,la[ca++]=Ac,Ac=e,Sc=t}function U2(e,t,n){ti[ni++]=Ki,ti[ni++]=Zi,ti[ni++]=fr,fr=e;var i=Ki;e=Zi;var a=32-Vn(i)-1;i&=~(1<<a),n+=1;var o=32-Vn(t)+a;if(30<o){var d=a-a%5;o=(i&(1<<d)-1).toString(32),i>>=d,a-=d,Ki=1<<32-Vn(t)+a|n<<a|i,Zi=o+e}else Ki=1<<o|n<<a|i,Zi=e}function df(e){e.return!==null&&(ir(e,1),U2(e,1,0))}function hf(e){for(;e===Ac;)Ac=la[--ca],la[ca]=null,Sc=la[--ca],la[ca]=null;for(;e===fr;)fr=ti[--ni],ti[ni]=null,Zi=ti[--ni],ti[ni]=null,Ki=ti[--ni],ti[ni]=null}var vn=null,an=null,He=!1,xi=null,Oi=!1,nh=Error(J(519));function wr(e){var t=Error(J(418,""));throw Uo(si(t,e)),nh}function $0(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[gn]=e,t[Rn]=i,n){case"dialog":Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":case"embed":Pe("load",t);break;case"video":case"audio":for(n=0;n<Go.length;n++)Pe(Go[n],t);break;case"source":Pe("error",t);break;case"img":case"image":case"link":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"input":Pe("invalid",t),v2(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),yc(t);break;case"select":Pe("invalid",t);break;case"textarea":Pe("invalid",t),b2(t,i.value,i.defaultValue,i.children),yc(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||mm(t.textContent,n)?(i.popover!=null&&(Pe("beforetoggle",t),Pe("toggle",t)),i.onScroll!=null&&Pe("scroll",t),i.onScrollEnd!=null&&Pe("scrollend",t),i.onClick!=null&&(t.onclick=mu),t=!0):t=!1,t||wr(e)}function J0(e){for(vn=e.return;vn;)switch(vn.tag){case 3:case 27:Oi=!0;return;case 5:case 13:Oi=!1;return;default:vn=vn.return}}function so(e){if(e!==vn)return!1;if(!He)return J0(e),He=!0,!1;var t=!1,n;if((n=e.tag!==3&&e.tag!==27)&&((n=e.tag===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Ih(e.type,e.memoizedProps)),n=!n),n&&(t=!0),t&&an&&wr(e),J0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){an=wi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}an=null}}else an=vn?wi(e.stateNode.nextSibling):null;return!0}function rl(){an=vn=null,He=!1}function Uo(e){xi===null?xi=[e]:xi.push(e)}var yo=Error(J(460)),F2=Error(J(474)),ih={then:function(){}};function e1(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ml(){}function V2(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Ml,Ml),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===yo?Error(J(483)):e;default:if(typeof t.status=="string")t.then(Ml,Ml);else{if(e=at,e!==null&&100<e.shellSuspendCounter)throw Error(J(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=i}},function(i){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===yo?Error(J(483)):e}throw bo=t,yo}}var bo=null;function t1(){if(bo===null)throw Error(J(459));var e=bo;return bo=null,e}var xa=null,Fo=0;function kl(e){var t=Fo;return Fo+=1,xa===null&&(xa=[]),V2(xa,e,t)}function ro(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function jl(e,t){throw t.$$typeof===iw?Error(J(525)):(e=Object.prototype.toString.call(t),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function n1(e){var t=e._init;return t(e._payload)}function G2(e){function t(T,A){if(e){var _=T.deletions;_===null?(T.deletions=[A],T.flags|=16):_.push(A)}}function n(T,A){if(!e)return null;for(;A!==null;)t(T,A),A=A.sibling;return null}function i(T){for(var A=new Map;T!==null;)T.key!==null?A.set(T.key,T):A.set(T.index,T),T=T.sibling;return A}function a(T,A){return T=Ms(T,A),T.index=0,T.sibling=null,T}function o(T,A,_){return T.index=_,e?(_=T.alternate,_!==null?(_=_.index,_<A?(T.flags|=33554434,A):_):(T.flags|=33554434,A)):(T.flags|=1048576,A)}function d(T){return e&&T.alternate===null&&(T.flags|=33554434),T}function m(T,A,_,D){return A===null||A.tag!==6?(A=fd(_,T.mode,D),A.return=T,A):(A=a(A,_),A.return=T,A)}function p(T,A,_,D){var P=_.type;return P===ea?b(T,A,_.props.children,D,_.key):A!==null&&(A.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===vs&&n1(P)===A.type)?(A=a(A,_.props),ro(A,_),A.return=T,A):(A=lc(_.type,_.key,_.props,null,T.mode,D),ro(A,_),A.return=T,A)}function x(T,A,_,D){return A===null||A.tag!==4||A.stateNode.containerInfo!==_.containerInfo||A.stateNode.implementation!==_.implementation?(A=gd(_,T.mode,D),A.return=T,A):(A=a(A,_.children||[]),A.return=T,A)}function b(T,A,_,D,P){return A===null||A.tag!==7?(A=pr(_,T.mode,D,P),A.return=T,A):(A=a(A,_),A.return=T,A)}function y(T,A,_){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=fd(""+A,T.mode,_),A.return=T,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Ol:return _=lc(A.type,A.key,A.props,null,T.mode,_),ro(_,A),_.return=T,_;case uo:return A=gd(A,T.mode,_),A.return=T,A;case vs:var D=A._init;return A=D(A._payload),y(T,A,_)}if(fo(A)||to(A))return A=pr(A,T.mode,_,null),A.return=T,A;if(typeof A.then=="function")return y(T,kl(A),_);if(A.$$typeof===Qi)return y(T,Bl(T,A),_);jl(T,A)}return null}function C(T,A,_,D){var P=A!==null?A.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return P!==null?null:m(T,A,""+_,D);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ol:return _.key===P?p(T,A,_,D):null;case uo:return _.key===P?x(T,A,_,D):null;case vs:return P=_._init,_=P(_._payload),C(T,A,_,D)}if(fo(_)||to(_))return P!==null?null:b(T,A,_,D,null);if(typeof _.then=="function")return C(T,A,kl(_),D);if(_.$$typeof===Qi)return C(T,A,Bl(T,_),D);jl(T,_)}return null}function S(T,A,_,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return T=T.get(_)||null,m(A,T,""+D,P);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Ol:return T=T.get(D.key===null?_:D.key)||null,p(A,T,D,P);case uo:return T=T.get(D.key===null?_:D.key)||null,x(A,T,D,P);case vs:var G=D._init;return D=G(D._payload),S(T,A,_,D,P)}if(fo(D)||to(D))return T=T.get(_)||null,b(A,T,D,P,null);if(typeof D.then=="function")return S(T,A,_,kl(D),P);if(D.$$typeof===Qi)return S(T,A,_,Bl(A,D),P);jl(A,D)}return null}function N(T,A,_,D){for(var P=null,G=null,z=A,k=A=0,V=null;z!==null&&k<_.length;k++){z.index>k?(V=z,z=null):V=z.sibling;var Z=C(T,z,_[k],D);if(Z===null){z===null&&(z=V);break}e&&z&&Z.alternate===null&&t(T,z),A=o(Z,A,k),G===null?P=Z:G.sibling=Z,G=Z,z=V}if(k===_.length)return n(T,z),He&&ir(T,k),P;if(z===null){for(;k<_.length;k++)z=y(T,_[k],D),z!==null&&(A=o(z,A,k),G===null?P=z:G.sibling=z,G=z);return He&&ir(T,k),P}for(z=i(z);k<_.length;k++)V=S(z,T,k,_[k],D),V!==null&&(e&&V.alternate!==null&&z.delete(V.key===null?k:V.key),A=o(V,A,k),G===null?P=V:G.sibling=V,G=V);return e&&z.forEach(function(ee){return t(T,ee)}),He&&ir(T,k),P}function M(T,A,_,D){if(_==null)throw Error(J(151));for(var P=null,G=null,z=A,k=A=0,V=null,Z=_.next();z!==null&&!Z.done;k++,Z=_.next()){z.index>k?(V=z,z=null):V=z.sibling;var ee=C(T,z,Z.value,D);if(ee===null){z===null&&(z=V);break}e&&z&&ee.alternate===null&&t(T,z),A=o(ee,A,k),G===null?P=ee:G.sibling=ee,G=ee,z=V}if(Z.done)return n(T,z),He&&ir(T,k),P;if(z===null){for(;!Z.done;k++,Z=_.next())Z=y(T,Z.value,D),Z!==null&&(A=o(Z,A,k),G===null?P=Z:G.sibling=Z,G=Z);return He&&ir(T,k),P}for(z=i(z);!Z.done;k++,Z=_.next())Z=S(z,T,k,Z.value,D),Z!==null&&(e&&Z.alternate!==null&&z.delete(Z.key===null?k:Z.key),A=o(Z,A,k),G===null?P=Z:G.sibling=Z,G=Z);return e&&z.forEach(function(q){return t(T,q)}),He&&ir(T,k),P}function B(T,A,_,D){if(typeof _=="object"&&_!==null&&_.type===ea&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ol:e:{for(var P=_.key;A!==null;){if(A.key===P){if(P=_.type,P===ea){if(A.tag===7){n(T,A.sibling),D=a(A,_.props.children),D.return=T,T=D;break e}}else if(A.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===vs&&n1(P)===A.type){n(T,A.sibling),D=a(A,_.props),ro(D,_),D.return=T,T=D;break e}n(T,A);break}else t(T,A);A=A.sibling}_.type===ea?(D=pr(_.props.children,T.mode,D,_.key),D.return=T,T=D):(D=lc(_.type,_.key,_.props,null,T.mode,D),ro(D,_),D.return=T,T=D)}return d(T);case uo:e:{for(P=_.key;A!==null;){if(A.key===P)if(A.tag===4&&A.stateNode.containerInfo===_.containerInfo&&A.stateNode.implementation===_.implementation){n(T,A.sibling),D=a(A,_.children||[]),D.return=T,T=D;break e}else{n(T,A);break}else t(T,A);A=A.sibling}D=gd(_,T.mode,D),D.return=T,T=D}return d(T);case vs:return P=_._init,_=P(_._payload),B(T,A,_,D)}if(fo(_))return N(T,A,_,D);if(to(_)){if(P=to(_),typeof P!="function")throw Error(J(150));return _=P.call(_),M(T,A,_,D)}if(typeof _.then=="function")return B(T,A,kl(_),D);if(_.$$typeof===Qi)return B(T,A,Bl(T,_),D);jl(T,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,A!==null&&A.tag===6?(n(T,A.sibling),D=a(A,_),D.return=T,T=D):(n(T,A),D=fd(_,T.mode,D),D.return=T,T=D),d(T)):n(T,A)}return function(T,A,_,D){try{Fo=0;var P=B(T,A,_,D);return xa=null,P}catch(z){if(z===yo)throw z;var G=ri(29,z,null,T.mode);return G.lanes=D,G.return=T,G}finally{}}}var vr=G2(!0),H2=G2(!1),Ta=ji(null),Cc=ji(0);function i1(e,t){e=rs,ht(Cc,e),ht(Ta,t),rs=e|t.baseLanes}function sh(){ht(Cc,rs),ht(Ta,Ta.current)}function ff(){rs=Cc.current,$t(Ta),$t(Cc)}var oi=ji(null),Mi=null;function bs(e){var t=e.alternate;ht(Ft,Ft.current&1),ht(oi,e),Mi===null&&(t===null||Ta.current!==null||t.memoizedState!==null)&&(Mi=e)}function q2(e){if(e.tag===22){if(ht(Ft,Ft.current),ht(oi,e),Mi===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Mi=e)}}else Es()}function Es(){ht(Ft,Ft.current),ht(oi,oi.current)}function $i(e){$t(oi),Mi===e&&(Mi=null),$t(Ft)}var Ft=ji(0);function _c(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},wv=Gt.unstable_scheduleCallback,vv=Gt.unstable_NormalPriority,Ut={$$typeof:Qi,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gf(){return{controller:new xv,data:new Map,refCount:0}}function al(e){e.refCount--,e.refCount===0&&wv(vv,function(){e.controller.abort()})}var Eo=null,rh=0,Oa=0,wa=null;function yv(e,t){if(Eo===null){var n=Eo=[];rh=0,Oa=Lf(),wa={status:"pending",value:void 0,then:function(i){n.push(i)}}}return rh++,t.then(s1,s1),t}function s1(){if(--rh===0&&Eo!==null){wa!==null&&(wa.status="fulfilled");var e=Eo;Eo=null,Oa=0,wa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function bv(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var a=0;a<n.length;a++)(0,n[a])(t)},function(a){for(i.status="rejected",i.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),i}var r1=Oe.S;Oe.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&yv(e,t),r1!==null&&r1(e,t)};var gr=ji(null);function pf(){var e=gr.current;return e!==null?e:at.pooledCache}function sc(e,t){t===null?ht(gr,gr.current):ht(gr,t.pool)}function X2(){var e=pf();return e===null?null:{parent:Ut._currentValue,pool:e}}var Us=0,ke=null,Ze=null,Dt=null,Tc=!1,va=!1,yr=!1,Oc=0,Vo=0,ya=null,Ev=0;function _t(){throw Error(J(321))}function mf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Hn(e[n],t[n]))return!1;return!0}function xf(e,t,n,i,a,o){return Us=o,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Oe.H=e===null||e.memoizedState===null?Tr:qs,yr=!1,o=n(i,a),yr=!1,va&&(o=Y2(t,n,i,a)),W2(e),o}function W2(e){Oe.H=ki;var t=Ze!==null&&Ze.next!==null;if(Us=0,Dt=Ze=ke=null,Tc=!1,Vo=0,ya=null,t)throw Error(J(300));e===null||Kt||(e=e.dependencies,e!==null&&Dc(e)&&(Kt=!0))}function Y2(e,t,n,i){ke=e;var a=0;do{if(va&&(ya=null),Vo=0,va=!1,25<=a)throw Error(J(301));if(a+=1,Dt=Ze=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}Oe.H=Or,o=t(n,i)}while(va);return o}function Av(){var e=Oe.H,t=e.useState()[0];return t=typeof t.then=="function"?ol(t):t,e=e.useState()[0],(Ze!==null?Ze.memoizedState:null)!==e&&(ke.flags|=1024),t}function wf(){var e=Oc!==0;return Oc=0,e}function vf(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function yf(e){if(Tc){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Tc=!1}Us=0,Dt=Ze=ke=null,va=!1,Vo=Oc=0,ya=null}function On(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?ke.memoizedState=Dt=e:Dt=Dt.next=e,Dt}function jt(){if(Ze===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=Dt===null?ke.memoizedState:Dt.next;if(t!==null)Dt=t,Ze=e;else{if(e===null)throw ke.alternate===null?Error(J(467)):Error(J(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Dt===null?ke.memoizedState=Dt=e:Dt=Dt.next=e}return Dt}var uu;uu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ol(e){var t=Vo;return Vo+=1,ya===null&&(ya=[]),e=V2(ya,e,t),t=ke,(Dt===null?t.memoizedState:Dt.next)===null&&(t=t.alternate,Oe.H=t===null||t.memoizedState===null?Tr:qs),e}function du(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ol(e);if(e.$$typeof===Qi)return pn(e)}throw Error(J(438,String(e)))}function bf(e){var t=null,n=ke.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=ke.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=uu(),ke.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=rw;return t.index++,n}function is(e,t){return typeof t=="function"?t(e):t}function rc(e){var t=jt();return Ef(t,Ze,e)}function Ef(e,t,n){var i=e.queue;if(i===null)throw Error(J(311));i.lastRenderedReducer=n;var a=e.baseQueue,o=i.pending;if(o!==null){if(a!==null){var d=a.next;a.next=o.next,o.next=d}t.baseQueue=a=o,i.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var m=d=null,p=null,x=t,b=!1;do{var y=x.lane&-536870913;if(y!==x.lane?(ze&y)===y:(Us&y)===y){var C=x.revertLane;if(C===0)p!==null&&(p=p.next={lane:0,revertLane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),y===Oa&&(b=!0);else if((Us&C)===C){x=x.next,C===Oa&&(b=!0);continue}else y={lane:0,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},p===null?(m=p=y,d=o):p=p.next=y,ke.lanes|=C,Vs|=C;y=x.action,yr&&n(o,y),o=x.hasEagerState?x.eagerState:n(o,y)}else C={lane:y,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},p===null?(m=p=C,d=o):p=p.next=C,ke.lanes|=y,Vs|=y;x=x.next}while(x!==null&&x!==t);if(p===null?d=o:p.next=m,!Hn(o,e.memoizedState)&&(Kt=!0,b&&(n=wa,n!==null)))throw n;e.memoizedState=o,e.baseState=d,e.baseQueue=p,i.lastRenderedState=o}return a===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function nd(e){var t=jt(),n=t.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var d=a=a.next;do o=e(o,d.action),d=d.next;while(d!==a);Hn(o,t.memoizedState)||(Kt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function Q2(e,t,n){var i=ke,a=jt(),o=He;if(o){if(n===void 0)throw Error(J(407));n=n()}else n=t();var d=!Hn((Ze||a).memoizedState,n);if(d&&(a.memoizedState=n,Kt=!0),a=a.queue,Af($2.bind(null,i,a,e),[e]),a.getSnapshot!==t||d||Dt!==null&&Dt.memoizedState.tag&1){if(i.flags|=2048,Ra(9,Z2.bind(null,i,a,n,t),{destroy:void 0},null),at===null)throw Error(J(349));o||Us&60||K2(i,t,n)}return n}function K2(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ke.updateQueue,t===null?(t=uu(),ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Z2(e,t,n,i){t.value=n,t.getSnapshot=i,J2(t)&&ep(e)}function $2(e,t,n){return n(function(){J2(t)&&ep(e)})}function J2(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Hn(e,n)}catch(i){return!0}}function ep(e){var t=zs(e,2);t!==null&&yn(t,e,2)}function ah(e){var t=On();if(typeof e=="function"){var n=e;if(e=n(),yr){Ts(!0);try{n()}finally{Ts(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:e},t}function tp(e,t,n,i){return e.baseState=n,Ef(e,Ze,typeof i=="function"?i:is)}function Sv(e,t,n,i,a){if(fu(e))throw Error(J(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){o.listeners.push(d)}};Oe.T!==null?n(!0):o.isTransition=!1,i(o),n=t.pending,n===null?(o.next=t.pending=o,np(t,o)):(o.next=n.next,t.pending=n.next=o)}}function np(e,t){var n=t.action,i=t.payload,a=e.state;if(t.isTransition){var o=Oe.T,d={};Oe.T=d;try{var m=n(a,i),p=Oe.S;p!==null&&p(d,m),a1(e,t,m)}catch(x){oh(e,t,x)}finally{Oe.T=o}}else try{o=n(a,i),a1(e,t,o)}catch(x){oh(e,t,x)}}function a1(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){o1(e,t,i)},function(i){return oh(e,t,i)}):o1(e,t,n)}function o1(e,t,n){t.status="fulfilled",t.value=n,ip(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,np(e,n)))}function oh(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,ip(t),t=t.next;while(t!==i)}e.action=null}function ip(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function sp(e,t){return t}function rp(e,t){if(He){var n=at.formState;if(n!==null){e:{var i=ke;if(He){if(an){t:{for(var a=an,o=Oi;a.nodeType!==8;){if(!o){a=null;break t}if(a=wi(a.nextSibling),a===null){a=null;break t}}o=a.data,a=o==="F!"||o==="F"?a:null}if(a){an=wi(a.nextSibling),i=a.data==="F!";break e}}wr(i)}i=!1}i&&(t=n[0])}}return n=On(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sp,lastRenderedState:t},n.queue=i,n=Ep.bind(null,ke,i),i.dispatch=n,i=ah(!1),o=Tf.bind(null,ke,!1,i.queue),i=On(),a={state:t,dispatch:null,action:e,pending:null},i.queue=a,n=Sv.bind(null,ke,a,o,n),a.dispatch=n,i.memoizedState=e,[t,n,!1]}function ap(e){var t=jt();return op(t,Ze,e)}function op(e,t,n){t=Ef(e,t,sp)[0],e=rc(is)[0],t=typeof t=="object"&&t!==null&&typeof t.then=="function"?ol(t):t;var i=jt(),a=i.queue,o=a.dispatch;return n!==i.memoizedState&&(ke.flags|=2048,Ra(9,Cv.bind(null,a,n),{destroy:void 0},null)),[t,o,e]}function Cv(e,t){e.action=t}function lp(e){var t=jt(),n=Ze;if(n!==null)return op(t,n,e);jt(),t=t.memoizedState,n=jt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Ra(e,t,n,i){return e={tag:e,create:t,inst:n,deps:i,next:null},t=ke.updateQueue,t===null&&(t=uu(),ke.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function cp(){return jt().memoizedState}function ac(e,t,n,i){var a=On();ke.flags|=e,a.memoizedState=Ra(1|t,n,{destroy:void 0},i===void 0?null:i)}function hu(e,t,n,i){var a=jt();i=i===void 0?null:i;var o=a.memoizedState.inst;Ze!==null&&i!==null&&mf(i,Ze.memoizedState.deps)?a.memoizedState=Ra(t,n,o,i):(ke.flags|=e,a.memoizedState=Ra(1|t,n,o,i))}function l1(e,t){ac(8390656,8,e,t)}function Af(e,t){hu(2048,8,e,t)}function up(e,t){return hu(4,2,e,t)}function dp(e,t){return hu(4,4,e,t)}function hp(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fp(e,t,n){n=n!=null?n.concat([e]):null,hu(4,4,hp.bind(null,t,e),n)}function Sf(){}function gp(e,t){var n=jt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&mf(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function pp(e,t){var n=jt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&mf(t,i[1]))return i[0];if(i=e(),yr){Ts(!0);try{e()}finally{Ts(!1)}}return n.memoizedState=[i,t],i}function Cf(e,t,n){return n===void 0||Us&1073741824?e.memoizedState=t:(e.memoizedState=n,e=im(),ke.lanes|=e,Vs|=e,n)}function mp(e,t,n,i){return Hn(n,t)?n:Ta.current!==null?(e=Cf(e,n,i),Hn(e,t)||(Kt=!0),e):Us&42?(e=im(),ke.lanes|=e,Vs|=e,t):(Kt=!0,e.memoizedState=n)}function xp(e,t,n,i,a){var o=ct.p;ct.p=o!==0&&8>o?o:8;var d=Oe.T,m={};Oe.T=m,Tf(e,!1,t,n);try{var p=a(),x=Oe.S;if(x!==null&&x(m,p),p!==null&&typeof p=="object"&&typeof p.then=="function"){var b=bv(p,i);Ao(e,t,b,Gn(e))}else Ao(e,t,i,Gn(e))}catch(y){Ao(e,t,{then:function(){},status:"rejected",reason:y},Gn())}finally{ct.p=o,Oe.T=d}}function _v(){}function lh(e,t,n,i){if(e.tag!==5)throw Error(J(476));var a=wp(e).queue;xp(e,a,t,hr,n===null?_v:function(){return vp(e),n(i)})}function wp(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:hr,baseState:hr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:hr},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function vp(e){var t=wp(e).next.queue;Ao(e,t,{},Gn())}function _f(){return pn(Xo)}function yp(){return jt().memoizedState}function bp(){return jt().memoizedState}function Tv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Gn();e=Ds(n);var i=Ns(t,e,n);i!==null&&(yn(i,t,n),Co(i,t,n)),t={cache:gf()},e.payload=t;return}t=t.return}}function Ov(e,t,n){var i=Gn();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},fu(e)?Ap(t,n):(n=uf(e,t,n,i),n!==null&&(yn(n,e,i),Sp(n,t,i)))}function Ep(e,t,n){var i=Gn();Ao(e,t,n,i)}function Ao(e,t,n,i){var a={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(fu(e))Ap(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var d=t.lastRenderedState,m=o(d,n);if(a.hasEagerState=!0,a.eagerState=m,Hn(m,d))return cu(e,t,a,0),at===null&&lu(),!1}catch(p){}finally{}if(n=uf(e,t,a,i),n!==null)return yn(n,e,i),Sp(n,t,i),!0}return!1}function Tf(e,t,n,i){if(i={lane:2,revertLane:Lf(),action:i,hasEagerState:!1,eagerState:null,next:null},fu(e)){if(t)throw Error(J(479))}else t=uf(e,n,i,2),t!==null&&yn(t,e,2)}function fu(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function Ap(e,t){va=Tc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Sp(e,t,n){if(n&4194176){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,h2(e,n)}}var ki={readContext:pn,use:du,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t};ki.useCacheRefresh=_t;ki.useMemoCache=_t;ki.useHostTransitionStatus=_t;ki.useFormState=_t;ki.useActionState=_t;ki.useOptimistic=_t;var Tr={readContext:pn,use:du,useCallback:function(e,t){return On().memoizedState=[e,t===void 0?null:t],e},useContext:pn,useEffect:l1,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,ac(4194308,4,hp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ac(4194308,4,e,t)},useInsertionEffect:function(e,t){ac(4,2,e,t)},useMemo:function(e,t){var n=On();t=t===void 0?null:t;var i=e();if(yr){Ts(!0);try{e()}finally{Ts(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=On();if(n!==void 0){var a=n(t);if(yr){Ts(!0);try{n(t)}finally{Ts(!1)}}}else a=t;return i.memoizedState=i.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},i.queue=e,e=e.dispatch=Ov.bind(null,ke,e),[i.memoizedState,e]},useRef:function(e){var t=On();return e={current:e},t.memoizedState=e},useState:function(e){e=ah(e);var t=e.queue,n=Ep.bind(null,ke,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Sf,useDeferredValue:function(e,t){var n=On();return Cf(n,e,t)},useTransition:function(){var e=ah(!1);return e=xp.bind(null,ke,e.queue,!0,!1),On().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=ke,a=On();if(He){if(n===void 0)throw Error(J(407));n=n()}else{if(n=t(),at===null)throw Error(J(349));ze&60||K2(i,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,l1($2.bind(null,i,o,e),[e]),i.flags|=2048,Ra(9,Z2.bind(null,i,o,n,t),{destroy:void 0},null),n},useId:function(){var e=On(),t=at.identifierPrefix;if(He){var n=Zi,i=Ki;n=(i&~(1<<32-Vn(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Oc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ev++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return On().memoizedState=Tv.bind(null,ke)}};Tr.useMemoCache=bf;Tr.useHostTransitionStatus=_f;Tr.useFormState=rp;Tr.useActionState=rp;Tr.useOptimistic=function(e){var t=On();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Tf.bind(null,ke,!0,n),n.dispatch=t,[e,t]};var qs={readContext:pn,use:du,useCallback:gp,useContext:pn,useEffect:Af,useImperativeHandle:fp,useInsertionEffect:up,useLayoutEffect:dp,useMemo:pp,useReducer:rc,useRef:cp,useState:function(){return rc(is)},useDebugValue:Sf,useDeferredValue:function(e,t){var n=jt();return mp(n,Ze.memoizedState,e,t)},useTransition:function(){var e=rc(is)[0],t=jt().memoizedState;return[typeof e=="boolean"?e:ol(e),t]},useSyncExternalStore:Q2,useId:yp};qs.useCacheRefresh=bp;qs.useMemoCache=bf;qs.useHostTransitionStatus=_f;qs.useFormState=ap;qs.useActionState=ap;qs.useOptimistic=function(e,t){var n=jt();return tp(n,Ze,e,t)};var Or={readContext:pn,use:du,useCallback:gp,useContext:pn,useEffect:Af,useImperativeHandle:fp,useInsertionEffect:up,useLayoutEffect:dp,useMemo:pp,useReducer:nd,useRef:cp,useState:function(){return nd(is)},useDebugValue:Sf,useDeferredValue:function(e,t){var n=jt();return Ze===null?Cf(n,e,t):mp(n,Ze.memoizedState,e,t)},useTransition:function(){var e=nd(is)[0],t=jt().memoizedState;return[typeof e=="boolean"?e:ol(e),t]},useSyncExternalStore:Q2,useId:yp};Or.useCacheRefresh=bp;Or.useMemoCache=bf;Or.useHostTransitionStatus=_f;Or.useFormState=lp;Or.useActionState=lp;Or.useOptimistic=function(e,t){var n=jt();return Ze!==null?tp(n,Ze,e,t):(n.baseState=e,[e,n.queue.dispatch])};function id(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:ut({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ch={isMounted:function(e){return(e=e._reactInternals)?ka(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Gn(),a=Ds(i);a.payload=t,n!=null&&(a.callback=n),t=Ns(e,a,i),t!==null&&(yn(t,e,i),Co(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Gn(),a=Ds(i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ns(e,a,i),t!==null&&(yn(t,e,i),Co(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gn(),i=Ds(n);i.tag=2,t!=null&&(i.callback=t),t=Ns(e,i,n),t!==null&&(yn(t,e,n),Co(t,e,n))}};function c1(e,t,n,i,a,o,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,o,d):t.prototype&&t.prototype.isPureReactComponent?!zo(n,i)||!zo(a,o):!0}function u1(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ch.enqueueReplaceState(t,t.state,null)}function br(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=ut({},n));for(var a in e)n[a]===void 0&&(n[a]=e[a])}return n}var Rc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Cp(e){Rc(e)}function _p(e){console.error(e)}function Tp(e){Rc(e)}function Ic(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function d1(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function uh(e,t,n){return n=Ds(n),n.tag=3,n.payload={element:null},n.callback=function(){Ic(e,t)},n}function Op(e){return e=Ds(e),e.tag=3,e}function Rp(e,t,n,i){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var o=i.value;e.payload=function(){return a(o)},e.callback=function(){d1(t,n,i)}}var d=n.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){d1(t,n,i),typeof a!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var m=i.stack;this.componentDidCatch(i.value,{componentStack:m!==null?m:""})})}function Rv(e,t,n,i,a){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&ll(t,n,a,!0),n=oi.current,n!==null){switch(n.tag){case 13:return Mi===null?Ch():n.alternate===null&&St===0&&(St=3),n.flags&=-257,n.flags|=65536,n.lanes=a,i===ih?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),md(e,i,a)),!1;case 22:return n.flags|=65536,i===ih?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),md(e,i,a)),!1}throw Error(J(435,n.tag))}return md(e,i,a),Ch(),!1}if(He)return t=oi.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,i!==nh&&(e=Error(J(422),{cause:i}),Uo(si(e,n)))):(i!==nh&&(t=Error(J(423),{cause:i}),Uo(si(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,i=si(i,n),a=uh(e.stateNode,i,a),cd(e,a),St!==4&&(St=2)),!1;var o=Error(J(520),{cause:i});if(o=si(o,n),Ro===null?Ro=[o]:Ro.push(o),St!==4&&(St=2),t===null)return!0;i=si(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=uh(n.stateNode,i,e),cd(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(ks===null||!ks.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=Op(a),Rp(a,e,n,i),cd(n,a),!1}n=n.return}while(n!==null);return!1}var Ip=Error(J(461)),Kt=!1;function rn(e,t,n,i){t.child=e===null?H2(t,null,n,i):vr(t,e.child,n,i)}function h1(e,t,n,i,a){n=n.render;var o=t.ref;if("ref"in i){var d={};for(var m in i)m!=="ref"&&(d[m]=i[m])}else d=i;return Er(t),i=xf(e,t,n,d,o,a),m=wf(),e!==null&&!Kt?(vf(e,t,a),ss(e,t,a)):(He&&m&&df(t),t.flags|=1,rn(e,t,i,a),t.child)}function f1(e,t,n,i,a){if(e===null){var o=n.type;return typeof o=="function"&&!Nf(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,Dp(e,t,o,i,a)):(e=lc(n.type,null,i,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!Of(e,a)){var d=o.memoizedProps;if(n=n.compare,n=n!==null?n:zo,n(d,i)&&e.ref===t.ref)return ss(e,t,a)}return t.flags|=1,e=Ms(o,i),e.ref=t.ref,e.return=t,t.child=e}function Dp(e,t,n,i,a){if(e!==null){var o=e.memoizedProps;if(zo(o,i)&&e.ref===t.ref)if(Kt=!1,t.pendingProps=i=o,Of(e,a))e.flags&131072&&(Kt=!0);else return t.lanes=e.lanes,ss(e,t,a)}return dh(e,t,n,i,a)}function Np(e,t,n){var i=t.pendingProps,a=i.children,o=(t.stateNode._pendingVisibility&2)!==0,d=e!==null?e.memoizedState:null;if(So(e,t),i.mode==="hidden"||o){if(t.flags&128){if(i=d!==null?d.baseLanes|n:n,e!==null){for(a=t.child=e.child,o=0;a!==null;)o=o|a.lanes|a.childLanes,a=a.sibling;t.childLanes=o&~i}else t.childLanes=0,t.child=null;return g1(e,t,i,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&sc(t,d!==null?d.cachePool:null),d!==null?i1(t,d):sh(),q2(t);else return t.lanes=t.childLanes=536870912,g1(e,t,d!==null?d.baseLanes|n:n,n)}else d!==null?(sc(t,d.cachePool),i1(t,d),Es(),t.memoizedState=null):(e!==null&&sc(t,null),sh(),Es());return rn(e,t,a,n),t.child}function g1(e,t,n,i){var a=pf();return a=a===null?null:{parent:Ut._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&sc(t,null),sh(),q2(t),e!==null&&ll(e,t,i,!0),null}function So(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=2097664);else{if(typeof n!="function"&&typeof n!="object")throw Error(J(284));(e===null||e.ref!==n)&&(t.flags|=2097664)}}function dh(e,t,n,i,a){return Er(t),n=xf(e,t,n,i,void 0,a),i=wf(),e!==null&&!Kt?(vf(e,t,a),ss(e,t,a)):(He&&i&&df(t),t.flags|=1,rn(e,t,n,a),t.child)}function p1(e,t,n,i,a,o){return Er(t),t.updateQueue=null,n=Y2(t,i,n,a),W2(e),i=wf(),e!==null&&!Kt?(vf(e,t,o),ss(e,t,o)):(He&&i&&df(t),t.flags|=1,rn(e,t,n,o),t.child)}function m1(e,t,n,i,a){if(Er(t),t.stateNode===null){var o=oa,d=n.contextType;typeof d=="object"&&d!==null&&(o=pn(d)),o=new n(i,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=ch,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=i,o.state=t.memoizedState,o.refs={},Rf(t),d=n.contextType,o.context=typeof d=="object"&&d!==null?pn(d):oa,o.state=t.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(id(t,n,d,i),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(d=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),d!==o.state&&ch.enqueueReplaceState(o,o.state,null),To(t,i,o,a),_o(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){o=t.stateNode;var m=t.memoizedProps,p=br(n,m);o.props=p;var x=o.context,b=n.contextType;d=oa,typeof b=="object"&&b!==null&&(d=pn(b));var y=n.getDerivedStateFromProps;b=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function",m=t.pendingProps!==m,b||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(m||x!==d)&&u1(t,o,i,d),ys=!1;var C=t.memoizedState;o.state=C,To(t,i,o,a),_o(),x=t.memoizedState,m||C!==x||ys?(typeof y=="function"&&(id(t,n,y,i),x=t.memoizedState),(p=ys||c1(t,n,p,i,C,x,d))?(b||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=x),o.props=i,o.state=x,o.context=d,i=p):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,xh(e,t),d=t.memoizedProps,b=br(n,d),o.props=b,y=t.pendingProps,C=o.context,x=n.contextType,p=oa,typeof x=="object"&&x!==null&&(p=pn(x)),m=n.getDerivedStateFromProps,(x=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(d!==y||C!==p)&&u1(t,o,i,p),ys=!1,C=t.memoizedState,o.state=C,To(t,i,o,a),_o();var S=t.memoizedState;d!==y||C!==S||ys||e!==null&&e.dependencies!==null&&Dc(e.dependencies)?(typeof m=="function"&&(id(t,n,m,i),S=t.memoizedState),(b=ys||c1(t,n,b,i,C,S,p)||e!==null&&e.dependencies!==null&&Dc(e.dependencies))?(x||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,S,p),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,S,p)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=S),o.props=i,o.state=S,o.context=p,i=b):(typeof o.componentDidUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),i=!1)}return o=i,So(e,t),i=(t.flags&128)!==0,o||i?(o=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&i?(t.child=vr(t,e.child,null,a),t.child=vr(t,null,n,a)):rn(e,t,n,a),t.memoizedState=o.state,e=t.child):e=ss(e,t,a),e}function x1(e,t,n,i){return rl(),t.flags|=256,rn(e,t,n,i),t.child}var sd={dehydrated:null,treeContext:null,retryLane:0};function rd(e){return{baseLanes:e,cachePool:X2()}}function ad(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=ai),e}function Mp(e,t,n){var i=t.pendingProps,a=!1,o=(t.flags&128)!==0,d;if((d=o)||(d=e!==null&&e.memoizedState===null?!1:(Ft.current&2)!==0),d&&(a=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(He){if(a?bs(t):Es(),He){var m=an,p;if(p=m){e:{for(p=m,m=Oi;p.nodeType!==8;){if(!m){m=null;break e}if(p=wi(p.nextSibling),p===null){m=null;break e}}m=p}m!==null?(t.memoizedState={dehydrated:m,treeContext:fr!==null?{id:Ki,overflow:Zi}:null,retryLane:536870912},p=ri(18,null,null,0),p.stateNode=m,p.return=t,t.child=p,vn=t,an=null,p=!0):p=!1}p||wr(t)}if(m=t.memoizedState,m!==null&&(m=m.dehydrated,m!==null))return m.data==="$!"?t.lanes=16:t.lanes=536870912,null;$i(t)}return m=i.children,i=i.fallback,a?(Es(),a=t.mode,m=fh({mode:"hidden",children:m},a),i=pr(i,a,n,null),m.return=t,i.return=t,m.sibling=i,t.child=m,a=t.child,a.memoizedState=rd(n),a.childLanes=ad(e,d,n),t.memoizedState=sd,i):(bs(t),hh(t,m))}if(p=e.memoizedState,p!==null&&(m=p.dehydrated,m!==null)){if(o)t.flags&256?(bs(t),t.flags&=-257,t=od(e,t,n)):t.memoizedState!==null?(Es(),t.child=e.child,t.flags|=128,t=null):(Es(),a=i.fallback,m=t.mode,i=fh({mode:"visible",children:i.children},m),a=pr(a,m,n,null),a.flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,vr(t,e.child,null,n),i=t.child,i.memoizedState=rd(n),i.childLanes=ad(e,d,n),t.memoizedState=sd,t=a);else if(bs(t),m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var x=d.dgst;d=x,i=Error(J(419)),i.stack="",i.digest=d,Uo({value:i,source:null,stack:null}),t=od(e,t,n)}else if(Kt||ll(e,t,n,!1),d=(n&e.childLanes)!==0,Kt||d){if(d=at,d!==null){if(i=n&-n,i&42)i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(i=i&(d.suspendedLanes|n)?0:i,i!==0&&i!==p.retryLane)throw p.retryLane=i,zs(e,i),yn(d,e,i),Ip}m.data==="$?"||Ch(),t=od(e,t,n)}else m.data==="$?"?(t.flags|=128,t.child=e.child,t=Hv.bind(null,e),m._reactRetry=t,t=null):(e=p.treeContext,an=wi(m.nextSibling),vn=t,He=!0,xi=null,Oi=!1,e!==null&&(ti[ni++]=Ki,ti[ni++]=Zi,ti[ni++]=fr,Ki=e.id,Zi=e.overflow,fr=t),t=hh(t,i.children),t.flags|=4096);return t}return a?(Es(),a=i.fallback,m=t.mode,p=e.child,x=p.sibling,i=Ms(p,{mode:"hidden",children:i.children}),i.subtreeFlags=p.subtreeFlags&31457280,x!==null?a=Ms(x,a):(a=pr(a,m,n,null),a.flags|=2),a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,m=e.child.memoizedState,m===null?m=rd(n):(p=m.cachePool,p!==null?(x=Ut._currentValue,p=p.parent!==x?{parent:x,pool:x}:p):p=X2(),m={baseLanes:m.baseLanes|n,cachePool:p}),a.memoizedState=m,a.childLanes=ad(e,d,n),t.memoizedState=sd,i):(bs(t),n=e.child,e=n.sibling,n=Ms(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=n,t.memoizedState=null,n)}function hh(e,t){return t=fh({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function fh(e,t){return tm(e,t,0,null)}function od(e,t,n){return vr(t,e.child,null,n),e=hh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function w1(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),ph(e.return,t,n)}function ld(e,t,n,i,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=a)}function kp(e,t,n){var i=t.pendingProps,a=i.revealOrder,o=i.tail;if(rn(e,t,i.children,n),i=Ft.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&w1(e,n,t);else if(e.tag===19)w1(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(ht(Ft,i),a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&_c(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),ld(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&_c(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}ld(t,!0,n,null,o);break;case"together":ld(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ss(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Vs|=t.lanes,!(n&t.childLanes))if(e!==null){if(ll(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(J(153));if(t.child!==null){for(e=t.child,n=Ms(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ms(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Of(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Dc(e)))}function Iv(e,t,n){switch(t.tag){case 3:xc(t,t.stateNode.containerInfo),As(t,Ut,e.memoizedState.cache),rl();break;case 27:case 5:Wd(t);break;case 4:xc(t,t.stateNode.containerInfo);break;case 10:As(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(bs(t),t.flags|=128,null):n&t.child.childLanes?Mp(e,t,n):(bs(t),e=ss(e,t,n),e!==null?e.sibling:null);bs(t);break;case 19:var a=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(ll(e,t,n,!1),i=(n&t.childLanes)!==0),a){if(i)return kp(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ht(Ft,Ft.current),i)break;return null;case 22:case 23:return t.lanes=0,Np(e,t,n);case 24:As(t,Ut,e.memoizedState.cache)}return ss(e,t,n)}function jp(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Kt=!0;else{if(!Of(e,n)&&!(t.flags&128))return Kt=!1,Iv(e,t,n);Kt=!!(e.flags&131072)}else Kt=!1,He&&t.flags&1048576&&U2(t,Sc,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,a=i._init;if(i=a(i._payload),t.type=i,typeof i=="function")Nf(i)?(e=br(i,e),t.tag=1,t=m1(null,t,i,e,n)):(t.tag=0,t=dh(null,t,i,e,n));else{if(i!=null){if(a=i.$$typeof,a===$h){t.tag=11,t=h1(null,t,i,e,n);break e}else if(a===Jh){t.tag=14,t=f1(null,t,i,e,n);break e}}throw t=qd(i)||i,Error(J(306,t,""))}}return t;case 0:return dh(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,a=br(i,t.pendingProps),m1(e,t,i,a,n);case 3:e:{if(xc(t,t.stateNode.containerInfo),e===null)throw Error(J(387));var o=t.pendingProps;a=t.memoizedState,i=a.element,xh(e,t),To(t,o,null,n);var d=t.memoizedState;if(o=d.cache,As(t,Ut,o),o!==a.cache&&mh(t,[Ut],n,!0),_o(),o=d.element,a.isDehydrated)if(a={element:o,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=x1(e,t,o,n);break e}else if(o!==i){i=si(Error(J(424)),t),Uo(i),t=x1(e,t,o,n);break e}else for(an=wi(t.stateNode.containerInfo.firstChild),vn=t,He=!0,xi=null,Oi=!0,n=H2(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rl(),o===i){t=ss(e,t,n);break e}rn(e,t,o,n)}t=t.child}return t;case 26:return So(e,t),e===null?(n=B1(t.type,null,t.pendingProps,null))?t.memoizedState=n:He||(n=t.type,e=t.pendingProps,i=Pc(Is.current).createElement(n),i[gn]=t,i[Rn]=e,on(i,n,e),Qt(i),t.stateNode=i):t.memoizedState=B1(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Wd(t),e===null&&He&&(i=t.stateNode=vm(t.type,t.pendingProps,Is.current),vn=t,Oi=!0,an=wi(i.firstChild)),i=t.pendingProps.children,e!==null||He?rn(e,t,i,n):t.child=vr(t,null,i,n),So(e,t),t.child;case 5:return e===null&&He&&((a=i=an)&&(i=a4(i,t.type,t.pendingProps,Oi),i!==null?(t.stateNode=i,vn=t,an=wi(i.firstChild),Oi=!1,a=!0):a=!1),a||wr(t)),Wd(t),a=t.type,o=t.pendingProps,d=e!==null?e.memoizedProps:null,i=o.children,Ih(a,o)?i=null:d!==null&&Ih(a,d)&&(t.flags|=32),t.memoizedState!==null&&(a=xf(e,t,Av,null,null,n),Xo._currentValue=a),So(e,t),rn(e,t,i,n),t.child;case 6:return e===null&&He&&((e=n=an)&&(n=o4(n,t.pendingProps,Oi),n!==null?(t.stateNode=n,vn=t,an=null,e=!0):e=!1),e||wr(t)),null;case 13:return Mp(e,t,n);case 4:return xc(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=vr(t,null,i,n):rn(e,t,i,n),t.child;case 11:return h1(e,t,t.type,t.pendingProps,n);case 7:return rn(e,t,t.pendingProps,n),t.child;case 8:return rn(e,t,t.pendingProps.children,n),t.child;case 12:return rn(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,As(t,t.type,i.value),rn(e,t,i.children,n),t.child;case 9:return a=t.type._context,i=t.pendingProps.children,Er(t),a=pn(a),i=i(a),t.flags|=1,rn(e,t,i,n),t.child;case 14:return f1(e,t,t.type,t.pendingProps,n);case 15:return Dp(e,t,t.type,t.pendingProps,n);case 19:return kp(e,t,n);case 22:return Np(e,t,n);case 24:return Er(t),i=pn(Ut),e===null?(a=pf(),a===null&&(a=at,o=gf(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:i,cache:a},Rf(t),As(t,Ut,a)):(e.lanes&n&&(xh(e,t),To(t,null,null,n),_o()),a=e.memoizedState,o=t.memoizedState,a.parent!==i?(a={parent:i,cache:i},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),As(t,Ut,i)):(i=o.cache,As(t,Ut,i),i!==a.cache&&mh(t,[Ut],n,!0))),rn(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(J(156,t.tag))}var gh=ji(null),Rr=null,Ji=null;function As(e,t,n){ht(gh,t._currentValue),t._currentValue=n}function ts(e){e._currentValue=gh.current,$t(gh)}function ph(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function mh(e,t,n,i){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var d=a.child;o=o.firstContext;e:for(;o!==null;){var m=o;o=a;for(var p=0;p<t.length;p++)if(m.context===t[p]){o.lanes|=n,m=o.alternate,m!==null&&(m.lanes|=n),ph(o.return,n,e),i||(d=null);break e}o=m.next}}else if(a.tag===18){if(d=a.return,d===null)throw Error(J(341));d.lanes|=n,o=d.alternate,o!==null&&(o.lanes|=n),ph(d,n,e),d=null}else d=a.child;if(d!==null)d.return=a;else for(d=a;d!==null;){if(d===e){d=null;break}if(a=d.sibling,a!==null){a.return=d.return,d=a;break}d=d.return}a=d}}function ll(e,t,n,i){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var d=a.alternate;if(d===null)throw Error(J(387));if(d=d.memoizedProps,d!==null){var m=a.type;Hn(a.pendingProps.value,d.value)||(e!==null?e.push(m):e=[m])}}else if(a===mc.current){if(d=a.alternate,d===null)throw Error(J(387));d.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(Xo):e=[Xo])}a=a.return}e!==null&&mh(t,e,n,i),t.flags|=262144}function Dc(e){for(e=e.firstContext;e!==null;){if(!Hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Er(e){Rr=e,Ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function pn(e){return Bp(Rr,e)}function Bl(e,t){return Rr===null&&Er(e),Bp(e,t)}function Bp(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Ji===null){if(e===null)throw Error(J(308));Ji=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ji=Ji.next=t;return n}var ys=!1;function Rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ds(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ns(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,xt&2){var a=i.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),i.pending=t,t=Ec(e),z2(e,null,n),t}return cu(e,i,t,n),Ec(e)}function Co(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194176)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,h2(e,n)}}function cd(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var a=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var d={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?a=o=d:o=o.next=d,n=n.next}while(n!==null);o===null?a=o=t:o=o.next=t}else a=o=t;n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var wh=!1;function _o(){if(wh){var e=wa;if(e!==null)throw e}}function To(e,t,n,i){wh=!1;var a=e.updateQueue;ys=!1;var o=a.firstBaseUpdate,d=a.lastBaseUpdate,m=a.shared.pending;if(m!==null){a.shared.pending=null;var p=m,x=p.next;p.next=null,d===null?o=x:d.next=x,d=p;var b=e.alternate;b!==null&&(b=b.updateQueue,m=b.lastBaseUpdate,m!==d&&(m===null?b.firstBaseUpdate=x:m.next=x,b.lastBaseUpdate=p))}if(o!==null){var y=a.baseState;d=0,b=x=p=null,m=o;do{var C=m.lane&-536870913,S=C!==m.lane;if(S?(ze&C)===C:(i&C)===C){C!==0&&C===Oa&&(wh=!0),b!==null&&(b=b.next={lane:0,tag:m.tag,payload:m.payload,callback:null,next:null});e:{var N=e,M=m;C=t;var B=n;switch(M.tag){case 1:if(N=M.payload,typeof N=="function"){y=N.call(B,y,C);break e}y=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=M.payload,C=typeof N=="function"?N.call(B,y,C):N,C==null)break e;y=ut({},y,C);break e;case 2:ys=!0}}C=m.callback,C!==null&&(e.flags|=64,S&&(e.flags|=8192),S=a.callbacks,S===null?a.callbacks=[C]:S.push(C))}else S={lane:C,tag:m.tag,payload:m.payload,callback:m.callback,next:null},b===null?(x=b=S,p=y):b=b.next=S,d|=C;if(m=m.next,m===null){if(m=a.shared.pending,m===null)break;S=m,m=S.next,S.next=null,a.lastBaseUpdate=S,a.shared.pending=null}}while(!0);b===null&&(p=y),a.baseState=p,a.firstBaseUpdate=x,a.lastBaseUpdate=b,o===null&&(a.shared.lanes=0),Vs|=d,e.lanes=d,e.memoizedState=y}}function Lp(e,t){if(typeof e!="function")throw Error(J(191,e));e.call(t)}function Pp(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Lp(n[e],t)}function cl(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var a=i.next;n=a;do{if((n.tag&e)===e){i=void 0;var o=n.create,d=n.inst;i=o(),d.destroy=i}n=n.next}while(n!==a)}}catch(m){tt(t,t.return,m)}}function Fs(e,t,n){try{var i=t.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var o=a.next;i=o;do{if((i.tag&e)===e){var d=i.inst,m=d.destroy;if(m!==void 0){d.destroy=void 0,a=t;var p=n;try{m()}catch(x){tt(a,p,x)}}}i=i.next}while(i!==o)}}catch(x){tt(t,t.return,x)}}function zp(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Pp(t,n)}catch(i){tt(e,e.return,i)}}}function Up(e,t,n){n.props=br(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){tt(e,t,i)}}function ur(e,t){try{var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 26:case 27:case 5:var a=i;break;default:a=i}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(o){tt(e,t,o)}}function Pn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(a){tt(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){tt(e,t,a)}else n.current=null}function Fp(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(a){tt(e,e.return,a)}}function v1(e,t,n){try{var i=e.stateNode;t4(i,e.type,n,t),i[Rn]=t}catch(a){tt(e,e.return,a)}}function Vp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function ud(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vh(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=mu));else if(i!==4&&i!==27&&(e=e.child,e!==null))for(vh(e,t,n),e=e.sibling;e!==null;)vh(e,t,n),e=e.sibling}function Nc(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&i!==27&&(e=e.child,e!==null))for(Nc(e,t,n),e=e.sibling;e!==null;)Nc(e,t,n),e=e.sibling}var Xi=!1,At=!1,dd=!1,y1=typeof WeakSet=="function"?WeakSet:Set,Yt=null,b1=!1;function Dv(e,t){if(e=e.containerInfo,Oh=Vc,e=N2(e),lf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var a=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(M){n=null;break e}var d=0,m=-1,p=-1,x=0,b=0,y=e,C=null;t:for(;;){for(var S;y!==n||a!==0&&y.nodeType!==3||(m=d+a),y!==o||i!==0&&y.nodeType!==3||(p=d+i),y.nodeType===3&&(d+=y.nodeValue.length),(S=y.firstChild)!==null;)C=y,y=S;for(;;){if(y===e)break t;if(C===n&&++x===a&&(m=d),C===o&&++b===i&&(p=d),(S=y.nextSibling)!==null)break;y=C,C=y.parentNode}y=S}n=m===-1||p===-1?null:{start:m,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rh={focusedElem:e,selectionRange:n},Vc=!1,Yt=t;Yt!==null;)if(t=Yt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Yt=e;else for(;Yt!==null;){switch(t=Yt,o=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,i=n.stateNode;try{var N=br(n.type,a,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(N,o),i.__reactInternalSnapshotBeforeUpdate=e}catch(M){tt(n,n.return,M)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Dh(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Dh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(J(163))}if(e=t.sibling,e!==null){e.return=t.return,Yt=e;break}Yt=t.return}return N=b1,b1=!1,N}function Gp(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Ui(e,n),i&4&&cl(5,n);break;case 1:if(Ui(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(m){tt(n,n.return,m)}else{var a=br(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){tt(n,n.return,m)}}i&64&&zp(n),i&512&&ur(n,n.return);break;case 3:if(Ui(e,n),i&64&&(i=n.updateQueue,i!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Pp(i,e)}catch(m){tt(n,n.return,m)}}break;case 26:Ui(e,n),i&512&&ur(n,n.return);break;case 27:case 5:Ui(e,n),t===null&&i&4&&Fp(n),i&512&&ur(n,n.return);break;case 12:Ui(e,n);break;case 13:Ui(e,n),i&4&&Xp(e,n);break;case 22:if(a=n.memoizedState!==null||Xi,!a){t=t!==null&&t.memoizedState!==null||At;var o=Xi,d=At;Xi=a,(At=t)&&!d?ws(e,n,(n.subtreeFlags&8772)!==0):Ui(e,n),Xi=o,At=d}i&512&&(n.memoizedProps.mode==="manual"?ur(n,n.return):Pn(n,n.return));break;default:Ui(e,n)}}function Hp(e){var t=e.alternate;t!==null&&(e.alternate=null,Hp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&tf(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Rt=null,kn=!1;function zi(e,t,n){for(n=n.child;n!==null;)qp(e,t,n),n=n.sibling}function qp(e,t,n){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(tl,n)}catch(d){}switch(n.tag){case 26:At||Pn(n,t),zi(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:At||Pn(n,t);var i=Rt,a=kn;for(Rt=n.stateNode,zi(e,t,n),n=n.stateNode,t=n.attributes;t.length;)n.removeAttributeNode(t[0]);tf(n),Rt=i,kn=a;break;case 5:At||Pn(n,t);case 6:a=Rt;var o=kn;if(Rt=null,zi(e,t,n),Rt=a,kn=o,Rt!==null)if(kn)try{e=Rt,i=n.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)}catch(d){tt(n,t,d)}else try{Rt.removeChild(n.stateNode)}catch(d){tt(n,t,d)}break;case 18:Rt!==null&&(kn?(t=Rt,n=n.stateNode,t.nodeType===8?Ad(t.parentNode,n):t.nodeType===1&&Ad(t,n),Qo(t)):Ad(Rt,n.stateNode));break;case 4:i=Rt,a=kn,Rt=n.stateNode.containerInfo,kn=!0,zi(e,t,n),Rt=i,kn=a;break;case 0:case 11:case 14:case 15:At||Fs(2,n,t),At||Fs(4,n,t),zi(e,t,n);break;case 1:At||(Pn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Up(n,t,i)),zi(e,t,n);break;case 21:zi(e,t,n);break;case 22:At||Pn(n,t),At=(i=At)||n.memoizedState!==null,zi(e,t,n),At=i;break;default:zi(e,t,n)}}function Xp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qo(e)}catch(n){tt(t,t.return,n)}}function Nv(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new y1),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new y1),t;default:throw Error(J(435,e.tag))}}function hd(e,t){var n=Nv(e);t.forEach(function(i){var a=qv.bind(null,e,i);n.has(i)||(n.add(i),i.then(a,a))})}function Kn(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var a=n[i],o=e,d=t,m=d;e:for(;m!==null;){switch(m.tag){case 27:case 5:Rt=m.stateNode,kn=!1;break e;case 3:Rt=m.stateNode.containerInfo,kn=!0;break e;case 4:Rt=m.stateNode.containerInfo,kn=!0;break e}m=m.return}if(Rt===null)throw Error(J(160));qp(o,d,a),Rt=null,kn=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Wp(t,e),t=t.sibling}var pi=null;function Wp(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Kn(t,e),Zn(e),i&4&&(Fs(3,e,e.return),cl(3,e),Fs(5,e,e.return));break;case 1:Kn(t,e),Zn(e),i&512&&(At||n===null||Pn(n,n.return)),i&64&&Xi&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var a=pi;if(Kn(t,e),Zn(e),i&512&&(At||n===null||Pn(n,n.return)),i&4){var o=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(i){case"title":o=a.getElementsByTagName("title")[0],(!o||o[Bo]||o[gn]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=a.createElement(i),a.head.insertBefore(o,a.querySelector("head > title"))),on(o,i,n),o[gn]=e,Qt(o),i=o;break e;case"link":var d=P1("link","href",a).get(i+(n.href||""));if(d){for(var m=0;m<d.length;m++)if(o=d[m],o.getAttribute("href")===(n.href==null?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){d.splice(m,1);break t}}o=a.createElement(i),on(o,i,n),a.head.appendChild(o);break;case"meta":if(d=P1("meta","content",a).get(i+(n.content||""))){for(m=0;m<d.length;m++)if(o=d[m],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){d.splice(m,1);break t}}o=a.createElement(i),on(o,i,n),a.head.appendChild(o);break;default:throw Error(J(468,i))}o[gn]=e,Qt(o),i=o}e.stateNode=i}else z1(a,e.type,e.stateNode);else e.stateNode=L1(a,i,e.memoizedProps);else o!==i?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,i===null?z1(a,e.type,e.stateNode):L1(a,i,e.memoizedProps)):i===null&&e.stateNode!==null&&v1(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(i&4&&e.alternate===null){a=e.stateNode,o=e.memoizedProps;try{for(var p=a.firstChild;p;){var x=p.nextSibling,b=p.nodeName;p[Bo]||b==="HEAD"||b==="BODY"||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=x}for(var y=e.type,C=a.attributes;C.length;)a.removeAttributeNode(C[0]);on(a,y,o),a[gn]=e,a[Rn]=o}catch(N){tt(e,e.return,N)}}case 5:if(Kn(t,e),Zn(e),i&512&&(At||n===null||Pn(n,n.return)),e.flags&32){a=e.stateNode;try{_a(a,"")}catch(N){tt(e,e.return,N)}}i&4&&e.stateNode!=null&&(a=e.memoizedProps,v1(e,a,n!==null?n.memoizedProps:a)),i&1024&&(dd=!0);break;case 6:if(Kn(t,e),Zn(e),i&4){if(e.stateNode===null)throw Error(J(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(N){tt(e,e.return,N)}}break;case 3:if(uc=null,a=pi,pi=zc(t.containerInfo),Kn(t,e),pi=a,Zn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Qo(t.containerInfo)}catch(N){tt(e,e.return,N)}dd&&(dd=!1,Yp(e));break;case 4:i=pi,pi=zc(e.stateNode.containerInfo),Kn(t,e),Zn(e),pi=i;break;case 12:Kn(t,e),Zn(e);break;case 13:Kn(t,e),Zn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(jf=Ni()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,hd(e,i)));break;case 22:if(i&512&&(At||n===null||Pn(n,n.return)),p=e.memoizedState!==null,x=n!==null&&n.memoizedState!==null,b=Xi,y=At,Xi=b||p,At=y||x,Kn(t,e),At=y,Xi=b,Zn(e),t=e.stateNode,t._current=e,t._visibility&=-3,t._visibility|=t._pendingVisibility&2,i&8192&&(t._visibility=p?t._visibility&-2:t._visibility|1,p&&(t=Xi||At,n===null||x||t||Qr(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))e:for(n=null,t=e;;){if(t.tag===5||t.tag===26||t.tag===27){if(n===null){x=n=t;try{if(a=x.stateNode,p)o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{d=x.stateNode,m=x.memoizedProps.style;var S=m!=null&&m.hasOwnProperty("display")?m.display:null;d.style.display=S==null||typeof S=="boolean"?"":(""+S).trim()}}catch(N){tt(x,x.return,N)}}}else if(t.tag===6){if(n===null){x=t;try{x.stateNode.nodeValue=p?"":x.memoizedProps}catch(N){tt(x,x.return,N)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,hd(e,n))));break;case 19:Kn(t,e),Zn(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,hd(e,i)));break;case 21:break;default:Kn(t,e),Zn(e)}}function Zn(e){var t=e.flags;if(t&2){try{if(e.tag!==27){e:{for(var n=e.return;n!==null;){if(Vp(n)){var i=n;break e}n=n.return}throw Error(J(160))}switch(i.tag){case 27:var a=i.stateNode,o=ud(e);Nc(e,o,a);break;case 5:var d=i.stateNode;i.flags&32&&(_a(d,""),i.flags&=-33);var m=ud(e);Nc(e,m,d);break;case 3:case 4:var p=i.stateNode.containerInfo,x=ud(e);vh(e,x,p);break;default:throw Error(J(161))}}}catch(b){tt(e,e.return,b)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Yp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Yp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ui(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Gp(e,t.alternate,t),t=t.sibling}function Qr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Fs(4,t,t.return),Qr(t);break;case 1:Pn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Up(t,t.return,n),Qr(t);break;case 26:case 27:case 5:Pn(t,t.return),Qr(t);break;case 22:Pn(t,t.return),t.memoizedState===null&&Qr(t);break;default:Qr(t)}e=e.sibling}}function ws(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,a=e,o=t,d=o.flags;switch(o.tag){case 0:case 11:case 15:ws(a,o,n),cl(4,o);break;case 1:if(ws(a,o,n),i=o,a=i.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(x){tt(i,i.return,x)}if(i=o,a=i.updateQueue,a!==null){var m=i.stateNode;try{var p=a.shared.hiddenCallbacks;if(p!==null)for(a.shared.hiddenCallbacks=null,a=0;a<p.length;a++)Lp(p[a],m)}catch(x){tt(i,i.return,x)}}n&&d&64&&zp(o),ur(o,o.return);break;case 26:case 27:case 5:ws(a,o,n),n&&i===null&&d&4&&Fp(o),ur(o,o.return);break;case 12:ws(a,o,n);break;case 13:ws(a,o,n),n&&d&4&&Xp(a,o);break;case 22:o.memoizedState===null&&ws(a,o,n),ur(o,o.return);break;default:ws(a,o,n)}t=t.sibling}}function If(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&al(n))}function Df(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&al(e))}function ps(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qp(e,t,n,i),t=t.sibling}function Qp(e,t,n,i){var a=t.flags;switch(t.tag){case 0:case 11:case 15:ps(e,t,n,i),a&2048&&cl(9,t);break;case 3:ps(e,t,n,i),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&al(e)));break;case 12:if(a&2048){ps(e,t,n,i),e=t.stateNode;try{var o=t.memoizedProps,d=o.id,m=o.onPostCommit;typeof m=="function"&&m(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(p){tt(t,t.return,p)}}else ps(e,t,n,i);break;case 23:break;case 22:o=t.stateNode,t.memoizedState!==null?o._visibility&4?ps(e,t,n,i):Oo(e,t):o._visibility&4?ps(e,t,n,i):(o._visibility|=4,Kr(e,t,n,i,(t.subtreeFlags&10256)!==0)),a&2048&&If(t.alternate,t);break;case 24:ps(e,t,n,i),a&2048&&Df(t.alternate,t);break;default:ps(e,t,n,i)}}function Kr(e,t,n,i,a){for(a=a&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var o=e,d=t,m=n,p=i,x=d.flags;switch(d.tag){case 0:case 11:case 15:Kr(o,d,m,p,a),cl(8,d);break;case 23:break;case 22:var b=d.stateNode;d.memoizedState!==null?b._visibility&4?Kr(o,d,m,p,a):Oo(o,d):(b._visibility|=4,Kr(o,d,m,p,a)),a&&x&2048&&If(d.alternate,d);break;case 24:Kr(o,d,m,p,a),a&&x&2048&&Df(d.alternate,d);break;default:Kr(o,d,m,p,a)}t=t.sibling}}function Oo(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,a=i.flags;switch(i.tag){case 22:Oo(n,i),a&2048&&If(i.alternate,i);break;case 24:Oo(n,i),a&2048&&Df(i.alternate,i);break;default:Oo(n,i)}t=t.sibling}}var po=8192;function Fr(e){if(e.subtreeFlags&po)for(e=e.child;e!==null;)Kp(e),e=e.sibling}function Kp(e){switch(e.tag){case 26:Fr(e),e.flags&po&&e.memoizedState!==null&&y4(pi,e.memoizedState,e.memoizedProps);break;case 5:Fr(e);break;case 3:case 4:var t=pi;pi=zc(e.stateNode.containerInfo),Fr(e),pi=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=po,po=16777216,Fr(e),po=t):Fr(e));break;default:Fr(e)}}function Zp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ao(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Yt=i,Jp(i,e)}Zp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)$p(e),e=e.sibling}function $p(e){switch(e.tag){case 0:case 11:case 15:ao(e),e.flags&2048&&Fs(9,e,e.return);break;case 3:ao(e);break;case 12:ao(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&4&&(e.return===null||e.return.tag!==13)?(t._visibility&=-5,oc(e)):ao(e);break;default:ao(e)}}function oc(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Yt=i,Jp(i,e)}Zp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Fs(8,t,t.return),oc(t);break;case 22:n=t.stateNode,n._visibility&4&&(n._visibility&=-5,oc(t));break;default:oc(t)}e=e.sibling}}function Jp(e,t){for(;Yt!==null;){var n=Yt;switch(n.tag){case 0:case 11:case 15:Fs(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:al(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Yt=i;else e:for(n=e;Yt!==null;){i=Yt;var a=i.sibling,o=i.return;if(Hp(i),i===n){Yt=null;break e}if(a!==null){a.return=o,Yt=a;break e}Yt=o}}}function Mv(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ri(e,t,n,i){return new Mv(e,t,n,i)}function Nf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ms(e,t){var n=e.alternate;return n===null?(n=ri(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&31457280,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function em(e,t){e.flags&=31457282;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function lc(e,t,n,i,a,o){var d=0;if(i=e,typeof e=="function")Nf(e)&&(d=1);else if(typeof e=="string")d=w4(e,n,Di.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ea:return pr(n.children,a,o,t);case t2:d=8,a|=24;break;case Vd:return e=ri(12,n,t,a|2),e.elementType=Vd,e.lanes=o,e;case Gd:return e=ri(13,n,t,a),e.elementType=Gd,e.lanes=o,e;case Hd:return e=ri(19,n,t,a),e.elementType=Hd,e.lanes=o,e;case i2:return tm(n,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case sw:case Qi:d=10;break e;case n2:d=9;break e;case $h:d=11;break e;case Jh:d=14;break e;case vs:d=16,i=null;break e}d=29,n=Error(J(130,e===null?"null":typeof e,"")),i=null}return t=ri(d,n,t,a),t.elementType=e,t.type=i,t.lanes=o,t}function pr(e,t,n,i){return e=ri(7,e,i,t),e.lanes=n,e}function tm(e,t,n,i){e=ri(22,e,i,t),e.elementType=i2,e.lanes=n;var a={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var o=a._current;if(o===null)throw Error(J(456));if(!(a._pendingVisibility&2)){var d=zs(o,2);d!==null&&(a._pendingVisibility|=2,yn(d,o,2))}},attach:function(){var o=a._current;if(o===null)throw Error(J(456));if(a._pendingVisibility&2){var d=zs(o,2);d!==null&&(a._pendingVisibility&=-3,yn(d,o,2))}}};return e.stateNode=a,e}function fd(e,t,n){return e=ri(6,e,null,t),e.lanes=n,e}function gd(e,t,n){return t=ri(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fi(e){e.flags|=4}function E1(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Em(t)){if(t=oi.current,t!==null&&((ze&4194176)===ze?Mi!==null:(ze&62914560)!==ze&&!(ze&536870912)||t!==Mi))throw bo=ih,F2;e.flags|=8192}}function Ll(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?u2():536870912,e.lanes|=t,Ia|=t)}function oo(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags&31457280,i|=a.flags&31457280,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function kv(e,t,n){var i=t.pendingProps;switch(hf(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(t),null;case 1:return pt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ts(Ut),Sa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(so(t)?Fi(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xi!==null&&(Sh(xi),xi=null))),pt(t),null;case 26:return n=t.memoizedState,e===null?(Fi(t),n!==null?(pt(t),E1(t,n)):(pt(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Fi(t),pt(t),E1(t,n)):(pt(t),t.flags&=-16777217):(e.memoizedProps!==i&&Fi(t),pt(t),t.flags&=-16777217),null;case 27:wc(t),n=Is.current;var a=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Fi(t);else{if(!i){if(t.stateNode===null)throw Error(J(166));return pt(t),null}e=Di.current,so(t)?$0(t):(e=vm(a,i,n),t.stateNode=e,Fi(t))}return pt(t),null;case 5:if(wc(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Fi(t);else{if(!i){if(t.stateNode===null)throw Error(J(166));return pt(t),null}if(e=Di.current,so(t))$0(t);else{switch(a=Pc(Is.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?a.createElement(n,{is:i.is}):a.createElement(n)}}e[gn]=t,e[Rn]=i;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(on(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Fi(t)}}return pt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Fi(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(J(166));if(e=Is.current,so(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,a=vn,a!==null)switch(a.tag){case 27:case 5:i=a.memoizedProps}e[gn]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||mm(e.nodeValue,n)),e||wr(t)}else e=Pc(e).createTextNode(i),e[gn]=t,t.stateNode=e}return pt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=so(t),i!==null&&i.dehydrated!==null){if(e===null){if(!a)throw Error(J(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(J(317));a[gn]=t}else rl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pt(t),a=!1}else xi!==null&&(Sh(xi),xi=null),a=!0;if(!a)return t.flags&256?($i(t),t):($i(t),null)}if($i(t),t.flags&128)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,a=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(a=i.alternate.memoizedState.cachePool.pool);var o=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Ll(t,t.updateQueue),pt(t),null;case 4:return Sa(),e===null&&Pf(t.stateNode.containerInfo),pt(t),null;case 10:return ts(t.type),pt(t),null;case 19:if($t(Ft),a=t.memoizedState,a===null)return pt(t),null;if(i=(t.flags&128)!==0,o=a.rendering,o===null)if(i)oo(a,!1);else{if(St!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=_c(e),o!==null){for(t.flags|=128,oo(a,!1),e=o.updateQueue,t.updateQueue=e,Ll(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)em(n,e),n=n.sibling;return ht(Ft,Ft.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ni()>Mc&&(t.flags|=128,i=!0,oo(a,!1),t.lanes=4194304)}else{if(!i)if(e=_c(o),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Ll(t,e),oo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!He)return pt(t),null}else 2*Ni()-a.renderingStartTime>Mc&&n!==536870912&&(t.flags|=128,i=!0,oo(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(e=a.last,e!==null?e.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ni(),t.sibling=null,e=Ft.current,ht(Ft,i?e&1|2:e&1),t):(pt(t),null);case 22:case 23:return $i(t),ff(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(pt(t),t.subtreeFlags&6&&(t.flags|=8192)):pt(t),n=t.updateQueue,n!==null&&Ll(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&$t(gr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ts(Ut),pt(t),null;case 25:return null}throw Error(J(156,t.tag))}function jv(e,t){switch(hf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ts(Ut),Sa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return wc(t),null;case 13:if($i(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(J(340));rl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $t(Ft),null;case 4:return Sa(),null;case 10:return ts(t.type),null;case 22:case 23:return $i(t),ff(),e!==null&&$t(gr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ts(Ut),null;case 25:return null;default:return null}}function nm(e,t){switch(hf(t),t.tag){case 3:ts(Ut),Sa();break;case 26:case 27:case 5:wc(t);break;case 4:Sa();break;case 13:$i(t);break;case 19:$t(Ft);break;case 10:ts(t.type);break;case 22:case 23:$i(t),ff(),e!==null&&$t(gr);break;case 24:ts(Ut)}}var Bv={getCacheForType:function(e){var t=pn(Ut),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Lv=typeof WeakMap=="function"?WeakMap:Map,xt=0,at=null,je=null,ze=0,rt=0,jn=null,Wi=!1,La=!1,Mf=!1,rs=0,St=0,Vs=0,mr=0,kf=0,ai=0,Ia=0,Ro=null,Ri=null,yh=!1,jf=0,Mc=1/0,kc=null,ks=null,Pl=!1,rr=null,Io=0,bh=0,Eh=null,Do=0,Ah=null;function Gn(){if(xt&2&&ze!==0)return ze&-ze;if(Oe.T!==null){var e=Oa;return e!==0?e:Lf()}return g2()}function im(){ai===0&&(ai=!(ze&536870912)||He?c2():536870912);var e=oi.current;return e!==null&&(e.flags|=32),ai}function yn(e,t,n){(e===at&&rt===2||e.cancelPendingCommit!==null)&&(Da(e,0),Yi(e,ze,ai,!1)),il(e,n),(!(xt&2)||e!==at)&&(e===at&&(!(xt&2)&&(mr|=n),St===4&&Yi(e,ze,ai,!1)),Bi(e))}function sm(e,t,n){if(xt&6)throw Error(J(327));var i=!n&&(t&60)===0&&(t&e.expiredLanes)===0||nl(e,t),a=i?Uv(e,t):pd(e,t,!0),o=i;do{if(a===0){La&&!i&&Yi(e,t,0,!1);break}else if(a===6)Yi(e,t,0,!Wi);else{if(n=e.current.alternate,o&&!Pv(n)){a=pd(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var m=e;a=Ro;var p=m.current.memoizedState.isDehydrated;if(p&&(Da(m,d).flags|=256),d=pd(m,d,!1),d!==2){if(Mf&&!p){m.errorRecoveryDisabledLanes|=o,mr|=o,a=4;break e}o=Ri,Ri=a,o!==null&&Sh(o)}a=d}if(o=!1,a!==2)continue}}if(a===1){Da(e,0),Yi(e,t,0,!0);break}e:{switch(i=e,a){case 0:case 1:throw Error(J(345));case 4:if((t&4194176)===t){Yi(i,t,ai,!Wi);break e}break;case 2:Ri=null;break;case 3:case 5:break;default:throw Error(J(329))}if(i.finishedWork=n,i.finishedLanes=t,(t&62914560)===t&&(o=jf+300-Ni(),10<o)){if(Yi(i,t,ai,!Wi),su(i,0)!==0)break e;i.timeoutHandle=wm(A1.bind(null,i,n,Ri,kc,yh,t,ai,mr,Ia,Wi,2,-0,0),o);break e}A1(i,n,Ri,kc,yh,t,ai,mr,Ia,Wi,0,-0,0)}}break}while(!0);Bi(e)}function Sh(e){Ri===null?Ri=e:Ri.push.apply(Ri,e)}function A1(e,t,n,i,a,o,d,m,p,x,b,y,C){var S=t.subtreeFlags;if((S&8192||(S&16785408)===16785408)&&(qo={stylesheets:null,count:0,unsuspend:v4},Kp(t),t=b4(),t!==null)){e.cancelPendingCommit=t(C1.bind(null,e,n,i,a,d,m,p,1,y,C)),Yi(e,o,d,!x);return}C1(e,n,i,a,d,m,p,b,y,C)}function Pv(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var a=n[i],o=a.getSnapshot;a=a.value;try{if(!Hn(o(),a))return!1}catch(d){return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yi(e,t,n,i){t&=~kf,t&=~mr,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var a=t;0<a;){var o=31-Vn(a),d=1<<o;i[o]=-1,a&=~d}n!==0&&d2(e,n,t)}function gu(){return xt&6?!0:(ul(0),!1)}function Bf(){if(je!==null){if(rt===0)var e=je.return;else e=je,Ji=Rr=null,yf(e),xa=null,Fo=0,e=je;for(;e!==null;)nm(e.alternate,e),e=e.return;je=null}}function Da(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,i4(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Bf(),at=e,je=n=Ms(e.current,null),ze=t,rt=0,jn=null,Wi=!1,La=nl(e,t),Mf=!1,Ia=ai=kf=mr=Vs=St=0,Ri=Ro=null,yh=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var a=31-Vn(i),o=1<<a;t|=e[a],i&=~o}return rs=t,lu(),n}function rm(e,t){ke=null,Oe.H=ki,t===yo?(t=t1(),rt=3):t===F2?(t=t1(),rt=4):rt=t===Ip?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,jn=t,je===null&&(St=1,Ic(e,si(t,e.current)))}function am(){var e=Oe.H;return Oe.H=ki,e===null?ki:e}function om(){var e=Oe.A;return Oe.A=Bv,e}function Ch(){St=4,Wi||(ze&4194176)!==ze&&oi.current!==null||(La=!0),!(Vs&134217727)&&!(mr&134217727)||at===null||Yi(at,ze,ai,!1)}function pd(e,t,n){var i=xt;xt|=2;var a=am(),o=om();(at!==e||ze!==t)&&(kc=null,Da(e,t)),t=!1;var d=St;e:do try{if(rt!==0&&je!==null){var m=je,p=jn;switch(rt){case 8:Bf(),d=6;break e;case 3:case 2:case 6:oi.current===null&&(t=!0);var x=rt;if(rt=0,jn=null,ua(e,m,p,x),n&&La){d=0;break e}break;default:x=rt,rt=0,jn=null,ua(e,m,p,x)}}zv(),d=St;break}catch(b){rm(e,b)}while(!0);return t&&e.shellSuspendCounter++,Ji=Rr=null,xt=i,Oe.H=a,Oe.A=o,je===null&&(at=null,ze=0,lu()),d}function zv(){for(;je!==null;)lm(je)}function Uv(e,t){var n=xt;xt|=2;var i=am(),a=om();at!==e||ze!==t?(kc=null,Mc=Ni()+500,Da(e,t)):La=nl(e,t);e:do try{if(rt!==0&&je!==null){t=je;var o=jn;t:switch(rt){case 1:rt=0,jn=null,ua(e,t,o,1);break;case 2:if(e1(o)){rt=0,jn=null,S1(t);break}t=function(){rt===2&&at===e&&(rt=7),Bi(e)},o.then(t,t);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:e1(o)?(rt=0,jn=null,S1(t)):(rt=0,jn=null,ua(e,t,o,7));break;case 5:var d=null;switch(je.tag){case 26:d=je.memoizedState;case 5:case 27:var m=je;if(!d||Em(d)){rt=0,jn=null;var p=m.sibling;if(p!==null)je=p;else{var x=m.return;x!==null?(je=x,pu(x)):je=null}break t}}rt=0,jn=null,ua(e,t,o,5);break;case 6:rt=0,jn=null,ua(e,t,o,6);break;case 8:Bf(),St=6;break e;default:throw Error(J(462))}}Fv();break}catch(b){rm(e,b)}while(!0);return Ji=Rr=null,Oe.H=i,Oe.A=a,xt=n,je!==null?0:(at=null,ze=0,lu(),St)}function Fv(){for(;je!==null&&!cw();)lm(je)}function lm(e){var t=jp(e.alternate,e,rs);e.memoizedProps=e.pendingProps,t===null?pu(e):je=t}function S1(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=p1(n,t,t.pendingProps,t.type,void 0,ze);break;case 11:t=p1(n,t,t.pendingProps,t.type.render,t.ref,ze);break;case 5:yf(t);default:nm(n,t),t=je=em(t,rs),t=jp(n,t,rs)}e.memoizedProps=e.pendingProps,t===null?pu(e):je=t}function ua(e,t,n,i){Ji=Rr=null,yf(t),xa=null,Fo=0;var a=t.return;try{if(Rv(e,a,t,n,ze)){St=1,Ic(e,si(n,e.current)),je=null;return}}catch(o){if(a!==null)throw je=a,o;St=1,Ic(e,si(n,e.current)),je=null;return}t.flags&32768?(He||i===1?e=!0:La||ze&536870912?e=!1:(Wi=e=!0,(i===2||i===3||i===6)&&(i=oi.current,i!==null&&i.tag===13&&(i.flags|=16384))),cm(t,e)):pu(t)}function pu(e){var t=e;do{if(t.flags&32768){cm(t,Wi);return}e=t.return;var n=kv(t.alternate,t,rs);if(n!==null){je=n;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);St===0&&(St=5)}function cm(e,t){do{var n=jv(e.alternate,e);if(n!==null){n.flags&=32767,je=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){je=e;return}je=e=n}while(e!==null);St=6,je=null}function C1(e,t,n,i,a,o,d,m,p,x){var b=Oe.T,y=ct.p;try{ct.p=2,Oe.T=null,Vv(e,t,n,i,y,a,o,d,m,p,x)}finally{Oe.T=b,ct.p=y}}function Vv(e,t,n,i,a,o,d,m){do ba();while(rr!==null);if(xt&6)throw Error(J(327));var p=e.finishedWork;if(i=e.finishedLanes,p===null)return null;if(e.finishedWork=null,e.finishedLanes=0,p===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var x=p.lanes|p.childLanes;if(x|=cf,yw(e,i,x,o,d,m),e===at&&(je=at=null,ze=0),!(p.subtreeFlags&10256)&&!(p.flags&10256)||Pl||(Pl=!0,bh=x,Eh=n,Xv(vc,function(){return ba(),null})),n=(p.flags&15990)!==0,p.subtreeFlags&15990||n?(n=Oe.T,Oe.T=null,o=ct.p,ct.p=2,d=xt,xt|=4,Dv(e,p),Wp(p,e),hv(Rh,e.containerInfo),Vc=!!Oh,Rh=Oh=null,e.current=p,Gp(e,p.alternate,p),uw(),xt=d,ct.p=o,Oe.T=n):e.current=p,Pl?(Pl=!1,rr=e,Io=i):um(e,x),x=e.pendingLanes,x===0&&(ks=null),pw(p.stateNode),Bi(e),t!==null)for(a=e.onRecoverableError,p=0;p<t.length;p++)x=t[p],a(x.value,{componentStack:x.stack});return Io&3&&ba(),x=e.pendingLanes,i&4194218&&x&42?e===Ah?Do++:(Do=0,Ah=e):Do=0,ul(0),null}function um(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,al(t)))}function ba(){if(rr!==null){var e=rr,t=bh;bh=0;var n=f2(Io),i=Oe.T,a=ct.p;try{if(ct.p=32>n?32:n,Oe.T=null,rr===null)var o=!1;else{n=Eh,Eh=null;var d=rr,m=Io;if(rr=null,Io=0,xt&6)throw Error(J(331));var p=xt;if(xt|=4,$p(d.current),Qp(d,d.current,m,n),xt=p,ul(0,!1),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(tl,d)}catch(x){}o=!0}return o}finally{ct.p=a,Oe.T=i,um(e,t)}}return!1}function _1(e,t,n){t=si(n,t),t=uh(e.stateNode,t,2),e=Ns(e,t,2),e!==null&&(il(e,2),Bi(e))}function tt(e,t,n){if(e.tag===3)_1(e,e,n);else for(;t!==null;){if(t.tag===3){_1(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ks===null||!ks.has(i))){e=si(n,e),n=Op(2),i=Ns(t,n,2),i!==null&&(Rp(n,i,t,e),il(i,2),Bi(i));break}}t=t.return}}function md(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Lv;var a=new Set;i.set(t,a)}else a=i.get(t),a===void 0&&(a=new Set,i.set(t,a));a.has(n)||(Mf=!0,a.add(n),e=Gv.bind(null,e,t,n),t.then(e,e))}function Gv(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,at===e&&(ze&n)===n&&(St===4||St===3&&(ze&62914560)===ze&&300>Ni()-jf?!(xt&2)&&Da(e,0):kf|=n,Ia===ze&&(Ia=0)),Bi(e)}function dm(e,t){t===0&&(t=u2()),e=zs(e,t),e!==null&&(il(e,t),Bi(e))}function Hv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),dm(e,n)}function qv(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(J(314))}i!==null&&i.delete(t),dm(e,n)}function Xv(e,t){return ef(e,t)}var jc=null,Zr=null,_h=!1,Bc=!1,xd=!1,xr=0;function Bi(e){e!==Zr&&e.next===null&&(Zr===null?jc=Zr=e:Zr=Zr.next=e),Bc=!0,_h||(_h=!0,Yv(Wv))}function ul(e,t){if(!xd&&Bc){xd=!0;do for(var n=!1,i=jc;i!==null;){if(e!==0){var a=i.pendingLanes;if(a===0)var o=0;else{var d=i.suspendedLanes,m=i.pingedLanes;o=(1<<31-Vn(42|e)+1)-1,o&=a&~(d&~m),o=o&201326677?o&201326677|1:o?o|2:0}o!==0&&(n=!0,T1(i,o))}else o=ze,o=su(i,i===at?o:0),!(o&3)||nl(i,o)||(n=!0,T1(i,o));i=i.next}while(n);xd=!1}}function Wv(){Bc=_h=!1;var e=0;xr!==0&&(n4()&&(e=xr),xr=0);for(var t=Ni(),n=null,i=jc;i!==null;){var a=i.next,o=hm(i,t);o===0?(i.next=null,n===null?jc=a:n.next=a,a===null&&(Zr=n)):(n=i,(e!==0||o&3)&&(Bc=!0)),i=a}ul(e)}function hm(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var d=31-Vn(o),m=1<<d,p=a[d];p===-1?(!(m&n)||m&i)&&(a[d]=vw(m,t)):p<=t&&(e.expiredLanes|=m),o&=~m}if(t=at,n=ze,n=su(e,e===t?n:0),i=e.callbackNode,n===0||e===t&&rt===2||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Wu(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||nl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Wu(i),f2(n)){case 2:case 8:n=o2;break;case 32:n=vc;break;case 268435456:n=l2;break;default:n=vc}return i=fm.bind(null,e),n=ef(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Wu(i),e.callbackPriority=2,e.callbackNode=null,2}function fm(e,t){var n=e.callbackNode;if(ba()&&e.callbackNode!==n)return null;var i=ze;return i=su(e,e===at?i:0),i===0?null:(sm(e,i,t),hm(e,Ni()),e.callbackNode!=null&&e.callbackNode===n?fm.bind(null,e):null)}function T1(e,t){if(ba())return null;sm(e,t,!0)}function Yv(e){s4(function(){xt&6?ef(a2,e):e()})}function Lf(){return xr===0&&(xr=c2()),xr}function O1(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:tc(""+e)}function R1(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Qv(e,t,n,i,a){if(t==="submit"&&n&&n.stateNode===a){var o=O1((a[Rn]||null).action),d=i.submitter;d&&(t=(t=d[Rn]||null)?O1(t.formAction):d.getAttribute("formAction"),t!==null&&(o=t,d=null));var m=new ru("action","action",null,i,a);e.push({event:m,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(xr!==0){var p=d?R1(a,d):new FormData(a);lh(n,{pending:!0,data:p,method:a.method,action:o},null,p)}}else typeof o=="function"&&(m.preventDefault(),p=d?R1(a,d):new FormData(a),lh(n,{pending:!0,data:p,method:a.method,action:o},o,p))},currentTarget:a}]})}}for(var wd=0;wd<K0.length;wd++){var vd=K0[wd],Kv=vd.toLowerCase(),Zv=vd[0].toUpperCase()+vd.slice(1);vi(Kv,"on"+Zv)}vi(k2,"onAnimationEnd");vi(j2,"onAnimationIteration");vi(B2,"onAnimationStart");vi("dblclick","onDoubleClick");vi("focusin","onFocus");vi("focusout","onBlur");vi(gv,"onTransitionRun");vi(pv,"onTransitionStart");vi(mv,"onTransitionCancel");vi(L2,"onTransitionEnd");Ca("onMouseEnter",["mouseout","mouseover"]);Ca("onMouseLeave",["mouseout","mouseover"]);Ca("onPointerEnter",["pointerout","pointerover"]);Ca("onPointerLeave",["pointerout","pointerover"]);Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$v=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Go));function gm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],a=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var d=i.length-1;0<=d;d--){var m=i[d],p=m.instance,x=m.currentTarget;if(m=m.listener,p!==o&&a.isPropagationStopped())break e;o=m,a.currentTarget=x;try{o(a)}catch(b){Rc(b)}a.currentTarget=null,o=p}else for(d=0;d<i.length;d++){if(m=i[d],p=m.instance,x=m.currentTarget,m=m.listener,p!==o&&a.isPropagationStopped())break e;o=m,a.currentTarget=x;try{o(a)}catch(b){Rc(b)}a.currentTarget=null,o=p}}}}function Pe(e,t){var n=t[Qd];n===void 0&&(n=t[Qd]=new Set);var i=e+"__bubble";n.has(i)||(pm(t,e,2,!1),n.add(i))}function yd(e,t,n){var i=0;t&&(i|=4),pm(n,e,i,t)}var zl="_reactListening"+Math.random().toString(36).slice(2);function Pf(e){if(!e[zl]){e[zl]=!0,p2.forEach(function(n){n!=="selectionchange"&&($v.has(n)||yd(n,!1,e),yd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zl]||(t[zl]=!0,yd("selectionchange",!1,t))}}function pm(e,t,n,i){switch(Tm(t)){case 2:var a=S4;break;case 8:a=C4;break;default:a=Vf}n=a.bind(null,t,n,e),a=void 0,!Jd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),i?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function bd(e,t,n,i,a){var o=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var d=i.tag;if(d===3||d===4){var m=i.stateNode.containerInfo;if(m===a||m.nodeType===8&&m.parentNode===a)break;if(d===4)for(d=i.return;d!==null;){var p=d.tag;if((p===3||p===4)&&(p=d.stateNode.containerInfo,p===a||p.nodeType===8&&p.parentNode===a))return;d=d.return}for(;m!==null;){if(d=cr(m),d===null)return;if(p=d.tag,p===5||p===6||p===26||p===27){i=o=d;continue e}m=m.parentNode}}i=i.return}A2(function(){var x=o,b=sf(n),y=[];e:{var C=P2.get(e);if(C!==void 0){var S=ru,N=e;switch(e){case"keypress":if(ic(n)===0)break e;case"keydown":case"keyup":S=qw;break;case"focusin":N="focus",S=$u;break;case"focusout":N="blur",S=$u;break;case"beforeblur":case"afterblur":S=$u;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=P0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=Mw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=Yw;break;case k2:case j2:case B2:S=Bw;break;case L2:S=Kw;break;case"scroll":case"scrollend":S=Dw;break;case"wheel":S=$w;break;case"copy":case"cut":case"paste":S=Pw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=U0;break;case"toggle":case"beforetoggle":S=ev}var M=(t&4)!==0,B=!M&&(e==="scroll"||e==="scrollend"),T=M?C!==null?C+"Capture":null:C;M=[];for(var A=x,_;A!==null;){var D=A;if(_=D.stateNode,D=D.tag,D!==5&&D!==26&&D!==27||_===null||T===null||(D=Lo(A,T),D!=null&&M.push(Ho(A,D,_))),B)break;A=A.return}0<M.length&&(C=new S(C,N,null,n,b),y.push({event:C,listeners:M}))}}if(!(t&7)){e:{if(C=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",C&&n!==$d&&(N=n.relatedTarget||n.fromElement)&&(cr(N)||N[ja]))break e;if((S||C)&&(C=b.window===b?b:(C=b.ownerDocument)?C.defaultView||C.parentWindow:window,S?(N=n.relatedTarget||n.toElement,S=x,N=N?cr(N):null,N!==null&&(B=ka(N),M=N.tag,N!==B||M!==5&&M!==27&&M!==6)&&(N=null)):(S=null,N=x),S!==N)){if(M=P0,D="onMouseLeave",T="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(M=U0,D="onPointerLeave",T="onPointerEnter",A="pointer"),B=S==null?C:go(S),_=N==null?C:go(N),C=new M(D,A+"leave",S,n,b),C.target=B,C.relatedTarget=_,D=null,cr(b)===x&&(M=new M(T,A+"enter",N,n,b),M.target=_,M.relatedTarget=B,D=M),B=D,S&&N)t:{for(M=S,T=N,A=0,_=M;_;_=Vr(_))A++;for(_=0,D=T;D;D=Vr(D))_++;for(;0<A-_;)M=Vr(M),A--;for(;0<_-A;)T=Vr(T),_--;for(;A--;){if(M===T||T!==null&&M===T.alternate)break t;M=Vr(M),T=Vr(T)}M=null}else M=null;S!==null&&I1(y,C,S,M,!1),N!==null&&B!==null&&I1(y,B,N,M,!0)}}e:{if(C=x?go(x):window,S=C.nodeName&&C.nodeName.toLowerCase(),S==="select"||S==="input"&&C.type==="file")var P=H0;else if(G0(C))if(R2)P=uv;else{P=lv;var G=ov}else S=C.nodeName,!S||S.toLowerCase()!=="input"||C.type!=="checkbox"&&C.type!=="radio"?x&&nf(x.elementType)&&(P=H0):P=cv;if(P&&(P=P(e,x))){O2(y,P,n,b);break e}G&&G(e,C,x),e==="focusout"&&x&&C.type==="number"&&x.memoizedProps.value!=null&&Zd(C,"number",C.value)}switch(G=x?go(x):window,e){case"focusin":(G0(G)||G.contentEditable==="true")&&(sa=G,eh=x,vo=null);break;case"focusout":vo=eh=sa=null;break;case"mousedown":th=!0;break;case"contextmenu":case"mouseup":case"dragend":th=!1,Q0(y,n,b);break;case"selectionchange":if(fv)break;case"keydown":case"keyup":Q0(y,n,b)}var z;if(of)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else ia?_2(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(C2&&n.locale!=="ko"&&(ia||k!=="onCompositionStart"?k==="onCompositionEnd"&&ia&&(z=S2()):(Os=b,rf="value"in Os?Os.value:Os.textContent,ia=!0)),G=Lc(x,k),0<G.length&&(k=new z0(k,e,null,n,b),y.push({event:k,listeners:G}),z?k.data=z:(z=T2(n),z!==null&&(k.data=z)))),(z=nv?iv(e,n):sv(e,n))&&(k=Lc(x,"onBeforeInput"),0<k.length&&(G=new z0("onBeforeInput","beforeinput",null,n,b),y.push({event:G,listeners:k}),G.data=z)),Qv(y,e,x,n,b)}gm(y,t)})}function Ho(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lc(e,t){for(var n=t+"Capture",i=[];e!==null;){var a=e,o=a.stateNode;a=a.tag,a!==5&&a!==26&&a!==27||o===null||(a=Lo(e,n),a!=null&&i.unshift(Ho(e,a,o)),a=Lo(e,t),a!=null&&i.push(Ho(e,a,o))),e=e.return}return i}function Vr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function I1(e,t,n,i,a){for(var o=t._reactName,d=[];n!==null&&n!==i;){var m=n,p=m.alternate,x=m.stateNode;if(m=m.tag,p!==null&&p===i)break;m!==5&&m!==26&&m!==27||x===null||(p=x,a?(x=Lo(n,o),x!=null&&d.unshift(Ho(n,x,p))):a||(x=Lo(n,o),x!=null&&d.push(Ho(n,x,p)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var Jv=/\r\n?/g,e4=/\u0000|\uFFFD/g;function D1(e){return(typeof e=="string"?e:""+e).replace(Jv,"\n").replace(e4,"")}function mm(e,t){return t=D1(t),D1(e)===t}function mu(){}function Ke(e,t,n,i,a,o){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||_a(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&_a(e,""+i);break;case"className":Dl(e,"class",i);break;case"tabIndex":Dl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Dl(e,n,i);break;case"style":E2(e,i,o);break;case"data":if(t!=="object"){Dl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=tc(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&Ke(e,t,"name",a.name,a,null),Ke(e,t,"formEncType",a.formEncType,a,null),Ke(e,t,"formMethod",a.formMethod,a,null),Ke(e,t,"formTarget",a.formTarget,a,null)):(Ke(e,t,"encType",a.encType,a,null),Ke(e,t,"method",a.method,a,null),Ke(e,t,"target",a.target,a,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=tc(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=mu);break;case"onScroll":i!=null&&Pe("scroll",e);break;case"onScrollEnd":i!=null&&Pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(J(61));if(n=i.__html,n!=null){if(a.children!=null)throw Error(J(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=tc(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Pe("beforetoggle",e),Pe("toggle",e),ec(e,"popover",i);break;case"xlinkActuate":Pi(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Pi(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Pi(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Pi(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Pi(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Pi(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Pi(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Pi(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Pi(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ec(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Rw.get(n)||n,ec(e,n,i))}}function Th(e,t,n,i,a,o){switch(n){case"style":E2(e,i,o);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(J(61));if(n=i.__html,n!=null){if(a.children!=null)throw Error(J(60));e.innerHTML=n}}break;case"children":typeof i=="string"?_a(e,i):(typeof i=="number"||typeof i=="bigint")&&_a(e,""+i);break;case"onScroll":i!=null&&Pe("scroll",e);break;case"onScrollEnd":i!=null&&Pe("scrollend",e);break;case"onClick":i!=null&&(e.onclick=mu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!m2.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),o=e[Rn]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,a),typeof i=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,a);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):ec(e,n,i)}}}function on(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",e),Pe("load",e);var i=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(d!=null)switch(o){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(J(137,t));default:Ke(e,t,o,d,n,null)}}a&&Ke(e,t,"srcSet",n.srcSet,n,null),i&&Ke(e,t,"src",n.src,n,null);return;case"input":Pe("invalid",e);var m=o=d=a=null,p=null,x=null;for(i in n)if(n.hasOwnProperty(i)){var b=n[i];if(b!=null)switch(i){case"name":a=b;break;case"type":d=b;break;case"checked":p=b;break;case"defaultChecked":x=b;break;case"value":o=b;break;case"defaultValue":m=b;break;case"children":case"dangerouslySetInnerHTML":if(b!=null)throw Error(J(137,t));break;default:Ke(e,t,i,b,n,null)}}v2(e,o,m,p,x,d,a,!1),yc(e);return;case"select":Pe("invalid",e),i=d=o=null;for(a in n)if(n.hasOwnProperty(a)&&(m=n[a],m!=null))switch(a){case"value":o=m;break;case"defaultValue":d=m;break;case"multiple":i=m;default:Ke(e,t,a,m,n,null)}t=o,n=d,e.multiple=!!i,t!=null?pa(e,!!i,t,!1):n!=null&&pa(e,!!i,n,!0);return;case"textarea":Pe("invalid",e),o=a=i=null;for(d in n)if(n.hasOwnProperty(d)&&(m=n[d],m!=null))switch(d){case"value":i=m;break;case"defaultValue":a=m;break;case"children":o=m;break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(J(91));break;default:Ke(e,t,d,m,n,null)}b2(e,i,a,o),yc(e);return;case"option":for(p in n)if(n.hasOwnProperty(p)&&(i=n[p],i!=null))switch(p){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ke(e,t,p,i,n,null)}return;case"dialog":Pe("cancel",e),Pe("close",e);break;case"iframe":case"object":Pe("load",e);break;case"video":case"audio":for(i=0;i<Go.length;i++)Pe(Go[i],e);break;case"image":Pe("error",e),Pe("load",e);break;case"details":Pe("toggle",e);break;case"embed":case"source":case"link":Pe("error",e),Pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in n)if(n.hasOwnProperty(x)&&(i=n[x],i!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(J(137,t));default:Ke(e,t,x,i,n,null)}return;default:if(nf(t)){for(b in n)n.hasOwnProperty(b)&&(i=n[b],i!==void 0&&Th(e,t,b,i,n,void 0));return}}for(m in n)n.hasOwnProperty(m)&&(i=n[m],i!=null&&Ke(e,t,m,i,n,null))}function t4(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,o=null,d=null,m=null,p=null,x=null,b=null;for(S in n){var y=n[S];if(n.hasOwnProperty(S)&&y!=null)switch(S){case"checked":break;case"value":break;case"defaultValue":p=y;default:i.hasOwnProperty(S)||Ke(e,t,S,null,i,y)}}for(var C in i){var S=i[C];if(y=n[C],i.hasOwnProperty(C)&&(S!=null||y!=null))switch(C){case"type":o=S;break;case"name":a=S;break;case"checked":x=S;break;case"defaultChecked":b=S;break;case"value":d=S;break;case"defaultValue":m=S;break;case"children":case"dangerouslySetInnerHTML":if(S!=null)throw Error(J(137,t));break;default:S!==y&&Ke(e,t,C,S,i,y)}}Kd(e,d,m,p,x,b,o,a);return;case"select":S=d=m=C=null;for(o in n)if(p=n[o],n.hasOwnProperty(o)&&p!=null)switch(o){case"value":break;case"multiple":S=p;default:i.hasOwnProperty(o)||Ke(e,t,o,null,i,p)}for(a in i)if(o=i[a],p=n[a],i.hasOwnProperty(a)&&(o!=null||p!=null))switch(a){case"value":C=o;break;case"defaultValue":m=o;break;case"multiple":d=o;default:o!==p&&Ke(e,t,a,o,i,p)}t=m,n=d,i=S,C!=null?pa(e,!!n,C,!1):!!i!=!!n&&(t!=null?pa(e,!!n,t,!0):pa(e,!!n,n?[]:"",!1));return;case"textarea":S=C=null;for(m in n)if(a=n[m],n.hasOwnProperty(m)&&a!=null&&!i.hasOwnProperty(m))switch(m){case"value":break;case"children":break;default:Ke(e,t,m,null,i,a)}for(d in i)if(a=i[d],o=n[d],i.hasOwnProperty(d)&&(a!=null||o!=null))switch(d){case"value":C=a;break;case"defaultValue":S=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(J(91));break;default:a!==o&&Ke(e,t,d,a,i,o)}y2(e,C,S);return;case"option":for(var N in n)if(C=n[N],n.hasOwnProperty(N)&&C!=null&&!i.hasOwnProperty(N))switch(N){case"selected":e.selected=!1;break;default:Ke(e,t,N,null,i,C)}for(p in i)if(C=i[p],S=n[p],i.hasOwnProperty(p)&&C!==S&&(C!=null||S!=null))switch(p){case"selected":e.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:Ke(e,t,p,C,i,S)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var M in n)C=n[M],n.hasOwnProperty(M)&&C!=null&&!i.hasOwnProperty(M)&&Ke(e,t,M,null,i,C);for(x in i)if(C=i[x],S=n[x],i.hasOwnProperty(x)&&C!==S&&(C!=null||S!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(J(137,t));break;default:Ke(e,t,x,C,i,S)}return;default:if(nf(t)){for(var B in n)C=n[B],n.hasOwnProperty(B)&&C!==void 0&&!i.hasOwnProperty(B)&&Th(e,t,B,void 0,i,C);for(b in i)C=i[b],S=n[b],!i.hasOwnProperty(b)||C===S||C===void 0&&S===void 0||Th(e,t,b,C,i,S);return}}for(var T in n)C=n[T],n.hasOwnProperty(T)&&C!=null&&!i.hasOwnProperty(T)&&Ke(e,t,T,null,i,C);for(y in i)C=i[y],S=n[y],!i.hasOwnProperty(y)||C===S||C==null&&S==null||Ke(e,t,y,C,i,S)}var Oh=null,Rh=null;function Pc(e){return e.nodeType===9?e:e.ownerDocument}function N1(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ih(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ed=null;function n4(){var e=window.event;return e&&e.type==="popstate"?e===Ed?!1:(Ed=e,!0):(Ed=null,!1)}var wm=typeof setTimeout=="function"?setTimeout:void 0,i4=typeof clearTimeout=="function"?clearTimeout:void 0,M1=typeof Promise=="function"?Promise:void 0,s4=typeof queueMicrotask=="function"?queueMicrotask:typeof M1<"u"?function(e){return M1.resolve(null).then(e).catch(r4)}:wm;function r4(e){setTimeout(function(){throw e})}function Ad(e,t){var n=t,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(i===0){e.removeChild(a),Qo(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=a}while(n);Qo(t)}function Dh(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Dh(n),tf(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function a4(e,t,n,i){for(;e.nodeType===1;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Bo])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==a.rel||e.getAttribute("href")!==(a.href==null?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=wi(e.nextSibling),e===null)break}return null}function o4(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=wi(e.nextSibling),e===null))return null;return e}function wi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}function k1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function vm(e,t,n){switch(t=Pc(n),e){case"html":if(e=t.documentElement,!e)throw Error(J(452));return e;case"head":if(e=t.head,!e)throw Error(J(453));return e;case"body":if(e=t.body,!e)throw Error(J(454));return e;default:throw Error(J(451))}}var li=new Map,j1=new Set;function zc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var as=ct.d;ct.d={f:l4,r:c4,D:u4,C:d4,L:h4,m:f4,X:p4,S:g4,M:m4};function l4(){var e=as.f(),t=gu();return e||t}function c4(e){var t=Ba(e);t!==null&&t.tag===5&&t.type==="form"?vp(t):as.r(e)}var Pa=typeof document>"u"?null:document;function ym(e,t,n){var i=Pa;if(i&&typeof t=="string"&&t){var a=ii(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),j1.has(a)||(j1.add(a),e={rel:e,crossOrigin:n,href:t},i.querySelector(a)===null&&(t=i.createElement("link"),on(t,"link",e),Qt(t),i.head.appendChild(t)))}}function u4(e){as.D(e),ym("dns-prefetch",e,null)}function d4(e,t){as.C(e,t),ym("preconnect",e,t)}function h4(e,t,n){as.L(e,t,n);var i=Pa;if(i&&e&&t){var a='link[rel="preload"][as="'+ii(t)+'"]';t==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+ii(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+ii(n.imageSizes)+'"]')):a+='[href="'+ii(e)+'"]';var o=a;switch(t){case"style":o=Na(e);break;case"script":o=za(e)}li.has(o)||(e=ut({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),li.set(o,e),i.querySelector(a)!==null||t==="style"&&i.querySelector(dl(o))||t==="script"&&i.querySelector(hl(o))||(t=i.createElement("link"),on(t,"link",e),Qt(t),i.head.appendChild(t)))}}function f4(e,t){as.m(e,t);var n=Pa;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+ii(i)+'"][href="'+ii(e)+'"]',o=a;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=za(e)}if(!li.has(o)&&(e=ut({rel:"modulepreload",href:e},t),li.set(o,e),n.querySelector(a)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(hl(o)))return}i=n.createElement("link"),on(i,"link",e),Qt(i),n.head.appendChild(i)}}}function g4(e,t,n){as.S(e,t,n);var i=Pa;if(i&&e){var a=ga(i).hoistableStyles,o=Na(e);t=t||"default";var d=a.get(o);if(!d){var m={loading:0,preload:null};if(d=i.querySelector(dl(o)))m.loading=5;else{e=ut({rel:"stylesheet",href:e,"data-precedence":t},n),(n=li.get(o))&&zf(e,n);var p=d=i.createElement("link");Qt(p),on(p,"link",e),p._p=new Promise(function(x,b){p.onload=x,p.onerror=b}),p.addEventListener("load",function(){m.loading|=1}),p.addEventListener("error",function(){m.loading|=2}),m.loading|=4,cc(d,t,i)}d={type:"stylesheet",instance:d,count:1,state:m},a.set(o,d)}}}function p4(e,t){as.X(e,t);var n=Pa;if(n&&e){var i=ga(n).hoistableScripts,a=za(e),o=i.get(a);o||(o=n.querySelector(hl(a)),o||(e=ut({src:e,async:!0},t),(t=li.get(a))&&Uf(e,t),o=n.createElement("script"),Qt(o),on(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(a,o))}}function m4(e,t){as.M(e,t);var n=Pa;if(n&&e){var i=ga(n).hoistableScripts,a=za(e),o=i.get(a);o||(o=n.querySelector(hl(a)),o||(e=ut({src:e,async:!0,type:"module"},t),(t=li.get(a))&&Uf(e,t),o=n.createElement("script"),Qt(o),on(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(a,o))}}function B1(e,t,n,i){var a=(a=Is.current)?zc(a):null;if(!a)throw Error(J(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Na(n.href),n=ga(a).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Na(n.href);var o=ga(a).hoistableStyles,d=o.get(e);if(d||(a=a.ownerDocument||a,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,d),(o=a.querySelector(dl(e)))&&!o._p&&(d.instance=o,d.state.loading=5),li.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},li.set(e,n),o||x4(a,e,n,d.state))),t&&i===null)throw Error(J(528,""));return d}if(t&&i!==null)throw Error(J(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=za(n),n=ga(a).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(J(444,e))}}function Na(e){return'href="'+ii(e)+'"'}function dl(e){return'link[rel="stylesheet"]['+e+"]"}function bm(e){return ut({},e,{"data-precedence":e.precedence,precedence:null})}function x4(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),on(t,"link",n),Qt(t),e.head.appendChild(t))}function za(e){return'[src="'+ii(e)+'"]'}function hl(e){return"script[async]"+e}function L1(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+ii(n.href)+'"]');if(i)return t.instance=i,Qt(i),i;var a=ut({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Qt(i),on(i,"style",a),cc(i,n.precedence,e),t.instance=i;case"stylesheet":a=Na(n.href);var o=e.querySelector(dl(a));if(o)return t.state.loading|=4,t.instance=o,Qt(o),o;i=bm(n),(a=li.get(a))&&zf(i,a),o=(e.ownerDocument||e).createElement("link"),Qt(o);var d=o;return d._p=new Promise(function(m,p){d.onload=m,d.onerror=p}),on(o,"link",i),t.state.loading|=4,cc(o,n.precedence,e),t.instance=o;case"script":return o=za(n.src),(a=e.querySelector(hl(o)))?(t.instance=a,Qt(a),a):(i=n,(a=li.get(o))&&(i=ut({},n),Uf(i,a)),e=e.ownerDocument||e,a=e.createElement("script"),Qt(a),on(a,"link",i),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(J(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,cc(i,n.precedence,e));return t.instance}function cc(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=i.length?i[i.length-1]:null,o=a,d=0;d<i.length;d++){var m=i[d];if(m.dataset.precedence===t)o=m;else if(o!==a)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function zf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Uf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var uc=null;function P1(e,t,n){if(uc===null){var i=new Map,a=uc=new Map;a.set(n,i)}else a=uc,i=a.get(n),i||(i=new Map,a.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var o=n[a];if(!(o[Bo]||o[gn]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var d=o.getAttribute(t)||"";d=e+d;var m=i.get(d);m?m.push(o):i.set(d,[o])}}return i}function z1(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function w4(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Em(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var qo=null;function v4(){}function y4(e,t,n){if(qo===null)throw Error(J(475));var i=qo;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var a=Na(n.href),o=e.querySelector(dl(a));if(o){e=o._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=Uc.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=o,Qt(o);return}o=e.ownerDocument||e,n=bm(n),(a=li.get(a))&&zf(n,a),o=o.createElement("link"),Qt(o);var d=o;d._p=new Promise(function(m,p){d.onload=m,d.onerror=p}),on(o,"link",n),t.instance=o}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=Uc.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function b4(){if(qo===null)throw Error(J(475));var e=qo;return e.stylesheets&&e.count===0&&Nh(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Nh(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Uc(){if(this.count--,this.count===0){if(this.stylesheets)Nh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fc=null;function Nh(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fc=new Map,t.forEach(E4,e),Fc=null,Uc.call(e))}function E4(e,t){if(!(t.state.loading&4)){var n=Fc.get(e);if(n)var i=n.get(null);else{n=new Map,Fc.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<a.length;o++){var d=a[o];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(n.set(d.dataset.precedence,d),i=d)}i&&n.set(null,i)}a=t.instance,d=a.getAttribute("data-precedence"),o=n.get(d)||i,o===i&&n.set(null,a),n.set(d,a),this.count++,i=Uc.bind(this),a.addEventListener("load",i),a.addEventListener("error",i),o?o.parentNode.insertBefore(a,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var Xo={$$typeof:Qi,Provider:null,Consumer:null,_currentValue:hr,_currentValue2:hr,_threadCount:0};function A4(e,t,n,i,a,o,d,m){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yu(0),this.hiddenUpdates=Yu(null),this.identifierPrefix=i,this.onUncaughtError=a,this.onCaughtError=o,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=m,this.incompleteTransitions=new Map}function Am(e,t,n,i,a,o,d,m,p,x,b,y){return e=new A4(e,t,n,d,m,p,x,y),t=1,o===!0&&(t|=24),o=ri(3,null,null,t),e.current=o,o.stateNode=e,t=gf(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:i,isDehydrated:n,cache:t},Rf(o),e}function Sm(e){return e?(e=oa,e):oa}function Cm(e,t,n,i,a,o){a=Sm(a),i.context===null?i.context=a:i.pendingContext=a,i=Ds(t),i.payload={element:n},o=o===void 0?null:o,o!==null&&(i.callback=o),n=Ns(e,i,t),n!==null&&(yn(n,e,t),Co(n,e,t))}function U1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ff(e,t){U1(e,t),(e=e.alternate)&&U1(e,t)}function _m(e){if(e.tag===13){var t=zs(e,67108864);t!==null&&yn(t,e,67108864),Ff(e,67108864)}}var Vc=!0;function S4(e,t,n,i){var a=Oe.T;Oe.T=null;var o=ct.p;try{ct.p=2,Vf(e,t,n,i)}finally{ct.p=o,Oe.T=a}}function C4(e,t,n,i){var a=Oe.T;Oe.T=null;var o=ct.p;try{ct.p=8,Vf(e,t,n,i)}finally{ct.p=o,Oe.T=a}}function Vf(e,t,n,i){if(Vc){var a=Mh(i);if(a===null)bd(e,t,i,Gc,n),F1(e,i);else if(T4(a,e,t,n,i))i.stopPropagation();else if(F1(e,i),t&4&&-1<_4.indexOf(e)){for(;a!==null;){var o=Ba(a);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var d=nr(o.pendingLanes);if(d!==0){var m=o;for(m.pendingLanes|=2,m.entangledLanes|=2;d;){var p=1<<31-Vn(d);m.entanglements[1]|=p,d&=~p}Bi(o),!(xt&6)&&(Mc=Ni()+500,ul(0))}}break;case 13:m=zs(o,2),m!==null&&yn(m,o,2),gu(),Ff(o,2)}if(o=Mh(i),o===null&&bd(e,t,i,Gc,n),o===a)break;a=o}a!==null&&i.stopPropagation()}else bd(e,t,i,null,n)}}function Mh(e){return e=sf(e),Gf(e)}var Gc=null;function Gf(e){if(Gc=null,e=cr(e),e!==null){var t=ka(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=s2(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Gc=e,null}function Tm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dw()){case a2:return 2;case o2:return 8;case vc:case hw:return 32;case l2:return 268435456;default:return 32}default:return 32}}var kh=!1,js=null,Bs=null,Ls=null,Wo=new Map,Yo=new Map,Ss=[],_4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F1(e,t){switch(e){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":Wo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yo.delete(t.pointerId)}}function lo(e,t,n,i,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[a]},t!==null&&(t=Ba(t),t!==null&&_m(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function T4(e,t,n,i,a){switch(t){case"focusin":return js=lo(js,e,t,n,i,a),!0;case"dragenter":return Bs=lo(Bs,e,t,n,i,a),!0;case"mouseover":return Ls=lo(Ls,e,t,n,i,a),!0;case"pointerover":var o=a.pointerId;return Wo.set(o,lo(Wo.get(o)||null,e,t,n,i,a)),!0;case"gotpointercapture":return o=a.pointerId,Yo.set(o,lo(Yo.get(o)||null,e,t,n,i,a)),!0}return!1}function Om(e){var t=cr(e.target);if(t!==null){var n=ka(t);if(n!==null){if(t=n.tag,t===13){if(t=s2(n),t!==null){e.blockedOn=t,bw(e.priority,function(){if(n.tag===13){var i=Gn(),a=zs(n,i);a!==null&&yn(a,n,i),Ff(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Mh(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);$d=i,n.target.dispatchEvent(i),$d=null}else return t=Ba(n),t!==null&&_m(t),e.blockedOn=n,!1;t.shift()}return!0}function V1(e,t,n){dc(e)&&n.delete(t)}function O4(){kh=!1,js!==null&&dc(js)&&(js=null),Bs!==null&&dc(Bs)&&(Bs=null),Ls!==null&&dc(Ls)&&(Ls=null),Wo.forEach(V1),Yo.forEach(V1)}function Ul(e,t){e.blockedOn===t&&(e.blockedOn=null,kh||(kh=!0,Gt.unstable_scheduleCallback(Gt.unstable_NormalPriority,O4)))}var Fl=null;function G1(e){Fl!==e&&(Fl=e,Gt.unstable_scheduleCallback(Gt.unstable_NormalPriority,function(){Fl===e&&(Fl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],a=e[t+2];if(typeof i!="function"){if(Gf(i||n)===null)continue;break}var o=Ba(n);o!==null&&(e.splice(t,3),t-=3,lh(o,{pending:!0,data:a,method:n.method,action:i},i,a))}}))}function Qo(e){function t(p){return Ul(p,e)}js!==null&&Ul(js,e),Bs!==null&&Ul(Bs,e),Ls!==null&&Ul(Ls,e),Wo.forEach(t),Yo.forEach(t);for(var n=0;n<Ss.length;n++){var i=Ss[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Ss.length&&(n=Ss[0],n.blockedOn===null);)Om(n),n.blockedOn===null&&Ss.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var a=n[i],o=n[i+1],d=a[Rn]||null;if(typeof o=="function")d||G1(n);else if(d){var m=null;if(o&&o.hasAttribute("formAction")){if(a=o,d=o[Rn]||null)m=d.formAction;else if(Gf(a)!==null)continue}else m=d.action;typeof m=="function"?n[i+1]=m:(n.splice(i,3),i-=3),G1(n)}}}function Hf(e){this._internalRoot=e}xu.prototype.render=Hf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(J(409));var n=t.current,i=Gn();Cm(n,i,e,t,null,null)};xu.prototype.unmount=Hf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;e.tag===0&&ba(),Cm(e.current,2,null,e,null,null),gu(),t[ja]=null}};function xu(e){this._internalRoot=e}xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=g2();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ss.length&&t!==0&&t<Ss[n].priority;n++);Ss.splice(n,0,e),n===0&&Om(e)}};var H1=Jg.version;if(H1!=="19.0.0")throw Error(J(527,H1,"19.0.0"));ct.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=lw(t),e=e!==null?r2(e):null,e=e===null?null:e.stateNode,e};var R4={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:Oe,findFiberByHostInstance:cr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vl.isDisabled&&Vl.supportsFiber)try{tl=Vl.inject(R4),Fn=Vl}catch(e){}}iu.createRoot=function(e,t){if(!e2(e))throw Error(J(299));var n=!1,i="",a=Cp,o=_p,d=Tp,m=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(m=t.unstable_transitionCallbacks)),t=Am(e,1,!1,null,null,n,i,a,o,d,m,null),e[ja]=t.current,Pf(e.nodeType===8?e.parentNode:e),new Hf(t)};iu.hydrateRoot=function(e,t,n){if(!e2(e))throw Error(J(299));var i=!1,a="",o=Cp,d=_p,m=Tp,p=null,x=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(m=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(p=n.unstable_transitionCallbacks),n.formState!==void 0&&(x=n.formState)),t=Am(e,1,!0,t,n!=null?n:null,i,a,o,d,m,p,x),t.context=Sm(null),n=t.current,i=Gn(),a=Ds(i),a.callback=null,Ns(n,a,i),t.current.lanes=i,il(t,i),Bi(t),e[ja]=t.current,Pf(e),new xu(t)};iu.version="19.0.0";function Rm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rm)}catch(e){console.error(e)}}Rm(),Kg.exports=iu;var I4=Kg.exports;const D4=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class qf extends Error{constructor(t,n="FunctionsError",i){super(t),this.name=n,this.context=i}}class N4 extends qf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class q1 extends qf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class X1 extends qf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var jh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(jh||(jh={}));class M4{constructor(t,{headers:n={},customFetch:i,region:a=jh.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=D4(i)}setAuth(t){this.headers.Authorization="Bearer ".concat(t)}invoke(t){return me(this,arguments,void 0,function*(n,i={}){var a;let o,d;try{const{headers:m,method:p,body:x,signal:b,timeout:y}=i;let C={},{region:S}=i;S||(S=this.region);const N=new URL("".concat(this.url,"/").concat(n));S&&S!=="any"&&(C["x-region"]=S,N.searchParams.set("forceFunctionRegion",S));let M;x&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&x instanceof Blob||x instanceof ArrayBuffer?(C["Content-Type"]="application/octet-stream",M=x):typeof x=="string"?(C["Content-Type"]="text/plain",M=x):typeof FormData<"u"&&x instanceof FormData?M=x:(C["Content-Type"]="application/json",M=JSON.stringify(x)):M=x;let B=b;y&&(d=new AbortController,o=setTimeout(()=>d.abort(),y),b?(B=d.signal,b.addEventListener("abort",()=>d.abort())):B=d.signal);const T=yield this.fetch(N.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},C),this.headers),m),body:M,signal:B}).catch(P=>{throw new N4(P)}),A=T.headers.get("x-relay-error");if(A&&A==="true")throw new q1(T);if(!T.ok)throw new X1(T);let _=((a=T.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),D;return _==="application/json"?D=yield T.json():_==="application/octet-stream"||_==="application/pdf"?D=yield T.blob():_==="text/event-stream"?D=T:_==="multipart/form-data"?D=yield T.formData():D=yield T.text(),{data:D,error:null,response:T}}catch(m){return{data:null,error:m,response:m instanceof X1||m instanceof q1?m.context:void 0}}finally{o&&clearTimeout(o)}})}}var wn={};const Ua=F3(b3);var Gl={},Hl={},ql={},Xl={},Wl={},Yl={},W1;function Im(){if(W1)return Yl;W1=1,Object.defineProperty(Yl,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Yl.default=e,Yl}var Y1;function Dm(){if(Y1)return Wl;Y1=1,Object.defineProperty(Wl,"__esModule",{value:!0});const t=Ua.__importDefault(Im());class n{constructor(a){var o,d;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(o=a.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=a.signal,this.isMaybeSingle=(d=a.isMaybeSingle)!==null&&d!==void 0?d:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=new Headers(this.headers),this.headers.set(a,o),this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let m=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var x,b,y,C;let S=null,N=null,M=null,B=p.status,T=p.statusText;if(p.ok){if(this.method!=="HEAD"){const P=await p.text();P===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((x=this.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?N=P:N=JSON.parse(P))}const _=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),D=(y=p.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");_&&D&&D.length>1&&(M=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(S={code:"PGRST116",details:"Results contain ".concat(N.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,M=null,B=406,T="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const _=await p.text();try{S=JSON.parse(_),Array.isArray(S)&&p.status===404&&(N=[],S=null,B=200,T="OK")}catch(D){p.status===404&&_===""?(B=204,T="No Content"):S={message:_}}if(S&&this.isMaybeSingle&&(!((C=S==null?void 0:S.details)===null||C===void 0)&&C.includes("0 rows"))&&(S=null,B=200,T="OK"),S&&this.shouldThrowOnError)throw new t.default(S)}return{error:S,data:N,count:M,status:B,statusText:T}});return this.shouldThrowOnError||(m=m.catch(p=>{var x,b,y,C,S,N;let M="";const B=p==null?void 0:p.cause;if(B){const T=(x=B==null?void 0:B.message)!==null&&x!==void 0?x:"",A=(b=B==null?void 0:B.code)!==null&&b!==void 0?b:"";M="".concat((y=p==null?void 0:p.name)!==null&&y!==void 0?y:"FetchError",": ").concat(p==null?void 0:p.message),M+="\n\nCaused by: ".concat((C=B==null?void 0:B.name)!==null&&C!==void 0?C:"Error",": ").concat(T),A&&(M+=" (".concat(A,")")),B!=null&&B.stack&&(M+="\n".concat(B.stack))}else M=(S=p==null?void 0:p.stack)!==null&&S!==void 0?S:"";return{error:{message:"".concat((N=p==null?void 0:p.name)!==null&&N!==void 0?N:"FetchError",": ").concat(p==null?void 0:p.message),details:M,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),m.then(a,o)}returns(){return this}overrideTypes(){return this}}return Wl.default=n,Wl}var Q1;function Nm(){if(Q1)return Xl;Q1=1,Object.defineProperty(Xl,"__esModule",{value:!0});const t=Ua.__importDefault(Dm());class n extends t.default{select(a){let o=!1;const d=(a!=null?a:"*").split("").map(m=>/\s/.test(m)&&!o?"":(m==='"'&&(o=!o),m)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:o=!0,nullsFirst:d,foreignTable:m,referencedTable:p=m}={}){const x=p?"".concat(p,".order"):"order",b=this.url.searchParams.get(x);return this.url.searchParams.set(x,"".concat(b?"".concat(b,","):"").concat(a,".").concat(o?"asc":"desc").concat(d===void 0?"":d?".nullsfirst":".nullslast")),this}limit(a,{foreignTable:o,referencedTable:d=o}={}){const m=typeof d>"u"?"limit":"".concat(d,".limit");return this.url.searchParams.set(m,"".concat(a)),this}range(a,o,{foreignTable:d,referencedTable:m=d}={}){const p=typeof m>"u"?"offset":"".concat(m,".offset"),x=typeof m>"u"?"limit":"".concat(m,".limit");return this.url.searchParams.set(p,"".concat(a)),this.url.searchParams.set(x,"".concat(o-a+1)),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:o=!1,settings:d=!1,buffers:m=!1,wal:p=!1,format:x="text"}={}){var b;const y=[a?"analyze":null,o?"verbose":null,d?"settings":null,m?"buffers":null,p?"wal":null].filter(Boolean).join("|"),C=(b=this.headers.get("Accept"))!==null&&b!==void 0?b:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(x,'; for="').concat(C,'"; options=').concat(y,";")),x==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(a)),this}}return Xl.default=n,Xl}var K1;function Xf(){if(K1)return ql;K1=1,Object.defineProperty(ql,"__esModule",{value:!0});const t=Ua.__importDefault(Nm()),n=new RegExp("[,()]");class i extends t.default{eq(o,d){return this.url.searchParams.append(o,"eq.".concat(d)),this}neq(o,d){return this.url.searchParams.append(o,"neq.".concat(d)),this}gt(o,d){return this.url.searchParams.append(o,"gt.".concat(d)),this}gte(o,d){return this.url.searchParams.append(o,"gte.".concat(d)),this}lt(o,d){return this.url.searchParams.append(o,"lt.".concat(d)),this}lte(o,d){return this.url.searchParams.append(o,"lte.".concat(d)),this}like(o,d){return this.url.searchParams.append(o,"like.".concat(d)),this}likeAllOf(o,d){return this.url.searchParams.append(o,"like(all).{".concat(d.join(","),"}")),this}likeAnyOf(o,d){return this.url.searchParams.append(o,"like(any).{".concat(d.join(","),"}")),this}ilike(o,d){return this.url.searchParams.append(o,"ilike.".concat(d)),this}ilikeAllOf(o,d){return this.url.searchParams.append(o,"ilike(all).{".concat(d.join(","),"}")),this}ilikeAnyOf(o,d){return this.url.searchParams.append(o,"ilike(any).{".concat(d.join(","),"}")),this}regexMatch(o,d){return this.url.searchParams.append(o,"match.".concat(d)),this}regexIMatch(o,d){return this.url.searchParams.append(o,"imatch.".concat(d)),this}is(o,d){return this.url.searchParams.append(o,"is.".concat(d)),this}isDistinct(o,d){return this.url.searchParams.append(o,"isdistinct.".concat(d)),this}in(o,d){const m=Array.from(new Set(d)).map(p=>typeof p=="string"&&n.test(p)?'"'.concat(p,'"'):"".concat(p)).join(",");return this.url.searchParams.append(o,"in.(".concat(m,")")),this}contains(o,d){return typeof d=="string"?this.url.searchParams.append(o,"cs.".concat(d)):Array.isArray(d)?this.url.searchParams.append(o,"cs.{".concat(d.join(","),"}")):this.url.searchParams.append(o,"cs.".concat(JSON.stringify(d))),this}containedBy(o,d){return typeof d=="string"?this.url.searchParams.append(o,"cd.".concat(d)):Array.isArray(d)?this.url.searchParams.append(o,"cd.{".concat(d.join(","),"}")):this.url.searchParams.append(o,"cd.".concat(JSON.stringify(d))),this}rangeGt(o,d){return this.url.searchParams.append(o,"sr.".concat(d)),this}rangeGte(o,d){return this.url.searchParams.append(o,"nxl.".concat(d)),this}rangeLt(o,d){return this.url.searchParams.append(o,"sl.".concat(d)),this}rangeLte(o,d){return this.url.searchParams.append(o,"nxr.".concat(d)),this}rangeAdjacent(o,d){return this.url.searchParams.append(o,"adj.".concat(d)),this}overlaps(o,d){return typeof d=="string"?this.url.searchParams.append(o,"ov.".concat(d)):this.url.searchParams.append(o,"ov.{".concat(d.join(","),"}")),this}textSearch(o,d,{config:m,type:p}={}){let x="";p==="plain"?x="pl":p==="phrase"?x="ph":p==="websearch"&&(x="w");const b=m===void 0?"":"(".concat(m,")");return this.url.searchParams.append(o,"".concat(x,"fts").concat(b,".").concat(d)),this}match(o){return Object.entries(o).forEach(([d,m])=>{this.url.searchParams.append(d,"eq.".concat(m))}),this}not(o,d,m){return this.url.searchParams.append(o,"not.".concat(d,".").concat(m)),this}or(o,{foreignTable:d,referencedTable:m=d}={}){const p=m?"".concat(m,".or"):"or";return this.url.searchParams.append(p,"(".concat(o,")")),this}filter(o,d,m){return this.url.searchParams.append(o,"".concat(d,".").concat(m)),this}}return ql.default=i,ql}var Z1;function Mm(){if(Z1)return Hl;Z1=1,Object.defineProperty(Hl,"__esModule",{value:!0});const t=Ua.__importDefault(Xf());class n{constructor(a,{headers:o={},schema:d,fetch:m}){this.url=a,this.headers=new Headers(o),this.schema=d,this.fetch=m}select(a,o){const{head:d=!1,count:m}=o!=null?o:{},p=d?"HEAD":"GET";let x=!1;const b=(a!=null?a:"*").split("").map(y=>/\s/.test(y)&&!x?"":(y==='"'&&(x=!x),y)).join("");return this.url.searchParams.set("select",b),m&&this.headers.append("Prefer","count=".concat(m)),new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:o,defaultToNull:d=!0}={}){var m;const p="POST";if(o&&this.headers.append("Prefer","count=".concat(o)),d||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const x=a.reduce((b,y)=>b.concat(Object.keys(y)),[]);if(x.length>0){const b=[...new Set(x)].map(y=>'"'.concat(y,'"'));this.url.searchParams.set("columns",b.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(a,{onConflict:o,ignoreDuplicates:d=!1,count:m,defaultToNull:p=!0}={}){var x;const b="POST";if(this.headers.append("Prefer","resolution=".concat(d?"ignore":"merge","-duplicates")),o!==void 0&&this.url.searchParams.set("on_conflict",o),m&&this.headers.append("Prefer","count=".concat(m)),p||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const y=a.reduce((C,S)=>C.concat(Object.keys(S)),[]);if(y.length>0){const C=[...new Set(y)].map(S=>'"'.concat(S,'"'));this.url.searchParams.set("columns",C.join(","))}}return new t.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}update(a,{count:o}={}){var d;const m="PATCH";return o&&this.headers.append("Prefer","count=".concat(o)),new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:a}={}){var o;const d="DELETE";return a&&this.headers.append("Prefer","count=".concat(a)),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Hl.default=n,Hl}var $1;function k4(){if($1)return Gl;$1=1,Object.defineProperty(Gl,"__esModule",{value:!0});const e=Ua,t=e.__importDefault(Mm()),n=e.__importDefault(Xf());class i{constructor(o,{headers:d={},schema:m,fetch:p}={}){this.url=o,this.headers=new Headers(d),this.schemaName=m,this.fetch=p}from(o){if(!o||typeof o!="string"||o.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const d=new URL("".concat(this.url,"/").concat(o));return new t.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,d={},{head:m=!1,get:p=!1,count:x}={}){var b;let y;const C=new URL("".concat(this.url,"/rpc/").concat(o));let S;m||p?(y=m?"HEAD":"GET",Object.entries(d).filter(([M,B])=>B!==void 0).map(([M,B])=>[M,Array.isArray(B)?"{".concat(B.join(","),"}"):"".concat(B)]).forEach(([M,B])=>{C.searchParams.append(M,B)})):(y="POST",S=d);const N=new Headers(this.headers);return x&&N.set("Prefer","count=".concat(x)),new n.default({method:y,url:C,headers:N,schema:this.schemaName,body:S,fetch:(b=this.fetch)!==null&&b!==void 0?b:fetch})}}return Gl.default=i,Gl}Object.defineProperty(wn,"__esModule",{value:!0});var km=wn.PostgrestError=Hm=wn.PostgrestBuilder=Vm=wn.PostgrestTransformBuilder=Um=wn.PostgrestFilterBuilder=Pm=wn.PostgrestQueryBuilder=Bm=wn.PostgrestClient=void 0;const Fa=Ua,jm=Fa.__importDefault(k4());var Bm=wn.PostgrestClient=jm.default;const Lm=Fa.__importDefault(Mm());var Pm=wn.PostgrestQueryBuilder=Lm.default;const zm=Fa.__importDefault(Xf());var Um=wn.PostgrestFilterBuilder=zm.default;const Fm=Fa.__importDefault(Nm());var Vm=wn.PostgrestTransformBuilder=Fm.default;const Gm=Fa.__importDefault(Dm());var Hm=wn.PostgrestBuilder=Gm.default;const qm=Fa.__importDefault(Im());km=wn.PostgrestError=qm.default;var Xm=wn.default={PostgrestClient:jm.default,PostgrestQueryBuilder:Lm.default,PostgrestFilterBuilder:zm.default,PostgrestTransformBuilder:Fm.default,PostgrestBuilder:Gm.default,PostgrestError:qm.default};const j4=Qg({__proto__:null,get PostgrestBuilder(){return Hm},get PostgrestClient(){return Bm},get PostgrestError(){return km},get PostgrestFilterBuilder(){return Um},get PostgrestQueryBuilder(){return Pm},get PostgrestTransformBuilder(){return Vm},default:Xm},[wn]),{PostgrestClient:B4,PostgrestQueryBuilder:LA,PostgrestFilterBuilder:PA,PostgrestTransformBuilder:zA,PostgrestBuilder:UA,PostgrestError:FA}=Xm||j4;class L4{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(a," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(a," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+="\n\nSuggested solution: ".concat(t.workaround)),new Error(n)}static createWebSocket(t,n){const i=this.getWebSocketConstructor();return new i(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch(t){return!1}}}const P4="2.84.0",z4="realtime-js/".concat(P4),Wm="1.0.0",U4="2.0.0",J1=Wm,Bh=1e4,F4=1e3,V4=100;var ar;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ar||(ar={}));var zt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(zt||(zt={}));var mi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(mi||(mi={}));var Lh;(function(e){e.websocket="websocket"})(Lh||(Lh={}));var or;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(or||(or={}));class G4{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let i=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,i,a,o;const d=t.topic,m=(n=t.ref)!==null&&n!==void 0?n:"",p=(i=t.join_ref)!==null&&i!==void 0?i:"",x=t.payload.event,b=(o=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&o!==void 0?o:new ArrayBuffer(0),y=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+m.length+d.length+x.length,C=new ArrayBuffer(this.HEADER_LENGTH+y);let S=new DataView(C),N=0;S.setUint8(N++,this.KINDS.userBroadcastPush),S.setUint8(N++,p.length),S.setUint8(N++,m.length),S.setUint8(N++,d.length),S.setUint8(N++,x.length),S.setUint8(N++,this.BINARY_ENCODING),Array.from(p,B=>S.setUint8(N++,B.charCodeAt(0))),Array.from(m,B=>S.setUint8(N++,B.charCodeAt(0))),Array.from(d,B=>S.setUint8(N++,B.charCodeAt(0))),Array.from(x,B=>S.setUint8(N++,B.charCodeAt(0)));var M=new Uint8Array(C.byteLength+b.byteLength);return M.set(new Uint8Array(C),0),M.set(new Uint8Array(b),C.byteLength),M.buffer}_encodeJsonUserBroadcastPush(t){var n,i,a,o;const d=t.topic,m=(n=t.ref)!==null&&n!==void 0?n:"",p=(i=t.join_ref)!==null&&i!==void 0?i:"",x=t.payload.event,b=(o=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&o!==void 0?o:{},C=new TextEncoder().encode(JSON.stringify(b)).buffer,S=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+m.length+d.length+x.length,N=new ArrayBuffer(this.HEADER_LENGTH+S);let M=new DataView(N),B=0;M.setUint8(B++,this.KINDS.userBroadcastPush),M.setUint8(B++,p.length),M.setUint8(B++,m.length),M.setUint8(B++,d.length),M.setUint8(B++,x.length),M.setUint8(B++,this.JSON_ENCODING),Array.from(p,A=>M.setUint8(B++,A.charCodeAt(0))),Array.from(m,A=>M.setUint8(B++,A.charCodeAt(0))),Array.from(d,A=>M.setUint8(B++,A.charCodeAt(0))),Array.from(x,A=>M.setUint8(B++,A.charCodeAt(0)));var T=new Uint8Array(N.byteLength+C.byteLength);return T.set(new Uint8Array(N),0),T.set(new Uint8Array(C),N.byteLength),T.buffer}decode(t,n){if(this._isArrayBuffer(t)){let i=this._binaryDecode(t);return n(i)}if(typeof t=="string"){const i=JSON.parse(t),[a,o,d,m,p]=i;return n({join_ref:a,ref:o,topic:d,event:m,payload:p})}return n({})}_binaryDecode(t){const n=new DataView(t),i=n.getUint8(0),a=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,a)}}_decodeUserBroadcast(t,n,i){const a=n.getUint8(1),o=n.getUint8(2),d=n.getUint8(3),m=n.getUint8(4);let p=this.HEADER_LENGTH+4;const x=i.decode(t.slice(p,p+a));p=p+a;const b=i.decode(t.slice(p,p+o));p=p+o;const y=i.decode(t.slice(p,p+d));p=p+d;const C=t.slice(p,t.byteLength),S=m===this.JSON_ENCODING?JSON.parse(i.decode(C)):C,N={type:this.BROADCAST_EVENT,event:b,payload:S};return d>0&&(N.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:x,event:this.BROADCAST_EVENT,payload:N}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class Ym{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var st;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(st||(st={}));const eg=(e,t,n={})=>{var i;const a=(i=n.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((o,d)=>(o[d]=H4(d,e,t,a),o),{}):{}},H4=(e,t,n,i)=>{const a=t.find(m=>m.name===e),o=a==null?void 0:a.type,d=n[e];return o&&!i.includes(o)?Qm(o,d):Ph(d)},Qm=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Y4(t,n)}switch(e){case st.bool:return q4(t);case st.float4:case st.float8:case st.int2:case st.int4:case st.int8:case st.numeric:case st.oid:return X4(t);case st.json:case st.jsonb:return W4(t);case st.timestamp:return Q4(t);case st.abstime:case st.date:case st.daterange:case st.int4range:case st.int8range:case st.money:case st.reltime:case st.text:case st.time:case st.timestamptz:case st.timetz:case st.tsrange:case st.tstzrange:return Ph(t);default:return Ph(t)}},Ph=e=>e,q4=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},X4=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},W4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},Y4=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,i=e[n];if(e[0]==="{"&&i==="}"){let o;const d=e.slice(1,n);try{o=JSON.parse("["+d+"]")}catch(m){o=d?d.split(","):[]}return o.map(m=>Qm(t,m))}return e},Q4=e=>typeof e=="string"?e.replace(" ","T"):e,Km=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Sd{constructor(t,n,i={},a=Bh){this.channel=t,this.event=n,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var i;return this._hasReceived(t)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var tg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(tg||(tg={}));class No{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:o,onLeave:d,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=No.syncState(this.state,a,o,d),this.pendingDiffs.forEach(p=>{this.state=No.syncDiff(this.state,p,o,d)}),this.pendingDiffs=[],m()}),this.channel._on(i.diff,{},a=>{const{onJoin:o,onLeave:d,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=No.syncDiff(this.state,a,o,d),m())}),this.onJoin((a,o,d)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:d})}),this.onLeave((a,o,d)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,i,a){const o=this.cloneDeep(t),d=this.transformState(n),m={},p={};return this.map(o,(x,b)=>{d[x]||(p[x]=b)}),this.map(d,(x,b)=>{const y=o[x];if(y){const C=b.map(B=>B.presence_ref),S=y.map(B=>B.presence_ref),N=b.filter(B=>S.indexOf(B.presence_ref)<0),M=y.filter(B=>C.indexOf(B.presence_ref)<0);N.length>0&&(m[x]=N),M.length>0&&(p[x]=M)}else m[x]=b}),this.syncDiff(o,{joins:m,leaves:p},i,a)}static syncDiff(t,n,i,a){const{joins:o,leaves:d}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(o,(m,p)=>{var x;const b=(x=t[m])!==null&&x!==void 0?x:[];if(t[m]=this.cloneDeep(p),b.length>0){const y=t[m].map(S=>S.presence_ref),C=b.filter(S=>y.indexOf(S.presence_ref)<0);t[m].unshift(...C)}i(m,b,p)}),this.map(d,(m,p)=>{let x=t[m];if(!x)return;const b=p.map(y=>y.presence_ref);x=x.filter(y=>b.indexOf(y.presence_ref)<0),t[m]=x,a(m,x,p),x.length===0&&delete t[m]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(i=>n(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,i)=>{const a=t[i];return"metas"in a?n[i]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[i]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ng;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ng||(ng={}));var Mo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Mo||(Mo={}));var qi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(qi||(qi={}));class Wf{constructor(t,n={config:{}},i){var a,o;if(this.topic=t,this.params=n,this.socket=i,this.bindings={},this.state=zt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Sd(this,mi.join,this.params,this.timeout),this.rejoinTimer=new Ym(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=zt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=zt.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),d),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),d),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(mi.reply,{},(d,m)=>{this._trigger(this._replyEventName(m),d)}),this.presence=new No(this),this.broadcastEndpointURL=Km(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||o===void 0)&&o.replay))throw"tried to use replay on public channel '".concat(this.topic,"'. It must be a private channel.")}subscribe(t,n=this.timeout){var i,a,o;if(this.socket.isConnected()||this.socket.connect(),this.state==zt.closed){const{config:{broadcast:d,presence:m,private:p}}=this.params,x=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(S=>S.filter))!==null&&a!==void 0?a:[],b=!!this.bindings[Mo.PRESENCE]&&this.bindings[Mo.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,y={},C={broadcast:d,presence:Object.assign(Object.assign({},m),{enabled:b}),postgres_changes:x,private:p};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(S=>t==null?void 0:t(qi.CHANNEL_ERROR,S)),this._onClose(()=>t==null?void 0:t(qi.CLOSED)),this.updateJoinPayload(Object.assign({config:C},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:S})=>{var N;if(this.socket.setAuth(),S===void 0){t==null||t(qi.SUBSCRIBED);return}else{const M=this.bindings.postgres_changes,B=(N=M==null?void 0:M.length)!==null&&N!==void 0?N:0,T=[];for(let A=0;A<B;A++){const _=M[A],{filter:{event:D,schema:P,table:G,filter:z}}=_,k=S&&S[A];if(k&&k.event===D&&k.schema===P&&k.table===G&&k.filter===z)T.push(Object.assign(Object.assign({},_),{id:k.id}));else{this.unsubscribe(),this.state=zt.errored,t==null||t(qi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,t&&t(qi.SUBSCRIBED);return}}).receive("error",S=>{this.state=zt.errored,t==null||t(qi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(qi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,i){return this.state===zt.joined&&t===Mo.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,i)}async httpSend(t,n,i={}){var a;const o=this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"";if(n==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);if(m.status===202)return{success:!0};let p=m.statusText;try{const x=await m.json();p=x.error||x.message||p}catch(x){}return Promise.reject(new Error(p))}async send(t,n={}){var i,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:d}=t,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:d,private:this.private}]})};try{const x=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=x.body)===null||a===void 0?void 0:a.cancel()),x.ok?"ok":"error"}catch(x){return x.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var d,m,p;const x=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(m=(d=this.params)===null||d===void 0?void 0:d.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&o("ok"),x.receive("ok",()=>o("ok")),x.receive("error",()=>o("error")),x.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=zt.leaving;const n=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(mi.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new Sd(this,mi.leave,{},t),i.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=zt.closed,this.bindings={}}async _fetchWithTimeout(t,n,i){const a=new AbortController,o=setTimeout(()=>a.abort(),i),d=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(o),d}_push(t,n,i=this.timeout){if(!this.joinedOnce)throw"tried to push '".concat(t,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let a=new Sd(this,t,n,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>V4){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(n.event),n.payload))}}_onMessage(t,n,i){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,i){var a,o;const d=t.toLocaleLowerCase(),{close:m,error:p,leave:x,join:b}=mi;if(i&&[m,p,x,b].indexOf(d)>=0&&i!==this._joinRef())return;let C=this._onMessage(d,n,i);if(n&&!C)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(S=>{var N,M,B;return((N=S.filter)===null||N===void 0?void 0:N.event)==="*"||((B=(M=S.filter)===null||M===void 0?void 0:M.event)===null||B===void 0?void 0:B.toLocaleLowerCase())===d}).map(S=>S.callback(C,i)):(o=this.bindings[d])===null||o===void 0||o.filter(S=>{var N,M,B,T,A,_;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in S){const D=S.id,P=(N=S.filter)===null||N===void 0?void 0:N.event;return D&&((M=n.ids)===null||M===void 0?void 0:M.includes(D))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((B=n.data)===null||B===void 0?void 0:B.type.toLocaleLowerCase()))}else{const D=(A=(T=S==null?void 0:S.filter)===null||T===void 0?void 0:T.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return D==="*"||D===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===d}).map(S=>{if(typeof C=="object"&&"ids"in C){const N=C.data,{schema:M,table:B,commit_timestamp:T,type:A,errors:_}=N;C=Object.assign(Object.assign({},{schema:M,table:B,commit_timestamp:T,eventType:A,new:{},old:{},errors:_}),this._getPayloadRecords(N))}S.callback(C,i)})}_isClosed(){return this.state===zt.closed}_isJoined(){return this.state===zt.joined}_isJoining(){return this.state===zt.joining}_isLeaving(){return this.state===zt.leaving}_replyEventName(t){return"chan_reply_".concat(t)}_on(t,n,i){const a=t.toLocaleLowerCase(),o={type:a,filter:n,callback:i};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(t,n){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&Wf.isEqual(a.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const i in t)if(t[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(mi.close,{},t)}_onError(t){this._on(mi.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=zt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=eg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=eg(t.columns,t.old_record)),n}}const Cd=()=>{},Ql={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},K4=[1e3,2e3,5e3,1e4],Z4=1e4,$4='\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });';class J4{constructor(t,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bh,this.transport=null,this.heartbeatIntervalMs=Ql.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Cd,this.ref=0,this.reconnectTimer=null,this.vsn=J1,this.logger=Cd,this.conn=null,this.sendBuffer=[],this.serializer=new G4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...o)=>a(...o):(...o)=>fetch(...o),!(!((i=n==null?void 0:n.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint="".concat(t,"/").concat(Lh.websocket),this.httpEndpoint=Km(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=L4.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error("".concat(n,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })'):new Error("WebSocket not available: ".concat(n))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n!=null?n:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,i){this.logger(t,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case ar.connecting:return or.Connecting;case ar.open:return or.Open;case ar.closing:return or.Closing;default:return or.Closed}}isConnected(){return this.connectionState()===or.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const i="realtime:".concat(t),a=this.getChannels().find(o=>o.topic===i);if(a)return a;{const o=new Wf("realtime:".concat(t),n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:i,payload:a,ref:o}=t,d=()=>{this.encode(t,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push","".concat(n," ").concat(i," (").concat(o,")"),a),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(F4,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ql.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",'leaving duplicate topic "'.concat(t,'"')),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(x){this.log("error","error in heartbeat callback",x)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:a,payload:o,ref:d}=n,m=d?"(".concat(d,")"):"",p=o.status||"";this.log("receive","".concat(p," ").concat(i," ").concat(a," ").concat(m).trim(),o),this.channels.filter(x=>x._isMember(i)).forEach(x=>x._trigger(a,o,d)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ar.open||this.conn.readyState===ar.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL())),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport","".concat(t)),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(mi.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const i=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return"".concat(t).concat(i).concat(a)}_workerObjectUrl(t){let n;if(t)n=t;else{const i=new Blob([$4],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const a={access_token:n,version:z4};n&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(mi.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error","error setting auth in ".concat(t),n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(n)}catch(a){this.log("error","error in ".concat(t," callback"),a)}})}catch(i){this.log("error","error triggering ".concat(t," callbacks"),i)}}_setupReconnectionTimer(){this.reconnectTimer=new Ym(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ql.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,i,a,o,d,m,p,x,b,y,C,S;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(i=t==null?void 0:t.timeout)!==null&&i!==void 0?i:Bh,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Ql.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(d=t==null?void 0:t.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(m=t==null?void 0:t.heartbeatCallback)!==null&&m!==void 0?m:Cd,this.vsn=(p=t==null?void 0:t.vsn)!==null&&p!==void 0?p:J1,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(x=t==null?void 0:t.reconnectAfterMs)!==null&&x!==void 0?x:N=>K4[N-1]||Z4,this.vsn){case Wm:this.encode=(b=t==null?void 0:t.encode)!==null&&b!==void 0?b:(N,M)=>M(JSON.stringify(N)),this.decode=(y=t==null?void 0:t.decode)!==null&&y!==void 0?y:(N,M)=>M(JSON.parse(N));break;case U4:this.encode=(C=t==null?void 0:t.encode)!==null&&C!==void 0?C:this.serializer.encode.bind(this.serializer),this.decode=(S=t==null?void 0:t.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error("Unsupported serializer version: ".concat(this.vsn))}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Yf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function mt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ey extends Yf{constructor(t,n,i){super(t),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class zh extends Yf{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const Qf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ty=()=>Response,Uh=e=>{if(Array.isArray(e))return e.map(n=>Uh(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,i])=>{const a=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[a]=Uh(i)}),t},ny=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},_d=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},iy=(e,t,n)=>me(void 0,void 0,void 0,function*(){const i=yield ty();e instanceof i&&!(n!=null&&n.noResolveJson)?e.json().then(a=>{const o=e.status||500,d=(a==null?void 0:a.statusCode)||o+"";t(new ey(_d(a),o,d))}).catch(a=>{t(new zh(_d(a),a))}):t(new zh(_d(e),e))}),sy=(e,t,n,i)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!i?a:(ny(i)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(i)):a.body=i,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),n))};function fl(e,t,n,i,a,o){return me(this,void 0,void 0,function*(){return new Promise((d,m)=>{e(n,sy(t,i,a,o)).then(p=>{if(!p.ok)throw p;return i!=null&&i.noResolveJson?p:p.json()}).then(p=>d(p)).catch(p=>iy(p,m,i))})})}function Ko(e,t,n,i){return me(this,void 0,void 0,function*(){return fl(e,"GET",t,n,i)})}function gi(e,t,n,i,a){return me(this,void 0,void 0,function*(){return fl(e,"POST",t,i,a,n)})}function Fh(e,t,n,i,a){return me(this,void 0,void 0,function*(){return fl(e,"PUT",t,i,a,n)})}function ry(e,t,n,i){return me(this,void 0,void 0,function*(){return fl(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function Kf(e,t,n,i,a){return me(this,void 0,void 0,function*(){return fl(e,"DELETE",t,i,a,n)})}class ay{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return me(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mt(t))return{data:null,error:t};throw t}})}}var Zm;class oy{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[Zm]="BlobDownloadBuilder",this.promise=null}asStream(){return new ay(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return me(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mt(t))return{data:null,error:t};throw t}})}}Zm=Symbol.toStringTag;const ly={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ig={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cy{constructor(t,n={},i,a){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=i,this.fetch=Qf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,i,a){return me(this,void 0,void 0,function*(){try{let o;const d=Object.assign(Object.assign({},ig),a);let m=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(d.upsert)});const p=d.metadata;typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",d.cacheControl),p&&o.append("metadata",this.encodeMetadata(p)),o.append("",i)):typeof FormData<"u"&&i instanceof FormData?(o=i,o.has("cacheControl")||o.append("cacheControl",d.cacheControl),p&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(p))):(o=i,m["cache-control"]="max-age=".concat(d.cacheControl),m["content-type"]=d.contentType,p&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(p))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!d.duplex&&(d.duplex="half")),a!=null&&a.headers&&(m=Object.assign(Object.assign({},m),a.headers));const x=this._removeEmptyFolders(n),b=this._getFinalPath(x),y=yield(t=="PUT"?Fh:gi)(this.fetch,"".concat(this.url,"/object/").concat(b),o,Object.assign({headers:m},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:x,id:y.Id,fullPath:y.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(mt(o))return{data:null,error:o};throw o}})}upload(t,n,i){return me(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,i)})}uploadToSignedUrl(t,n,i,a){return me(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),d=this._getFinalPath(o),m=new URL(this.url+"/object/upload/sign/".concat(d));m.searchParams.set("token",n);try{let p;const x=Object.assign({upsert:ig.upsert},a),b=Object.assign(Object.assign({},this.headers),{"x-upsert":String(x.upsert)});typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",x.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",x.cacheControl)):(p=i,b["cache-control"]="max-age=".concat(x.cacheControl),b["content-type"]=x.contentType);const y=yield Fh(this.fetch,m.toString(),p,{headers:b});return{data:{path:o,fullPath:y.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(mt(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(t,n){return me(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const o=yield gi(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(i),{},{headers:a}),d=new URL(this.url+o.url),m=d.searchParams.get("token");if(!m)throw new Yf("No token returned by API");return{data:{signedUrl:d.toString(),path:t,token:m},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}})}update(t,n,i){return me(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,i)})}move(t,n,i){return me(this,void 0,void 0,function*(){try{return{data:yield gi(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}})}copy(t,n,i){return me(this,void 0,void 0,function*(){try{return{data:{path:(yield gi(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,n,i){return me(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),o=yield gi(this.fetch,"".concat(this.url,"/object/sign/").concat(a),Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const d=i!=null&&i.download?"&download=".concat(i.download===!0?"":i.download):"";return o={signedUrl:encodeURI("".concat(this.url).concat(o.signedURL).concat(d))},{data:o,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,n,i){return me(this,void 0,void 0,function*(){try{const a=yield gi(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:n,paths:t},{headers:this.headers}),o=i!=null&&i.download?"&download=".concat(i.download===!0?"":i.download):"";return{data:a.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI("".concat(this.url).concat(d.signedURL).concat(o)):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}})}download(t,n){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),d=o?"?".concat(o):"",m=this._getFinalPath(t),p=()=>Ko(this.fetch,"".concat(this.url,"/").concat(a,"/").concat(m).concat(d),{headers:this.headers,noResolveJson:!0});return new oy(p,this.shouldThrowOnError)}info(t){return me(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const i=yield Ko(this.fetch,"".concat(this.url,"/object/info/").concat(n),{headers:this.headers});return{data:Uh(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}})}exists(t){return me(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield ry(this.fetch,"".concat(this.url,"/object/").concat(n),{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mt(i)&&i instanceof zh){const a=i.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,n){const i=this._getFinalPath(t),a=[],o=n!=null&&n.download?"download=".concat(n.download===!0?"":n.download):"";o!==""&&a.push(o);const m=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});p!==""&&a.push(p);let x=a.join("&");return x!==""&&(x="?".concat(x)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(m,"/public/").concat(i).concat(x))}}}remove(t){return me(this,void 0,void 0,function*(){try{return{data:yield Kf(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}list(t,n,i){return me(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},ly),n),{prefix:t||""});return{data:yield gi(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),a,{headers:this.headers},i),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}})}listV2(t,n){return me(this,void 0,void 0,function*(){try{const i=Object.assign({},t);return{data:yield gi(this.fetch,"".concat(this.url,"/object/list-v2/").concat(this.bucketId),i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return"".concat(this.bucketId,"/").concat(t.replace(/^\/+/,""))}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push("width=".concat(t.width)),t.height&&n.push("height=".concat(t.height)),t.resize&&n.push("resize=".concat(t.resize)),t.format&&n.push("format=".concat(t.format)),t.quality&&n.push("quality=".concat(t.quality)),n.join("&")}}const $m="2.84.0",Jm={"X-Client-Info":"storage-js/".concat($m)};class uy{constructor(t,n={},i,a){this.shouldThrowOnError=!1;const o=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jm),n),this.fetch=Qf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return me(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield Ko(this.fetch,"".concat(this.url,"/bucket").concat(n),{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}getBucket(t){return me(this,void 0,void 0,function*(){try{return{data:yield Ko(this.fetch,"".concat(this.url,"/bucket/").concat(t),{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}createBucket(t){return me(this,arguments,void 0,function*(n,i={public:!1}){try{return{data:yield gi(this.fetch,"".concat(this.url,"/bucket"),{id:n,name:n,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}})}updateBucket(t,n){return me(this,void 0,void 0,function*(){try{return{data:yield Fh(this.fetch,"".concat(this.url,"/bucket/").concat(t),{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}})}emptyBucket(t){return me(this,void 0,void 0,function*(){try{return{data:yield gi(this.fetch,"".concat(this.url,"/bucket/").concat(t,"/empty"),{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return me(this,void 0,void 0,function*(){try{return{data:yield Kf(this.fetch,"".concat(this.url,"/bucket/").concat(t),{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class dy{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jm),n),this.fetch=Qf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return me(this,void 0,void 0,function*(){try{return{data:yield gi(this.fetch,"".concat(this.url,"/bucket"),{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}listBuckets(t){return me(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const i=n.toString(),a=i?"".concat(this.url,"/bucket?").concat(i):"".concat(this.url,"/bucket");return{data:yield Ko(this.fetch,a,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return me(this,void 0,void 0,function*(){try{return{data:yield Kf(this.fetch,"".concat(this.url,"/bucket/").concat(t),{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}}const Zf={"X-Client-Info":"storage-js/".concat($m),"Content-Type":"application/json"};class ex extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function zn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Td extends ex{constructor(t,n,i){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class hy extends ex{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var sg;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(sg||(sg={}));const $f=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),fy=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},rg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),gy=(e,t,n)=>me(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const a=e.status||500,o=e;if(typeof o.json=="function")o.json().then(d=>{const m=(d==null?void 0:d.statusCode)||(d==null?void 0:d.code)||a+"";t(new Td(rg(d),a,m))}).catch(()=>{const d=a+"",m=o.statusText||"HTTP ".concat(a," error");t(new Td(m,a,d))});else{const d=a+"",m=o.statusText||"HTTP ".concat(a," error");t(new Td(m,a,d))}}else t(new hy(rg(e),e))}),py=(e,t,n,i)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return i?(fy(i)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(i)):a.body=i,Object.assign(Object.assign({},a),n)):a};function my(e,t,n,i,a,o){return me(this,void 0,void 0,function*(){return new Promise((d,m)=>{e(n,py(t,i,a,o)).then(p=>{if(!p.ok)throw p;if(i!=null&&i.noResolveJson)return p;const x=p.headers.get("content-type");return!x||!x.includes("application/json")?{}:p.json()}).then(p=>d(p)).catch(p=>gy(p,m,i))})})}function Un(e,t,n,i,a){return me(this,void 0,void 0,function*(){return my(e,"POST",t,i,a,n)})}class xy{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Zf),n),this.fetch=$f(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return me(this,void 0,void 0,function*(){try{return{data:(yield Un(this.fetch,"".concat(this.url,"/CreateIndex"),t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zn(n))return{data:null,error:n};throw n}})}getIndex(t,n){return me(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,"".concat(this.url,"/GetIndex"),{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zn(i))return{data:null,error:i};throw i}})}listIndexes(t){return me(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,"".concat(this.url,"/ListIndexes"),t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zn(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return me(this,void 0,void 0,function*(){try{return{data:(yield Un(this.fetch,"".concat(this.url,"/DeleteIndex"),{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zn(i))return{data:null,error:i};throw i}})}}class wy{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Zf),n),this.fetch=$f(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return me(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Un(this.fetch,"".concat(this.url,"/PutVectors"),t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zn(n))return{data:null,error:n};throw n}})}getVectors(t){return me(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,"".concat(this.url,"/GetVectors"),t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zn(n))return{data:null,error:n};throw n}})}listVectors(t){return me(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error("segmentIndex must be between 0 and ".concat(t.segmentCount-1))}return{data:yield Un(this.fetch,"".concat(this.url,"/ListVectors"),t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zn(n))return{data:null,error:n};throw n}})}queryVectors(t){return me(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,"".concat(this.url,"/QueryVectors"),t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zn(n))return{data:null,error:n};throw n}})}deleteVectors(t){return me(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Un(this.fetch,"".concat(this.url,"/DeleteVectors"),t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zn(n))return{data:null,error:n};throw n}})}}class vy{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Zf),n),this.fetch=$f(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return me(this,void 0,void 0,function*(){try{return{data:(yield Un(this.fetch,"".concat(this.url,"/CreateVectorBucket"),{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zn(n))return{data:null,error:n};throw n}})}getBucket(t){return me(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,"".concat(this.url,"/GetVectorBucket"),{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zn(n))return{data:null,error:n};throw n}})}listBuckets(){return me(this,arguments,void 0,function*(t={}){try{return{data:yield Un(this.fetch,"".concat(this.url,"/ListVectorBuckets"),t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return me(this,void 0,void 0,function*(){try{return{data:(yield Un(this.fetch,"".concat(this.url,"/DeleteVectorBucket"),{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zn(n))return{data:null,error:n};throw n}})}}class yy extends vy{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new by(this.url,this.headers,t,this.fetch)}}class by extends xy{constructor(t,n,i,a){super(t,n,a),this.vectorBucketName=i}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return me(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return me(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return me(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return me(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Ey(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Ey extends wy{constructor(t,n,i,a,o){super(t,n,o),this.vectorBucketName=i,this.indexName=a}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return me(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return me(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return me(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return me(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return me(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Ay extends uy{constructor(t,n={},i,a){super(t,n,i,a)}from(t){return new cy(this.url,this.headers,t,this.fetch)}get vectors(){return new yy(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new dy(this.url+"/iceberg",this.headers,this.fetch)}}const Sy="2.84.0";let mo="";typeof Deno<"u"?mo="deno":typeof document<"u"?mo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?mo="react-native":mo="node";const Cy={"X-Client-Info":"supabase-js-".concat(mo,"/").concat(Sy)},_y={headers:Cy},Ty={schema:"public"},Oy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ry={},Iy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Dy=()=>Headers,Ny=(e,t,n)=>{const i=Iy(n),a=Dy();return async(o,d)=>{var m;const p=(m=await t())!==null&&m!==void 0?m:e;let x=new a(d==null?void 0:d.headers);return x.has("apikey")||x.set("apikey",e),x.has("Authorization")||x.set("Authorization","Bearer ".concat(p)),i(o,Object.assign(Object.assign({},d),{headers:x}))}};function My(e){return e.endsWith("/")?e:e+"/"}function ky(e,t){var n,i;const{db:a,auth:o,realtime:d,global:m}=e,{db:p,auth:x,realtime:b,global:y}=t,C={db:Object.assign(Object.assign({},p),a),auth:Object.assign(Object.assign({},x),o),realtime:Object.assign(Object.assign({},b),d),storage:{},global:Object.assign(Object.assign(Object.assign({},y),m),{headers:Object.assign(Object.assign({},(n=y==null?void 0:y.headers)!==null&&n!==void 0?n:{}),(i=m==null?void 0:m.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return e.accessToken?C.accessToken=e.accessToken:delete C.accessToken,C}function jy(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(My(t))}catch(n){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const tx="2.84.0",$r=30*1e3,Vh=3,Od=Vh*$r,By="http://localhost:9999",Ly="supabase.auth.token",Py={"X-Client-Info":"gotrue-js/".concat(tx)},Gh="X-Supabase-Api-Version",nx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Uy=10*60*1e3;class Zo extends Error{constructor(t,n,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function pe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Fy extends Zo{constructor(t,n,i){super(t,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function Vy(e){return pe(e)&&e.name==="AuthApiError"}class lr extends Zo{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Xs extends Zo{constructor(t,n,i,a){super(t,i,a),this.name=n,this.status=i}}class Nn extends Xs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Gy(e){return pe(e)&&e.name==="AuthSessionMissingError"}class Gr extends Xs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Kl extends Xs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Zl extends Xs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Hy(e){return pe(e)&&e.name==="AuthImplicitGrantRedirectError"}class ag extends Xs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hh extends Xs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Rd(e){return pe(e)&&e.name==="AuthRetryableFetchError"}class og extends Xs{constructor(t,n,i){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class qh extends Xs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Hc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),lg=" 	\n\r=".split(""),qy=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<lg.length;t+=1)e[lg[t].charCodeAt(0)]=-2;for(let t=0;t<Hc.length;t+=1)e[Hc[t].charCodeAt(0)]=t;return e})();function cg(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(Hc[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(Hc[i]),t.queuedBits-=6}}function ix(e,t,n){const i=qy[e];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}}function ug(e){const t=[],n=d=>{t.push(String.fromCodePoint(d))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=d=>{Yy(d,i,n)};for(let d=0;d<e.length;d+=1)ix(e.charCodeAt(d),a,o);return t.join("")}function Xy(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}function Wy(e,t){for(let n=0;n<e.length;n+=1){let i=e.charCodeAt(n);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(e.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}Xy(i,t)}}function Yy(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let i=1;i<6;i+=1)if(!(e>>7-i&1)){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ea(e){const t=[],n={queue:0,queuedBits:0},i=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)ix(e.charCodeAt(a),n,i);return new Uint8Array(t)}function Qy(e){const t=[];return Wy(e,n=>t.push(n)),new Uint8Array(t)}function dr(e){const t=[],n={queue:0,queuedBits:0},i=a=>{t.push(a)};return e.forEach(a=>cg(a,n,i)),cg(null,n,i),t.join("")}function Ky(e){return Math.round(Date.now()/1e3)+e}function Zy(){return Symbol("auth-callback")}const sn=()=>typeof window<"u"&&typeof document<"u",er={tested:!1,writable:!1},sx=()=>{if(!sn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch(t){return!1}if(er.tested)return er.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),er.tested=!0,er.writable=!0}catch(t){er.tested=!0,er.writable=!1}return er.writable};function $y(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,o)=>{t[o]=a})}catch(i){}return n.searchParams.forEach((i,a)=>{t[a]=i}),t}const rx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Jy=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Jr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},tr=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(i){return n}},ms=async(e,t)=>{await e.removeItem(t)};class wu{constructor(){this.promise=new wu.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}wu.promiseConstructor=Promise;function Id(e){const t=e.split(".");if(t.length!==3)throw new qh("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!zy.test(t[i]))throw new qh("JWT not in base64url format");return{header:JSON.parse(ug(t[0])),payload:JSON.parse(ug(t[1])),signature:Ea(t[2]),raw:{header:t[0],payload:t[1]}}}async function eb(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function tb(e,t){return new Promise((i,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const d=await e(o);if(!t(o,null,d)){i(d);return}}catch(d){if(!t(o,d)){a(d);return}}})()})}function nb(e){return("0"+e.toString(16)).substr(-2)}function ib(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let a="";for(let o=0;o<56;o++)a+=n.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(t),Array.from(t,nb).join("")}async function sb(e){const n=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(i);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function rb(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await sb(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hr(e,t,n=!1){const i=ib();let a=i;n&&(a+="/PASSWORD_RECOVERY"),await Jr(e,"".concat(t,"-code-verifier"),a);const o=await rb(i);return[o,i===o?"plain":"s256"]}const ab=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ob(e){const t=e.headers.get(Gh);if(!t||!t.match(ab))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(n){return null}}function lb(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function cb(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ub=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function qr(e){if(!ub.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Dd(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(n,'" property of the session object is not supported. Please use getUser() instead.'))},set:(t,n)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(n,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(t,n)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(n,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function db(e,t){return new Proxy(e,{get:(n,i,a)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,a)}return!t.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,i,a)}})}function dg(e){return JSON.parse(JSON.stringify(e))}const sr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),hb=[502,503,504];async function hg(e){var t;if(!Jy(e))throw new Hh(sr(e),0);if(hb.includes(e.status))throw new Hh(sr(e),e.status);let n;try{n=await e.json()}catch(o){throw new lr(sr(o),o)}let i;const a=ob(e);if(a&&a.getTime()>=nx["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new og(sr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new Nn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,d)=>o&&typeof d=="string",!0))throw new og(sr(n),e.status,n.weak_password.reasons);throw new Fy(sr(n),e.status||500,i)}const fb=(e,t,n,i)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),n))};async function Ee(e,t,n,i){var a;const o=Object.assign({},i==null?void 0:i.headers);o[Gh]||(o[Gh]=nx["2024-01-01"].name),i!=null&&i.jwt&&(o.Authorization="Bearer ".concat(i.jwt));const d=(a=i==null?void 0:i.query)!==null&&a!==void 0?a:{};i!=null&&i.redirectTo&&(d.redirect_to=i.redirectTo);const m=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",p=await gb(e,t,n+m,{headers:o,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(p):{data:Object.assign({},p),error:null}}async function gb(e,t,n,i,a,o){const d=fb(t,i,a,o);let m;try{m=await e(n,Object.assign({},d))}catch(p){throw console.error(p),new Hh(sr(p),0)}if(m.ok||await hg(m),i!=null&&i.noResolveJson)return m;try{return await m.json()}catch(p){await hg(p)}}function fi(e){var t;let n=null;xb(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Ky(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:i},error:null}}function fg(e){const t=fi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Cs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function pb(e){return{data:e,error:null}}function mb(e){const{action_link:t,email_otp:n,hashed_token:i,redirect_to:a,verification_type:o}=e,d=nu(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:t,email_otp:n,hashed_token:i,redirect_to:a,verification_type:o},p=Object.assign({},d);return{data:{properties:m,user:p},error:null}}function gg(e){return e}function xb(e){return e.access_token&&e.refresh_token&&e.expires_in}const Nd=["global","local","others"];class wb{constructor({url:t="",headers:n={},fetch:i}){this.url=t,this.headers=n,this.fetch=rx(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Nd[0]){if(Nd.indexOf(n)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(Nd.join(", ")));try{return await Ee(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(n),{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,n={}){try{return await Ee(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Cs})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:n}=t,i=nu(t,["options"]),a=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(a.new_email=i==null?void 0:i.newEmail,delete a.newEmail),await Ee(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:a,headers:this.headers,xform:mb,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(pe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ee(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:t,headers:this.headers,xform:Cs})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,i,a,o,d,m,p;try{const x={nextPage:null,lastPage:0,total:0},b=await Ee(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(o=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:gg});if(b.error)throw b.error;const y=await b.json(),C=(d=b.headers.get("x-total-count"))!==null&&d!==void 0?d:0,S=(p=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(N=>{const M=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),B=JSON.parse(N.split(";")[1].split("=")[1]);x["".concat(B,"Page")]=M}),x.total=parseInt(C)),{data:Object.assign(Object.assign({},y),x),error:null}}catch(x){if(pe(x))return{data:{users:[]},error:x};throw x}}async getUserById(t){qr(t);try{return await Ee(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(t),{headers:this.headers,xform:Cs})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){qr(t);try{return await Ee(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(t),{body:n,headers:this.headers,xform:Cs})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,n=!1){qr(t);try{return await Ee(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(t),{headers:this.headers,body:{should_soft_delete:n},xform:Cs})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){qr(t.userId);try{const{data:n,error:i}=await Ee(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(t.userId,"/factors"),{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:i}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){qr(t.userId),qr(t.id);try{return{data:await Ee(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(t.userId,"/factors/").concat(t.id),{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,i,a,o,d,m,p;try{const x={nextPage:null,lastPage:0,total:0},b=await Ee(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients"),{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(o=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:gg});if(b.error)throw b.error;const y=await b.json(),C=(d=b.headers.get("x-total-count"))!==null&&d!==void 0?d:0,S=(p=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(N=>{const M=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),B=JSON.parse(N.split(";")[1].split("=")[1]);x["".concat(B,"Page")]=M}),x.total=parseInt(C)),{data:Object.assign(Object.assign({},y),x),error:null}}catch(x){if(pe(x))return{data:{clients:[]},error:x};throw x}}async _createOAuthClient(t){try{return await Ee(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients"),{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Ee(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients/").concat(t),{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Ee(this.fetch,"PUT","".concat(this.url,"/admin/oauth/clients/").concat(t),{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(t){try{return await Ee(this.fetch,"DELETE","".concat(this.url,"/admin/oauth/clients/").concat(t),{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Ee(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients/").concat(t,"/regenerate_secret"),{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}}function pg(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Xr={debug:!!(globalThis&&sx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ax extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class vb extends ax{}async function yb(e,t,n){Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new vb('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(Xr.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function bb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){typeof self<"u"&&(self.globalThis=self)}}function ox(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error('@supabase/auth-js: Address "'.concat(e,'" is invalid.'));return e.toLowerCase()}function Eb(e){return parseInt(e,16)}function Ab(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function Sb(e){var t;const{chainId:n,domain:i,expirationTime:a,issuedAt:o=new Date,nonce:d,notBefore:m,requestId:p,resources:x,scheme:b,uri:y,version:C}=e;{if(!Number.isInteger(n))throw new Error('@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: '.concat(n));if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error('@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: '.concat(d));if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(C!=="1")throw new Error("@supabase/auth-js: Invalid SIWE message field \"version\". Version must be '1'. Provided value: ".concat(C));if(!((t=e.statement)===null||t===void 0)&&t.includes("\n"))throw new Error("@supabase/auth-js: Invalid SIWE message field \"statement\". Statement must not include '\\n'. Provided value: ".concat(e.statement))}const S=ox(e.address),N=b?"".concat(b,"://").concat(i):i,M=e.statement?"".concat(e.statement,"\n"):"",B="".concat(N," wants you to sign in with your Ethereum account:\n").concat(S,"\n\n").concat(M);let T="URI: ".concat(y,"\nVersion: ").concat(C,"\nChain ID: ").concat(n).concat(d?"\nNonce: ".concat(d):"","\nIssued At: ").concat(o.toISOString());if(a&&(T+="\nExpiration Time: ".concat(a.toISOString())),m&&(T+="\nNot Before: ".concat(m.toISOString())),p&&(T+="\nRequest ID: ".concat(p)),x){let A="\nResources:";for(const _ of x){if(!_||typeof _!="string")throw new Error('@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: '.concat(_));A+="\n- ".concat(_)}T+=A}return"".concat(B,"\n").concat(T)}class It extends Error{constructor({message:t,code:n,cause:i,name:a}){var o;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(o=a!=null?a:i instanceof Error?i.name:void 0)!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class qc extends It{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function Cb({error:e,options:t}){var n,i,a;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new It({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new It({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new It({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new It({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new It({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new It({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new It({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new It({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const d=window.location.hostname;if(lx(d)){if(o.rp.id!==d)return new It({message:'The RP ID "'.concat(o.rp.id,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:e})}else return new It({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new It({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new It({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new It({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function _b({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new It({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new It({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(lx(i)){if(n.rpId!==i)return new It({message:'The RP ID "'.concat(n.rpId,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:e})}else return new It({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new It({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new It({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Tb{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Ob=new Tb;function Rb(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:i}=e,a=nu(e,["challenge","user","excludeCredentials"]),o=Ea(t).buffer,d=Object.assign(Object.assign({},n),{id:Ea(n.id).buffer}),m=Object.assign(Object.assign({},a),{challenge:o,user:d});if(i&&i.length>0){m.excludeCredentials=new Array(i.length);for(let p=0;p<i.length;p++){const x=i[p];m.excludeCredentials[p]=Object.assign(Object.assign({},x),{id:Ea(x.id).buffer,type:x.type||"public-key",transports:x.transports})}}return m}function Ib(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,i=nu(e,["challenge","allowCredentials"]),a=Ea(t).buffer,o=Object.assign(Object.assign({},i),{challenge:a});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const m=n[d];o.allowCredentials[d]=Object.assign(Object.assign({},m),{id:Ea(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return o}function Db(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:dr(new Uint8Array(e.response.attestationObject)),clientDataJSON:dr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Nb(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,i=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:dr(new Uint8Array(a.authenticatorData)),clientDataJSON:dr(new Uint8Array(a.clientDataJSON)),signature:dr(new Uint8Array(a.signature)),userHandle:a.userHandle?dr(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function lx(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function mg(){var e,t;return!!(sn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Mb(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new qc("Browser returned unexpected credential type",t)}:{data:null,error:new qc("Empty credential response",t)}}catch(t){return{data:null,error:Cb({error:t,options:e})}}}async function kb(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new qc("Browser returned unexpected credential type",t)}:{data:null,error:new qc("Empty credential response",t)}}catch(t){return{data:null,error:_b({error:t,options:e})}}}const jb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Bb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Xc(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of e)if(a)for(const o in a){const d=a[o];if(d!==void 0)if(Array.isArray(d))i[o]=d;else if(n(d))i[o]=d;else if(t(d)){const m=i[o];t(m)?i[o]=Xc(m,d):i[o]=Xc(d)}else i[o]=d}return i}function Lb(e,t){return Xc(jb,e,t||{})}function Pb(e,t){return Xc(Bb,e,t||{})}class zb{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:i,signal:a},o){try{const{data:d,error:m}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!d)return{data:null,error:m};const p=a!=null?a:Ob.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:x}=d.webauthn.credential_options.publicKey;x.name||(x.name="".concat(x.id,":").concat(i)),x.displayName||(x.displayName=x.name)}switch(d.webauthn.type){case"create":{const x=Lb(d.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:b,error:y}=await Mb({publicKey:x,signal:p});return b?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:b}},error:null}:{data:null,error:y}}case"request":{const x=Pb(d.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:b,error:y}=await kb(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:x,signal:p}));return b?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:b}},error:null}:{data:null,error:y}}}}catch(d){return pe(d)?{data:null,error:d}:{data:null,error:new lr("Unexpected error in challenge",d)}}}async _verify({challengeId:t,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!n)return{data:null,error:new Zo("rpId is required for WebAuthn authentication")};try{if(!mg())return{data:null,error:new lr("Browser does not support WebAuthn",null)};const{data:d,error:m}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:i},signal:a},{request:o});if(!d)return{data:null,error:m};const{webauthn:p}=d;return this._verify({factorId:t,challengeId:d.challengeId,webauthn:{type:p.type,rpId:n,rpOrigins:i,credential_response:p.credential_response}})}catch(d){return pe(d)?{data:null,error:d}:{data:null,error:new lr("Unexpected error in authenticate",d)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!n)return{data:null,error:new Zo("rpId is required for WebAuthn registration")};try{if(!mg())return{data:null,error:new lr("Browser does not support WebAuthn",null)};const{data:d,error:m}=await this._enroll({friendlyName:t});if(!d)return await this.client.mfa.listFactors().then(b=>{var y;return(y=b.data)===null||y===void 0?void 0:y.all.find(C=>C.factor_type==="webauthn"&&C.friendly_name===t&&C.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b==null?void 0:b.id}):void 0),{data:null,error:m};const{data:p,error:x}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:a},{create:o});return p?this._verify({factorId:d.id,challengeId:p.challengeId,webauthn:{rpId:n,rpOrigins:i,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:x}}catch(d){return pe(d)?{data:null,error:d}:{data:null,error:new lr("Unexpected error in register",d)}}}}bb();const Ub={url:By,storageKey:Ly,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Py,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function xg(e,t,n){return await n()}const Wr={};class $o{get jwks(){var t,n;return(n=(t=Wr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Wr[this.storageKey]=Object.assign(Object.assign({},Wr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Wr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Wr[this.storageKey]=Object.assign(Object.assign({},Wr[this.storageKey]),{cachedAt:t})}constructor(t){var n,i,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},Ub),t);if(this.storageKey=o.storageKey,this.instanceID=(n=$o.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,$o.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&sn()){const d="".concat(this._logPrefix()," Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new wb({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=rx(o.fetch),this.lock=o.lock||xg,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:sn()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=yb:this.lock=xg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new zb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:sx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=pg(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=pg(this.memoryStorage)),sn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return"GoTrueClient@"+"".concat(this.storageKey,":").concat(this.instanceID," (").concat(tx,") ").concat(new Date().toISOString())}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},i="none";if(sn()&&(n=$y(window.location.href),this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce")),sn()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:o}=await this._getSessionFromURL(n,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Hy(o)){const p=(t=o.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:d,redirectType:m}=a;return this._debug("#_initialize()","detected session in URL",d,"redirect type",m),await this._saveSession(d),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return pe(n)?this._returnResult({error:n}):this._returnResult({error:new lr("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,i,a;try{const o=await Ee(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:(i=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:fi}),{data:d,error:m}=o;if(m||!d)return this._returnResult({data:{user:null,session:null},error:m});const p=d.session,x=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:x,session:p},error:null})}catch(o){if(pe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var n,i,a;try{let o;if("email"in t){const{email:b,password:y,options:C}=t;let S=null,N=null;this.flowType==="pkce"&&([S,N]=await Hr(this.storage,this.storageKey)),o=await Ee(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:C==null?void 0:C.emailRedirectTo,body:{email:b,password:y,data:(n=C==null?void 0:C.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:C==null?void 0:C.captchaToken},code_challenge:S,code_challenge_method:N},xform:fi})}else if("phone"in t){const{phone:b,password:y,options:C}=t;o=await Ee(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:b,password:y,data:(i=C==null?void 0:C.data)!==null&&i!==void 0?i:{},channel:(a=C==null?void 0:C.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:C==null?void 0:C.captchaToken}},xform:fi})}else throw new Kl("You must provide either an email or phone number and a password");const{data:d,error:m}=o;if(m||!d)return this._returnResult({data:{user:null,session:null},error:m});const p=d.session,x=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:x,session:p},error:null})}catch(o){if(pe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:d,options:m}=t;n=await Ee(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:o,password:d,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:fg})}else if("phone"in t){const{phone:o,password:d,options:m}=t;n=await Ee(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:o,password:d,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:fg})}else throw new Kl("You must provide either an email or phone number and a password");const{data:i,error:a}=n;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!i||!i.session||!i.user){const o=new Gr;return this._returnResult({data:{user:null,session:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,i,a,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error('@supabase/auth-js: Unsupported chain "'.concat(n,'"'))}}async signInWithEthereum(t){var n,i,a,o,d,m,p,x,b,y,C;let S,N;if("message"in t)S=t.message,N=t.signature;else{const{chain:M,wallet:B,statement:T,options:A}=t;let _;if(sn())if(typeof B=="object")_=B;else{const V=window;if("ethereum"in V&&typeof V.ethereum=="object"&&"request"in V.ethereum&&typeof V.ethereum.request=="function")_=V.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof B!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=B}const D=new URL((n=A==null?void 0:A.url)!==null&&n!==void 0?n:window.location.href),P=await _.request({method:"eth_requestAccounts"}).then(V=>V).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const G=ox(P[0]);let z=(i=A==null?void 0:A.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!z){const V=await _.request({method:"eth_chainId"});z=Eb(V)}const k={domain:D.host,address:G,statement:T,uri:D.href,version:"1",chainId:z,nonce:(a=A==null?void 0:A.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(d=(o=A==null?void 0:A.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(m=A==null?void 0:A.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(p=A==null?void 0:A.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(x=A==null?void 0:A.signInWithEthereum)===null||x===void 0?void 0:x.requestId,resources:(b=A==null?void 0:A.signInWithEthereum)===null||b===void 0?void 0:b.resources};S=Sb(k),N=await _.request({method:"personal_sign",params:[Ab(S),G]})}try{const{data:M,error:B}=await Ee(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:N},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(C=t.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:fi});if(B)throw B;if(!M||!M.session||!M.user){const T=new Gr;return this._returnResult({data:{user:null,session:null},error:T})}return M.session&&(await this._saveSession(M.session),await this._notifyAllSubscribers("SIGNED_IN",M.session)),this._returnResult({data:Object.assign({},M),error:B})}catch(M){if(pe(M))return this._returnResult({data:{user:null,session:null},error:M});throw M}}async signInWithSolana(t){var n,i,a,o,d,m,p,x,b,y,C,S;let N,M;if("message"in t)N=t.message,M=t.signature;else{const{chain:B,wallet:T,statement:A,options:_}=t;let D;if(sn())if(typeof T=="object")D=T;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))D=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=T}const P=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in D&&D.signIn){const G=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),A?{statement:A}:null));let z;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")z=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)z=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)N=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),M=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=["".concat(P.host," wants you to sign in with your Solana account:"),D.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1","URI: ".concat(P.href),"Issued At: ".concat((a=(i=_==null?void 0:_.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()),...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.notBefore?["Not Before: ".concat(_.signInWithSolana.notBefore)]:[],...!((d=_==null?void 0:_.signInWithSolana)===null||d===void 0)&&d.expirationTime?["Expiration Time: ".concat(_.signInWithSolana.expirationTime)]:[],...!((m=_==null?void 0:_.signInWithSolana)===null||m===void 0)&&m.chainId?["Chain ID: ".concat(_.signInWithSolana.chainId)]:[],...!((p=_==null?void 0:_.signInWithSolana)===null||p===void 0)&&p.nonce?["Nonce: ".concat(_.signInWithSolana.nonce)]:[],...!((x=_==null?void 0:_.signInWithSolana)===null||x===void 0)&&x.requestId?["Request ID: ".concat(_.signInWithSolana.requestId)]:[],...!((y=(b=_==null?void 0:_.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||y===void 0)&&y.length?["Resources",..._.signInWithSolana.resources.map(z=>"- ".concat(z))]:[]].join("\n");const G=await D.signMessage(new TextEncoder().encode(N),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");M=G}}try{const{data:B,error:T}=await Ee(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:dr(M)},!((C=t.options)===null||C===void 0)&&C.captchaToken?{gotrue_meta_security:{captcha_token:(S=t.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:fi});if(T)throw T;if(!B||!B.session||!B.user){const A=new Gr;return this._returnResult({data:{user:null,session:null},error:A})}return B.session&&(await this._saveSession(B.session),await this._notifyAllSubscribers("SIGNED_IN",B.session)),this._returnResult({data:Object.assign({},B),error:T})}catch(B){if(pe(B))return this._returnResult({data:{user:null,session:null},error:B});throw B}}async _exchangeCodeForSession(t){const n=await tr(this.storage,"".concat(this.storageKey,"-code-verifier")),[i,a]=(n!=null?n:"").split("/");try{const{data:o,error:d}=await Ee(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:fi});if(await ms(this.storage,"".concat(this.storageKey,"-code-verifier")),d)throw d;if(!o||!o.session||!o.user){const m=new Gr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:a!=null?a:null}),error:d})}catch(o){if(pe(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:n,provider:i,token:a,access_token:o,nonce:d}=t,m=await Ee(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:i,id_token:a,access_token:o,nonce:d,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:fi}),{data:p,error:x}=m;if(x)return this._returnResult({data:{user:null,session:null},error:x});if(!p||!p.session||!p.user){const b=new Gr;return this._returnResult({data:{user:null,session:null},error:b})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:x})}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,i,a,o,d;try{if("email"in t){const{email:m,options:p}=t;let x=null,b=null;this.flowType==="pkce"&&([x,b]=await Hr(this.storage,this.storageKey));const{error:y}=await Ee(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:m,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(i=p==null?void 0:p.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:x,code_challenge_method:b},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in t){const{phone:m,options:p}=t,{data:x,error:b}=await Ee(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:m,data:(a=p==null?void 0:p.data)!==null&&a!==void 0?a:{},create_user:(o=p==null?void 0:p.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(d=p==null?void 0:p.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:x==null?void 0:x.message_id},error:b})}throw new Kl("You must provide either an email or phone number.")}catch(m){if(pe(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(t){var n,i;try{let a,o;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:d,error:m}=await Ee(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:fi});if(m)throw m;if(!d)throw new Error("An error occurred on token verification.");const p=d.session,x=d.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:x,session:p},error:null})}catch(a){if(pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var n,i,a,o,d;try{let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Hr(this.storage,this.storageKey));const x=await Ee(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:p}),headers:this.headers,xform:pb});return!((o=x.data)===null||o===void 0)&&o.url&&sn()&&!(!((d=t.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(x.data.url),this._returnResult(x)}catch(m){if(pe(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;if(i)throw i;if(!n)throw new Nn;const{error:a}=await Ee(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(pe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n="".concat(this.url,"/resend");if("email"in t){const{email:i,type:a,options:o}=t,{error:d}=await Ee(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in t){const{phone:i,type:a,options:o}=t,{data:d,error:m}=await Ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:m})}throw new Kl("You must provide either an email or phone number and a type")}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch(o){}})()),a}return await this.lock("lock:".concat(this.storageKey),t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch(a){}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await tr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<Od:!1;if(this._debug("#__loadSession()","session has".concat(i?"":" not"," expired"),"expires_at",t.expires_at),!i){if(this.userStorage){const d=await tr(this.userStorage,this.storageKey+"-user");d!=null&&d.user?t.user=d.user:t.user=Dd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};t.user=db(t.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ee(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:t,xform:Cs}):await this._useSession(async n=>{var i,a,o;const{data:d,error:m}=n;if(m)throw m;return!(!((i=d.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nn}:await Ee(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:(o=(a=d.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:Cs})})}catch(n){if(pe(n))return Gy(n)&&(await this._removeSession(),await ms(this.storage,"".concat(this.storageKey,"-code-verifier"))),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async i=>{const{data:a,error:o}=i;if(o)throw o;if(!a.session)throw new Nn;const d=a.session;let m=null,p=null;this.flowType==="pkce"&&t.email!=null&&([m,p]=await Hr(this.storage,this.storageKey));const{data:x,error:b}=await Ee(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:m,code_challenge_method:p}),jwt:d.access_token,xform:Cs});if(b)throw b;return d.user=x.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(i){if(pe(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Nn;const n=Date.now()/1e3;let i=n,a=!0,o=null;const{payload:d}=Id(t.access_token);if(d.exp&&(i=d.exp,a=i<=n),a){const{data:m,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m)return{data:{user:null,session:null},error:null};o=m}else{const{data:m,error:p}=await this._getUser(t.access_token);if(p)throw p;o={access_token:t.access_token,refresh_token:t.refresh_token,user:m.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(pe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var i;if(!t){const{data:d,error:m}=n;if(m)throw m;t=(i=d.session)!==null&&i!==void 0?i:void 0}if(!(t!=null&&t.refresh_token))throw new Nn;const{data:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!sn())throw new Zl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Zl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ag("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ag("No code detected.");const{data:A,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:o,refresh_token:d,expires_in:m,expires_at:p,token_type:x}=t;if(!o||!m||!d||!x)throw new Zl("No session defined in URL");const b=Math.round(Date.now()/1e3),y=parseInt(m);let C=b+y;p&&(C=parseInt(p));const S=C-b;S*1e3<=$r&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(S,"s, should have been closer to ").concat(y,"s"));const N=C-y;b-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,C,b):b-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,C,b);const{data:M,error:B}=await this._getUser(o);if(B)throw B;const T={provider_token:i,provider_refresh_token:a,access_token:o,expires_in:y,expires_at:C,refresh_token:d,token_type:x,user:M.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:t.type},error:null})}catch(i){if(pe(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await tr(this.storage,"".concat(this.storageKey,"-code-verifier"));return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:a,error:o}=n;if(o)return this._returnResult({error:o});const d=(i=a.session)===null||i===void 0?void 0:i.access_token;if(d){const{error:m}=await this.admin.signOut(d,t);if(m&&!(Vy(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return t!=="others"&&(await this._removeSession(),await ms(this.storage,"".concat(this.storageKey,"-code-verifier"))),this._returnResult({error:null})})}onAuthStateChange(t){const n=Zy(),i={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async n=>{var i,a;try{const{data:{session:o},error:d}=n;if(d)throw d;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await Hr(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:t,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(pe(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:i,error:a}=await this._useSession(async o=>{var d,m,p,x,b;const{data:y,error:C}=o;if(C)throw C;const S=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),t.provider,{redirectTo:(d=t.options)===null||d===void 0?void 0:d.redirectTo,scopes:(m=t.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",S,{headers:this.headers,jwt:(b=(x=y.session)===null||x===void 0?void 0:x.access_token)!==null&&b!==void 0?b:void 0})});if(a)throw a;return sn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:t.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(pe(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var i;try{const{error:a,data:{session:o}}=n;if(a)throw a;const{options:d,provider:m,token:p,access_token:x,nonce:b}=t,y=await Ee(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,jwt:(i=o==null?void 0:o.access_token)!==null&&i!==void 0?i:void 0,body:{provider:m,id_token:p,access_token:x,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:fi}),{data:C,error:S}=y;return S?this._returnResult({data:{user:null,session:null},error:S}):!C||!C.session||!C.user?this._returnResult({data:{user:null,session:null},error:new Gr}):(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("USER_UPDATED",C.session)),this._returnResult({data:C,error:S}))}catch(a){if(pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var i,a;const{data:o,error:d}=n;if(d)throw d;return await Ee(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(t.identity_id),{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n="#_refreshAccessToken(".concat(t.substring(0,5),"...)");this._debug(n,"begin");try{const i=Date.now();return await tb(async a=>(a>0&&await eb(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await Ee(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:t},headers:this.headers,xform:fi})),(a,o)=>{const d=200*Math.pow(2,a);return o&&Rd(o)&&Date.now()+d-i<$r})}catch(i){if(this._debug(n,"error",i),pe(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const i=await this._getUrlForProvider("".concat(this.url,"/authorize"),t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",i),sn()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await tr(this.storage,this.storageKey);if(a&&this.userStorage){let d=await tr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:a.user},await Jr(this.userStorage,this.storageKey+"-user",d)),a.user=(t=d==null?void 0:d.user)!==null&&t!==void 0?t:Dd()}else if(a&&!a.user&&!a.user){const d=await tr(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(a.user=d.user,await ms(this.storage,this.storageKey+"-user"),await Jr(this.storage,this.storageKey,a)):a.user=Dd()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const o=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Od;if(this._debug(i,"session has".concat(o?"":" not"," expired with margin of ").concat(Od,"s")),o){if(this.autoRefreshToken&&a.refresh_token){const{error:d}=await this._callRefreshToken(a.refresh_token);d&&(console.error(d),Rd(d)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:m}=await this._getUser(a.access_token);!m&&(d!=null&&d.user)?(a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(i,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var n,i;if(!t)throw new Nn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a="#_callRefreshToken(".concat(t.substring(0,5),"...)");this._debug(a,"begin");try{this.refreshingDeferred=new wu;const{data:o,error:d}=await this._refreshAccessToken(t);if(d)throw d;if(!o.session)throw new Nn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const m={data:o.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(o){if(this._debug(a,"error",o),pe(o)){const d={data:null,error:o};return Rd(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(d),d}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,i=!0){const a="#_notifyAllSubscribers(".concat(t,")");this._debug(a,"begin",n,"broadcast = ".concat(i));try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],d=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(t,n)}catch(p){o.push(p)}});if(await Promise.all(d),o.length>0){for(let m=0;m<o.length;m+=1)console.error(o[m]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await Jr(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const o=dg(a);await Jr(this.storage,this.storageKey,o)}else{const a=dg(n);await Jr(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await ms(this.storage,this.storageKey),await ms(this.storage,this.storageKey+"-code-verifier"),await ms(this.storage,this.storageKey+"-user"),this.userStorage&&await ms(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&sn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),$r);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-t)/$r);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(a," ticks, a tick lasts ").concat($r,"ms, refresh threshold is ").concat(Vh," ticks")),a<=Vh&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ax)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!sn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n="#_onVisibilityChanged(".concat(t,")");this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,i){const a=["provider=".concat(encodeURIComponent(n))];if(i!=null&&i.redirectTo&&a.push("redirect_to=".concat(encodeURIComponent(i.redirectTo))),i!=null&&i.scopes&&a.push("scopes=".concat(encodeURIComponent(i.scopes))),this.flowType==="pkce"){const[o,d]=await Hr(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(o)),code_challenge_method:"".concat(encodeURIComponent(d))});a.push(m.toString())}if(i!=null&&i.queryParams){const o=new URLSearchParams(i.queryParams);a.push(o.toString())}return i!=null&&i.skipBrowserRedirect&&a.push("skip_http_redirect=".concat(i.skipBrowserRedirect)),"".concat(t,"?").concat(a.join("&"))}async _unenroll(t){try{return await this._useSession(async n=>{var i;const{data:a,error:o}=n;return o?this._returnResult({data:null,error:o}):await Ee(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(t.factorId),{headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var i,a;const{data:o,error:d}=n;if(d)return this._returnResult({data:null,error:d});const m=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:p,error:x}=await Ee(this.fetch,"POST","".concat(this.url,"/factors"),{body:m,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return x?this._returnResult({data:null,error:x}):(t.factorType==="totp"&&p.type==="totp"&&(!((a=p==null?void 0:p.totp)===null||a===void 0)&&a.qr_code)&&(p.totp.qr_code="data:image/svg+xml;utf-8,".concat(p.totp.qr_code)),this._returnResult({data:p,error:null}))})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const d=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Db(t.webauthn.credential_response):Nb(t.webauthn.credential_response)})}:{code:t.code}),{data:m,error:p}=await Ee(this.fetch,"POST","".concat(this.url,"/factors/").concat(t.factorId,"/verify"),{body:d,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:p}))})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const d=await Ee(this.fetch,"POST","".concat(this.url,"/factors/").concat(t.factorId,"/challenge"),{body:t,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});if(d.error)return d;const{data:m}=d;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Rb(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Ib(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])a.all.push(o),o.status==="verified"&&a[o.factor_type].push(o);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:i},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Id(i.access_token);let d=null;o.aal&&(d=o.aal);let m=d;((n=(t=i.user.factors)===null||t===void 0?void 0:t.filter(b=>b.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(m="aal2");const x=o.amr||[];return{data:{currentLevel:d,nextLevel:m,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;return a?this._returnResult({data:null,error:a}):i?await Ee(this.fetch,"GET","".concat(this.url,"/oauth/authorizations/").concat(t),{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Nn})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async i=>{const{data:{session:a},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new Nn});const d=await Ee(this.fetch,"POST","".concat(this.url,"/oauth/authorizations/").concat(t,"/consent"),{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return d.data&&d.data.redirect_url&&sn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,n){try{return await this._useSession(async i=>{const{data:{session:a},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new Nn});const d=await Ee(this.fetch,"POST","".concat(this.url,"/oauth/authorizations/").concat(t,"/consent"),{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return d.data&&d.data.redirect_url&&sn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;return i?this._returnResult({data:null,error:i}):n?await Ee(this.fetch,"GET","".concat(this.url,"/user/oauth/grants"),{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Nn})})}catch(t){if(pe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;return a?this._returnResult({data:null,error:a}):i?await Ee(this.fetch,"DELETE","".concat(this.url,"/user/oauth/grants"),{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new Nn})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let i=n.keys.find(m=>m.kid===t);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(m=>m.kid===t),i&&this.jwks_cached_at+Uy>a)return i;const{data:o,error:d}=await Ee(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(d)throw d;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=a,i=o.keys.find(m=>m.kid===t),!i)?null:i}async getClaims(t,n={}){try{let i=t;if(!i){const{data:S,error:N}=await this.getSession();if(N||!S.session)return this._returnResult({data:null,error:N});i=S.session.access_token}const{header:a,payload:o,signature:d,raw:{header:m,payload:p}}=Id(i);n!=null&&n.allowExpired||lb(o.exp);const x=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!x){const{error:S}=await this.getUser(i);if(S)throw S;return{data:{claims:o,header:a,signature:d},error:null}}const b=cb(a.alg),y=await crypto.subtle.importKey("jwk",x,b,!0,["verify"]);if(!await crypto.subtle.verify(b,y,d,Qy("".concat(m,".").concat(p))))throw new qh("Invalid JWT signature");return{data:{claims:o,header:a,signature:d},error:null}}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}}$o.nextInstanceID={};const Fb=$o;class Vb extends Fb{constructor(t){super(t)}}class Gb{constructor(t,n,i){var a,o,d;this.supabaseUrl=t,this.supabaseKey=n;const m=jy(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const p="sb-".concat(m.hostname.split(".")[0],"-auth-token"),x={db:Ty,realtime:Ry,auth:Object.assign(Object.assign({},Oy),{storageKey:p}),global:_y},b=ky(i!=null?i:{},x);this.storageKey=(a=b.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=b.global.headers)!==null&&o!==void 0?o:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(y,C)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(C)," is not possible"))}})):this.auth=this._initSupabaseAuthClient((d=b.auth)!==null&&d!==void 0?d:{},this.headers,b.global.fetch),this.fetch=Ny(n,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new B4(new URL("rest/v1",m).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),this.storage=new Ay(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),b.accessToken||this._listenForAuthEvents()}get functions(){return new M4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,i)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(n=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:a,userStorage:o,storageKey:d,flowType:m,lock:p,debug:x,throwOnError:b},y,C){const S={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new Vb({url:this.authUrl.href,headers:Object.assign(Object.assign({},S),y),storageKey:d,autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:a,userStorage:o,flowType:m,lock:p,debug:x,throwOnError:b,fetch:C,hasCustomAuthorizationHeader:Object.keys(this.headers).some(N=>N.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new J4(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(t,n,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Hb=(e,t,n)=>new Gb(e,t,n);function qb(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}qb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Xb="https://qlhvvhballsotkknrpgk.supabase.co",Wb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFsaHZ2aGJhbGxzb3Rra25ycGdrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM2NTUzODEsImV4cCI6MjA3OTIzMTM4MX0.v7z5VCHX2OY99a_ViYRThGIQLo2eqjpYxNgQfo5afCo",Re=Hb(Xb,Wb),vu=()=>Re!==null,cx=Y.createContext(void 0),Yb=({children:e})=>{const[t,n]=Y.useState(null),[i,a]=Y.useState(null),[o,d]=Y.useState(!0),[m,p]=Y.useState(!1);Y.useEffect(()=>{var A;if(localStorage.getItem("guestMode")==="true"){p(!0),d(!1);return}Re==null||Re.auth.getSession().then(({data:{session:_}})=>{var D;a(_),n((D=_==null?void 0:_.user)!=null?D:null),d(!1)});const{data:{subscription:T}}=(A=Re==null?void 0:Re.auth.onAuthStateChange((_,D)=>{var P;a(D),n((P=D==null?void 0:D.user)!=null?P:null),p(!1),localStorage.removeItem("guestMode"),d(!1)}))!=null?A:{data:{subscription:null}};return()=>T==null?void 0:T.unsubscribe()},[]);const M={user:t,session:i,loading:o,isGuest:m,signUp:async(B,T)=>{if(!Re)return{error:{message:"Supabase not configured"}};const{error:A}=await Re.auth.signUp({email:B,password:T});return{error:A}},signIn:async(B,T)=>{if(!Re)return{error:{message:"Supabase not configured"}};const{error:A}=await Re.auth.signInWithPassword({email:B,password:T});return{error:A}},signInWithGoogle:async()=>{if(!Re)return{error:{message:"Supabase not configured"}};const{error:B}=await Re.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(window.location.origin,"/museum-app/")}});return{error:B}},signInWithApple:async()=>{if(!Re)return{error:{message:"Supabase not configured"}};const{error:B}=await Re.auth.signInWithOAuth({provider:"apple",options:{redirectTo:"".concat(window.location.origin,"/museum-app/")}});return{error:B}},signOut:async()=>{Re&&(await Re.auth.signOut(),p(!1),localStorage.removeItem("guestMode"))},continueAsGuest:()=>{p(!0),localStorage.setItem("guestMode","true")}};return g.jsx(cx.Provider,{value:M,children:e})},Qb=()=>{const e=Y.useContext(cx);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},ux=Y.createContext(void 0),Kb=({children:e})=>{const[t,n]=Y.useState(null),[i,a]=Y.useState(!1),[o,d]=Y.useState(0),[m,p]=Y.useState(0),[x,b]=Y.useState(1),y=Y.useRef(null);Y.useEffect(()=>{y.current=new Audio;const P=y.current,G=()=>{d(P.currentTime)},z=()=>{p(P.duration)},k=()=>{a(!1),d(0)},V=()=>{a(!0)},Z=()=>{a(!1)};return P.addEventListener("timeupdate",G),P.addEventListener("durationchange",z),P.addEventListener("ended",k),P.addEventListener("play",V),P.addEventListener("pause",Z),()=>{P.removeEventListener("timeupdate",G),P.removeEventListener("durationchange",z),P.removeEventListener("ended",k),P.removeEventListener("play",V),P.removeEventListener("pause",Z),P.pause()}},[]);const C=(P,G,z)=>{if(!y.current)return;const k=y.current;if((t==null?void 0:t.url)===P){k.play();return}k.src=P,k.playbackRate=x,k.play(),n({url:P,title:G,artifactId:z}),d(0)},S=()=>{y.current&&y.current.pause()},N=()=>{!y.current||!t||y.current.play()},M=()=>{y.current&&(y.current.pause(),y.current.currentTime=0,n(null),a(!1),d(0))},B=P=>{y.current&&(y.current.currentTime=P,d(P))},D={currentAudio:t,isPlaying:i,currentTime:o,duration:m,playbackRate:x,playAudio:C,pauseAudio:S,resumeAudio:N,stopAudio:M,seekTo:B,skipForward:P=>{if(!y.current)return;const G=Math.min(y.current.currentTime+P,m);B(G)},skipBackward:P=>{if(!y.current)return;const G=Math.max(y.current.currentTime-P,0);B(G)},setPlaybackRate:P=>{y.current&&(y.current.playbackRate=P,b(P))}};return g.jsx(ux.Provider,{value:D,children:e})},dx=()=>{const e=Y.useContext(ux);if(e===void 0)throw new Error("useAudioPlayer must be used within an AudioPlayerProvider");return e},Zb="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M256 112v288M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",$b="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M480 128a64 64 0 00-64-64h-16V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 00368 48v16H144V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 00112 48v16H96a64 64 0 00-64 64v12a4 4 0 004 4h440a4 4 0 004-4zM32 416a64 64 0 0064 64h320a64 64 0 0064-64V179a3 3 0 00-3-3H35a3 3 0 00-3 3zm344-208a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24zm-80-80a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24zm-80-80a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24zm-80-80a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24z'/></svg>",Jb="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='272' r='64'/><path d='M432 144h-59c-3 0-6.72-1.94-9.62-5l-25.94-40.94a15.52 15.52 0 00-1.37-1.85C327.11 85.76 315 80 302 80h-92c-13 0-25.11 5.76-34.07 16.21a15.52 15.52 0 00-1.37 1.85l-25.94 41c-2.22 2.42-5.34 5-8.62 5v-8a16 16 0 00-16-16h-24a16 16 0 00-16 16v8h-4a48.05 48.05 0 00-48 48V384a48.05 48.05 0 0048 48h352a48.05 48.05 0 0048-48V192a48.05 48.05 0 00-48-48zM256 368a96 96 0 1196-96 96.11 96.11 0 01-96 96z'/></svg>",e6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M350.54 148.68l-26.62-42.06C318.31 100.08 310.62 96 302 96h-92c-8.62 0-16.31 4.08-21.92 10.62l-26.62 42.06C155.85 155.23 148.62 160 140 160H80a32 32 0 00-32 32v192a32 32 0 0032 32h352a32 32 0 0032-32V192a32 32 0 00-32-32h-59c-8.65 0-16.85-4.77-22.46-11.32z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='256' cy='272' r='80' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M124 158v-22h-24v22' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Ma="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm108.25 138.29l-134.4 160a16 16 0 01-12 5.71h-.27a16 16 0 01-11.89-5.3l-57.6-64a16 16 0 1123.78-21.4l45.29 50.32 122.59-145.91a16 16 0 0124.5 20.58z'/></svg>",t6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",n6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",Jo="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",Jf="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",i6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M93.72 183.25C49.49 198.05 16 233.1 16 288c0 66 54 112 120 112h184.37M467.82 377.74C485.24 363.3 496 341.61 496 312c0-59.82-53-85.76-96-88-8.89-89.54-71-144-144-144-26.16 0-48.79 6.93-67.6 18.14' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M448 448L64 64' class='ionicon-fill-none ionicon-stroke-width'/></svg>",wg="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M473.66 210c-14-10.38-31.2-18-49.36-22.11a16.11 16.11 0 01-12.19-12.22c-7.8-34.75-24.59-64.55-49.27-87.13C334.15 62.25 296.21 47.79 256 47.79c-35.35 0-68 11.08-94.37 32.05a150.07 150.07 0 00-42.06 53 16 16 0 01-11.31 8.87c-26.75 5.4-50.9 16.87-69.34 33.12C13.46 197.33 0 227.24 0 261.39c0 34.52 14.49 66 40.79 88.76 25.12 21.69 58.94 33.64 95.21 33.64h104V230.42l-36.69 36.69a16 16 0 01-23.16-.56c-5.8-6.37-5.24-16.3.85-22.39l63.69-63.68a16 16 0 0122.62 0L331 244.14c6.28 6.29 6.64 16.6.39 22.91a16 16 0 01-22.68.06L272 230.42v153.37h124c31.34 0 59.91-8.8 80.45-24.77 23.26-18.1 35.55-44 35.55-74.83 0-29.94-13.26-55.61-38.34-74.19zM240 448.21a16 16 0 1032 0v-64.42h-32z'/></svg>",vg="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M160 368L32 256l128-112M352 368l128-112-128-112M304 96l-96 320' class='ionicon-fill-none ionicon-stroke-width'/></svg>",s6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M459.94 53.25a16.06 16.06 0 00-23.22-.56L424.35 65a8 8 0 000 11.31l11.34 11.32a8 8 0 0011.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90L218.82 270.2a9 9 0 00-2.31 3.93L208.16 299a3.91 3.91 0 004.86 4.86l24.85-8.35a9 9 0 003.93-2.31L422 112.66a9 9 0 000-12.66l-9.95-10a9 9 0 00-12.71 0z'/><path d='M386.34 193.66L264.45 315.79A41.08 41.08 0 01247.58 326l-25.9 8.67a35.92 35.92 0 01-44.33-44.33l8.67-25.9a41.08 41.08 0 0110.19-16.87l122.13-121.91a8 8 0 00-5.65-13.66H104a56 56 0 00-56 56v240a56 56 0 0056 56h240a56 56 0 0056-56V199.31a8 8 0 00-13.66-5.65z'/></svg>",hx="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M440.9 136.3a4 4 0 000-6.91L288.16 40.65a64.14 64.14 0 00-64.33 0L71.12 129.39a4 4 0 000 6.91L254 243.88a4 4 0 004.06 0zM54 163.51a4 4 0 00-6 3.49v173.89a48 48 0 0023.84 41.39L234 479.51a4 4 0 006-3.46V274.3a4 4 0 00-2-3.46zM272 275v201a4 4 0 006 3.46l162.15-97.23A48 48 0 00464 340.89V167a4 4 0 00-6-3.45l-184 108a4 4 0 00-2 3.45z'/></svg>",fx="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 341.37V170.61A32 32 0 00432.11 143l-152-88.46a47.94 47.94 0 00-48.24 0L79.89 143A32 32 0 0064 170.61v170.76A32 32 0 0079.89 369l152 88.46a48 48 0 0048.24 0l152-88.46A32 32 0 00448 341.37z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M69 153.99l187 110 187-110M256 463.99v-200' class='ionicon-fill-none ionicon-stroke-width'/></svg>",r6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M432 320v112H320M421.8 421.77L304 304M80 192V80h112M90.2 90.23L208 208M320 80h112v112M421.77 90.2L304 208M192 432H80V320M90.23 421.8L208 304' class='ionicon-fill-none ionicon-stroke-width'/></svg>",a6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='64'/><path d='M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96c-42.52 0-84.33 12.15-124.27 36.11-40.73 24.43-77.63 60.12-109.68 106.07a31.92 31.92 0 00-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416c46.71 0 93.81-14.43 136.2-41.72 38.46-24.77 72.72-59.66 99.08-100.92a32.2 32.2 0 00-.1-34.76zM256 352a96 96 0 1196-96 96.11 96.11 0 01-96 96z'/></svg>",o6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M432 448a15.92 15.92 0 01-11.31-4.69l-352-352a16 16 0 0122.62-22.62l352 352A16 16 0 01432 448zM248 315.85l-51.79-51.79a2 2 0 00-3.39 1.69 64.11 64.11 0 0053.49 53.49 2 2 0 001.69-3.39zM264 196.15L315.87 248a2 2 0 003.4-1.69 64.13 64.13 0 00-53.55-53.55 2 2 0 00-1.72 3.39z'/><path d='M491 273.36a32.2 32.2 0 00-.1-34.76c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.68 96a226.54 226.54 0 00-71.82 11.79 4 4 0 00-1.56 6.63l47.24 47.24a4 4 0 003.82 1.05 96 96 0 01116 116 4 4 0 001.05 3.81l67.95 68a4 4 0 005.4.24 343.81 343.81 0 0067.24-77.4zM256 352a96 96 0 01-93.3-118.63 4 4 0 00-1.05-3.81l-66.84-66.87a4 4 0 00-5.41-.23c-24.39 20.81-47 46.13-67.67 75.72a31.92 31.92 0 00-.64 35.54c26.41 41.33 60.39 76.14 98.28 100.65C162.06 402 207.92 416 255.68 416a238.22 238.22 0 0072.64-11.55 4 4 0 001.61-6.64l-47.47-47.46a4 4 0 00-3.81-1.05A96 96 0 01256 352z'/></svg>",l6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M467.51 248.83c-18.4-83.18-45.69-136.24-89.43-149.17A91.5 91.5 0 00352 96c-26.89 0-48.11 16-96 16s-69.15-16-96-16a99.09 99.09 0 00-27.2 3.66C89 112.59 61.94 165.7 43.33 248.83c-19 84.91-15.56 152 21.58 164.88 26 9 49.25-9.61 71.27-37 25-31.2 55.79-40.8 119.82-40.8s93.62 9.6 118.66 40.8c22 27.41 46.11 45.79 71.42 37.16 41.02-14.01 40.44-79.13 21.43-165.04z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='292' cy='224' r='20'/><path d='M336 288a20 20 0 1120-19.95A20 20 0 01336 288z'/><circle cx='336' cy='180' r='20'/><circle cx='380' cy='224' r='20'/><path stroke-linecap='round' stroke-linejoin='round' d='M160 176v96M208 224h-96' class='ionicon-fill-none ionicon-stroke-width'/></svg>",c6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.13 48 48 141.13 48 256s93.13 208 208 208 208-93.13 208-208S370.87 48 256 48z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 48c-58.07 0-112.67 93.13-112.67 208S197.93 464 256 464s112.67-93.13 112.67-208S314.07 48 256 48z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M117.33 117.33c38.24 27.15 86.38 43.34 138.67 43.34s100.43-16.19 138.67-43.34M394.67 394.67c-38.24-27.15-86.38-43.34-138.67-43.34s-100.43 16.19-138.67 43.34' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-miterlimit='10' d='M256 48v416M464 256H48' class='ionicon-fill-none ionicon-stroke-width'/></svg>",u6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M204 240H68a36 36 0 01-36-36V68a36 36 0 0136-36h136a36 36 0 0136 36v136a36 36 0 01-36 36zM444 240H308a36 36 0 01-36-36V68a36 36 0 0136-36h136a36 36 0 0136 36v136a36 36 0 01-36 36zM204 480H68a36 36 0 01-36-36V308a36 36 0 0136-36h136a36 36 0 0136 36v136a36 36 0 01-36 36zM444 480H308a36 36 0 01-36-36V308a36 36 0 0136-36h136a36 36 0 0136 36v136a36 36 0 01-36 36z'/></svg>",el="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 448a32 32 0 01-18-5.57c-78.59-53.35-112.62-89.93-131.39-112.8-40-48.75-59.15-98.8-58.61-153C48.63 114.52 98.46 64 159.08 64c44.08 0 74.61 24.83 92.39 45.51a6 6 0 009.06 0C278.31 88.81 308.84 64 352.92 64c60.62 0 110.45 50.52 111.08 112.64.54 54.21-18.63 104.26-58.61 153-18.77 22.87-52.8 59.45-131.39 112.8a32 32 0 01-18 5.56z'/></svg>",yu="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M352.92 80C288 80 256 144 256 144s-32-64-96.92-64c-52.76 0-94.54 44.14-95.08 96.81-1.1 109.33 86.73 187.08 183 252.42a16 16 0 0018 0c96.26-65.34 184.09-143.09 183-252.42-.54-52.67-42.32-96.81-95.08-96.81z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",d6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 64C150 64 64 150 64 256s86 192 192 192 192-86 192-192S362 64 256 64zm-6 304a20 20 0 1120-20 20 20 0 01-20 20zm33.44-102C267.23 276.88 265 286.85 265 296a14 14 0 01-28 0c0-21.91 10.08-39.33 30.82-53.26C287.1 229.8 298 221.6 298 203.57c0-12.26-7-21.57-21.49-28.46-3.41-1.62-11-3.2-20.34-3.09-11.72.15-20.82 2.95-27.83 8.59C215.12 191.25 214 202.83 214 203a14 14 0 11-28-1.35c.11-2.43 1.8-24.32 24.77-42.8 11.91-9.58 27.06-14.56 45-14.78 12.7-.15 24.63 2 32.72 5.82C312.7 161.34 326 180.43 326 203.57c0 33.83-22.61 49.02-42.56 62.43z'/></svg>",h6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 80a176 176 0 10176 176A176 176 0 00256 80z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M200 202.29s.84-17.5 19.57-32.57C230.68 160.77 244 158.18 256 158c10.93-.14 20.69 1.67 26.53 4.45 10 4.76 29.47 16.38 29.47 41.09 0 26-17 37.81-36.37 50.8S251 281.43 251 296' stroke-linecap='round' stroke-miterlimit='10' stroke-width='28' class='ionicon-fill-none'/><circle cx='250' cy='348' r='20'/></svg>",f6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M416 64H96a64.07 64.07 0 00-64 64v256a64.07 64.07 0 0064 64h320a64.07 64.07 0 0064-64V128a64.07 64.07 0 00-64-64zm-80 64a48 48 0 11-48 48 48.05 48.05 0 0148-48zM96 416a32 32 0 01-32-32v-67.63l94.84-84.3a48.06 48.06 0 0165.8 1.9l64.95 64.81L172.37 416zm352-32a32 32 0 01-32 32H217.63l121.42-121.42a47.72 47.72 0 0161.64-.16L448 333.84z'/></svg>",yg="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='48' y='80' width='416' height='352' rx='48' ry='48' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='336' cy='176' r='32' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M304 335.79l-90.66-90.49a32 32 0 00-43.87-1.3L48 352M224 432l123.34-123.34a32 32 0 0143.11-2L464 368' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",gx="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M450.29 112H142c-34 0-62 27.51-62 61.33v245.34c0 33.82 28 61.33 62 61.33h308c34 0 62-26.18 62-60V173.33c0-33.82-27.68-61.33-61.71-61.33zm-77.15 61.34a46 46 0 11-46.28 46 46.19 46.19 0 0146.28-46.01zm-231.55 276c-17 0-29.86-13.75-29.86-30.66v-64.83l90.46-80.79a46.54 46.54 0 0163.44 1.83L328.27 337l-113 112.33zM480 418.67a30.67 30.67 0 01-30.71 30.66H259L376.08 333a46.24 46.24 0 0159.44-.16L480 370.59z'/><path d='M384 32H64A64 64 0 000 96v256a64.11 64.11 0 0048 62V152a72 72 0 0172-72h326a64.11 64.11 0 00-62-48z'/></svg>",g6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M432 112V96a48.14 48.14 0 00-48-48H64a48.14 48.14 0 00-48 48v256a48.14 48.14 0 0048 48h16' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='96' y='128' width='400' height='336' rx='45.99' ry='45.99' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><ellipse cx='372.92' cy='219.64' rx='30.77' ry='30.55' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M342.15 372.17L255 285.78a30.93 30.93 0 00-42.18-1.21L96 387.64M265.23 464l118.59-117.73a31 31 0 0141.46-1.87L496 402.91' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",px="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 56C145.72 56 56 145.72 56 256s89.72 200 200 200 200-89.72 200-200S366.28 56 256 56zm0 82a26 26 0 11-26 26 26 26 0 0126-26zm48 226h-88a16 16 0 010-32h28v-88h-16a16 16 0 010-32h32a16 16 0 0116 16v104h28a16 16 0 010 32z'/></svg>",p6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M248 64C146.39 64 64 146.39 64 248s82.39 184 184 184 184-82.39 184-184S349.61 64 248 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M220 220h32v116' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M208 340h88' class='ionicon-fill-none ionicon-stroke-width'/><path d='M248 130a26 26 0 1026 26 26 26 0 00-26-26z'/></svg>",m6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M478.33 433.6l-90-218a22 22 0 00-40.67 0l-90 218a22 22 0 1040.67 16.79L316.66 406h102.67l18.33 44.39A22 22 0 00458 464a22 22 0 0020.32-30.4zM334.83 362L368 281.65 401.17 362zM267.84 342.92a22 22 0 00-4.89-30.7c-.2-.15-15-11.13-36.49-34.73 39.65-53.68 62.11-114.75 71.27-143.49H330a22 22 0 000-44H214V70a22 22 0 00-44 0v20H54a22 22 0 000 44h197.25c-9.52 26.95-27.05 69.5-53.79 108.36-31.41-41.68-43.08-68.65-43.17-68.87a22 22 0 00-40.58 17c.58 1.38 14.55 34.23 52.86 83.93.92 1.19 1.83 2.35 2.74 3.51-39.24 44.35-77.74 71.86-93.85 80.74a22 22 0 1021.07 38.63c2.16-1.18 48.6-26.89 101.63-85.59 22.52 24.08 38 35.44 38.93 36.1a22 22 0 0030.75-4.9z'/></svg>",mx="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M48 112h288M192 64v48M272 448l96-224 96 224M301.5 384h133M281.3 112S257 206 199 277 80 384 80 384' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 336s-35-27-72-75-56-85-56-85' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",$n="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M208 352h-64a96 96 0 010-192h64M304 160h64a96 96 0 010 192h-64M163.29 256h187.42' stroke-linecap='round' stroke-linejoin='round' stroke-width='36' class='ionicon-fill-none'/></svg>",x6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='192' r='32'/><path d='M256 32c-88.22 0-160 68.65-160 153 0 40.17 18.31 93.59 54.42 158.78 29 52.34 62.55 99.67 80 123.22a31.75 31.75 0 0051.22 0c17.42-23.55 51-70.88 80-123.22C397.69 278.61 416 225.19 416 185c0-84.35-71.78-153-160-153zm0 224a64 64 0 1164-64 64.07 64.07 0 01-64 64z'/></svg>",w6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M368 192h-16v-80a96 96 0 10-192 0v80h-16a64.07 64.07 0 00-64 64v176a64.07 64.07 0 0064 64h224a64.07 64.07 0 0064-64V256a64.07 64.07 0 00-64-64zm-48 0H192v-80a64 64 0 11128 0z'/></svg>",v6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M160 256a16 16 0 0116-16h144V136c0-32-33.79-56-64-56H104a56.06 56.06 0 00-56 56v240a56.06 56.06 0 0056 56h160a56.06 56.06 0 0056-56V272H176a16 16 0 01-16-16zM459.31 244.69l-80-80a16 16 0 00-22.62 22.62L409.37 240H320v32h89.37l-52.68 52.69a16 16 0 1022.62 22.62l80-80a16 16 0 000-22.62z'/></svg>",y6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M349.13 136.86c-40.32 0-57.36 19.24-85.44 19.24-28.79 0-50.75-19.1-85.69-19.1-34.2 0-70.67 20.88-93.83 56.45-32.52 50.16-27 144.63 25.67 225.11 18.84 28.81 44 61.12 77 61.47h.6c28.68 0 37.2-18.78 76.67-19h.6c38.88 0 46.68 18.89 75.24 18.89h.6c33-.35 59.51-36.15 78.35-64.85 13.56-20.64 18.6-31 29-54.35-76.19-28.92-88.43-136.93-13.08-178.34-23-28.8-55.32-45.48-85.79-45.48z'/><path d='M340.25 32c-24 1.63-52 16.91-68.4 36.86-14.88 18.08-27.12 44.9-22.32 70.91h1.92c25.56 0 51.72-15.39 67-35.11 14.72-18.77 25.88-45.37 21.8-72.66z'/></svg>",b6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M473.16 221.48l-2.26-9.59H262.46v88.22H387c-12.93 61.4-72.93 93.72-121.94 93.72-35.66 0-73.25-15-98.13-39.11a140.08 140.08 0 01-41.8-98.88c0-37.16 16.7-74.33 41-98.78s61-38.13 97.49-38.13c41.79 0 71.74 22.19 82.94 32.31l62.69-62.36C390.86 72.72 340.34 32 261.6 32c-60.75 0-119 23.27-161.58 65.71C58 139.5 36.25 199.93 36.25 256s20.58 113.48 61.3 155.6c43.51 44.92 105.13 68.4 168.58 68.4 57.73 0 112.45-22.62 151.45-63.66 38.34-40.4 58.17-96.3 58.17-154.9 0-24.67-2.48-39.32-2.59-39.96z'/></svg>",E6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M73.6 256c0-100.737 81.663-182.4 182.4-182.4 40.552 0 77.992 13.212 108.286 35.603 7.946-18.702 23.958-33.15 43.67-38.976C366.589 36.357 313.656 16 256 16 123.451 16 16 123.452 16 256s107.451 240 240 240c132.548 0 239.999-107.452 239.999-240 0-27.741-4.718-54.427-13.407-79.269-11.824 15.985-30.428 26.649-51.564 27.742 4.795 16.319 7.371 33.605 7.371 51.527 0 100.737-81.663 182.4-182.399 182.4-100.737 0-182.4-81.663-182.4-182.4z'/><path d='M491.065 207.374a238.383 238.383 0 00-8.473-30.643c-11.823 15.984-30.428 26.649-51.564 27.742a181.577 181.577 0 016.719 35.964c22.259-2.737 41.5-15.226 53.318-33.063zM256 361.001c57.853 0 105-47.057 105-105 0-57.854-47.057-105-105-105s-105 47.146-105 105c0 57.853 47.147 105 105 105zM413.5 166c28.995 0 52.5-23.505 52.5-52.5S442.495 61 413.5 61 361 84.505 361 113.5s23.505 52.5 52.5 52.5z'/></svg>",A6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M410.66 180.72q-7.67-2.62-15.45-4.88 1.29-5.25 2.38-10.56c11.7-56.9 4.05-102.74-22.06-117.83-25-14.48-66 .61-107.36 36.69q-6.1 5.34-11.95 11-3.9-3.76-8-7.36c-43.35-38.58-86.8-54.83-112.88-39.69-25 14.51-32.43 57.6-21.9 111.53q1.58 8 3.55 15.93a320.85 320.85 0 00-17.77 5.6C48.46 198.9 16 226.73 16 255.59c0 29.82 34.84 59.72 87.77 77.85q6.44 2.19 13 4.07-2.13 8.49-3.77 17.17c-10 53-2.2 95.07 22.75 109.49 25.77 14.89 69-.41 111.14-37.31q5-4.38 10-9.25 6.32 6.11 13 11.86c40.8 35.18 81.09 49.39 106 34.93 25.75-14.94 34.12-60.14 23.25-115.13q-1.25-6.3-2.88-12.86 4.56-1.35 8.93-2.79c55-18.27 90.83-47.81 90.83-78-.02-29-33.52-57.01-85.36-74.9zm-129-81.08c35.43-30.91 68.55-43.11 83.65-34.39 16.07 9.29 22.32 46.75 12.22 95.88q-1 4.8-2.16 9.57a487.83 487.83 0 00-64.18-10.16 481.27 481.27 0 00-40.57-50.75q5.38-5.22 11.02-10.15zM157.73 280.25q6.51 12.6 13.61 24.89 7.23 12.54 15.07 24.71a435.28 435.28 0 01-44.24-7.13c4.24-13.72 9.46-27.97 15.56-42.47zm0-48.33c-6-14.19-11.08-28.15-15.25-41.63 13.7-3.07 28.3-5.58 43.52-7.48q-7.65 11.94-14.72 24.23t-13.58 24.88zm10.9 24.17q9.48-19.77 20.42-38.78 10.93-19 23.27-37.13c14.28-1.08 28.92-1.65 43.71-1.65s29.52.57 43.79 1.66q12.21 18.09 23.13 37t20.69 38.6Q334 275.63 323 294.73q-10.91 19-23 37.24c-14.25 1-29 1.55-44 1.55s-29.47-.47-43.46-1.38q-12.43-18.19-23.46-37.29t-20.48-38.76zM340.75 305q7.25-12.58 13.92-25.49a440.41 440.41 0 0116.12 42.32 434.44 434.44 0 01-44.79 7.65q7.62-12.09 14.75-24.48zm13.72-73.07q-6.64-12.65-13.81-25-7-12.18-14.59-24.06c15.31 1.94 30 4.52 43.77 7.67a439.89 439.89 0 01-15.37 41.39zm-98.24-107.45a439.75 439.75 0 0128.25 34.18q-28.35-1.35-56.74 0c9.33-12.34 18.88-23.79 28.49-34.18zM145.66 65.86c16.06-9.32 51.57 4 89 37.27 2.39 2.13 4.8 4.36 7.2 6.67A491.37 491.37 0 00201 160.51a499.12 499.12 0 00-64.06 10q-1.83-7.36-3.3-14.82c-9.05-46.23-3.06-81.08 12.02-89.83zm-23.41 251.85q-6-1.71-11.85-3.71c-23.4-8-42.73-18.44-56-29.81-11.88-10.19-17.9-20.36-17.9-28.6 0-17.51 26.06-39.85 69.52-55q8.19-2.85 16.52-5.21a493.54 493.54 0 0023.4 60.75 502.46 502.46 0 00-23.69 61.58zm111.13 93.67c-18.63 16.32-37.29 27.89-53.74 33.72-14.78 5.23-26.55 5.38-33.66 1.27-15.14-8.75-21.44-42.54-12.85-87.86q1.53-8 3.5-16a480.85 480.85 0 0064.69 9.39 501.2 501.2 0 0041.2 51c-2.98 2.93-6.03 5.75-9.14 8.48zm23.42-23.22c-9.72-10.51-19.42-22.14-28.88-34.64q13.79.54 28.08.54c9.78 0 19.46-.21 29-.64a439.33 439.33 0 01-28.2 34.74zm124.52 28.59c-2.86 15.44-8.61 25.74-15.72 29.86-15.13 8.78-47.48-2.63-82.36-32.72-4-3.44-8-7.13-12.07-11a484.54 484.54 0 0040.23-51.2 477.84 477.84 0 0065-10.05q1.47 5.94 2.6 11.64c4.81 24.3 5.5 46.28 2.32 63.47zm17.4-102.64c-2.62.87-5.32 1.71-8.06 2.53a483.26 483.26 0 00-24.31-60.94 481.52 481.52 0 0023.36-60.06c4.91 1.43 9.68 2.93 14.27 4.52 44.42 15.32 71.52 38 71.52 55.43 0 18.6-29.27 42.74-76.78 58.52z'/><path d='M256 298.55a43 43 0 10-42.86-43 42.91 42.91 0 0042.86 43z'/></svg>",bg="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M424 80H88a56.06 56.06 0 00-56 56v240a56.06 56.06 0 0056 56h336a56.06 56.06 0 0056-56V136a56.06 56.06 0 00-56-56zm-14.18 92.63l-144 112a16 16 0 01-19.64 0l-144-112a16 16 0 1119.64-25.26L256 251.73l134.18-104.36a16 16 0 0119.64 25.26z'/></svg>",S6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M264 480A232 232 0 0132 248c0-94 54-178.28 137.61-214.67a16 16 0 0121.06 21.06C181.07 76.43 176 104.66 176 136c0 110.28 89.72 200 200 200 31.34 0 59.57-5.07 81.61-14.67a16 16 0 0121.06 21.06C442.28 426 358 480 264 480z'/></svg>",Xh="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M160 136c0-30.62 4.51-61.61 16-88C99.57 81.27 48 159.32 48 248c0 119.29 96.71 216 216 216 88.68 0 166.73-51.57 200-128-26.39 11.49-57.38 16-88 16-119.29 0-216-96.71-216-216z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",C6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M421.84 37.37a25.86 25.86 0 00-22.6-4.46L199.92 86.49A32.3 32.3 0 00176 118v226c0 6.74-4.36 12.56-11.11 14.83l-.12.05-52 18C92.88 383.53 80 402 80 423.91a55.54 55.54 0 0023.23 45.63A54.78 54.78 0 00135.34 480a55.82 55.82 0 0017.75-2.93l.38-.13 21.84-7.94A47.84 47.84 0 00208 423.91v-212c0-7.29 4.77-13.21 12.16-15.07l.21-.06L395 150.14a4 4 0 015 3.86v141.93c0 6.75-4.25 12.38-11.11 14.68l-.25.09-50.89 18.11A49.09 49.09 0 00304 375.92a55.67 55.67 0 0023.23 45.8 54.63 54.63 0 0049.88 7.35l.36-.12 21.84-7.95A47.83 47.83 0 00432 375.92V58a25.74 25.74 0 00-10.16-20.63z'/></svg>",_6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M192 218v-6c0-14.84 10-27 24.24-30.59l174.59-46.68A20 20 0 01416 154v22' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M416 295.94v80c0 13.91-8.93 25.59-22 30l-22 8c-25.9 8.72-52-10.42-52-38h0a33.37 33.37 0 0123-32l51-18.15c13.07-4.4 22-15.94 22-29.85V58a10 10 0 00-12.6-9.61L204 102a16.48 16.48 0 00-12 16v226c0 13.91-8.93 25.6-22 30l-52 18c-13.88 4.68-22 17.22-22 32h0c0 27.58 26.52 46.55 52 38l22-8c13.07-4.4 22-16.08 22-30v-80' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",xx="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M208 432h-48a16 16 0 01-16-16V96a16 16 0 0116-16h48a16 16 0 0116 16v320a16 16 0 01-16 16zM352 432h-48a16 16 0 01-16-16V96a16 16 0 0116-16h48a16 16 0 0116 16v320a16 16 0 01-16 16z'/></svg>",T6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='128' y='16' width='256' height='480' rx='48' ry='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M176 16h24a8 8 0 018 8h0a16 16 0 0016 16h64a16 16 0 0016-16h0a8 8 0 018-8h24' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",hc="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M133 440a35.37 35.37 0 01-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37 7.46-27.53 19.46-34.33a35.13 35.13 0 0135.77.45l247.85 148.36a36 36 0 010 61l-247.89 148.4A35.5 35.5 0 01133 440z'/></svg>",O6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M112 64a16 16 0 0116 16v136.43L360.77 77.11a35.13 35.13 0 0135.77-.44c12 6.8 19.46 20 19.46 34.33v290c0 14.37-7.46 27.53-19.46 34.33a35.14 35.14 0 01-35.77-.45L128 295.57V432a16 16 0 01-32 0V80a16 16 0 0116-16z'/></svg>",R6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M400 64a16 16 0 00-16 16v136.43L151.23 77.11a35.13 35.13 0 00-35.77-.44C103.46 83.47 96 96.63 96 111v290c0 14.37 7.46 27.53 19.46 34.33a35.14 35.14 0 0035.77-.45L384 295.57V432a16 16 0 0032 0V80a16 16 0 00-16-16z'/></svg>",wx="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='336' y='336' width='80' height='80' rx='8' ry='8'/><rect x='272' y='272' width='64' height='64' rx='8' ry='8'/><rect x='416' y='416' width='64' height='64' rx='8' ry='8'/><rect x='432' y='272' width='48' height='48' rx='8' ry='8'/><rect x='272' y='432' width='48' height='48' rx='8' ry='8'/><path d='M448 32H304a32 32 0 00-32 32v144a32 32 0 0032 32h144a32 32 0 0032-32V64a32 32 0 00-32-32zm-32 136a8 8 0 01-8 8h-64a8 8 0 01-8-8v-64a8 8 0 018-8h64a8 8 0 018 8zM208 32H64a32 32 0 00-32 32v144a32 32 0 0032 32h144a32 32 0 0032-32V64a32 32 0 00-32-32zm-32 136a8 8 0 01-8 8h-64a8 8 0 01-8-8v-64a8 8 0 018-8h64a8 8 0 018 8zM208 272H64a32 32 0 00-32 32v144a32 32 0 0032 32h144a32 32 0 0032-32V304a32 32 0 00-32-32zm-32 136a8 8 0 01-8 8h-64a8 8 0 01-8-8v-64a8 8 0 018-8h64a8 8 0 018 8z'/></svg>",I6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='336' y='336' width='80' height='80' rx='8' ry='8'/><rect x='272' y='272' width='64' height='64' rx='8' ry='8'/><rect x='416' y='416' width='64' height='64' rx='8' ry='8'/><rect x='432' y='272' width='48' height='48' rx='8' ry='8'/><rect x='272' y='432' width='48' height='48' rx='8' ry='8'/><rect x='336' y='96' width='80' height='80' rx='8' ry='8'/><rect x='288' y='48' width='176' height='176' rx='16' ry='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='96' y='96' width='80' height='80' rx='8' ry='8'/><rect x='48' y='48' width='176' height='176' rx='16' ry='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='96' y='336' width='80' height='80' rx='8' ry='8'/><rect x='48' y='288' width='176' height='176' rx='16' ry='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",D6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M269 335.61q-6.33.47-12.78.47c-5.23 0-10.4-.24-15.51-.69a176.11 176.11 0 01-127.67-72.94 4 4 0 00-6.77.35l-72 129.4c-2.74 5-3.17 11-.28 15.88A16.78 16.78 0 0048.22 416h78a15.28 15.28 0 0113.62 7.33L178.5 488a16.26 16.26 0 0013.75 8c5.94-.33 12.09-4.19 14.56-9.6l66.11-145.15a4 4 0 00-3.92-5.64zM477.64 391.88l-71.53-129.17a4 4 0 00-6.74-.36 176.5 176.5 0 01-78.31 61.42 16.09 16.09 0 00-8.72 8.25l-36.86 81.1a7.92 7.92 0 000 6.6l30.27 66.59c2.45 5.41 8.59 9.36 14.52 9.69a16.3 16.3 0 0013.7-8.12l38.53-64.58c2.89-4.85 8.13-7.33 13.78-7.3h78.77c6.67 0 11.72-3.48 14-10a16.92 16.92 0 00-1.41-14.12z'/><ellipse cx='256.26' cy='160' rx='48.01' ry='48'/><path d='M256.26 16c-79.42 0-144 64.59-144 144s64.61 144 144 144 144-64.6 144-144-64.59-144-144-144zm0 224a80 80 0 1180-80 80.1 80.1 0 01-80 80z'/></svg>",N6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='160' r='128' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M143.65 227.82L48 400l86.86-.42a16 16 0 0113.82 7.8L192 480l88.33-194.32' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M366.54 224L464 400l-86.86-.42a16 16 0 00-13.82 7.8L320 480l-64-140.8' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='256' cy='160' r='64' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",M6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='184' cy='232' r='24'/><path d='M256 288c45.42 0 83.62 29.53 95.71 69.83a8 8 0 01-7.87 10.17H168.15a8 8 0 01-7.82-10.17C172.32 317.53 210.53 288 256 288z'/><circle cx='328' cy='232' r='24'/><circle cx='256' cy='256' r='208' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",vx="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M342 444h46a56 56 0 0056-56v-46M444 170v-46a56 56 0 00-56-56h-46M170 444h-46a56 56 0 01-56-56v-46M68 170v-46a56 56 0 0156-56h46' stroke-linecap='round' stroke-linejoin='round' stroke-width='44' class='ionicon-fill-none'/></svg>",k6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 368a16 16 0 01-7.94-2.11L108 285.84a8 8 0 00-12 6.94V368a16 16 0 008.23 14l144 80a16 16 0 0015.54 0l144-80a16 16 0 008.23-14v-75.22a8 8 0 00-12-6.94l-140.06 80.05A16 16 0 01256 368z'/><path d='M495.92 190.5v-.11a16 16 0 00-8-12.28l-224-128a16 16 0 00-15.88 0l-224 128a16 16 0 000 27.78l224 128a16 16 0 0015.88 0L461 221.28a2 2 0 013 1.74v144.53c0 8.61 6.62 16 15.23 16.43A16 16 0 00496 368V192a14.76 14.76 0 00-.08-1.5z'/></svg>",yx="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M338.29 338.29L448 448' class='ionicon-fill-none ionicon-stroke-width'/></svg>",bx="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M336 192h40a40 40 0 0140 40v192a40 40 0 01-40 40H136a40 40 0 01-40-40V232a40 40 0 0140-40h40M336 128l-80-80-80 80M256 321V48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",j6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M425.7 118.25A240 240 0 0076.32 447l.18.2c.33.35.64.71 1 1.05.74.84 1.58 1.79 2.57 2.78a41.17 41.17 0 0060.36-.42 157.13 157.13 0 01231.26 0 41.18 41.18 0 0060.65.06l3.21-3.5.18-.2a239.93 239.93 0 00-10-328.76zM240 128a16 16 0 0132 0v32a16 16 0 01-32 0zM128 304H96a16 16 0 010-32h32a16 16 0 010 32zm48.8-95.2a16 16 0 01-22.62 0l-22.63-22.62a16 16 0 0122.63-22.63l22.62 22.63a16 16 0 010 22.62zm149.3 23.1l-47.5 75.5a31 31 0 01-7 7 30.11 30.11 0 01-35-49l75.5-47.5a10.23 10.23 0 0111.7 0 10.06 10.06 0 012.3 14zm31.72-23.1a16 16 0 01-22.62-22.62l22.62-22.63a16 16 0 0122.63 22.63zm65.88 227.6zM416 304h-32a16 16 0 010-32h32a16 16 0 010 32z'/></svg>",B6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M394 480a16 16 0 01-9.39-3L256 383.76 127.39 477a16 16 0 01-24.55-18.08L153 310.35 23 221.2a16 16 0 019-29.2h160.38l48.4-148.95a16 16 0 0130.44 0l48.4 149H480a16 16 0 019.05 29.2L359 310.35l50.13 148.53A16 16 0 01394 480z'/></svg>",L6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 118a22 22 0 01-22-22V48a22 22 0 0144 0v48a22 22 0 01-22 22zM256 486a22 22 0 01-22-22v-48a22 22 0 0144 0v48a22 22 0 01-22 22zM369.14 164.86a22 22 0 01-15.56-37.55l33.94-33.94a22 22 0 0131.11 31.11l-33.94 33.94a21.93 21.93 0 01-15.55 6.44zM108.92 425.08a22 22 0 01-15.55-37.56l33.94-33.94a22 22 0 1131.11 31.11l-33.94 33.94a21.94 21.94 0 01-15.56 6.45zM464 278h-48a22 22 0 010-44h48a22 22 0 010 44zM96 278H48a22 22 0 010-44h48a22 22 0 010 44zM403.08 425.08a21.94 21.94 0 01-15.56-6.45l-33.94-33.94a22 22 0 0131.11-31.11l33.94 33.94a22 22 0 01-15.55 37.56zM142.86 164.86a21.89 21.89 0 01-15.55-6.44l-33.94-33.94a22 22 0 0131.11-31.11l33.94 33.94a22 22 0 01-15.56 37.55zM256 358a102 102 0 11102-102 102.12 102.12 0 01-102 102z'/></svg>",Eg="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-miterlimit='10' d='M256 48v48M256 416v48M403.08 108.92l-33.94 33.94M142.86 369.14l-33.94 33.94M464 256h-48M96 256H48M403.08 403.08l-33.94-33.94M142.86 142.86l-33.94-33.94' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='256' cy='256' r='80' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",P6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M304 48l112 112-112 112M398.87 160H96M208 464L96 352l112-112M114 352h302' class='ionicon-fill-none ionicon-stroke-width'/></svg>",z6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.13 48 48 141.13 48 256s93.13 208 208 208 208-93.13 208-208S370.87 48 256 48zm96 240h-96a16 16 0 01-16-16V128a16 16 0 0132 0v128h80a16 16 0 010 32z'/></svg>",U6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M296 64h-80a7.91 7.91 0 00-8 8v24h96V72a7.91 7.91 0 00-8-8z' class='ionicon-fill-none'/><path d='M432 96h-96V72a40 40 0 00-40-40h-80a40 40 0 00-40 40v24H80a16 16 0 000 32h17l19 304.92c1.42 26.85 22 47.08 48 47.08h184c26.13 0 46.3-19.78 48-47l19-305h17a16 16 0 000-32zM192.57 416H192a16 16 0 01-16-15.43l-8-224a16 16 0 1132-1.14l8 224A16 16 0 01192.57 416zM272 400a16 16 0 01-32 0V176a16 16 0 0132 0zm32-304h-96V72a7.91 7.91 0 018-8h80a7.91 7.91 0 018 8zm32 304.57A16 16 0 01320 416h-.58A16 16 0 01304 399.43l8-224a16 16 0 1132 1.14z'/></svg>",F6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M464 80h-60.1a4 4 0 01-4-4V63.92a32 32 0 00-32-31.92l-223.79.26a32 32 0 00-31.94 31.93V76a4 4 0 01-4 4H48a16 16 0 00-16 16v16c0 54.53 30 112.45 76.52 125.35a7.82 7.82 0 015.55 5.9c5.77 26.89 23.52 52.5 51.41 73.61 20.91 15.83 45.85 27.5 68.27 32.48a8 8 0 016.25 7.8V444a4 4 0 01-4 4h-59.55c-8.61 0-16 6.62-16.43 15.23A16 16 0 00176 480h159.55c8.61 0 16-6.62 16.43-15.23A16 16 0 00336 448h-60a4 4 0 01-4-4v-86.86a8 8 0 016.25-7.8c22.42-5 47.36-16.65 68.27-32.48 27.89-21.11 45.64-46.72 51.41-73.61a7.82 7.82 0 015.55-5.9C450 224.45 480 166.53 480 112V96a16 16 0 00-16-16zM112 198.22a4 4 0 01-6 3.45c-10.26-6.11-17.75-15.37-22.14-21.89-11.91-17.69-19-40.67-19.79-63.63a4 4 0 014-4.15h40a4 4 0 014 4c-.02 27.45-.07 58.87-.07 82.22zm316.13-18.44c-4.39 6.52-11.87 15.78-22.13 21.89a4 4 0 01-6-3.46c0-26.51 0-56.63-.05-82.21a4 4 0 014-4h40a4 4 0 014 4.15c-.79 22.96-7.9 45.94-19.81 63.63z'/></svg>",V6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M464 384.39a32 32 0 01-13-2.77 15.77 15.77 0 01-2.71-1.54l-82.71-58.22A32 32 0 01352 295.7v-79.4a32 32 0 0113.58-26.16l82.71-58.22a15.77 15.77 0 012.71-1.54 32 32 0 0145 29.24v192.76a32 32 0 01-32 32zM268 400H84a68.07 68.07 0 01-68-68V180a68.07 68.07 0 0168-68h184.48A67.6 67.6 0 01336 179.52V332a68.07 68.07 0 01-68 68z'/></svg>",G6=()=>{const{t:e}=qn(),t=Gs(),{signIn:n,signUp:i,signInWithGoogle:a,signInWithApple:o,continueAsGuest:d}=Qb(),[m,p]=Y.useState(!1),[x,b]=Y.useState(!1),[y,C]=Y.useState(""),[S,N]=Y.useState(""),[M,B]=Y.useState(!1),[T,A]=Y.useState(!1),[_,D]=Y.useState(""),P=async()=>{A(!0),D("");const{error:V}=await a();V&&(D(V.message),A(!1))},G=async()=>{A(!0),D("");const{error:V}=await o();V&&(D(V.message),A(!1))},z=async()=>{if(!y||!S){D(e("pleaseEnterEmailPassword")||"Please enter email and password");return}A(!0),D("");const{error:V}=x?await i(y,S):await n(y,S);V?(D(V.message),A(!1)):x?(D(e("checkEmailVerification")||"Please check your email to verify your account"),A(!1)):t.push("/tabs/gallery")},k=()=>{d(),t.push("/tabs/gallery")};return g.jsx(Zt,{children:g.jsx(Vt,{fullscreen:!0,className:"welcome-content",children:g.jsxs("div",{className:"welcome-container",children:[g.jsxs("div",{className:"welcome-header",children:[g.jsx("div",{className:"logo-container",children:g.jsxs("svg",{className:"museum-logo",width:"120",height:"120",viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("polyline",{points:"25,50 60,18 95,50",stroke:"rgba(255, 255, 255, 0.95)",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),g.jsx("polyline",{points:"32,44 60,25 88,44",stroke:"rgba(255, 255, 255, 0.95)",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),g.jsx("line",{x1:"35",y1:"55",x2:"35",y2:"85",stroke:"rgba(255, 255, 255, 0.95)",strokeWidth:"3",strokeLinecap:"round"}),g.jsx("line",{x1:"60",y1:"55",x2:"60",y2:"95",stroke:"rgba(255, 255, 255, 0.95)",strokeWidth:"3",strokeLinecap:"round"}),g.jsx("line",{x1:"85",y1:"55",x2:"85",y2:"85",stroke:"rgba(255, 255, 255, 0.95)",strokeWidth:"3",strokeLinecap:"round"}),g.jsx("line",{x1:"25",y1:"100",x2:"95",y2:"100",stroke:"rgba(255, 255, 255, 0.95)",strokeWidth:"3",strokeLinecap:"round"})]})}),g.jsx("h1",{className:"app-title",children:e("virtualMuseum")||"Virtual Museum"}),g.jsx("p",{className:"app-tagline",children:e("exploreHistory")||"Explore History in Your Hands"})]}),g.jsxs("div",{className:"auth-container",children:[m?g.jsx(g.Fragment,{children:g.jsx(Ie,{className:"auth-card",children:g.jsxs(De,{children:[g.jsx("h2",{className:"auth-title",children:x?e("signUp")||"Sign Up":e("login")||"Login"}),_&&g.jsx(gc,{color:"danger",className:"error-text",children:g.jsx("p",{children:_})}),g.jsxs(Se,{lines:"none",className:"auth-input",children:[g.jsx(ie,{icon:bg,slot:"start"}),g.jsx(ha,{type:"email",placeholder:e("email")||"Email",value:y,onIonInput:V=>C(V.detail.value)})]}),g.jsxs(Se,{lines:"none",className:"auth-input",children:[g.jsx(ie,{icon:w6,slot:"start"}),g.jsx(ha,{type:M?"text":"password",placeholder:e("password")||"Password",value:S,onIonInput:V=>N(V.detail.value)}),g.jsx(ie,{icon:M?o6:a6,slot:"end",onClick:()=>B(!M),style:{cursor:"pointer"}})]}),g.jsx(Ce,{expand:"block",onClick:z,disabled:T,className:"submit-button",children:T?g.jsx(Ps,{name:"crescent"}):x?e("signUp")||"Sign Up":e("login")||"Login"}),g.jsxs("div",{className:"auth-switch",children:[g.jsx(gc,{children:x?e("alreadyHaveAccount")||"Already have an account?":e("dontHaveAccount")||"Don't have an account?"}),g.jsx(Ce,{fill:"clear",size:"small",onClick:()=>{b(!x),D("")},children:x?e("login")||"Login":e("signUp")||"Sign Up"})]}),g.jsx(Ce,{fill:"clear",size:"small",onClick:()=>p(!1),className:"back-button",children:e("back")||"Back"})]})})}):g.jsxs(g.Fragment,{children:[g.jsxs(Ce,{expand:"block",className:"social-button google-button",onClick:P,disabled:T,children:[g.jsx(ie,{slot:"start",icon:b6}),e("continueWithGoogle")||"Continue with Google"]}),g.jsxs(Ce,{expand:"block",className:"social-button apple-button",onClick:G,disabled:T,children:[g.jsx(ie,{slot:"start",icon:y6}),e("continueWithApple")||"Continue with Apple"]}),g.jsx("div",{className:"divider",children:g.jsx("span",{children:e("or")||"or"})}),g.jsxs(Ce,{expand:"block",fill:"outline",className:"email-toggle-button",onClick:()=>p(!0),children:[g.jsx(ie,{slot:"start",icon:bg}),e("continueWithEmail")||"Continue with Email"]})]}),g.jsx("div",{className:"guest-mode",children:g.jsx(Ce,{fill:"clear",onClick:k,className:"guest-button",children:e("continueAsGuest")||"Continue as Guest"})})]}),g.jsx("div",{className:"welcome-footer",children:g.jsx("p",{children:e("welcomeFooter")||"Discover ancient artifacts, explore 3D exhibits, and test your knowledge"})})]})})})};function Ag(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function e0(e={},t={}){const n=["__proto__","constructor","prototype"];Object.keys(t).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof e[i]>"u"?e[i]=t[i]:Ag(t[i])&&Ag(e[i])&&Object.keys(t[i]).length>0&&e0(e[i],t[i])})}const Ex={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Ir(){const e=typeof document<"u"?document:{};return e0(e,Ex),e}const H6={document:Ex,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function bn(){const e=typeof window<"u"?window:{};return e0(e,H6),e}function q6(e=""){return e.trim().split(" ").filter(t=>!!t.trim())}function X6(e){const t=e;Object.keys(t).forEach(n=>{try{t[n]=null}catch(i){}try{delete t[n]}catch(i){}})}function Ax(e,t=0){return setTimeout(e,t)}function Wc(){return Date.now()}function W6(e){const t=bn();let n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}function Y6(e,t="x"){const n=bn();let i,a,o;const d=W6(e);return n.WebKitCSSMatrix?(a=d.transform||d.webkitTransform,a.split(",").length>6&&(a=a.split(", ").map(m=>m.replace(",",".")).join(", ")),o=new n.WebKitCSSMatrix(a==="none"?"":a)):(o=d.MozTransform||d.OTransform||d.MsTransform||d.msTransform||d.transform||d.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=o.toString().split(",")),t==="x"&&(n.WebKitCSSMatrix?a=o.m41:i.length===16?a=parseFloat(i[12]):a=parseFloat(i[4])),t==="y"&&(n.WebKitCSSMatrix?a=o.m42:i.length===16?a=parseFloat(i[13]):a=parseFloat(i[5])),a||0}function $l(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function Q6(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function Bn(...e){const t=Object(e[0]),n=["__proto__","constructor","prototype"];for(let i=1;i<e.length;i+=1){const a=e[i];if(a!=null&&!Q6(a)){const o=Object.keys(Object(a)).filter(d=>n.indexOf(d)<0);for(let d=0,m=o.length;d<m;d+=1){const p=o[d],x=Object.getOwnPropertyDescriptor(a,p);x!==void 0&&x.enumerable&&($l(t[p])&&$l(a[p])?a[p].__swiper__?t[p]=a[p]:Bn(t[p],a[p]):!$l(t[p])&&$l(a[p])?(t[p]={},a[p].__swiper__?t[p]=a[p]:Bn(t[p],a[p])):t[p]=a[p])}}}return t}function Jl(e,t,n){e.style.setProperty(t,n)}function Sx({swiper:e,targetPosition:t,side:n}){const i=bn(),a=-e.translate;let o=null,d;const m=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const p=t>a?"next":"prev",x=(y,C)=>p==="next"&&y>=C||p==="prev"&&y<=C,b=()=>{d=new Date().getTime(),o===null&&(o=d);const y=Math.max(Math.min((d-o)/m,1),0),C=.5-Math.cos(y*Math.PI)/2;let S=a+C*(t-a);if(x(S,t)&&(S=t),e.wrapperEl.scrollTo({[n]:S}),x(S,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[n]:S})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(b)};b()}function Ii(e,t=""){const n=bn(),i=[...e.children];return n.HTMLSlotElement&&e instanceof HTMLSlotElement&&i.push(...e.assignedElements()),t?i.filter(a=>a.matches(t)):i}function K6(e,t){const n=[t];for(;n.length>0;){const i=n.shift();if(e===i)return!0;n.push(...i.children,...i.shadowRoot?i.shadowRoot.children:[],...i.assignedElements?i.assignedElements():[])}}function Z6(e,t){const n=bn();let i=t.contains(e);return!i&&n.HTMLSlotElement&&t instanceof HTMLSlotElement&&(i=[...t.assignedElements()].includes(e),i||(i=K6(e,t))),i}function Yc(e){try{console.warn(e);return}catch(t){}}function Qc(e,t=[]){const n=document.createElement(e);return n.classList.add(...Array.isArray(t)?t:q6(t)),n}function $6(e,t){const n=[];for(;e.previousElementSibling;){const i=e.previousElementSibling;t?i.matches(t)&&n.push(i):n.push(i),e=i}return n}function J6(e,t){const n=[];for(;e.nextElementSibling;){const i=e.nextElementSibling;t?i.matches(t)&&n.push(i):n.push(i),e=i}return n}function Rs(e,t){return bn().getComputedStyle(e,null).getPropertyValue(t)}function Kc(e){let t=e,n;if(t){for(n=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(n+=1);return n}}function Cx(e,t){const n=[];let i=e.parentElement;for(;i;)t?i.matches(t)&&n.push(i):n.push(i),i=i.parentElement;return n}function Wh(e,t,n){const i=bn();return e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom"))}function Vi(e){return(Array.isArray(e)?e:[e]).filter(t=>!!t)}function Zc(e,t=""){typeof trustedTypes<"u"?e.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(t):e.innerHTML=t}let Md;function e8(){const e=bn(),t=Ir();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function _x(){return Md||(Md=e8()),Md}let kd;function t8({userAgent:e}={}){const t=_x(),n=bn(),i=n.navigator.platform,a=e||n.navigator.userAgent,o={ios:!1,android:!1},d=n.screen.width,m=n.screen.height,p=a.match(/(Android);?[\s\/]+([\d.]+)?/);let x=a.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const b=a.match(/(iPod)(.*OS\s([\d_]+))?/),y=!x&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),C=i==="Win32";let S=i==="MacIntel";const N=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!x&&S&&t.touch&&N.indexOf("".concat(d,"x").concat(m))>=0&&(x=a.match(/(Version)\/([\d.]+)/),x||(x=[0,1,"13_0_0"]),S=!1),p&&!C&&(o.os="android",o.android=!0),(x||y||b)&&(o.os="ios",o.ios=!0),o}function Tx(e={}){return kd||(kd=t8(e)),kd}let jd;function n8(){const e=bn(),t=Tx();let n=!1;function i(){const m=e.navigator.userAgent.toLowerCase();return m.indexOf("safari")>=0&&m.indexOf("chrome")<0&&m.indexOf("android")<0}if(i()){const m=String(e.navigator.userAgent);if(m.includes("Version/")){const[p,x]=m.split("Version/")[1].split(" ")[0].split(".").map(b=>Number(b));n=p<16||p===16&&x<2}}const a=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),o=i(),d=o||a&&t.ios;return{isSafari:n||o,needPerspectiveFix:n,need3dFix:d,isWebView:a}}function Ox(){return jd||(jd=n8()),jd}function i8({swiper:e,on:t,emit:n}){const i=bn();let a=null,o=null;const d=()=>{!e||e.destroyed||!e.initialized||(n("beforeResize"),n("resize"))},m=()=>{!e||e.destroyed||!e.initialized||(a=new ResizeObserver(b=>{o=i.requestAnimationFrame(()=>{const{width:y,height:C}=e;let S=y,N=C;b.forEach(({contentBoxSize:M,contentRect:B,target:T})=>{T&&T!==e.el||(S=B?B.width:(M[0]||M).inlineSize,N=B?B.height:(M[0]||M).blockSize)}),(S!==y||N!==C)&&d()})}),a.observe(e.el))},p=()=>{o&&i.cancelAnimationFrame(o),a&&a.unobserve&&e.el&&(a.unobserve(e.el),a=null)},x=()=>{!e||e.destroyed||!e.initialized||n("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){m();return}i.addEventListener("resize",d),i.addEventListener("orientationchange",x)}),t("destroy",()=>{p(),i.removeEventListener("resize",d),i.removeEventListener("orientationchange",x)})}function s8({swiper:e,extendParams:t,on:n,emit:i}){const a=[],o=bn(),d=(x,b={})=>{const y=o.MutationObserver||o.WebkitMutationObserver,C=new y(S=>{if(e.__preventObserver__)return;if(S.length===1){i("observerUpdate",S[0]);return}const N=function(){i("observerUpdate",S[0])};o.requestAnimationFrame?o.requestAnimationFrame(N):o.setTimeout(N,0)});C.observe(x,{attributes:typeof b.attributes>"u"?!0:b.attributes,childList:e.isElement||(typeof b.childList>"u"?!0:b).childList,characterData:typeof b.characterData>"u"?!0:b.characterData}),a.push(C)},m=()=>{if(e.params.observer){if(e.params.observeParents){const x=Cx(e.hostEl);for(let b=0;b<x.length;b+=1)d(x[b])}d(e.hostEl,{childList:e.params.observeSlideChildren}),d(e.wrapperEl,{attributes:!1})}},p=()=>{a.forEach(x=>{x.disconnect()}),a.splice(0,a.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",m),n("destroy",p)}var r8={on(e,t,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof t!="function")return i;const a=n?"unshift":"push";return e.split(" ").forEach(o=>{i.eventsListeners[o]||(i.eventsListeners[o]=[]),i.eventsListeners[o][a](t)}),i},once(e,t,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof t!="function")return i;function a(...o){i.off(e,a),a.__emitterProxy&&delete a.__emitterProxy,t.apply(i,o)}return a.__emitterProxy=t,i.on(e,a,n)},onAny(e,t){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;const i=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[i](e),n},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||e.split(" ").forEach(i=>{typeof t>"u"?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].forEach((a,o)=>{(a===t||a.__emitterProxy&&a.__emitterProxy===t)&&n.eventsListeners[i].splice(o,1)})}),n},emit(...e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let n,i,a;return typeof e[0]=="string"||Array.isArray(e[0])?(n=e[0],i=e.slice(1,e.length),a=t):(n=e[0].events,i=e[0].data,a=e[0].context||t),i.unshift(a),(Array.isArray(n)?n:n.split(" ")).forEach(d=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(m=>{m.apply(a,[d,...i])}),t.eventsListeners&&t.eventsListeners[d]&&t.eventsListeners[d].forEach(m=>{m.apply(a,i)})}),t}};function a8(){const e=this;let t,n;const i=e.el;typeof e.params.width<"u"&&e.params.width!==null?t=e.params.width:t=i.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?n=e.params.height:n=i.clientHeight,!(t===0&&e.isHorizontal()||n===0&&e.isVertical())&&(t=t-parseInt(Rs(i,"padding-left")||0,10)-parseInt(Rs(i,"padding-right")||0,10),n=n-parseInt(Rs(i,"padding-top")||0,10)-parseInt(Rs(i,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))}function o8(){const e=this;function t(Z,ee){return parseFloat(Z.getPropertyValue(e.getDirectionLabel(ee))||0)}const n=e.params,{wrapperEl:i,slidesEl:a,rtlTranslate:o,wrongRTL:d}=e,m=e.virtual&&n.virtual.enabled,p=m?e.virtual.slides.length:e.slides.length,x=Ii(a,".".concat(e.params.slideClass,", swiper-slide")),b=m?e.virtual.slides.length:x.length;let y=[];const C=[],S=[];let N=n.slidesOffsetBefore;typeof N=="function"&&(N=n.slidesOffsetBefore.call(e));let M=n.slidesOffsetAfter;typeof M=="function"&&(M=n.slidesOffsetAfter.call(e));const B=e.snapGrid.length,T=e.slidesGrid.length,A=e.size-N-M;let _=n.spaceBetween,D=-N,P=0,G=0;if(typeof A>"u")return;typeof _=="string"&&_.indexOf("%")>=0?_=parseFloat(_.replace("%",""))/100*A:typeof _=="string"&&(_=parseFloat(_)),e.virtualSize=-_-N-M,x.forEach(Z=>{o?Z.style.marginLeft="":Z.style.marginRight="",Z.style.marginBottom="",Z.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Jl(i,"--swiper-centered-offset-before",""),Jl(i,"--swiper-centered-offset-after",""));const z=n.grid&&n.grid.rows>1&&e.grid;z?e.grid.initSlides(x):e.grid&&e.grid.unsetSlides();let k;const V=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(Z=>typeof n.breakpoints[Z].slidesPerView<"u").length>0;for(let Z=0;Z<b;Z+=1){k=0;const ee=x[Z];if(!(ee&&(z&&e.grid.updateSlide(Z,ee,x),Rs(ee,"display")==="none"))){if(m&&n.slidesPerView==="auto")n.virtual.slidesPerViewAutoSlideSize&&(k=n.virtual.slidesPerViewAutoSlideSize),k&&ee&&(n.roundLengths&&(k=Math.floor(k)),ee.style[e.getDirectionLabel("width")]="".concat(k,"px"));else if(n.slidesPerView==="auto"){V&&(ee.style[e.getDirectionLabel("width")]="");const q=getComputedStyle(ee),$=ee.style.transform,oe=ee.style.webkitTransform;if($&&(ee.style.transform="none"),oe&&(ee.style.webkitTransform="none"),n.roundLengths)k=e.isHorizontal()?Wh(ee,"width"):Wh(ee,"height");else{const H=t(q,"width"),re=t(q,"padding-left"),ce=t(q,"padding-right"),se=t(q,"margin-left"),xe=t(q,"margin-right"),_e=q.getPropertyValue("box-sizing");if(_e&&_e==="border-box")k=H+se+xe;else{const{clientWidth:ln,offsetWidth:wt}=ee;k=H+re+ce+se+xe+(wt-ln)}}$&&(ee.style.transform=$),oe&&(ee.style.webkitTransform=oe),n.roundLengths&&(k=Math.floor(k))}else k=(A-(n.slidesPerView-1)*_)/n.slidesPerView,n.roundLengths&&(k=Math.floor(k)),ee&&(ee.style[e.getDirectionLabel("width")]="".concat(k,"px"));ee&&(ee.swiperSlideSize=k),S.push(k),n.centeredSlides?(D=D+k/2+P/2+_,P===0&&Z!==0&&(D=D-A/2-_),Z===0&&(D=D-A/2-_),Math.abs(D)<1/1e3&&(D=0),n.roundLengths&&(D=Math.floor(D)),G%n.slidesPerGroup===0&&y.push(D),C.push(D)):(n.roundLengths&&(D=Math.floor(D)),(G-Math.min(e.params.slidesPerGroupSkip,G))%e.params.slidesPerGroup===0&&y.push(D),C.push(D),D=D+k+_),e.virtualSize+=k+_,P=k,G+=1}}if(e.virtualSize=Math.max(e.virtualSize,A)+M,o&&d&&(n.effect==="slide"||n.effect==="coverflow")&&(i.style.width="".concat(e.virtualSize+_,"px")),n.setWrapperSize&&(i.style[e.getDirectionLabel("width")]="".concat(e.virtualSize+_,"px")),z&&e.grid.updateWrapperSize(k,y),!n.centeredSlides){const Z=[];for(let ee=0;ee<y.length;ee+=1){let q=y[ee];n.roundLengths&&(q=Math.floor(q)),y[ee]<=e.virtualSize-A&&Z.push(q)}y=Z,Math.floor(e.virtualSize-A)-Math.floor(y[y.length-1])>1&&y.push(e.virtualSize-A)}if(m&&n.loop){const Z=S[0]+_;if(n.slidesPerGroup>1){const ee=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/n.slidesPerGroup),q=Z*n.slidesPerGroup;for(let $=0;$<ee;$+=1)y.push(y[y.length-1]+q)}for(let ee=0;ee<e.virtual.slidesBefore+e.virtual.slidesAfter;ee+=1)n.slidesPerGroup===1&&y.push(y[y.length-1]+Z),C.push(C[C.length-1]+Z),e.virtualSize+=Z}if(y.length===0&&(y=[0]),_!==0){const Z=e.isHorizontal()&&o?"marginLeft":e.getDirectionLabel("marginRight");x.filter((ee,q)=>!n.cssMode||n.loop?!0:q!==x.length-1).forEach(ee=>{ee.style[Z]="".concat(_,"px")})}if(n.centeredSlides&&n.centeredSlidesBounds){let Z=0;S.forEach(q=>{Z+=q+(_||0)}),Z-=_;const ee=Z>A?Z-A:0;y=y.map(q=>q<=0?-N:q>ee?ee+M:q)}if(n.centerInsufficientSlides){let Z=0;S.forEach(q=>{Z+=q+(_||0)}),Z-=_;const ee=(N||0)+(M||0);if(Z+ee<A){const q=(A-Z-ee)/2;y.forEach(($,oe)=>{y[oe]=$-q}),C.forEach(($,oe)=>{C[oe]=$+q})}}if(Object.assign(e,{slides:x,snapGrid:y,slidesGrid:C,slidesSizesGrid:S}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Jl(i,"--swiper-centered-offset-before","".concat(-y[0],"px")),Jl(i,"--swiper-centered-offset-after","".concat(e.size/2-S[S.length-1]/2,"px"));const Z=-e.snapGrid[0],ee=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(q=>q+Z),e.slidesGrid=e.slidesGrid.map(q=>q+ee)}if(b!==p&&e.emit("slidesLengthChange"),y.length!==B&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),C.length!==T&&e.emit("slidesGridLengthChange"),n.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!m&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const Z="".concat(n.containerModifierClass,"backface-hidden"),ee=e.el.classList.contains(Z);b<=n.maxBackfaceHiddenSlides?ee||e.el.classList.add(Z):ee&&e.el.classList.remove(Z)}}function l8(e){const t=this,n=[],i=t.virtual&&t.params.virtual.enabled;let a=0,o;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);const d=m=>i?t.slides[t.getSlideIndexByData(m)]:t.slides[m];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(m=>{n.push(m)});else for(o=0;o<Math.ceil(t.params.slidesPerView);o+=1){const m=t.activeIndex+o;if(m>t.slides.length&&!i)break;n.push(d(m))}else n.push(d(t.activeIndex));for(o=0;o<n.length;o+=1)if(typeof n[o]<"u"){const m=n[o].offsetHeight;a=m>a?m:a}(a||a===0)&&(t.wrapperEl.style.height="".concat(a,"px"))}function c8(){const e=this,t=e.slides,n=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let i=0;i<t.length;i+=1)t[i].swiperSlideOffset=(e.isHorizontal()?t[i].offsetLeft:t[i].offsetTop)-n-e.cssOverflowAdjustment()}const Sg=(e,t,n)=>{t&&!e.classList.contains(n)?e.classList.add(n):!t&&e.classList.contains(n)&&e.classList.remove(n)};function u8(e=this&&this.translate||0){const t=this,n=t.params,{slides:i,rtlTranslate:a,snapGrid:o}=t;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let d=-e;a&&(d=e),t.visibleSlidesIndexes=[],t.visibleSlides=[];let m=n.spaceBetween;typeof m=="string"&&m.indexOf("%")>=0?m=parseFloat(m.replace("%",""))/100*t.size:typeof m=="string"&&(m=parseFloat(m));for(let p=0;p<i.length;p+=1){const x=i[p];let b=x.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(b-=i[0].swiperSlideOffset);const y=(d+(n.centeredSlides?t.minTranslate():0)-b)/(x.swiperSlideSize+m),C=(d-o[0]+(n.centeredSlides?t.minTranslate():0)-b)/(x.swiperSlideSize+m),S=-(d-b),N=S+t.slidesSizesGrid[p],M=S>=0&&S<=t.size-t.slidesSizesGrid[p],B=S>=0&&S<t.size-1||N>1&&N<=t.size||S<=0&&N>=t.size;B&&(t.visibleSlides.push(x),t.visibleSlidesIndexes.push(p)),Sg(x,B,n.slideVisibleClass),Sg(x,M,n.slideFullyVisibleClass),x.progress=a?-y:y,x.originalProgress=a?-C:C}}function d8(e){const t=this;if(typeof e>"u"){const b=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*b||0}const n=t.params,i=t.maxTranslate()-t.minTranslate();let{progress:a,isBeginning:o,isEnd:d,progressLoop:m}=t;const p=o,x=d;if(i===0)a=0,o=!0,d=!0;else{a=(e-t.minTranslate())/i;const b=Math.abs(e-t.minTranslate())<1,y=Math.abs(e-t.maxTranslate())<1;o=b||a<=0,d=y||a>=1,b&&(a=0),y&&(a=1)}if(n.loop){const b=t.getSlideIndexByData(0),y=t.getSlideIndexByData(t.slides.length-1),C=t.slidesGrid[b],S=t.slidesGrid[y],N=t.slidesGrid[t.slidesGrid.length-1],M=Math.abs(e);M>=C?m=(M-C)/N:m=(M+N-S)/N,m>1&&(m-=1)}Object.assign(t,{progress:a,progressLoop:m,isBeginning:o,isEnd:d}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),o&&!p&&t.emit("reachBeginning toEdge"),d&&!x&&t.emit("reachEnd toEdge"),(p&&!o||x&&!d)&&t.emit("fromEdge"),t.emit("progress",a)}const Bd=(e,t,n)=>{t&&!e.classList.contains(n)?e.classList.add(n):!t&&e.classList.contains(n)&&e.classList.remove(n)};function h8(){const e=this,{slides:t,params:n,slidesEl:i,activeIndex:a}=e,o=e.virtual&&n.virtual.enabled,d=e.grid&&n.grid&&n.grid.rows>1,m=y=>Ii(i,".".concat(n.slideClass).concat(y,", swiper-slide").concat(y))[0];let p,x,b;if(o)if(n.loop){let y=a-e.virtual.slidesBefore;y<0&&(y=e.virtual.slides.length+y),y>=e.virtual.slides.length&&(y-=e.virtual.slides.length),p=m('[data-swiper-slide-index="'.concat(y,'"]'))}else p=m('[data-swiper-slide-index="'.concat(a,'"]'));else d?(p=t.find(y=>y.column===a),b=t.find(y=>y.column===a+1),x=t.find(y=>y.column===a-1)):p=t[a];p&&(d||(b=J6(p,".".concat(n.slideClass,", swiper-slide"))[0],n.loop&&!b&&(b=t[0]),x=$6(p,".".concat(n.slideClass,", swiper-slide"))[0],n.loop&&!x===0&&(x=t[t.length-1]))),t.forEach(y=>{Bd(y,y===p,n.slideActiveClass),Bd(y,y===b,n.slideNextClass),Bd(y,y===x,n.slidePrevClass)}),e.emitSlidesClasses()}const fc=(e,t)=>{if(!e||e.destroyed||!e.params)return;const n=()=>e.isElement?"swiper-slide":".".concat(e.params.slideClass),i=t.closest(n());if(i){let a=i.querySelector(".".concat(e.params.lazyPreloaderClass));!a&&e.isElement&&(i.shadowRoot?a=i.shadowRoot.querySelector(".".concat(e.params.lazyPreloaderClass)):requestAnimationFrame(()=>{i.shadowRoot&&(a=i.shadowRoot.querySelector(".".concat(e.params.lazyPreloaderClass)),a&&a.remove())})),a&&a.remove()}},Ld=(e,t)=>{if(!e.slides[t])return;const n=e.slides[t].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Yh=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const n=e.slides.length;if(!n||!t||t<0)return;t=Math.min(t,n);const i=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),a=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const d=a,m=[d-t];m.push(...Array.from({length:t}).map((p,x)=>d+i+x)),e.slides.forEach((p,x)=>{m.includes(p.column)&&Ld(e,x)});return}const o=a+i-1;if(e.params.rewind||e.params.loop)for(let d=a-t;d<=o+t;d+=1){const m=(d%n+n)%n;(m<a||m>o)&&Ld(e,m)}else for(let d=Math.max(a-t,0);d<=Math.min(o+t,n-1);d+=1)d!==a&&(d>o||d<a)&&Ld(e,d)};function f8(e){const{slidesGrid:t,params:n}=e,i=e.rtlTranslate?e.translate:-e.translate;let a;for(let o=0;o<t.length;o+=1)typeof t[o+1]<"u"?i>=t[o]&&i<t[o+1]-(t[o+1]-t[o])/2?a=o:i>=t[o]&&i<t[o+1]&&(a=o+1):i>=t[o]&&(a=o);return n.normalizeSlideIndex&&(a<0||typeof a>"u")&&(a=0),a}function g8(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{snapGrid:i,params:a,activeIndex:o,realIndex:d,snapIndex:m}=t;let p=e,x;const b=S=>{let N=S-t.virtual.slidesBefore;return N<0&&(N=t.virtual.slides.length+N),N>=t.virtual.slides.length&&(N-=t.virtual.slides.length),N};if(typeof p>"u"&&(p=f8(t)),i.indexOf(n)>=0)x=i.indexOf(n);else{const S=Math.min(a.slidesPerGroupSkip,p);x=S+Math.floor((p-S)/a.slidesPerGroup)}if(x>=i.length&&(x=i.length-1),p===o&&!t.params.loop){x!==m&&(t.snapIndex=x,t.emit("snapIndexChange"));return}if(p===o&&t.params.loop&&t.virtual&&t.params.virtual.enabled){t.realIndex=b(p);return}const y=t.grid&&a.grid&&a.grid.rows>1;let C;if(t.virtual&&a.virtual.enabled&&a.loop)C=b(p);else if(y){const S=t.slides.find(M=>M.column===p);let N=parseInt(S.getAttribute("data-swiper-slide-index"),10);Number.isNaN(N)&&(N=Math.max(t.slides.indexOf(S),0)),C=Math.floor(N/a.grid.rows)}else if(t.slides[p]){const S=t.slides[p].getAttribute("data-swiper-slide-index");S?C=parseInt(S,10):C=p}else C=p;Object.assign(t,{previousSnapIndex:m,snapIndex:x,previousRealIndex:d,realIndex:C,previousIndex:o,activeIndex:p}),t.initialized&&Yh(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(d!==C&&t.emit("realIndexChange"),t.emit("slideChange"))}function p8(e,t){const n=this,i=n.params;let a=e.closest(".".concat(i.slideClass,", swiper-slide"));!a&&n.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach(m=>{!a&&m.matches&&m.matches(".".concat(i.slideClass,", swiper-slide"))&&(a=m)});let o=!1,d;if(a){for(let m=0;m<n.slides.length;m+=1)if(n.slides[m]===a){o=!0,d=m;break}}if(a&&o)n.clickedSlide=a,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(a.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=d;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}i.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var m8={updateSize:a8,updateSlides:o8,updateAutoHeight:l8,updateSlidesOffset:c8,updateSlidesProgress:u8,updateProgress:d8,updateSlidesClasses:h8,updateActiveIndex:g8,updateClickedSlide:p8};function x8(e=this.isHorizontal()?"x":"y"){const t=this,{params:n,rtlTranslate:i,translate:a,wrapperEl:o}=t;if(n.virtualTranslate)return i?-a:a;if(n.cssMode)return a;let d=Y6(o,e);return d+=t.cssOverflowAdjustment(),i&&(d=-d),d||0}function w8(e,t){const n=this,{rtlTranslate:i,params:a,wrapperEl:o,progress:d}=n;let m=0,p=0;const x=0;n.isHorizontal()?m=i?-e:e:p=e,a.roundLengths&&(m=Math.floor(m),p=Math.floor(p)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?m:p,a.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-m:-p:a.virtualTranslate||(n.isHorizontal()?m-=n.cssOverflowAdjustment():p-=n.cssOverflowAdjustment(),o.style.transform="translate3d(".concat(m,"px, ").concat(p,"px, ").concat(x,"px)"));let b;const y=n.maxTranslate()-n.minTranslate();y===0?b=0:b=(e-n.minTranslate())/y,b!==d&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)}function v8(){return-this.snapGrid[0]}function y8(){return-this.snapGrid[this.snapGrid.length-1]}function b8(e=0,t=this.params.speed,n=!0,i=!0,a){const o=this,{params:d,wrapperEl:m}=o;if(o.animating&&d.preventInteractionOnTransition)return!1;const p=o.minTranslate(),x=o.maxTranslate();let b;if(i&&e>p?b=p:i&&e<x?b=x:b=e,o.updateProgress(b),d.cssMode){const y=o.isHorizontal();if(t===0)m[y?"scrollLeft":"scrollTop"]=-b;else{if(!o.support.smoothScroll)return Sx({swiper:o,targetPosition:-b,side:y?"left":"top"}),!0;m.scrollTo({[y?"left":"top"]:-b,behavior:"smooth"})}return!0}return t===0?(o.setTransition(0),o.setTranslate(b),n&&(o.emit("beforeTransitionStart",t,a),o.emit("transitionEnd"))):(o.setTransition(t),o.setTranslate(b),n&&(o.emit("beforeTransitionStart",t,a),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(C){!o||o.destroyed||C.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,n&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var E8={getTranslate:x8,setTranslate:w8,minTranslate:v8,maxTranslate:y8,translateTo:b8};function A8(e,t){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration="".concat(e,"ms"),n.wrapperEl.style.transitionDelay=e===0?"0ms":""),n.emit("setTransition",e,t)}function Rx({swiper:e,runCallbacks:t,direction:n,step:i}){const{activeIndex:a,previousIndex:o}=e;let d=n;d||(a>o?d="next":a<o?d="prev":d="reset"),e.emit("transition".concat(i)),t&&d==="reset"?e.emit("slideResetTransition".concat(i)):t&&a!==o&&(e.emit("slideChangeTransition".concat(i)),d==="next"?e.emit("slideNextTransition".concat(i)):e.emit("slidePrevTransition".concat(i)))}function S8(e=!0,t){const n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),Rx({swiper:n,runCallbacks:e,direction:t,step:"Start"}))}function C8(e=!0,t){const n=this,{params:i}=n;n.animating=!1,!i.cssMode&&(n.setTransition(0),Rx({swiper:n,runCallbacks:e,direction:t,step:"End"}))}var _8={setTransition:A8,transitionStart:S8,transitionEnd:C8};function T8(e=0,t,n=!0,i,a){typeof e=="string"&&(e=parseInt(e,10));const o=this;let d=e;d<0&&(d=0);const{params:m,snapGrid:p,slidesGrid:x,previousIndex:b,activeIndex:y,rtlTranslate:C,wrapperEl:S,enabled:N}=o;if(!N&&!i&&!a||o.destroyed||o.animating&&m.preventInteractionOnTransition)return!1;typeof t>"u"&&(t=o.params.speed);const M=Math.min(o.params.slidesPerGroupSkip,d);let B=M+Math.floor((d-M)/o.params.slidesPerGroup);B>=p.length&&(B=p.length-1);const T=-p[B];if(m.normalizeSlideIndex)for(let z=0;z<x.length;z+=1){const k=-Math.floor(T*100),V=Math.floor(x[z]*100),Z=Math.floor(x[z+1]*100);typeof x[z+1]<"u"?k>=V&&k<Z-(Z-V)/2?d=z:k>=V&&k<Z&&(d=z+1):k>=V&&(d=z)}if(o.initialized&&d!==y&&(!o.allowSlideNext&&(C?T>o.translate&&T>o.minTranslate():T<o.translate&&T<o.minTranslate())||!o.allowSlidePrev&&T>o.translate&&T>o.maxTranslate()&&(y||0)!==d))return!1;d!==(b||0)&&n&&o.emit("beforeSlideChangeStart"),o.updateProgress(T);let A;d>y?A="next":d<y?A="prev":A="reset";const _=o.virtual&&o.params.virtual.enabled;if(!(_&&a)&&(C&&-T===o.translate||!C&&T===o.translate))return o.updateActiveIndex(d),m.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),m.effect!=="slide"&&o.setTranslate(T),A!=="reset"&&(o.transitionStart(n,A),o.transitionEnd(n,A)),!1;if(m.cssMode){const z=o.isHorizontal(),k=C?T:-T;if(t===0)_&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),_&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{S[z?"scrollLeft":"scrollTop"]=k})):S[z?"scrollLeft":"scrollTop"]=k,_&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return Sx({swiper:o,targetPosition:k,side:z?"left":"top"}),!0;S.scrollTo({[z?"left":"top"]:k,behavior:"smooth"})}return!0}const G=Ox().isSafari;return _&&!a&&G&&o.isElement&&o.virtual.update(!1,!1,d),o.setTransition(t),o.setTranslate(T),o.updateActiveIndex(d),o.updateSlidesClasses(),o.emit("beforeTransitionStart",t,i),o.transitionStart(n,A),t===0?o.transitionEnd(n,A):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(k){!o||o.destroyed||k.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,A))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function O8(e=0,t,n=!0,i){typeof e=="string"&&(e=parseInt(e,10));const a=this;if(a.destroyed)return;typeof t>"u"&&(t=a.params.speed);const o=a.grid&&a.params.grid&&a.params.grid.rows>1;let d=e;if(a.params.loop)if(a.virtual&&a.params.virtual.enabled)d=d+a.virtual.slidesBefore;else{let m;if(o){const M=d*a.params.grid.rows;m=a.slides.find(B=>B.getAttribute("data-swiper-slide-index")*1===M).column}else m=a.getSlideIndexByData(d);const p=o?Math.ceil(a.slides.length/a.params.grid.rows):a.slides.length,{centeredSlides:x,slidesOffsetBefore:b,slidesOffsetAfter:y}=a.params,C=x||!!b||!!y;let S=a.params.slidesPerView;S==="auto"?S=a.slidesPerViewDynamic():(S=Math.ceil(parseFloat(a.params.slidesPerView,10)),C&&S%2===0&&(S=S+1));let N=p-m<S;if(C&&(N=N||m<Math.ceil(S/2)),i&&C&&a.params.slidesPerView!=="auto"&&!o&&(N=!1),N){const M=C?m<a.activeIndex?"prev":"next":m-a.activeIndex-1<a.params.slidesPerView?"next":"prev";a.loopFix({direction:M,slideTo:!0,activeSlideIndex:M==="next"?m+1:m-p+1,slideRealIndex:M==="next"?a.realIndex:void 0})}if(o){const M=d*a.params.grid.rows;d=a.slides.find(B=>B.getAttribute("data-swiper-slide-index")*1===M).column}else d=a.getSlideIndexByData(d)}return requestAnimationFrame(()=>{a.slideTo(d,t,n,i)}),a}function R8(e,t=!0,n){const i=this,{enabled:a,params:o,animating:d}=i;if(!a||i.destroyed)return i;typeof e>"u"&&(e=i.params.speed);let m=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(m=Math.max(i.slidesPerViewDynamic("current",!0),1));const p=i.activeIndex<o.slidesPerGroupSkip?1:m,x=i.virtual&&o.virtual.enabled;if(o.loop){if(d&&!x&&o.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+p,e,t,n)}),!0}return o.rewind&&i.isEnd?i.slideTo(0,e,t,n):i.slideTo(i.activeIndex+p,e,t,n)}function I8(e,t=!0,n){const i=this,{params:a,snapGrid:o,slidesGrid:d,rtlTranslate:m,enabled:p,animating:x}=i;if(!p||i.destroyed)return i;typeof e>"u"&&(e=i.params.speed);const b=i.virtual&&a.virtual.enabled;if(a.loop){if(x&&!b&&a.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const y=m?i.translate:-i.translate;function C(A){return A<0?-Math.floor(Math.abs(A)):Math.floor(A)}const S=C(y),N=o.map(A=>C(A)),M=a.freeMode&&a.freeMode.enabled;let B=o[N.indexOf(S)-1];if(typeof B>"u"&&(a.cssMode||M)){let A;o.forEach((_,D)=>{S>=_&&(A=D)}),typeof A<"u"&&(B=M?o[A]:o[A>0?A-1:A])}let T=0;if(typeof B<"u"&&(T=d.indexOf(B),T<0&&(T=i.activeIndex-1),a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(T=T-i.slidesPerViewDynamic("previous",!0)+1,T=Math.max(T,0))),a.rewind&&i.isBeginning){const A=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(A,e,t,n)}else if(a.loop&&i.activeIndex===0&&a.cssMode)return requestAnimationFrame(()=>{i.slideTo(T,e,t,n)}),!0;return i.slideTo(T,e,t,n)}function D8(e,t=!0,n){const i=this;if(!i.destroyed)return typeof e>"u"&&(e=i.params.speed),i.slideTo(i.activeIndex,e,t,n)}function N8(e,t=!0,n,i=.5){const a=this;if(a.destroyed)return;typeof e>"u"&&(e=a.params.speed);let o=a.activeIndex;const d=Math.min(a.params.slidesPerGroupSkip,o),m=d+Math.floor((o-d)/a.params.slidesPerGroup),p=a.rtlTranslate?a.translate:-a.translate;if(p>=a.snapGrid[m]){const x=a.snapGrid[m],b=a.snapGrid[m+1];p-x>(b-x)*i&&(o+=a.params.slidesPerGroup)}else{const x=a.snapGrid[m-1],b=a.snapGrid[m];p-x<=(b-x)*i&&(o-=a.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,a.slidesGrid.length-1),a.slideTo(o,e,t,n)}function M8(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:n}=e,i=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView;let a=e.getSlideIndexWhenGrid(e.clickedIndex),o;const d=e.isElement?"swiper-slide":".".concat(t.slideClass),m=e.grid&&e.params.grid&&e.params.grid.rows>1;if(t.loop){if(e.animating)return;o=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?e.slideToLoop(o):a>(m?(e.slides.length-i)/2-(e.params.grid.rows-1):e.slides.length-i)?(e.loopFix(),a=e.getSlideIndex(Ii(n,"".concat(d,'[data-swiper-slide-index="').concat(o,'"]'))[0]),Ax(()=>{e.slideTo(a)})):e.slideTo(a)}else e.slideTo(a)}var k8={slideTo:T8,slideToLoop:O8,slideNext:R8,slidePrev:I8,slideReset:D8,slideToClosest:N8,slideToClickedSlide:M8};function j8(e,t){const n=this,{params:i,slidesEl:a}=n;if(!i.loop||n.virtual&&n.params.virtual.enabled)return;const o=()=>{Ii(a,".".concat(i.slideClass,", swiper-slide")).forEach((N,M)=>{N.setAttribute("data-swiper-slide-index",M)})},d=()=>{const S=Ii(a,".".concat(i.slideBlankClass));S.forEach(N=>{N.remove()}),S.length>0&&(n.recalcSlides(),n.updateSlides())},m=n.grid&&i.grid&&i.grid.rows>1;i.loopAddBlankSlides&&(i.slidesPerGroup>1||m)&&d();const p=i.slidesPerGroup*(m?i.grid.rows:1),x=n.slides.length%p!==0,b=m&&n.slides.length%i.grid.rows!==0,y=S=>{for(let N=0;N<S;N+=1){const M=n.isElement?Qc("swiper-slide",[i.slideBlankClass]):Qc("div",[i.slideClass,i.slideBlankClass]);n.slidesEl.append(M)}};if(x){if(i.loopAddBlankSlides){const S=p-n.slides.length%p;y(S),n.recalcSlides(),n.updateSlides()}else Yc("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else if(b){if(i.loopAddBlankSlides){const S=i.grid.rows-n.slides.length%i.grid.rows;y(S),n.recalcSlides(),n.updateSlides()}else Yc("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else o();const C=i.centeredSlides||!!i.slidesOffsetBefore||!!i.slidesOffsetAfter;n.loopFix({slideRealIndex:e,direction:C?void 0:"next",initial:t})}function B8({slideRealIndex:e,slideTo:t=!0,direction:n,setTranslate:i,activeSlideIndex:a,initial:o,byController:d,byMousewheel:m}={}){const p=this;if(!p.params.loop)return;p.emit("beforeLoopFix");const{slides:x,allowSlidePrev:b,allowSlideNext:y,slidesEl:C,params:S}=p,{centeredSlides:N,slidesOffsetBefore:M,slidesOffsetAfter:B,initialSlide:T}=S,A=N||!!M||!!B;if(p.allowSlidePrev=!0,p.allowSlideNext=!0,p.virtual&&S.virtual.enabled){t&&(!A&&p.snapIndex===0?p.slideTo(p.virtual.slides.length,0,!1,!0):A&&p.snapIndex<S.slidesPerView?p.slideTo(p.virtual.slides.length+p.snapIndex,0,!1,!0):p.snapIndex===p.snapGrid.length-1&&p.slideTo(p.virtual.slidesBefore,0,!1,!0)),p.allowSlidePrev=b,p.allowSlideNext=y,p.emit("loopFix");return}let _=S.slidesPerView;_==="auto"?_=p.slidesPerViewDynamic():(_=Math.ceil(parseFloat(S.slidesPerView,10)),A&&_%2===0&&(_=_+1));const D=S.slidesPerGroupAuto?_:S.slidesPerGroup;let P=A?Math.max(D,Math.ceil(_/2)):D;P%D!==0&&(P+=D-P%D),P+=S.loopAdditionalSlides,p.loopedSlides=P;const G=p.grid&&S.grid&&S.grid.rows>1;x.length<_+P||p.params.effect==="cards"&&x.length<_+P*2?Yc("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):G&&S.grid.fill==="row"&&Yc("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const z=[],k=[],V=G?Math.ceil(x.length/S.grid.rows):x.length,Z=o&&V-T<_&&!A;let ee=Z?T:p.activeIndex;typeof a>"u"?a=p.getSlideIndex(x.find(se=>se.classList.contains(S.slideActiveClass))):ee=a;const q=n==="next"||!n,$=n==="prev"||!n;let oe=0,H=0;const ce=(G?x[a].column:a)+(A&&typeof i>"u"?-_/2+.5:0);if(ce<P){oe=Math.max(P-ce,D);for(let se=0;se<P-ce;se+=1){const xe=se-Math.floor(se/V)*V;if(G){const _e=V-xe-1;for(let ln=x.length-1;ln>=0;ln-=1)x[ln].column===_e&&z.push(ln)}else z.push(V-xe-1)}}else if(ce+_>V-P){H=Math.max(ce-(V-P*2),D),Z&&(H=Math.max(H,_-V+T+1));for(let se=0;se<H;se+=1){const xe=se-Math.floor(se/V)*V;G?x.forEach((_e,ln)=>{_e.column===xe&&k.push(ln)}):k.push(xe)}}if(p.__preventObserver__=!0,requestAnimationFrame(()=>{p.__preventObserver__=!1}),p.params.effect==="cards"&&x.length<_+P*2&&(k.includes(a)&&k.splice(k.indexOf(a),1),z.includes(a)&&z.splice(z.indexOf(a),1)),$&&z.forEach(se=>{x[se].swiperLoopMoveDOM=!0,C.prepend(x[se]),x[se].swiperLoopMoveDOM=!1}),q&&k.forEach(se=>{x[se].swiperLoopMoveDOM=!0,C.append(x[se]),x[se].swiperLoopMoveDOM=!1}),p.recalcSlides(),S.slidesPerView==="auto"?p.updateSlides():G&&(z.length>0&&$||k.length>0&&q)&&p.slides.forEach((se,xe)=>{p.grid.updateSlide(xe,se,p.slides)}),S.watchSlidesProgress&&p.updateSlidesOffset(),t){if(z.length>0&&$){if(typeof e>"u"){const se=p.slidesGrid[ee],_e=p.slidesGrid[ee+oe]-se;m?p.setTranslate(p.translate-_e):(p.slideTo(ee+Math.ceil(oe),0,!1,!0),i&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-_e,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-_e))}else if(i){const se=G?z.length/S.grid.rows:z.length;p.slideTo(p.activeIndex+se,0,!1,!0),p.touchEventsData.currentTranslate=p.translate}}else if(k.length>0&&q)if(typeof e>"u"){const se=p.slidesGrid[ee],_e=p.slidesGrid[ee-H]-se;m?p.setTranslate(p.translate-_e):(p.slideTo(ee-H,0,!1,!0),i&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-_e,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-_e))}else{const se=G?k.length/S.grid.rows:k.length;p.slideTo(p.activeIndex-se,0,!1,!0)}}if(p.allowSlidePrev=b,p.allowSlideNext=y,p.controller&&p.controller.control&&!d){const se={slideRealIndex:e,direction:n,setTranslate:i,activeSlideIndex:a,byController:!0};Array.isArray(p.controller.control)?p.controller.control.forEach(xe=>{!xe.destroyed&&xe.params.loop&&xe.loopFix({...se,slideTo:xe.params.slidesPerView===S.slidesPerView?t:!1})}):p.controller.control instanceof p.constructor&&p.controller.control.params.loop&&p.controller.control.loopFix({...se,slideTo:p.controller.control.params.slidesPerView===S.slidesPerView?t:!1})}p.emit("loopFix")}function L8(){const e=this,{params:t,slidesEl:n}=e;if(!t.loop||!n||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const i=[];e.slides.forEach(a=>{const o=typeof a.swiperSlideIndex>"u"?a.getAttribute("data-swiper-slide-index")*1:a.swiperSlideIndex;i[o]=a}),e.slides.forEach(a=>{a.removeAttribute("data-swiper-slide-index")}),i.forEach(a=>{n.append(a)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}var P8={loopCreate:j8,loopFix:B8,loopDestroy:L8};function z8(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function U8(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}var F8={setGrabCursor:z8,unsetGrabCursor:U8};function V8(e,t=this){function n(i){if(!i||i===Ir()||i===bn())return null;i.assignedSlot&&(i=i.assignedSlot);const a=i.closest(e);return!a&&!i.getRootNode?null:a||n(i.getRootNode().host)}return n(t)}function Cg(e,t,n){const i=bn(),{params:a}=e,o=a.edgeSwipeDetection,d=a.edgeSwipeThreshold;return o&&(n<=d||n>=i.innerWidth-d)?o==="prevent"?(t.preventDefault(),!0):!1:!0}function G8(e){const t=this,n=Ir();let i=e;i.originalEvent&&(i=i.originalEvent);const a=t.touchEventsData;if(i.type==="pointerdown"){if(a.pointerId!==null&&a.pointerId!==i.pointerId)return;a.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(a.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){Cg(t,i,i.targetTouches[0].pageX);return}const{params:o,touches:d,enabled:m}=t;if(!m||!o.simulateTouch&&i.pointerType==="mouse"||t.animating&&o.preventInteractionOnTransition)return;!t.animating&&o.cssMode&&o.loop&&t.loopFix();let p=i.target;if(o.touchEventsTarget==="wrapper"&&!Z6(p,t.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||a.isTouched&&a.isMoved)return;const x=!!o.noSwipingClass&&o.noSwipingClass!=="",b=i.composedPath?i.composedPath():i.path;x&&i.target&&i.target.shadowRoot&&b&&(p=b[0]);const y=o.noSwipingSelector?o.noSwipingSelector:".".concat(o.noSwipingClass),C=!!(i.target&&i.target.shadowRoot);if(o.noSwiping&&(C?V8(y,p):p.closest(y))){t.allowClick=!0;return}if(o.swipeHandler&&!p.closest(o.swipeHandler))return;d.currentX=i.pageX,d.currentY=i.pageY;const S=d.currentX,N=d.currentY;if(!Cg(t,i,S))return;Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),d.startX=S,d.startY=N,a.touchStartTime=Wc(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,o.threshold>0&&(a.allowThresholdMove=!1);let M=!0;p.matches(a.focusableElements)&&(M=!1,p.nodeName==="SELECT"&&(a.isTouched=!1)),n.activeElement&&n.activeElement.matches(a.focusableElements)&&n.activeElement!==p&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!p.matches(a.focusableElements))&&n.activeElement.blur();const B=M&&t.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||B)&&!p.isContentEditable&&i.preventDefault(),o.freeMode&&o.freeMode.enabled&&t.freeMode&&t.animating&&!o.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",i)}function H8(e){const t=Ir(),n=this,i=n.touchEventsData,{params:a,touches:o,rtlTranslate:d,enabled:m}=n;if(!m||!a.simulateTouch&&e.pointerType==="mouse")return;let p=e;if(p.originalEvent&&(p=p.originalEvent),p.type==="pointermove"&&(i.touchId!==null||p.pointerId!==i.pointerId))return;let x;if(p.type==="touchmove"){if(x=[...p.changedTouches].find(P=>P.identifier===i.touchId),!x||x.identifier!==i.touchId)return}else x=p;if(!i.isTouched){i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",p);return}const b=x.pageX,y=x.pageY;if(p.preventedByNestedSwiper){o.startX=b,o.startY=y;return}if(!n.allowTouchMove){p.target.matches(i.focusableElements)||(n.allowClick=!1),i.isTouched&&(Object.assign(o,{startX:b,startY:y,currentX:b,currentY:y}),i.touchStartTime=Wc());return}if(a.touchReleaseOnEdges&&!a.loop)if(n.isVertical()){if(y<o.startY&&n.translate<=n.maxTranslate()||y>o.startY&&n.translate>=n.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else{if(d&&(b>o.startX&&-n.translate<=n.maxTranslate()||b<o.startX&&-n.translate>=n.minTranslate()))return;if(!d&&(b<o.startX&&n.translate<=n.maxTranslate()||b>o.startX&&n.translate>=n.minTranslate()))return}if(t.activeElement&&t.activeElement.matches(i.focusableElements)&&t.activeElement!==p.target&&p.pointerType!=="mouse"&&t.activeElement.blur(),t.activeElement&&p.target===t.activeElement&&p.target.matches(i.focusableElements)){i.isMoved=!0,n.allowClick=!1;return}i.allowTouchCallbacks&&n.emit("touchMove",p),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=b,o.currentY=y;const C=o.currentX-o.startX,S=o.currentY-o.startY;if(n.params.threshold&&Math.sqrt(C**2+S**2)<n.params.threshold)return;if(typeof i.isScrolling>"u"){let P;n.isHorizontal()&&o.currentY===o.startY||n.isVertical()&&o.currentX===o.startX?i.isScrolling=!1:C*C+S*S>=25&&(P=Math.atan2(Math.abs(S),Math.abs(C))*180/Math.PI,i.isScrolling=n.isHorizontal()?P>a.touchAngle:90-P>a.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",p),typeof i.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(i.startMoving=!0),i.isScrolling||p.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;n.allowClick=!1,!a.cssMode&&p.cancelable&&p.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&p.stopPropagation();let N=n.isHorizontal()?C:S,M=n.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;a.oneWayMovement&&(N=Math.abs(N)*(d?1:-1),M=Math.abs(M)*(d?1:-1)),o.diff=N,N*=a.touchRatio,d&&(N=-N,M=-M);const B=n.touchesDirection;n.swipeDirection=N>0?"prev":"next",n.touchesDirection=M>0?"prev":"next";const T=n.params.loop&&!a.cssMode,A=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!i.isMoved){if(T&&A&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const P=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(P)}i.allowMomentumBounce=!1,a.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",p)}if(new Date().getTime(),a._loopSwapReset!==!1&&i.isMoved&&i.allowThresholdMove&&B!==n.touchesDirection&&T&&A&&Math.abs(N)>=1){Object.assign(o,{startX:b,startY:y,currentX:b,currentY:y,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}n.emit("sliderMove",p),i.isMoved=!0,i.currentTranslate=N+i.startTranslate;let _=!0,D=a.resistanceRatio;if(a.touchReleaseOnEdges&&(D=0),N>0?(T&&A&&i.allowThresholdMove&&i.currentTranslate>(a.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(a.slidesPerView!=="auto"&&n.slides.length-a.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(_=!1,a.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+N)**D))):N<0&&(T&&A&&i.allowThresholdMove&&i.currentTranslate<(a.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(a.slidesPerView!=="auto"&&n.slides.length-a.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(a.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(a.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(_=!1,a.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-N)**D))),_&&(p.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(i.currentTranslate=i.startTranslate),a.threshold>0)if(Math.abs(N)>a.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,i.currentTranslate=i.startTranslate,o.diff=n.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{i.currentTranslate=i.startTranslate;return}!a.followFinger||a.cssMode||((a.freeMode&&a.freeMode.enabled&&n.freeMode||a.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),a.freeMode&&a.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function q8(e){const t=this,n=t.touchEventsData;let i=e;i.originalEvent&&(i=i.originalEvent);let a;if(i.type==="touchend"||i.type==="touchcancel"){if(a=[...i.changedTouches].find(P=>P.identifier===n.touchId),!a||a.identifier!==n.touchId)return}else{if(n.touchId!==null||i.pointerId!==n.pointerId)return;a=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(t.browser.isSafari||t.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:d,touches:m,rtlTranslate:p,slidesGrid:x,enabled:b}=t;if(!b||!d.simulateTouch&&i.pointerType==="mouse")return;if(n.allowTouchCallbacks&&t.emit("touchEnd",i),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&d.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}d.grabCursor&&n.isMoved&&n.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const y=Wc(),C=y-n.touchStartTime;if(t.allowClick){const P=i.path||i.composedPath&&i.composedPath();t.updateClickedSlide(P&&P[0]||i.target,P),t.emit("tap click",i),C<300&&y-n.lastClickTime<300&&t.emit("doubleTap doubleClick",i)}if(n.lastClickTime=Wc(),Ax(()=>{t.destroyed||(t.allowClick=!0)}),!n.isTouched||!n.isMoved||!t.swipeDirection||m.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let S;if(d.followFinger?S=p?t.translate:-t.translate:S=-n.currentTranslate,d.cssMode)return;if(d.freeMode&&d.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:S});return}const N=S>=-t.maxTranslate()&&!t.params.loop;let M=0,B=t.slidesSizesGrid[0];for(let P=0;P<x.length;P+=P<d.slidesPerGroupSkip?1:d.slidesPerGroup){const G=P<d.slidesPerGroupSkip-1?1:d.slidesPerGroup;typeof x[P+G]<"u"?(N||S>=x[P]&&S<x[P+G])&&(M=P,B=x[P+G]-x[P]):(N||S>=x[P])&&(M=P,B=x[x.length-1]-x[x.length-2])}let T=null,A=null;d.rewind&&(t.isBeginning?A=d.virtual&&d.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(T=0));const _=(S-x[M])/B,D=M<d.slidesPerGroupSkip-1?1:d.slidesPerGroup;if(C>d.longSwipesMs){if(!d.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(_>=d.longSwipesRatio?t.slideTo(d.rewind&&t.isEnd?T:M+D):t.slideTo(M)),t.swipeDirection==="prev"&&(_>1-d.longSwipesRatio?t.slideTo(M+D):A!==null&&_<0&&Math.abs(_)>d.longSwipesRatio?t.slideTo(A):t.slideTo(M))}else{if(!d.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(i.target===t.navigation.nextEl||i.target===t.navigation.prevEl)?i.target===t.navigation.nextEl?t.slideTo(M+D):t.slideTo(M):(t.swipeDirection==="next"&&t.slideTo(T!==null?T:M+D),t.swipeDirection==="prev"&&t.slideTo(A!==null?A:M))}}function _g(){const e=this,{params:t,el:n}=e;if(n&&n.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:a,snapGrid:o}=e,d=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const m=d&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!m?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!d?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=a,e.allowSlideNext=i,e.params.watchOverflow&&o!==e.snapGrid&&e.checkOverflow()}function X8(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function W8(){const e=this,{wrapperEl:t,rtlTranslate:n,enabled:i}=e;if(!i)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let a;const o=e.maxTranslate()-e.minTranslate();o===0?a=0:a=(e.translate-e.minTranslate())/o,a!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function Y8(e){const t=this;fc(t,e.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}function Q8(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const Ix=(e,t)=>{const n=Ir(),{params:i,el:a,wrapperEl:o,device:d}=e,m=!!i.nested,p=t==="on"?"addEventListener":"removeEventListener",x=t;!a||typeof a=="string"||(n[p]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:m}),a[p]("touchstart",e.onTouchStart,{passive:!1}),a[p]("pointerdown",e.onTouchStart,{passive:!1}),n[p]("touchmove",e.onTouchMove,{passive:!1,capture:m}),n[p]("pointermove",e.onTouchMove,{passive:!1,capture:m}),n[p]("touchend",e.onTouchEnd,{passive:!0}),n[p]("pointerup",e.onTouchEnd,{passive:!0}),n[p]("pointercancel",e.onTouchEnd,{passive:!0}),n[p]("touchcancel",e.onTouchEnd,{passive:!0}),n[p]("pointerout",e.onTouchEnd,{passive:!0}),n[p]("pointerleave",e.onTouchEnd,{passive:!0}),n[p]("contextmenu",e.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&a[p]("click",e.onClick,!0),i.cssMode&&o[p]("scroll",e.onScroll),i.updateOnWindowResize?e[x](d.ios||d.android?"resize orientationchange observerUpdate":"resize observerUpdate",_g,!0):e[x]("observerUpdate",_g,!0),a[p]("load",e.onLoad,{capture:!0}))};function K8(){const e=this,{params:t}=e;e.onTouchStart=G8.bind(e),e.onTouchMove=H8.bind(e),e.onTouchEnd=q8.bind(e),e.onDocumentTouchStart=Q8.bind(e),t.cssMode&&(e.onScroll=W8.bind(e)),e.onClick=X8.bind(e),e.onLoad=Y8.bind(e),Ix(e,"on")}function Z8(){Ix(this,"off")}var $8={attachEvents:K8,detachEvents:Z8};const Tg=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function J8(){const e=this,{realIndex:t,initialized:n,params:i,el:a}=e,o=i.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const d=Ir(),m=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",p=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?e.el:d.querySelector(i.breakpointsBase),x=e.getBreakpoint(o,m,p);if(!x||e.currentBreakpoint===x)return;const y=(x in o?o[x]:void 0)||e.originalParams,C=Tg(e,i),S=Tg(e,y),N=e.params.grabCursor,M=y.grabCursor,B=i.enabled;C&&!S?(a.classList.remove("".concat(i.containerModifierClass,"grid"),"".concat(i.containerModifierClass,"grid-column")),e.emitContainerClasses()):!C&&S&&(a.classList.add("".concat(i.containerModifierClass,"grid")),(y.grid.fill&&y.grid.fill==="column"||!y.grid.fill&&i.grid.fill==="column")&&a.classList.add("".concat(i.containerModifierClass,"grid-column")),e.emitContainerClasses()),N&&!M?e.unsetGrabCursor():!N&&M&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(G=>{if(typeof y[G]>"u")return;const z=i[G]&&i[G].enabled,k=y[G]&&y[G].enabled;z&&!k&&e[G].disable(),!z&&k&&e[G].enable()});const T=y.direction&&y.direction!==i.direction,A=i.loop&&(y.slidesPerView!==i.slidesPerView||T),_=i.loop;T&&n&&e.changeDirection(),Bn(e.params,y);const D=e.params.enabled,P=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),B&&!D?e.disable():!B&&D&&e.enable(),e.currentBreakpoint=x,e.emit("_beforeBreakpoint",y),n&&(A?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!_&&P?(e.loopCreate(t),e.updateSlides()):_&&!P&&e.loopDestroy()),e.emit("breakpoint",y)}function eE(e,t="window",n){if(!e||t==="container"&&!n)return;let i=!1;const a=bn(),o=t==="window"?a.innerHeight:n.clientHeight,d=Object.keys(e).map(m=>{if(typeof m=="string"&&m.indexOf("@")===0){const p=parseFloat(m.substr(1));return{value:o*p,point:m}}return{value:m,point:m}});d.sort((m,p)=>parseInt(m.value,10)-parseInt(p.value,10));for(let m=0;m<d.length;m+=1){const{point:p,value:x}=d[m];t==="window"?a.matchMedia("(min-width: ".concat(x,"px)")).matches&&(i=p):x<=n.clientWidth&&(i=p)}return i||"max"}var tE={setBreakpoint:J8,getBreakpoint:eE};function nE(e,t){const n=[];return e.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(a=>{i[a]&&n.push(t+a)}):typeof i=="string"&&n.push(t+i)}),n}function iE(){const e=this,{classNames:t,params:n,rtl:i,el:a,device:o}=e,d=nE(["initialized",n.direction,{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...d),a.classList.add(...t),e.emitContainerClasses()}function sE(){const e=this,{el:t,classNames:n}=e;!t||typeof t=="string"||(t.classList.remove(...n),e.emitContainerClasses())}var rE={addClasses:iE,removeClasses:sE};function aE(){const e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:i}=n;if(i){const a=e.slides.length-1,o=e.slidesGrid[a]+e.slidesSizesGrid[a]+i*2;e.isLocked=e.size>o}else e.isLocked=e.snapGrid.length===1;n.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),n.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}var oE={checkOverflow:aE},Qh={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function lE(e,t){return function(i={}){const a=Object.keys(i)[0],o=i[a];if(typeof o!="object"||o===null){Bn(t,i);return}if(e[a]===!0&&(e[a]={enabled:!0}),a==="navigation"&&e[a]&&e[a].enabled&&!e[a].prevEl&&!e[a].nextEl&&(e[a].auto=!0),["pagination","scrollbar"].indexOf(a)>=0&&e[a]&&e[a].enabled&&!e[a].el&&(e[a].auto=!0),!(a in e&&"enabled"in o)){Bn(t,i);return}typeof e[a]=="object"&&!("enabled"in e[a])&&(e[a].enabled=!0),e[a]||(e[a]={enabled:!1}),Bn(t,i)}}const Pd={eventsEmitter:r8,update:m8,translate:E8,transition:_8,slide:k8,loop:P8,grabCursor:F8,events:$8,breakpoints:tE,checkOverflow:oE,classes:rE},zd={};let t0=class Gi{constructor(...t){let n,i;t.length===1&&t[0].constructor&&Object.prototype.toString.call(t[0]).slice(8,-1)==="Object"?i=t[0]:[n,i]=t,i||(i={}),i=Bn({},i),n&&!i.el&&(i.el=n);const a=Ir();if(i.el&&typeof i.el=="string"&&a.querySelectorAll(i.el).length>1){const p=[];return a.querySelectorAll(i.el).forEach(x=>{const b=Bn({},i,{el:x});p.push(new Gi(b))}),p}const o=this;o.__swiper__=!0,o.support=_x(),o.device=Tx({userAgent:i.userAgent}),o.browser=Ox(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],i.modules&&Array.isArray(i.modules)&&o.modules.push(...i.modules);const d={};o.modules.forEach(p=>{p({params:i,swiper:o,extendParams:lE(i,d),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});const m=Bn({},Qh,d);return o.params=Bn({},m,zd,i),o.originalParams=Bn({},o.params),o.passedParams=Bn({},i),o.params&&o.params.on&&Object.keys(o.params.on).forEach(p=>{o.on(p,o.params.on[p])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return o.params.direction==="horizontal"},isVertical(){return o.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){const{slidesEl:n,params:i}=this,a=Ii(n,".".concat(i.slideClass,", swiper-slide")),o=Kc(a[0]);return Kc(t)-o}getSlideIndexByData(t){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===t))}getSlideIndexWhenGrid(t){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?t=Math.floor(t/this.params.grid.rows):this.params.grid.fill==="row"&&(t=t%Math.ceil(this.slides.length/this.params.grid.rows))),t}recalcSlides(){const t=this,{slidesEl:n,params:i}=t;t.slides=Ii(n,".".concat(i.slideClass,", swiper-slide"))}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,n){const i=this;t=Math.min(Math.max(t,0),1);const a=i.minTranslate(),d=(i.maxTranslate()-a)*t+a;i.translateTo(d,typeof n>"u"?0:n),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=t.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",n.join(" "))}getSlideClasses(t){const n=this;return n.destroyed?"":t.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=[];t.slides.forEach(i=>{const a=t.getSlideClasses(i);n.push({slideEl:i,classNames:a}),t.emit("_slideClass",i,a)}),t.emit("_slideClasses",n)}slidesPerViewDynamic(t="current",n=!1){const i=this,{params:a,slides:o,slidesGrid:d,slidesSizesGrid:m,size:p,activeIndex:x}=i;let b=1;if(typeof a.slidesPerView=="number")return a.slidesPerView;if(a.centeredSlides){let y=o[x]?Math.ceil(o[x].swiperSlideSize):0,C;for(let S=x+1;S<o.length;S+=1)o[S]&&!C&&(y+=Math.ceil(o[S].swiperSlideSize),b+=1,y>p&&(C=!0));for(let S=x-1;S>=0;S-=1)o[S]&&!C&&(y+=o[S].swiperSlideSize,b+=1,y>p&&(C=!0))}else if(t==="current")for(let y=x+1;y<o.length;y+=1)(n?d[y]+m[y]-d[x]<p:d[y]-d[x]<p)&&(b+=1);else for(let y=x-1;y>=0;y-=1)d[x]-d[y]<p&&(b+=1);return b}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:n,params:i}=t;i.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(d=>{d.complete&&fc(t,d)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function a(){const d=t.rtlTranslate?t.translate*-1:t.translate,m=Math.min(Math.max(d,t.maxTranslate()),t.minTranslate());t.setTranslate(m),t.updateActiveIndex(),t.updateSlidesClasses()}let o;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)a(),i.autoHeight&&t.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&t.isEnd&&!i.centeredSlides){const d=t.virtual&&i.virtual.enabled?t.virtual.slides:t.slides;o=t.slideTo(d.length-1,0,!1,!0)}else o=t.slideTo(t.activeIndex,0,!1,!0);o||a()}i.watchOverflow&&n!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,n=!0){const i=this,a=i.params.direction;return t||(t=a==="horizontal"?"vertical":"horizontal"),t===a||t!=="horizontal"&&t!=="vertical"||(i.el.classList.remove("".concat(i.params.containerModifierClass).concat(a)),i.el.classList.add("".concat(i.params.containerModifierClass).concat(t)),i.emitContainerClasses(),i.params.direction=t,i.slides.forEach(o=>{t==="vertical"?o.style.width="":o.style.height=""}),i.emit("changeDirection"),n&&i.update()),i}changeLanguageDirection(t){const n=this;n.rtl&&t==="rtl"||!n.rtl&&t==="ltr"||(n.rtl=t==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add("".concat(n.params.containerModifierClass,"rtl")),n.el.dir="rtl"):(n.el.classList.remove("".concat(n.params.containerModifierClass,"rtl")),n.el.dir="ltr"),n.update())}mount(t){const n=this;if(n.mounted)return!0;let i=t||n.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=n,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const a=()=>".".concat((n.params.wrapperClass||"").trim().split(" ").join("."));let d=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(a()):Ii(i,a())[0];return!d&&n.params.createElements&&(d=Qc("div",n.params.wrapperClass),i.append(d),Ii(i,".".concat(n.params.slideClass)).forEach(m=>{d.append(m)})),Object.assign(n,{el:i,wrapperEl:d,slidesEl:n.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:d,hostEl:n.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||Rs(i,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||Rs(i,"direction")==="rtl"),wrongRTL:Rs(d,"display")==="-webkit-box"}),!0}init(t){const n=this;if(n.initialized||n.mount(t)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const a=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&a.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),a.forEach(o=>{o.complete?fc(n,o):o.addEventListener("load",d=>{fc(n,d.target)})}),Yh(n),n.initialized=!0,Yh(n),n.emit("init"),n.emit("afterInit"),n}destroy(t=!0,n=!0){const i=this,{params:a,el:o,wrapperEl:d,slides:m}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),a.loop&&i.loopDestroy(),n&&(i.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),d&&d.removeAttribute("style"),m&&m.length&&m.forEach(p=>{p.classList.remove(a.slideVisibleClass,a.slideFullyVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass),p.removeAttribute("style"),p.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(p=>{i.off(p)}),t!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),X6(i)),i.destroyed=!0),null}static extendDefaults(t){Bn(zd,t)}static get extendedDefaults(){return zd}static get defaults(){return Qh}static installModule(t){Gi.prototype.__modules__||(Gi.prototype.__modules__=[]);const n=Gi.prototype.__modules__;typeof t=="function"&&n.indexOf(t)<0&&n.push(t)}static use(t){return Array.isArray(t)?(t.forEach(n=>Gi.installModule(n)),Gi):(Gi.installModule(t),Gi)}};Object.keys(Pd).forEach(e=>{Object.keys(Pd[e]).forEach(t=>{t0.prototype[t]=Pd[e][t]})});t0.use([i8,s8]);const Dx=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Ar(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"&&!e.__swiper__}function Aa(e,t){const n=["__proto__","constructor","prototype"];Object.keys(t).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof e[i]>"u"?e[i]=t[i]:Ar(t[i])&&Ar(e[i])&&Object.keys(t[i]).length>0?t[i].__swiper__?e[i]=t[i]:Aa(e[i],t[i]):e[i]=t[i]})}function Nx(e={}){return e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function Mx(e={}){return e.pagination&&typeof e.pagination.el>"u"}function kx(e={}){return e.scrollbar&&typeof e.scrollbar.el>"u"}function jx(e=""){const t=e.split(" ").map(i=>i.trim()).filter(i=>!!i),n=[];return t.forEach(i=>{n.indexOf(i)<0&&n.push(i)}),n.join(" ")}function cE(e=""){return e?e.includes("swiper-wrapper")?e:"swiper-wrapper ".concat(e):"swiper-wrapper"}function uE({swiper:e,slides:t,passedParams:n,changedParams:i,nextEl:a,prevEl:o,scrollbarEl:d,paginationEl:m}){const p=i.filter(k=>k!=="children"&&k!=="direction"&&k!=="wrapperClass"),{params:x,pagination:b,navigation:y,scrollbar:C,virtual:S,thumbs:N}=e;let M,B,T,A,_,D,P,G;i.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&x.thumbs&&(!x.thumbs.swiper||x.thumbs.swiper.destroyed)&&(M=!0),i.includes("controller")&&n.controller&&n.controller.control&&x.controller&&!x.controller.control&&(B=!0),i.includes("pagination")&&n.pagination&&(n.pagination.el||m)&&(x.pagination||x.pagination===!1)&&b&&!b.el&&(T=!0),i.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||d)&&(x.scrollbar||x.scrollbar===!1)&&C&&!C.el&&(A=!0),i.includes("navigation")&&n.navigation&&(n.navigation.prevEl||o)&&(n.navigation.nextEl||a)&&(x.navigation||x.navigation===!1)&&y&&!y.prevEl&&!y.nextEl&&(_=!0);const z=k=>{e[k]&&(e[k].destroy(),k==="navigation"?(e.isElement&&(e[k].prevEl.remove(),e[k].nextEl.remove()),x[k].prevEl=void 0,x[k].nextEl=void 0,e[k].prevEl=void 0,e[k].nextEl=void 0):(e.isElement&&e[k].el.remove(),x[k].el=void 0,e[k].el=void 0))};i.includes("loop")&&e.isElement&&(x.loop&&!n.loop?D=!0:!x.loop&&n.loop?P=!0:G=!0),p.forEach(k=>{if(Ar(x[k])&&Ar(n[k]))Object.assign(x[k],n[k]),(k==="navigation"||k==="pagination"||k==="scrollbar")&&"enabled"in n[k]&&!n[k].enabled&&z(k);else{const V=n[k];(V===!0||V===!1)&&(k==="navigation"||k==="pagination"||k==="scrollbar")?V===!1&&z(k):x[k]=n[k]}}),p.includes("controller")&&!B&&e.controller&&e.controller.control&&x.controller&&x.controller.control&&(e.controller.control=x.controller.control),i.includes("children")&&t&&S&&x.virtual.enabled?(S.slides=t,S.update(!0)):i.includes("virtual")&&S&&x.virtual.enabled&&(t&&(S.slides=t),S.update(!0)),i.includes("children")&&t&&x.loop&&(G=!0),M&&N.init()&&N.update(!0),B&&(e.controller.control=x.controller.control),T&&(e.isElement&&(!m||typeof m=="string")&&(m=document.createElement("div"),m.classList.add("swiper-pagination"),m.part.add("pagination"),e.el.appendChild(m)),m&&(x.pagination.el=m),b.init(),b.render(),b.update()),A&&(e.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-scrollbar"),d.part.add("scrollbar"),e.el.appendChild(d)),d&&(x.scrollbar.el=d),C.init(),C.updateSize(),C.setTranslate()),_&&(e.isElement&&((!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-next"),Zc(a,e.navigation.arrowSvg),a.part.add("button-next"),e.el.appendChild(a)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),Zc(o,e.navigation.arrowSvg),o.part.add("button-prev"),e.el.appendChild(o))),a&&(x.navigation.nextEl=a),o&&(x.navigation.prevEl=o),y.init(),y.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=n.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=n.allowSlidePrev),i.includes("direction")&&e.changeDirection(n.direction,!1),(D||G)&&e.loopDestroy(),(P||G)&&e.loopCreate(),e.update()}function dE(e={},t=!0){const n={on:{}},i={},a={};Aa(n,Qh),n._emitClasses=!0,n.init=!1;const o={},d=Dx.map(p=>p.replace(/_/,"")),m=Object.assign({},e);return Object.keys(m).forEach(p=>{typeof e[p]>"u"||(d.indexOf(p)>=0?Ar(e[p])?(n[p]={},a[p]={},Aa(n[p],e[p]),Aa(a[p],e[p])):(n[p]=e[p],a[p]=e[p]):p.search(/on[A-Z]/)===0&&typeof e[p]=="function"?t?i["".concat(p[2].toLowerCase()).concat(p.substr(3))]=e[p]:n.on["".concat(p[2].toLowerCase()).concat(p.substr(3))]=e[p]:o[p]=e[p])}),["navigation","pagination","scrollbar"].forEach(p=>{n[p]===!0&&(n[p]={}),n[p]===!1&&delete n[p]}),{params:n,passedParams:a,rest:o,events:i}}function hE({el:e,nextEl:t,prevEl:n,paginationEl:i,scrollbarEl:a,swiper:o},d){Nx(d)&&t&&n&&(o.params.navigation.nextEl=t,o.originalParams.navigation.nextEl=t,o.params.navigation.prevEl=n,o.originalParams.navigation.prevEl=n),Mx(d)&&i&&(o.params.pagination.el=i,o.originalParams.pagination.el=i),kx(d)&&a&&(o.params.scrollbar.el=a,o.originalParams.scrollbar.el=a),o.init(e)}function fE(e,t,n,i,a){const o=[];if(!t)return o;const d=p=>{o.indexOf(p)<0&&o.push(p)};if(n&&i){const p=i.map(a),x=n.map(a);p.join("")!==x.join("")&&d("children"),i.length!==n.length&&d("children")}return Dx.filter(p=>p[0]==="_").map(p=>p.replace(/_/,"")).forEach(p=>{if(p in e&&p in t)if(Ar(e[p])&&Ar(t[p])){const x=Object.keys(e[p]),b=Object.keys(t[p]);x.length!==b.length?d(p):(x.forEach(y=>{e[p][y]!==t[p][y]&&d(p)}),b.forEach(y=>{e[p][y]!==t[p][y]&&d(p)}))}else e[p]!==t[p]&&d(p)}),o}const gE=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.emit("_virtualUpdated"),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())};function $c(){return $c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$c.apply(this,arguments)}function Bx(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function Lx(e){const t=[];return Tt.Children.toArray(e).forEach(n=>{Bx(n)?t.push(n):n.props&&n.props.children&&Lx(n.props.children).forEach(i=>t.push(i))}),t}function pE(e){const t=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Tt.Children.toArray(e).forEach(i=>{if(Bx(i))t.push(i);else if(i.props&&i.props.slot&&n[i.props.slot])n[i.props.slot].push(i);else if(i.props&&i.props.children){const a=Lx(i.props.children);a.length>0?a.forEach(o=>t.push(o)):n["container-end"].push(i)}else n["container-end"].push(i)}),{slides:t,slots:n}}function mE(e,t,n){if(!n)return null;const i=b=>{let y=b;return b<0?y=t.length+b:y>=t.length&&(y=y-t.length),y},a=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:"".concat(n.offset,"px")}:{top:"".concat(n.offset,"px")},{from:o,to:d}=n,m=e.params.loop?-t.length:0,p=e.params.loop?t.length*2:t.length,x=[];for(let b=m;b<p;b+=1)b>=o&&b<=d&&x.push(t[i(b)]);return x.map((b,y)=>Tt.cloneElement(b,{swiper:e,style:a,key:b.props.virtualIndex||b.key||"slide-".concat(y)}))}function ko(e,t){return typeof window>"u"?Y.useEffect(e,t):Y.useLayoutEffect(e,t)}const Og=Y.createContext(null),xE=Y.createContext(null),Px=Y.forwardRef(({className:e,tag:t="div",wrapperTag:n="div",children:i,onSwiper:a,...o}={},d)=>{let m=!1;const[p,x]=Y.useState("swiper"),[b,y]=Y.useState(null),[C,S]=Y.useState(!1),N=Y.useRef(!1),M=Y.useRef(null),B=Y.useRef(null),T=Y.useRef(null),A=Y.useRef(null),_=Y.useRef(null),D=Y.useRef(null),P=Y.useRef(null),G=Y.useRef(null),{params:z,passedParams:k,rest:V,events:Z}=dE(o),{slides:ee,slots:q}=pE(i),$=()=>{S(!C)};Object.assign(z.on,{_containerClasses(se,xe){x(xe)}});const oe=()=>{Object.assign(z.on,Z),m=!0;const se={...z};if(delete se.wrapperClass,B.current=new t0(se),B.current.virtual&&B.current.params.virtual.enabled){B.current.virtual.slides=ee;const xe={cache:!1,slides:ee,renderExternal:y,renderExternalUpdate:!1};Aa(B.current.params.virtual,xe),Aa(B.current.originalParams.virtual,xe)}};M.current||oe(),B.current&&B.current.on("_beforeBreakpoint",$);const H=()=>{m||!Z||!B.current||Object.keys(Z).forEach(se=>{B.current.on(se,Z[se])})},re=()=>{!Z||!B.current||Object.keys(Z).forEach(se=>{B.current.off(se,Z[se])})};Y.useEffect(()=>()=>{B.current&&B.current.off("_beforeBreakpoint",$)}),Y.useEffect(()=>{!N.current&&B.current&&(B.current.emitSlidesClasses(),N.current=!0)}),ko(()=>{if(d&&(d.current=M.current),!!M.current)return B.current.destroyed&&oe(),hE({el:M.current,nextEl:_.current,prevEl:D.current,paginationEl:P.current,scrollbarEl:G.current,swiper:B.current},z),a&&!B.current.destroyed&&a(B.current),()=>{B.current&&!B.current.destroyed&&B.current.destroy(!0,!1)}},[]),ko(()=>{H();const se=fE(k,T.current,ee,A.current,xe=>xe.key);return T.current=k,A.current=ee,se.length&&B.current&&!B.current.destroyed&&uE({swiper:B.current,slides:ee,passedParams:k,changedParams:se,nextEl:_.current,prevEl:D.current,scrollbarEl:G.current,paginationEl:P.current}),()=>{re()}}),ko(()=>{gE(B.current)},[b]);function ce(){return z.virtual?mE(B.current,ee,b):ee.map((se,xe)=>Tt.cloneElement(se,{swiper:B.current,swiperSlideIndex:xe}))}return Tt.createElement(t,$c({ref:M,className:jx("".concat(p).concat(e?" ".concat(e):""))},V),Tt.createElement(xE.Provider,{value:B.current},q["container-start"],Tt.createElement(n,{className:cE(z.wrapperClass)},q["wrapper-start"],ce(),q["wrapper-end"]),Nx(z)&&Tt.createElement(Tt.Fragment,null,Tt.createElement("div",{ref:D,className:"swiper-button-prev"}),Tt.createElement("div",{ref:_,className:"swiper-button-next"})),kx(z)&&Tt.createElement("div",{ref:G,className:"swiper-scrollbar"}),Mx(z)&&Tt.createElement("div",{ref:P,className:"swiper-pagination"}),q["container-end"]))});Px.displayName="Swiper";const zx=Y.forwardRef(({tag:e="div",children:t,className:n="",swiper:i,zoom:a,lazy:o,virtualIndex:d,swiperSlideIndex:m,...p}={},x)=>{const b=Y.useRef(null),[y,C]=Y.useState("swiper-slide"),[S,N]=Y.useState(!1);function M(_,D,P){D===b.current&&C(P)}ko(()=>{if(typeof m<"u"&&(b.current.swiperSlideIndex=m),x&&(x.current=b.current),!(!b.current||!i)){if(i.destroyed){y!=="swiper-slide"&&C("swiper-slide");return}return i.on("_slideClass",M),()=>{i&&i.off("_slideClass",M)}}}),ko(()=>{i&&b.current&&!i.destroyed&&C(i.getSlideClasses(b.current))},[i]);const B={isActive:y.indexOf("swiper-slide-active")>=0,isVisible:y.indexOf("swiper-slide-visible")>=0,isPrev:y.indexOf("swiper-slide-prev")>=0,isNext:y.indexOf("swiper-slide-next")>=0},T=()=>typeof t=="function"?t(B):t,A=()=>{N(!0)};return Tt.createElement(e,$c({ref:b,className:jx("".concat(y).concat(n?" ".concat(n):"")),"data-swiper-slide-index":d,onLoad:A},p),a&&Tt.createElement(Og.Provider,{value:B},Tt.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof a=="number"?a:void 0},T(),o&&!S&&Tt.createElement("div",{className:"swiper-lazy-preloader"}))),!a&&Tt.createElement(Og.Provider,{value:B},T(),o&&!S&&Tt.createElement("div",{className:"swiper-lazy-preloader"})))});zx.displayName="SwiperSlide";function wE(e,t,n,i){return e.params.createElements&&Object.keys(i).forEach(a=>{if(!n[a]&&n.auto===!0){let o=Ii(e.el,".".concat(i[a]))[0];o||(o=Qc("div",i[a]),o.className=i[a],e.el.append(o)),n[a]=o,t[a]=o}}),n}function co(e=""){return".".concat(e.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,"."))}function vE({swiper:e,extendParams:t,on:n,emit:i}){const a="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:T=>T,formatFractionTotal:T=>T,bulletClass:"".concat(a,"-bullet"),bulletActiveClass:"".concat(a,"-bullet-active"),modifierClass:"".concat(a,"-"),currentClass:"".concat(a,"-current"),totalClass:"".concat(a,"-total"),hiddenClass:"".concat(a,"-hidden"),progressbarFillClass:"".concat(a,"-progressbar-fill"),progressbarOppositeClass:"".concat(a,"-progressbar-opposite"),clickableClass:"".concat(a,"-clickable"),lockClass:"".concat(a,"-lock"),horizontalClass:"".concat(a,"-horizontal"),verticalClass:"".concat(a,"-vertical"),paginationDisabledClass:"".concat(a,"-disabled")}}),e.pagination={el:null,bullets:[]};let o,d=0;function m(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function p(T,A){const{bulletActiveClass:_}=e.params.pagination;T&&(T=T["".concat(A==="prev"?"previous":"next","ElementSibling")],T&&(T.classList.add("".concat(_,"-").concat(A)),T=T["".concat(A==="prev"?"previous":"next","ElementSibling")],T&&T.classList.add("".concat(_,"-").concat(A,"-").concat(A))))}function x(T,A,_){if(T=T%_,A=A%_,A===T+1)return"next";if(A===T-1)return"previous"}function b(T){const A=T.target.closest(co(e.params.pagination.bulletClass));if(!A)return;T.preventDefault();const _=Kc(A)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===_)return;const D=x(e.realIndex,_,e.slides.length);D==="next"?e.slideNext():D==="previous"?e.slidePrev():e.slideToLoop(_)}else e.slideTo(_)}function y(){const T=e.rtl,A=e.params.pagination;if(m())return;let _=e.pagination.el;_=Vi(_);let D,P;const G=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,z=e.params.loop?Math.ceil(G/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(P=e.previousRealIndex||0,D=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(D=e.snapIndex,P=e.previousSnapIndex):(P=e.previousIndex||0,D=e.activeIndex||0),A.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const k=e.pagination.bullets;let V,Z,ee;if(A.dynamicBullets&&(o=Wh(k[0],e.isHorizontal()?"width":"height"),_.forEach(q=>{q.style[e.isHorizontal()?"width":"height"]="".concat(o*(A.dynamicMainBullets+4),"px")}),A.dynamicMainBullets>1&&P!==void 0&&(d+=D-(P||0),d>A.dynamicMainBullets-1?d=A.dynamicMainBullets-1:d<0&&(d=0)),V=Math.max(D-d,0),Z=V+(Math.min(k.length,A.dynamicMainBullets)-1),ee=(Z+V)/2),k.forEach(q=>{const $=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(oe=>"".concat(A.bulletActiveClass).concat(oe))].map(oe=>typeof oe=="string"&&oe.includes(" ")?oe.split(" "):oe).flat();q.classList.remove(...$)}),_.length>1)k.forEach(q=>{const $=Kc(q);$===D?q.classList.add(...A.bulletActiveClass.split(" ")):e.isElement&&q.setAttribute("part","bullet"),A.dynamicBullets&&($>=V&&$<=Z&&q.classList.add(..."".concat(A.bulletActiveClass,"-main").split(" ")),$===V&&p(q,"prev"),$===Z&&p(q,"next"))});else{const q=k[D];if(q&&q.classList.add(...A.bulletActiveClass.split(" ")),e.isElement&&k.forEach(($,oe)=>{$.setAttribute("part",oe===D?"bullet-active":"bullet")}),A.dynamicBullets){const $=k[V],oe=k[Z];for(let H=V;H<=Z;H+=1)k[H]&&k[H].classList.add(..."".concat(A.bulletActiveClass,"-main").split(" "));p($,"prev"),p(oe,"next")}}if(A.dynamicBullets){const q=Math.min(k.length,A.dynamicMainBullets+4),$=(o*q-o)/2-ee*o,oe=T?"right":"left";k.forEach(H=>{H.style[e.isHorizontal()?oe:"top"]="".concat($,"px")})}}_.forEach((k,V)=>{if(A.type==="fraction"&&(k.querySelectorAll(co(A.currentClass)).forEach(Z=>{Z.textContent=A.formatFractionCurrent(D+1)}),k.querySelectorAll(co(A.totalClass)).forEach(Z=>{Z.textContent=A.formatFractionTotal(z)})),A.type==="progressbar"){let Z;A.progressbarOpposite?Z=e.isHorizontal()?"vertical":"horizontal":Z=e.isHorizontal()?"horizontal":"vertical";const ee=(D+1)/z;let q=1,$=1;Z==="horizontal"?q=ee:$=ee,k.querySelectorAll(co(A.progressbarFillClass)).forEach(oe=>{oe.style.transform="translate3d(0,0,0) scaleX(".concat(q,") scaleY(").concat($,")"),oe.style.transitionDuration="".concat(e.params.speed,"ms")})}A.type==="custom"&&A.renderCustom?(Zc(k,A.renderCustom(e,D+1,z)),V===0&&i("paginationRender",k)):(V===0&&i("paginationRender",k),i("paginationUpdate",k)),e.params.watchOverflow&&e.enabled&&k.classList[e.isLocked?"add":"remove"](A.lockClass)})}function C(){const T=e.params.pagination;if(m())return;const A=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let _=e.pagination.el;_=Vi(_);let D="";if(T.type==="bullets"){let P=e.params.loop?Math.ceil(A/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&P>A&&(P=A);for(let G=0;G<P;G+=1)T.renderBullet?D+=T.renderBullet.call(e,G,T.bulletClass):D+="<".concat(T.bulletElement," ").concat(e.isElement?'part="bullet"':"",' class="').concat(T.bulletClass,'"></').concat(T.bulletElement,">")}T.type==="fraction"&&(T.renderFraction?D=T.renderFraction.call(e,T.currentClass,T.totalClass):D='<span class="'.concat(T.currentClass,'"></span>')+" / "+'<span class="'.concat(T.totalClass,'"></span>')),T.type==="progressbar"&&(T.renderProgressbar?D=T.renderProgressbar.call(e,T.progressbarFillClass):D='<span class="'.concat(T.progressbarFillClass,'"></span>')),e.pagination.bullets=[],_.forEach(P=>{T.type!=="custom"&&Zc(P,D||""),T.type==="bullets"&&e.pagination.bullets.push(...P.querySelectorAll(co(T.bulletClass)))}),T.type!=="custom"&&i("paginationRender",_[0])}function S(){e.params.pagination=wE(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const T=e.params.pagination;if(!T.el)return;let A;typeof T.el=="string"&&e.isElement&&(A=e.el.querySelector(T.el)),!A&&typeof T.el=="string"&&(A=[...document.querySelectorAll(T.el)]),A||(A=T.el),!(!A||A.length===0)&&(e.params.uniqueNavElements&&typeof T.el=="string"&&Array.isArray(A)&&A.length>1&&(A=[...e.el.querySelectorAll(T.el)],A.length>1&&(A=A.find(_=>Cx(_,".swiper")[0]===e.el))),Array.isArray(A)&&A.length===1&&(A=A[0]),Object.assign(e.pagination,{el:A}),A=Vi(A),A.forEach(_=>{T.type==="bullets"&&T.clickable&&_.classList.add(...(T.clickableClass||"").split(" ")),_.classList.add(T.modifierClass+T.type),_.classList.add(e.isHorizontal()?T.horizontalClass:T.verticalClass),T.type==="bullets"&&T.dynamicBullets&&(_.classList.add("".concat(T.modifierClass).concat(T.type,"-dynamic")),d=0,T.dynamicMainBullets<1&&(T.dynamicMainBullets=1)),T.type==="progressbar"&&T.progressbarOpposite&&_.classList.add(T.progressbarOppositeClass),T.clickable&&_.addEventListener("click",b),e.enabled||_.classList.add(T.lockClass)}))}function N(){const T=e.params.pagination;if(m())return;let A=e.pagination.el;A&&(A=Vi(A),A.forEach(_=>{_.classList.remove(T.hiddenClass),_.classList.remove(T.modifierClass+T.type),_.classList.remove(e.isHorizontal()?T.horizontalClass:T.verticalClass),T.clickable&&(_.classList.remove(...(T.clickableClass||"").split(" ")),_.removeEventListener("click",b))})),e.pagination.bullets&&e.pagination.bullets.forEach(_=>_.classList.remove(...T.bulletActiveClass.split(" ")))}n("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const T=e.params.pagination;let{el:A}=e.pagination;A=Vi(A),A.forEach(_=>{_.classList.remove(T.horizontalClass,T.verticalClass),_.classList.add(e.isHorizontal()?T.horizontalClass:T.verticalClass)})}),n("init",()=>{e.params.pagination.enabled===!1?B():(S(),C(),y())}),n("activeIndexChange",()=>{typeof e.snapIndex>"u"&&y()}),n("snapIndexChange",()=>{y()}),n("snapGridLengthChange",()=>{C(),y()}),n("destroy",()=>{N()}),n("enable disable",()=>{let{el:T}=e.pagination;T&&(T=Vi(T),T.forEach(A=>A.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),n("lock unlock",()=>{y()}),n("click",(T,A)=>{const _=A.target,D=Vi(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&D&&D.length>0&&!_.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&_===e.navigation.nextEl||e.navigation.prevEl&&_===e.navigation.prevEl))return;const P=D[0].classList.contains(e.params.pagination.hiddenClass);i(P===!0?"paginationShow":"paginationHide"),D.forEach(G=>G.classList.toggle(e.params.pagination.hiddenClass))}});const M=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:T}=e.pagination;T&&(T=Vi(T),T.forEach(A=>A.classList.remove(e.params.pagination.paginationDisabledClass))),S(),C(),y()},B=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:T}=e.pagination;T&&(T=Vi(T),T.forEach(A=>A.classList.add(e.params.pagination.paginationDisabledClass))),N()};Object.assign(e.pagination,{enable:M,disable:B,render:C,update:y,init:S,destroy:N})}const yE=({icon:e,title:t,description:n,color:i})=>g.jsxs("div",{className:"onboarding-slide",children:[g.jsx("div",{className:"onboarding-icon-container",style:{backgroundColor:i},children:g.jsx(ie,{icon:e,className:"onboarding-icon"})}),g.jsx("h2",{className:"onboarding-title",children:t}),g.jsx("p",{className:"onboarding-description",children:n})]}),bE=()=>{const e=Gs(),{t}=qn(),n=Y.useRef(null),[i,a]=Y.useState(!1),o=[{icon:gx,title:t("onboardingSlide1Title")||"Explore Artifacts",description:t("onboardingSlide1Desc")||"Browse through a stunning collection of historical artifacts from around the world with high-quality images and detailed information.",color:"#667eea"},{icon:hx,title:t("onboardingSlide2Title")||"3D & AR Viewing",description:t("onboardingSlide2Desc")||"Experience artifacts in 3D! Rotate, zoom, and view exhibits in augmented reality for an immersive museum experience.",color:"#f093fb"},{icon:wx,title:t("onboardingSlide3Title")||"QR Code Scanning",description:t("onboardingSlide3Desc")||"Scan QR codes at museums to instantly access detailed information about exhibits and artifacts.",color:"#4facfe"},{icon:C6,title:t("onboardingSlide4Title")||"Audio Guides",description:t("onboardingSlide4Desc")||"Listen to expert audio guides that bring artifacts to life with fascinating stories and historical context.",color:"#43e97b"},{icon:el,title:t("onboardingSlide5Title")||"Save Favorites",description:t("onboardingSlide5Desc")||"Mark your favorite artifacts and create your personal collection for quick access anytime.",color:"#fa709a"},{icon:d6,title:t("onboardingSlide6Title")||"Interactive Quizzes",description:t("onboardingSlide6Desc")||"Test your knowledge with fun quizzes and earn badges as you learn about history and culture.",color:"#feca57"},{icon:m6,title:t("onboardingSlide7Title")||"Multi-Language",description:t("onboardingSlide7Desc")||"Available in English, Italian, Spanish, and French. Switch languages anytime to enjoy content in your preferred language.",color:"#a29bfe"},{icon:Ma,title:t("onboardingSlide8Title")||"Ready to Explore!",description:t("onboardingSlide8Desc")||"You're all set! Start your journey through history and discover amazing artifacts from ancient civilizations.",color:"#00d2d3"}],d=()=>{localStorage.setItem("onboardingCompleted","true"),e.replace("/tabs/gallery")},m=()=>{localStorage.setItem("onboardingCompleted","true"),e.replace("/tabs/gallery")},p=()=>{n.current&&(i?m():n.current.slideNext())},x=b=>{a(b.isEnd)};return g.jsx(Zt,{children:g.jsx(Vt,{fullscreen:!0,className:"onboarding-content",children:g.jsxs("div",{className:"onboarding-container",children:[g.jsx("div",{className:"onboarding-header",children:g.jsx(Ce,{fill:"clear",onClick:d,className:"skip-button",children:t("skip")||"Skip"})}),g.jsx(Px,{onSwiper:b=>n.current=b,onSlideChange:x,pagination:{clickable:!0},modules:[vE],className:"onboarding-slides",children:o.map((b,y)=>g.jsx(zx,{children:g.jsx(yE,{icon:b.icon,title:b.title,description:b.description,color:b.color})},y))}),g.jsxs("div",{className:"onboarding-footer",children:[g.jsx(Ce,{expand:"block",size:"large",onClick:m,className:"get-started-button",children:t("getStarted")||"Get Started"}),g.jsx(Ce,{expand:"block",fill:"clear",onClick:p,className:"next-button",children:t("next")||"Next"})]})]})})})};async function EE(e){try{if(!Re)return{data:null,error:new Error("Supabase not configured")};const{data:t,error:n}=await Re.from("artifacts").insert([e]).select().single();return n?(console.error("Error adding artifact:",n),{data:null,error:n}):{data:t,error:null}}catch(t){return console.error("Error adding artifact:",t),{data:null,error:t}}}async function AE(e,t){try{if(!Re)return{data:null,error:new Error("Supabase not configured")};const{data:n,error:i}=await Re.from("artifacts").update(t).eq("id",e).select().single();return i?(console.error("Error updating artifact:",i),{data:null,error:i}):{data:n,error:null}}catch(n){return console.error("Error updating artifact:",n),{data:null,error:n}}}async function SE(e){try{if(!Re)return{success:!1,error:new Error("Supabase not configured")};const{error:t}=await Re.from("artifacts").delete().eq("id",e);return t?(console.error("Error deleting artifact:",t),{success:!1,error:t}):{success:!0,error:null}}catch(t){return console.error("Error deleting artifact:",t),{success:!1,error:t}}}async function CE(){try{if(!Re)return{data:[],error:new Error("Supabase not configured")};const{data:e,error:t}=await Re.from("artifacts").select("*").order("created_at",{ascending:!1});return t?(console.error("Error fetching artifacts:",t),{data:[],error:t}):{data:e||[],error:null}}catch(e){return console.error("Error fetching artifacts:",e),{data:[],error:e}}}function _E(e){return{image:"artifacts",audio:"audio",video:"videos",model:"models"}[e]}function TE(e){const t=Date.now(),n=Math.random().toString(36).substring(2,9),i=e.split(".").pop();return"".concat(t,"-").concat(n,".").concat(i)}async function OE(e,t){if(!Re)return{url:null,error:"Supabase not configured"};try{const n=_E(t),a=TE(e.name),{data:o,error:d}=await Re.storage.from(n).upload(a,e,{cacheControl:"3600",upsert:!1});if(d)return console.error("Error uploading file:",d),{url:null,error:d};const{data:m}=Re.storage.from(n).getPublicUrl(a);return{url:m.publicUrl,error:null}}catch(n){return console.error("Error uploading file:",n),{url:null,error:n}}}function RE(e,t){const n={image:10485760,audio:20971520,video:104857600,model:52428800},i={image:["image/jpeg","image/jpg","image/png","image/webp","image/gif"],audio:["audio/mpeg","audio/mp3","audio/wav","audio/ogg"],video:["video/mp4","video/webm","video/quicktime"],model:["model/gltf-binary","application/octet-stream"]};if(e.size>n[t]){const a=n[t]/1048576;return{valid:!1,error:"File size exceeds ".concat(a,"MB limit")}}return i[t].includes(e.type)?{valid:!0}:{valid:!1,error:"Invalid file type. Allowed: ".concat(i[t].join(", "))}}async function IE(){if(!Re){console.error("Supabase not configured");return}const e=["artifacts","audio","videos","models"];for(const t of e)try{const{data:n}=await Re.storage.listBuckets();if(n==null?void 0:n.some(a=>a.name===t))console.log(" Bucket already exists: ".concat(t));else{const{error:a}=await Re.storage.createBucket(t,{public:!0,fileSizeLimit:104857600});a?console.error("Error creating bucket ".concat(t,":"),a):console.log(" Created bucket: ".concat(t))}}catch(n){console.error("Error with bucket ".concat(t,":"),n)}}const Rg=({fileType:e,onUploadComplete:t,currentUrl:n,accept:i})=>{const[a,o]=Y.useState(!1),[d,m]=Y.useState(null),[p,x]=Y.useState(n||null),[b,y]=Y.useState(!1),C=Y.useRef(null),S=async D=>{m(null);const P=RE(D,e);if(!P.valid){m(P.error||"Invalid file");return}if(e==="image"){const k=new FileReader;k.onloadend=()=>{x(k.result)},k.readAsDataURL(D)}o(!0);const{url:G,error:z}=await OE(D,e);if(o(!1),z){m("Upload failed: "+z.message);return}G&&(x(G),t(G))},N=D=>{var G;const P=(G=D.target.files)==null?void 0:G[0];P&&S(P)},M=D=>{D.preventDefault(),D.stopPropagation(),D.type==="dragenter"||D.type==="dragover"?y(!0):D.type==="dragleave"&&y(!1)},B=D=>{var G;D.preventDefault(),D.stopPropagation(),y(!1);const P=(G=D.dataTransfer.files)==null?void 0:G[0];P&&S(P)},T=()=>{var D;(D=C.current)==null||D.click()},A=()=>i||{image:"image/jpeg,image/jpg,image/png,image/webp,image/gif",audio:"audio/mpeg,audio/mp3,audio/wav,audio/ogg",video:"video/mp4,video/webm,video/quicktime",model:".glb,.gltf"}[e],_=()=>({image:"Image",audio:"Audio",video:"Video",model:"3D Model"})[e];return g.jsxs("div",{className:"file-upload-container",children:[g.jsx("input",{ref:C,type:"file",accept:A(),onChange:N,style:{display:"none"}}),g.jsx("div",{className:"file-upload-dropzone ".concat(b?"drag-active":""),onDragEnter:M,onDragLeave:M,onDragOver:M,onDrop:B,onClick:T,children:a?g.jsxs("div",{className:"upload-status",children:[g.jsx(Ps,{name:"crescent"}),g.jsx("p",{children:"Uploading..."}),g.jsx(Gg,{type:"indeterminate"})]}):p&&e==="image"?g.jsxs("div",{className:"upload-preview",children:[g.jsx("img",{src:p,alt:"Preview"}),g.jsxs("div",{className:"upload-overlay",children:[g.jsx(ie,{icon:Ma,color:"success"}),g.jsx("p",{children:"Click to change"})]})]}):p?g.jsxs("div",{className:"upload-status",children:[g.jsx(ie,{icon:Ma,color:"success",size:"large"}),g.jsxs("p",{children:[_()," uploaded successfully!"]}),g.jsx("small",{children:p})]}):g.jsxs("div",{className:"upload-prompt",children:[g.jsx(ie,{icon:wg,size:"large"}),g.jsxs("p",{children:[g.jsx("strong",{children:"Click to upload"})," or drag and drop"]}),g.jsxs("small",{children:[_()," files only"]})]})}),d&&g.jsxs("div",{className:"upload-error",children:[g.jsx(ie,{icon:Jf}),d]}),!a&&g.jsxs(Ce,{expand:"block",fill:"outline",onClick:T,style:{marginTop:"10px"},children:[g.jsx(ie,{icon:wg,slot:"start"}),p?"Change ".concat(_()):"Upload ".concat(_())]})]})},DE=({artifact:e,onSave:t,onCancel:n})=>{const[i,a]=Y.useState("en"),[o,d]=Y.useState({name_en:(e==null?void 0:e.name_en)||"",name_it:(e==null?void 0:e.name_it)||"",name_es:(e==null?void 0:e.name_es)||"",name_fr:(e==null?void 0:e.name_fr)||"",description_en:(e==null?void 0:e.description_en)||"",description_it:(e==null?void 0:e.description_it)||"",description_es:(e==null?void 0:e.description_es)||"",description_fr:(e==null?void 0:e.description_fr)||"",image_url:(e==null?void 0:e.image_url)||"",type:(e==null?void 0:e.type)||"image",period:(e==null?void 0:e.period)||"",location:(e==null?void 0:e.location)||"",category:(e==null?void 0:e.category)||"sculpture",audio_guide_url:(e==null?void 0:e.audio_guide_url)||""}),m=x=>{if(x.preventDefault(),!o.name_en||!o.description_en||!o.image_url){alert("Please fill in at least English name, description, and image");return}t(o)},p=(x,b)=>{d({...o,[x]:b})};return g.jsx("form",{onSubmit:m,children:g.jsxs(Ie,{children:[g.jsx(Ve,{children:g.jsx(Ge,{children:e?"Edit Artifact":"Add New Artifact"})}),g.jsxs(De,{children:[g.jsxs(Hg,{value:i,onIonChange:x=>a(x.detail.value),children:[g.jsx(_s,{value:"en",children:g.jsx(de,{children:" English"})}),g.jsx(_s,{value:"it",children:g.jsx(de,{children:" Italian"})}),g.jsx(_s,{value:"es",children:g.jsx(de,{children:" Spanish"})}),g.jsx(_s,{value:"fr",children:g.jsx(de,{children:" French"})})]}),g.jsxs(Se,{style:{marginTop:"20px"},children:[g.jsxs(de,{position:"stacked",children:["Name (",i.toUpperCase(),") *"]}),g.jsx(ha,{value:o["name_".concat(i)],onIonInput:x=>p("name_".concat(i),x.detail.value||""),placeholder:"Enter name in ".concat(i.toUpperCase()),required:i==="en"})]}),g.jsxs(Se,{children:[g.jsxs(de,{position:"stacked",children:["Description (",i.toUpperCase(),") *"]}),g.jsx(E3,{value:o["description_".concat(i)],onIonInput:x=>p("description_".concat(i),x.detail.value||""),placeholder:"Enter description in ".concat(i.toUpperCase()),rows:6,required:i==="en"})]}),i==="en"&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{marginTop:"20px"},children:[g.jsx(de,{children:g.jsx("h3",{children:"Artifact Image *"})}),g.jsx(Rg,{fileType:"image",currentUrl:o.image_url,onUploadComplete:x=>p("image_url",x)})]}),g.jsxs(Se,{children:[g.jsx(de,{position:"stacked",children:"Type *"}),g.jsxs(pc,{value:o.type,onIonChange:x=>p("type",x.detail.value||"image"),children:[g.jsx(Wt,{value:"image",children:"Image"}),g.jsx(Wt,{value:"video",children:"Video"})]})]}),g.jsxs(Se,{children:[g.jsx(de,{position:"stacked",children:"Period"}),g.jsx(ha,{value:o.period,onIonInput:x=>p("period",x.detail.value||""),placeholder:"e.g., Ancient Rome, Medieval"})]}),g.jsxs(Se,{children:[g.jsx(de,{position:"stacked",children:"Location"}),g.jsx(ha,{value:o.location,onIonInput:x=>p("location",x.detail.value||""),placeholder:"e.g., Rome, Italy"})]}),g.jsxs(Se,{children:[g.jsx(de,{position:"stacked",children:"Category"}),g.jsxs(pc,{value:o.category,onIonChange:x=>p("category",x.detail.value),children:[g.jsx(Wt,{value:"sculpture",children:"Sculpture"}),g.jsx(Wt,{value:"painting",children:"Painting"}),g.jsx(Wt,{value:"pottery",children:"Pottery"}),g.jsx(Wt,{value:"jewelry",children:"Jewelry"}),g.jsx(Wt,{value:"manuscript",children:"Manuscript"}),g.jsx(Wt,{value:"weapon",children:"Weapon"}),g.jsx(Wt,{value:"tool",children:"Tool"}),g.jsx(Wt,{value:"other",children:"Other"})]})]}),g.jsxs("div",{style:{marginTop:"20px"},children:[g.jsx(de,{children:g.jsx("h3",{children:"Audio Guide (optional)"})}),g.jsx(Rg,{fileType:"audio",currentUrl:o.audio_guide_url,onUploadComplete:x=>p("audio_guide_url",x)})]})]}),g.jsxs("div",{style:{marginTop:"20px",display:"flex",gap:"10px"},children:[g.jsx(Ce,{expand:"block",type:"submit",color:"primary",children:e?"Update Artifact":"Add Artifact"}),g.jsx(Ce,{expand:"block",type:"button",color:"medium",onClick:n,children:"Cancel"})]})]})]})})},NE=()=>{const[e,t]=Y.useState(!1),[n,i]=Y.useState(""),[a,o]=Y.useState([]),[d,m]=Y.useState(!1),[p,x]=Y.useState(!1),[b,y]=Y.useState(null),[C,S]=Y.useState(!1),[N,M]=Y.useState(null);Y.useEffect(()=>{sessionStorage.getItem("admin_authenticated")==="true"&&(t(!0),A())},[]);const B=()=>{n==="museum2024"?(t(!0),sessionStorage.setItem("admin_authenticated","true"),A()):alert("Invalid password")},T=()=>{t(!1),sessionStorage.removeItem("admin_authenticated"),i("")},A=async()=>{m(!0);const{data:k,error:V}=await CE();V?alert("Error loading artifacts: "+V.message):o(k),m(!1)},_=()=>{y(null),x(!0)},D=k=>{y(k),x(!0)},P=async k=>{if(m(!0),b){const{data:V,error:Z}=await AE(b.id,k);Z?alert("Error updating artifact: "+Z.message):(alert("Artifact updated successfully!"),x(!1),A())}else{const{data:V,error:Z}=await EE(k);Z?alert("Error adding artifact: "+Z.message):(alert("Artifact added successfully!"),x(!1),A())}m(!1)},G=k=>{M(k),S(!0)},z=async()=>{if(!N)return;m(!0);const{success:k,error:V}=await SE(N);k?(alert("Artifact deleted successfully!"),A()):alert("Error deleting artifact: "+V.message),M(null),m(!1)};return e?g.jsxs(Zt,{children:[g.jsx(Nt,{children:g.jsxs(Mt,{children:[g.jsx(kt,{style:{color:"#667eea",fontWeight:"600"},children:" Admin Panel"}),g.jsx(fn,{slot:"end",children:g.jsxs(Ce,{onClick:T,children:[g.jsx(ie,{icon:v6}),"Logout"]})})]})}),g.jsxs(Vt,{className:"ion-padding",children:[d&&g.jsx("div",{style:{textAlign:"center",padding:"20px"},children:g.jsx(Ps,{})}),!d&&!p&&g.jsxs(g.Fragment,{children:[g.jsxs(Ie,{children:[g.jsx(Ve,{children:g.jsx(Ge,{children:"Artifact Management"})}),g.jsx(De,{children:g.jsxs("p",{children:["Total Artifacts: ",a.length]})})]}),g.jsx(Ln,{children:a.map(k=>g.jsx(Ie,{children:g.jsx(De,{children:g.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[g.jsx("img",{src:k.image_url,alt:k.name_en||k.image_url,style:{width:"80px",height:"80px",objectFit:"cover",borderRadius:"8px"}}),g.jsxs("div",{style:{flex:1},children:[g.jsx("h3",{children:k.name_en||"Untitled"}),g.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--ion-color-medium)"},children:[k.period,"  ",k.location]})]}),g.jsxs("div",{style:{display:"flex",gap:"5px"},children:[g.jsx(Ce,{size:"small",onClick:()=>D(k),children:g.jsx(ie,{icon:s6})}),g.jsx(Ce,{size:"small",color:"danger",onClick:()=>G(k.id),children:g.jsx(ie,{icon:U6})})]})]})})},k.id))}),g.jsx(qg,{vertical:"bottom",horizontal:"end",slot:"fixed",children:g.jsx(Xg,{onClick:_,children:g.jsx(ie,{icon:Zb})})})]}),p&&g.jsx(DE,{artifact:b,onSave:P,onCancel:()=>x(!1)}),g.jsx(A3,{isOpen:C,onDidDismiss:()=>S(!1),header:"Delete Artifact",message:"Are you sure you want to delete this artifact? This action cannot be undone.",buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",role:"destructive",handler:z}]})]})]}):g.jsxs(Zt,{children:[g.jsx(Nt,{children:g.jsx(Mt,{children:g.jsx(kt,{children:"Admin Login"})})}),g.jsx(Vt,{className:"ion-padding",children:g.jsx("div",{className:"login-container",children:g.jsxs(Ie,{children:[g.jsx(Ve,{children:g.jsx(Ge,{children:" Museum Admin Panel"})}),g.jsxs(De,{children:[g.jsxs(Se,{children:[g.jsx(de,{position:"stacked",children:"Password"}),g.jsx(ha,{type:"password",value:n,onIonInput:k=>i(k.detail.value||""),onKeyPress:k=>k.key==="Enter"&&B(),placeholder:"Enter admin password"})]}),g.jsx(Ce,{expand:"block",onClick:B,style:{marginTop:"20px"},children:"Login"})]})]})})})]})},ME=()=>{const[e,t]=Y.useState(!1),[n,i]=Y.useState(!1),[a,o]=Y.useState(null),d=async()=>{t(!0),o(null);try{await IE(),i(!0),alert(" Storage buckets created successfully!")}catch(m){o(m.message||"Failed to create storage buckets"),alert(" Error: "+(m.message||"Failed to create storage buckets"))}finally{t(!1)}};return g.jsxs(Zt,{children:[g.jsx(Nt,{children:g.jsx(Mt,{children:g.jsx(kt,{style:{color:"#667eea",fontWeight:"600"},children:" Admin Setup"})})}),g.jsxs(Vt,{className:"ion-padding",children:[g.jsxs(Ie,{children:[g.jsx(Ve,{children:g.jsx(Ge,{children:"Supabase Storage Setup"})}),g.jsxs(De,{children:[g.jsx("p",{children:"This will create the necessary storage buckets in Supabase for storing images, audio, videos, and 3D models."}),g.jsx(Ln,{style:{marginTop:"20px"},children:g.jsx(Se,{children:g.jsxs(de,{children:[g.jsx("h3",{children:" Buckets to create:"}),g.jsxs("ul",{style:{marginTop:"10px"},children:[g.jsx("li",{children:"artifacts (for images)"}),g.jsx("li",{children:"audio (for audio guides)"}),g.jsx("li",{children:"videos (for videos)"}),g.jsx("li",{children:"models (for 3D models)"})]})]})})}),a&&g.jsxs("div",{style:{marginTop:"20px",padding:"10px",background:"var(--ion-color-danger)",borderRadius:"8px",color:"white"},children:[g.jsx(ie,{icon:Jf})," ",a]}),n&&g.jsxs("div",{style:{marginTop:"20px",padding:"10px",background:"var(--ion-color-success)",borderRadius:"8px",color:"white"},children:[g.jsx(ie,{icon:Ma})," Setup complete! You can now go to the admin panel."]}),g.jsxs("div",{style:{marginTop:"20px"},children:[g.jsx(Ce,{expand:"block",onClick:d,disabled:e||n,children:e?g.jsxs(g.Fragment,{children:[g.jsx(Ps,{name:"crescent",style:{marginRight:"10px"}}),"Creating Buckets..."]}):n?" Setup Complete":" Create Storage Buckets"}),n&&g.jsx(Ce,{expand:"block",color:"secondary",routerLink:"/admin",style:{marginTop:"10px"},children:"Go to Admin Panel"})]})]})]}),g.jsxs(Ie,{style:{marginTop:"20px"},children:[g.jsx(Ve,{children:g.jsx(Ge,{children:" Important Notes"})}),g.jsx(De,{children:g.jsxs("ul",{children:[g.jsx("li",{children:"You only need to run this setup once"}),g.jsx("li",{children:"Buckets will be created as public (anyone can view files)"}),g.jsx("li",{children:"Only admins can upload files"}),g.jsx("li",{children:"Max file size: 100MB per file"}),g.jsx("li",{children:"If buckets already exist, this will not create duplicates"})]})})]})]})]})},kE=()=>{const[e,t]=Y.useState(!1),[n,i]=Y.useState([]),[a,o]=Y.useState(null),[d,m]=Y.useState(""),p=async()=>{if(t(!0),o(null),console.log("=== LIST BUCKETS DEBUG ==="),console.log("Supabase URL:","https://qlhvvhballsotkknrpgk.supabase.co"),console.log("Supabase client exists:",!!Re),!Re){o("Supabase not configured - check .env file"),t(!1);return}try{console.log("Calling supabase.storage.listBuckets()...");const{data:y,error:C}=await Re.storage.listBuckets();console.log("Response data:",y),console.log("Response error:",C),C?o("Error listing buckets: ".concat(JSON.stringify(C))):(i(y||[]),console.log("Found buckets:",(y==null?void 0:y.length)||0))}catch(y){console.error("Exception:",y),o("Exception: ".concat(y.message))}finally{t(!1)}},x=async y=>{if(!Re){alert("Supabase not configured");return}m("Creating ".concat(y,"..."));try{const{data:C,error:S}=await Re.storage.createBucket(y,{public:!0,fileSizeLimit:104857600});S?(m(" Error creating ".concat(y,": ").concat(S.message)),alert("Error: ".concat(S.message))):(m(" Created ".concat(y)),alert(" Created bucket: ".concat(y)),p())}catch(C){m(" Exception: ".concat(C.message)),alert("Exception: ".concat(C.message))}},b=async()=>{const y=["artifacts","audio","videos","models"];for(const C of y)await x(C),await new Promise(S=>setTimeout(S,500))};return g.jsxs(Zt,{children:[g.jsx(Nt,{children:g.jsx(Mt,{children:g.jsx(kt,{children:"Storage Debug"})})}),g.jsxs(Vt,{className:"ion-padding",children:[g.jsx("h2",{children:"Supabase Storage Debug"}),g.jsxs("div",{style:{padding:"15px",background:"#f5f5f5",borderRadius:"8px",marginBottom:"20px"},children:[g.jsx("h3",{children:"Configuration:"}),g.jsxs("p",{children:[g.jsx("strong",{children:"Supabase URL:"})," ","https://qlhvvhballsotkknrpgk.supabase.co"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Anon Key:"})," "," Set (hidden)"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Supabase Client:"})," ",Re?" Initialized":" Not initialized"]})]}),g.jsx("div",{style:{marginBottom:"20px"},children:g.jsx(Ce,{expand:"block",onClick:p,disabled:e,children:e?g.jsx(Ps,{}):"List Buckets"})}),g.jsx("div",{style:{marginBottom:"20px"},children:g.jsx(Ce,{expand:"block",color:"success",onClick:b,children:"Create All Buckets"})}),d&&g.jsx("div",{style:{padding:"10px",background:"#f0f0f0",borderRadius:"8px",marginBottom:"20px"},children:g.jsx("p",{children:d})}),a&&g.jsxs("div",{style:{padding:"10px",background:"#ffebee",color:"#c62828",borderRadius:"8px",marginBottom:"20px"},children:[g.jsx("strong",{children:"Error:"})," ",a]}),g.jsxs("h3",{children:["Existing Buckets (",n.length,"):"]}),n.length===0?g.jsx("p",{children:'No buckets found. Click "List Buckets" to check.'}):g.jsx(Ln,{children:n.map(y=>g.jsx(Se,{children:g.jsxs(de,{children:[g.jsx("h2",{children:y.name}),g.jsxs("p",{children:["ID: ",y.id]}),g.jsxs("p",{children:["Public: ",y.public?" Yes":" No"]}),g.jsxs("p",{children:["Created: ",new Date(y.created_at).toLocaleString()]})]})},y.id))}),g.jsxs("div",{style:{marginTop:"30px",padding:"15px",background:"#e3f2fd",borderRadius:"8px"},children:[g.jsx("h3",{children:"Instructions:"}),g.jsxs("ol",{children:[g.jsx("li",{children:'Click "List Buckets" to see existing buckets'}),g.jsx("li",{children:'If no buckets exist, click "Create All Buckets"'}),g.jsx("li",{children:"Wait for success messages"}),g.jsx("li",{children:'Click "List Buckets" again to verify'}),g.jsx("li",{children:"Go back to admin panel and try uploading"})]})]}),g.jsx("div",{style:{marginTop:"20px"},children:g.jsx(Ce,{expand:"block",fill:"outline",routerLink:"/admin",children:"Go to Admin Panel"})})]})]})};var fe;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(fe||(fe={}));var Ig=new Map([[fe.QR_CODE,"QR_CODE"],[fe.AZTEC,"AZTEC"],[fe.CODABAR,"CODABAR"],[fe.CODE_39,"CODE_39"],[fe.CODE_93,"CODE_93"],[fe.CODE_128,"CODE_128"],[fe.DATA_MATRIX,"DATA_MATRIX"],[fe.MAXICODE,"MAXICODE"],[fe.ITF,"ITF"],[fe.EAN_13,"EAN_13"],[fe.EAN_8,"EAN_8"],[fe.PDF_417,"PDF_417"],[fe.RSS_14,"RSS_14"],[fe.RSS_EXPANDED,"RSS_EXPANDED"],[fe.UPC_A,"UPC_A"],[fe.UPC_E,"UPC_E"],[fe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Dg;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Dg||(Dg={}));function jE(e){return Object.values(fe).includes(e)}var Jc;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Jc||(Jc={}));var BE=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Jc.SCAN_TYPE_CAMERA,Jc.SCAN_TYPE_FILE],e}(),Ux=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Ig.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Ig.get(t))},e}(),Ng=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Kh;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Kh||(Kh={}));var LE=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Kh.UNKWOWN_ERROR}},e}(),PE=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Hi(e){return typeof e>"u"||e===null}var da=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Fx=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var i=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(i,"."),!0),!1}for(var a=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],o=new Set(a),d=Object.keys(t),m=0,p=d;m<p.length;m++){var x=p[m];if(o.has(x))return n.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},e}(),Zh={exports:{}};(function(e,t){(function(n,i){i(t)})(eo,function(n){function i(O){return O==null}var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,s){O.__proto__=s}||function(O,s){for(var r in s)s.hasOwnProperty(r)&&(O[r]=s[r])};function o(O,s){a(O,s);function r(){this.constructor=O}O.prototype=s===null?Object.create(s):(r.prototype=s.prototype,new r)}function d(O,s){var r=Object.setPrototypeOf;r?r(O,s):O.__proto__=s}function m(O,s){s===void 0&&(s=O.constructor);var r=Error.captureStackTrace;r&&r(O,s)}var p=function(O){o(s,O);function s(r){var l=this.constructor,c=O.call(this,r)||this;return Object.defineProperty(c,"name",{value:l.name,enumerable:!1}),d(c,l.prototype),m(c),c}return s}(Error);class x extends p{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}x.kind="Exception";class b extends x{}b.kind="ArgumentException";class y extends x{}y.kind="IllegalArgumentException";class C{constructor(s){if(this.binarizer=s,s===null)throw new y("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,r){return this.binarizer.getBlackRow(s,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,r,l,c){const u=this.binarizer.getLuminanceSource().crop(s,r,l,c);return new C(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new C(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new C(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch(s){return""}}}class S extends x{static getChecksumInstance(){return new S}}S.kind="ChecksumException";class N{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class M{static arraycopy(s,r,l,c,u){for(;u--;)l[c++]=s[r++]}static currentTimeMillis(){return Date.now()}}class B extends x{}B.kind="IndexOutOfBoundsException";class T extends B{constructor(s=void 0,r=void 0){super(r),this.index=s,this.message=r}}T.kind="ArrayIndexOutOfBoundsException";class A{static fill(s,r){for(let l=0,c=s.length;l<c;l++)s[l]=r}static fillWithin(s,r,l,c){A.rangeCheck(s.length,r,l);for(let u=r;u<l;u++)s[u]=c}static rangeCheck(s,r,l){if(r>l)throw new y("fromIndex("+r+") > toIndex("+l+")");if(r<0)throw new T(r);if(l>s)throw new T(l)}static asList(...s){return s}static create(s,r,l){return Array.from({length:s}).map(u=>Array.from({length:r}).fill(l))}static createInt32Array(s,r,l){return Array.from({length:s}).map(u=>Int32Array.from({length:r}).fill(l))}static equals(s,r){if(!s||!r||!s.length||!r.length||s.length!==r.length)return!1;for(let l=0,c=s.length;l<c;l++)if(s[l]!==r[l])return!1;return!0}static hashCode(s){if(s===null)return 0;let r=1;for(const l of s)r=31*r+l;return r}static fillUint8Array(s,r){for(let l=0;l!==s.length;l++)s[l]=r}static copyOf(s,r){return s.slice(0,r)}static copyOfUint8Array(s,r){if(s.length<=r){const l=new Uint8Array(r);return l.set(s),l}return s.slice(0,r)}static copyOfRange(s,r,l){const c=l-r,u=new Int32Array(c);return M.arraycopy(s,r,u,0,c),u}static binarySearch(s,r,l){l===void 0&&(l=A.numberComparator);let c=0,u=s.length-1;for(;c<=u;){const h=u+c>>1,f=l(r,s[h]);if(f>0)c=h+1;else if(f<0)u=h-1;else return h}return-c-1}static numberComparator(s,r){return s-r}}class _{static numberOfTrailingZeros(s){let r;if(s===0)return 32;let l=31;return r=s<<16,r!==0&&(l-=16,s=r),r=s<<8,r!==0&&(l-=8,s=r),r=s<<4,r!==0&&(l-=4,s=r),r=s<<2,r!==0&&(l-=2,s=r),l-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let r=1;return s>>>16||(r+=16,s<<=16),s>>>24||(r+=8,s<<=8),s>>>28||(r+=4,s<<=4),s>>>30||(r+=2,s<<=2),r-=s>>>31,r}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,r){return Math.trunc(s/r)}static parseInt(s,r=void 0){return parseInt(s,r)}}_.MIN_VALUE_32_BITS=-2147483648,_.MAX_VALUE=Number.MAX_SAFE_INTEGER;class D{constructor(s,r){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,r==null?this.bits=D.makeArray(s):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const r=D.makeArray(s);M.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const r=this.size;if(s>=r)return r;const l=this.bits;let c=Math.floor(s/32),u=l[c];u&=~((1<<(s&31))-1);const h=l.length;for(;u===0;){if(++c===h)return r;u=l[c]}const f=c*32+_.numberOfTrailingZeros(u);return f>r?r:f}getNextUnset(s){const r=this.size;if(s>=r)return r;const l=this.bits;let c=Math.floor(s/32),u=~l[c];u&=~((1<<(s&31))-1);const h=l.length;for(;u===0;){if(++c===h)return r;u=~l[c]}const f=c*32+_.numberOfTrailingZeros(u);return f>r?r:f}setBulk(s,r){this.bits[Math.floor(s/32)]=r}setRange(s,r){if(r<s||s<0||r>this.size)throw new y;if(r===s)return;r--;const l=Math.floor(s/32),c=Math.floor(r/32),u=this.bits;for(let h=l;h<=c;h++){const f=h>l?0:s&31,v=(2<<(h<c?31:r&31))-(1<<f);u[h]|=v}}clear(){const s=this.bits.length,r=this.bits;for(let l=0;l<s;l++)r[l]=0}isRange(s,r,l){if(r<s||s<0||r>this.size)throw new y;if(r===s)return!0;r--;const c=Math.floor(s/32),u=Math.floor(r/32),h=this.bits;for(let f=c;f<=u;f++){const w=f>c?0:s&31,E=(2<<(f<u?31:r&31))-(1<<w)&4294967295;if((h[f]&E)!==(l?E:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,r){if(r<0||r>32)throw new y("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let l=r;l>0;l--)this.appendBit((s>>l-1&1)===1)}appendBitArray(s){const r=s.size;this.ensureCapacity(this.size+r);for(let l=0;l<r;l++)this.appendBit(s.get(l))}xor(s){if(this.size!==s.size)throw new y("Sizes don't match");const r=this.bits;for(let l=0,c=r.length;l<c;l++)r[l]^=s.bits[l]}toBytes(s,r,l,c){for(let u=0;u<c;u++){let h=0;for(let f=0;f<8;f++)this.get(s)&&(h|=1<<7-f),s++;r[l+u]=h}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),l=r+1,c=this.bits;for(let u=0;u<l;u++){let h=c[u];h=h>>1&1431655765|(h&1431655765)<<1,h=h>>2&858993459|(h&858993459)<<2,h=h>>4&252645135|(h&252645135)<<4,h=h>>8&16711935|(h&16711935)<<8,h=h>>16&65535|(h&65535)<<16,s[r-u]=h}if(this.size!==l*32){const u=l*32-this.size;let h=s[0]>>>u;for(let f=1;f<l;f++){const w=s[f];h|=w<<32-u,s[f-1]=h,h=w>>>u}s[l-1]=h}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof D))return!1;const r=s;return this.size===r.size&&A.equals(this.bits,r.bits)}hashCode(){return 31*this.size+A.hashCode(this.bits)}toString(){let s="";for(let r=0,l=this.size;r<l;r++)r&7||(s+=" "),s+=this.get(r)?"X":".";return s}clone(){return new D(this.size,this.bits.slice())}}var P;(function(O){O[O.OTHER=0]="OTHER",O[O.PURE_BARCODE=1]="PURE_BARCODE",O[O.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",O[O.TRY_HARDER=3]="TRY_HARDER",O[O.CHARACTER_SET=4]="CHARACTER_SET",O[O.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",O[O.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",O[O.ASSUME_GS1=7]="ASSUME_GS1",O[O.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",O[O.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",O[O.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(P||(P={}));var G=P;class z extends x{static getFormatInstance(){return new z}}z.kind="FormatException";var k;(function(O){O[O.Cp437=0]="Cp437",O[O.ISO8859_1=1]="ISO8859_1",O[O.ISO8859_2=2]="ISO8859_2",O[O.ISO8859_3=3]="ISO8859_3",O[O.ISO8859_4=4]="ISO8859_4",O[O.ISO8859_5=5]="ISO8859_5",O[O.ISO8859_6=6]="ISO8859_6",O[O.ISO8859_7=7]="ISO8859_7",O[O.ISO8859_8=8]="ISO8859_8",O[O.ISO8859_9=9]="ISO8859_9",O[O.ISO8859_10=10]="ISO8859_10",O[O.ISO8859_11=11]="ISO8859_11",O[O.ISO8859_13=12]="ISO8859_13",O[O.ISO8859_14=13]="ISO8859_14",O[O.ISO8859_15=14]="ISO8859_15",O[O.ISO8859_16=15]="ISO8859_16",O[O.SJIS=16]="SJIS",O[O.Cp1250=17]="Cp1250",O[O.Cp1251=18]="Cp1251",O[O.Cp1252=19]="Cp1252",O[O.Cp1256=20]="Cp1256",O[O.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",O[O.UTF8=22]="UTF8",O[O.ASCII=23]="ASCII",O[O.Big5=24]="Big5",O[O.GB18030=25]="GB18030",O[O.EUC_KR=26]="EUC_KR"})(k||(k={}));class V{constructor(s,r,l,...c){this.valueIdentifier=s,this.name=l,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=c,V.VALUE_IDENTIFIER_TO_ECI.set(s,this),V.NAME_TO_ECI.set(l,this);const u=this.values;for(let h=0,f=u.length;h!==f;h++){const w=u[h];V.VALUES_TO_ECI.set(w,this)}for(const h of c)V.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new z("incorect value");const r=V.VALUES_TO_ECI.get(s);if(r===void 0)throw new z("incorect value");return r}static getCharacterSetECIByName(s){const r=V.NAME_TO_ECI.get(s);if(r===void 0)throw new z("incorect value");return r}equals(s){if(!(s instanceof V))return!1;const r=s;return this.getName()===r.getName()}}V.VALUE_IDENTIFIER_TO_ECI=new Map,V.VALUES_TO_ECI=new Map,V.NAME_TO_ECI=new Map,V.Cp437=new V(k.Cp437,Int32Array.from([0,2]),"Cp437"),V.ISO8859_1=new V(k.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),V.ISO8859_2=new V(k.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),V.ISO8859_3=new V(k.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),V.ISO8859_4=new V(k.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),V.ISO8859_5=new V(k.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),V.ISO8859_6=new V(k.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),V.ISO8859_7=new V(k.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),V.ISO8859_8=new V(k.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),V.ISO8859_9=new V(k.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),V.ISO8859_10=new V(k.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),V.ISO8859_11=new V(k.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),V.ISO8859_13=new V(k.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),V.ISO8859_14=new V(k.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),V.ISO8859_15=new V(k.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),V.ISO8859_16=new V(k.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),V.SJIS=new V(k.SJIS,20,"SJIS","Shift_JIS"),V.Cp1250=new V(k.Cp1250,21,"Cp1250","windows-1250"),V.Cp1251=new V(k.Cp1251,22,"Cp1251","windows-1251"),V.Cp1252=new V(k.Cp1252,23,"Cp1252","windows-1252"),V.Cp1256=new V(k.Cp1256,24,"Cp1256","windows-1256"),V.UnicodeBigUnmarked=new V(k.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),V.UTF8=new V(k.UTF8,26,"UTF8","UTF-8"),V.ASCII=new V(k.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),V.Big5=new V(k.Big5,28,"Big5"),V.GB18030=new V(k.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),V.EUC_KR=new V(k.EUC_KR,30,"EUC_KR","EUC-KR");class Z extends x{}Z.kind="UnsupportedOperationException";class ee{static decode(s,r){const l=this.encodingName(r);return this.customDecoder?this.customDecoder(s,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(s,l):new TextDecoder(l).decode(s)}static shouldDecodeOnFallback(s){return!ee.isBrowser()&&s==="ISO-8859-1"}static encode(s,r){const l=this.encodingName(r);return this.customEncoder?this.customEncoder(s,l):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof V?s:V.getCharacterSetECIByName(s)}static decodeFallback(s,r){const l=this.encodingCharacterSet(r);if(ee.isDecodeFallbackSupported(l)){let c="";for(let u=0,h=s.length;u<h;u++){let f=s[u].toString(16);f.length<2&&(f="0"+f),c+="%"+f}return decodeURIComponent(c)}if(l.equals(V.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new Z("Encoding ".concat(this.encodingName(r)," not supported by fallback."))}static isDecodeFallbackSupported(s){return s.equals(V.UTF8)||s.equals(V.ISO8859_1)||s.equals(V.ASCII)}static encodeFallback(s){const l=btoa(unescape(encodeURIComponent(s))).split(""),c=[];for(let u=0;u<l.length;u++)c.push(l[u].charCodeAt(0));return new Uint8Array(c)}}class q{static castAsNonUtf8Char(s,r=null){const l=r?r.getName():this.ISO88591;return ee.decode(new Uint8Array([s]),l)}static guessEncoding(s,r){if(r!=null&&r.get(G.CHARACTER_SET)!==void 0)return r.get(G.CHARACTER_SET).toString();const l=s.length;let c=!0,u=!0,h=!0,f=0,w=0,v=0,E=0,R=0,I=0,L=0,U=0,F=0,X=0,K=0;const ae=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let le=0;le<l&&(c||u||h);le++){const ne=s[le]&255;h&&(f>0?ne&128?f--:h=!1:ne&128&&(ne&64?(f++,ne&32?(f++,ne&16?(f++,ne&8?h=!1:E++):v++):w++):h=!1)),c&&(ne>127&&ne<160?c=!1:ne>159&&(ne<192||ne===215||ne===247)&&K++),u&&(R>0?ne<64||ne===127||ne>252?u=!1:R--:ne===128||ne===160||ne>239?u=!1:ne>160&&ne<224?(I++,U=0,L++,L>F&&(F=L)):ne>127?(R++,L=0,U++,U>X&&(X=U)):(L=0,U=0))}return h&&f>0&&(h=!1),u&&R>0&&(u=!1),h&&(ae||w+v+E>0)?q.UTF8:u&&(q.ASSUME_SHIFT_JIS||F>=3||X>=3)?q.SHIFT_JIS:c&&u?F===2&&I===2||K*10>=l?q.SHIFT_JIS:q.ISO88591:c?q.ISO88591:u?q.SHIFT_JIS:h?q.UTF8:q.PLATFORM_DEFAULT_ENCODING}static format(s,...r){let l=-1;function c(h,f,w,v,E,R){if(h==="%%")return"%";if(r[++l]===void 0)return;h=v?parseInt(v.substr(1)):void 0;let I=E?parseInt(E.substr(1)):void 0,L;switch(R){case"s":L=r[l];break;case"c":L=r[l][0];break;case"f":L=parseFloat(r[l]).toFixed(h);break;case"p":L=parseFloat(r[l]).toPrecision(h);break;case"e":L=parseFloat(r[l]).toExponential(h);break;case"x":L=parseInt(r[l]).toString(I||16);break;case"d":L=parseFloat(parseInt(r[l],I||10).toPrecision(h)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(I);let U=parseInt(w),F=w&&w[0]+""=="0"?"0":" ";for(;L.length<U;)L=f!==void 0?L+F:F+L;return L}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(u,c)}static getBytes(s,r){return ee.encode(s,r)}static getCharCode(s,r=0){return s.charCodeAt(r)}static getCharAt(s){return String.fromCharCode(s)}}q.SHIFT_JIS=V.SJIS.getName(),q.GB2312="GB2312",q.ISO88591=V.ISO8859_1.getName(),q.EUC_JP="EUC_JP",q.UTF8=V.UTF8.getName(),q.PLATFORM_DEFAULT_ENCODING=q.UTF8,q.ASSUME_SHIFT_JIS=!1;class ${constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=q.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,r,l){for(let c=r;r<r+l;c++)this.append(s[c]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,r){this.value=this.value.substr(0,s)+r+this.value.substr(s+1)}substring(s,r){return this.value.substring(s,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,r){this.value=this.value.substr(0,s)+r+this.value.substr(s+r.length)}}class oe{constructor(s,r,l,c){if(this.width=s,this.height=r,this.rowSize=l,this.bits=c,r==null&&(r=s),this.height=r,s<1||r<1)throw new y("Both dimensions must be greater than 0");l==null&&(l=Math.floor((s+31)/32)),this.rowSize=l,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const r=s.length,l=s[0].length,c=new oe(l,r);for(let u=0;u<r;u++){const h=s[u];for(let f=0;f<l;f++)h[f]&&c.set(f,u)}return c}static parseFromString(s,r,l){if(s===null)throw new y("stringRepresentation cannot be null");const c=new Array(s.length);let u=0,h=0,f=-1,w=0,v=0;for(;v<s.length;)if(s.charAt(v)==="\n"||s.charAt(v)==="\r"){if(u>h){if(f===-1)f=u-h;else if(u-h!==f)throw new y("row lengths do not match");h=u,w++}v++}else if(s.substring(v,v+r.length)===r)v+=r.length,c[u]=!0,u++;else if(s.substring(v,v+l.length)===l)v+=l.length,c[u]=!1,u++;else throw new y("illegal character encountered: "+s.substring(v));if(u>h){if(f===-1)f=u-h;else if(u-h!==f)throw new y("row lengths do not match");w++}const E=new oe(f,w);for(let R=0;R<u;R++)c[R]&&E.set(Math.floor(R%f),Math.floor(R/f));return E}get(s,r){const l=r*this.rowSize+Math.floor(s/32);return(this.bits[l]>>>(s&31)&1)!==0}set(s,r){const l=r*this.rowSize+Math.floor(s/32);this.bits[l]|=1<<(s&31)&4294967295}unset(s,r){const l=r*this.rowSize+Math.floor(s/32);this.bits[l]&=~(1<<(s&31)&4294967295)}flip(s,r){const l=r*this.rowSize+Math.floor(s/32);this.bits[l]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new y("input matrix dimensions do not match");const r=new D(Math.floor(this.width/32)+1),l=this.rowSize,c=this.bits;for(let u=0,h=this.height;u<h;u++){const f=u*l,w=s.getRow(u,r).getBitArray();for(let v=0;v<l;v++)c[f+v]^=w[v]}}clear(){const s=this.bits,r=s.length;for(let l=0;l<r;l++)s[l]=0}setRegion(s,r,l,c){if(r<0||s<0)throw new y("Left and top must be nonnegative");if(c<1||l<1)throw new y("Height and width must be at least 1");const u=s+l,h=r+c;if(h>this.height||u>this.width)throw new y("The region must fit inside the matrix");const f=this.rowSize,w=this.bits;for(let v=r;v<h;v++){const E=v*f;for(let R=s;R<u;R++)w[E+Math.floor(R/32)]|=1<<(R&31)&4294967295}}getRow(s,r){r==null||r.getSize()<this.width?r=new D(this.width):r.clear();const l=this.rowSize,c=this.bits,u=s*l;for(let h=0;h<l;h++)r.setBulk(h*32,c[u+h]);return r}setRow(s,r){M.arraycopy(r.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),r=this.getHeight();let l=new D(s),c=new D(s);for(let u=0,h=Math.floor((r+1)/2);u<h;u++)l=this.getRow(u,l),c=this.getRow(r-1-u,c),l.reverse(),c.reverse(),this.setRow(u,c),this.setRow(r-1-u,l)}getEnclosingRectangle(){const s=this.width,r=this.height,l=this.rowSize,c=this.bits;let u=s,h=r,f=-1,w=-1;for(let v=0;v<r;v++)for(let E=0;E<l;E++){const R=c[v*l+E];if(R!==0){if(v<h&&(h=v),v>w&&(w=v),E*32<u){let I=0;for(;!(R<<31-I&4294967295);)I++;E*32+I<u&&(u=E*32+I)}if(E*32+31>f){let I=31;for(;!(R>>>I);)I--;E*32+I>f&&(f=E*32+I)}}}return f<u||w<h?null:Int32Array.from([u,h,f-u+1,w-h+1])}getTopLeftOnBit(){const s=this.rowSize,r=this.bits;let l=0;for(;l<r.length&&r[l]===0;)l++;if(l===r.length)return null;const c=l/s;let u=l%s*32;const h=r[l];let f=0;for(;!(h<<31-f&4294967295);)f++;return u+=f,Int32Array.from([u,c])}getBottomRightOnBit(){const s=this.rowSize,r=this.bits;let l=r.length-1;for(;l>=0&&r[l]===0;)l--;if(l<0)return null;const c=Math.floor(l/s);let u=Math.floor(l%s)*32;const h=r[l];let f=31;for(;!(h>>>f);)f--;return u+=f,Int32Array.from([u,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof oe))return!1;const r=s;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&A.equals(this.bits,r.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+A.hashCode(this.bits),s}toString(s="X ",r="  ",l="\n"){return this.buildToString(s,r,l)}buildToString(s,r,l){let c=new $;for(let u=0,h=this.height;u<h;u++){for(let f=0,w=this.width;f<w;f++)c.append(this.get(f,u)?s:r);c.append(l)}return c.toString()}clone(){return new oe(this.width,this.height,this.rowSize,this.bits.slice())}}class H extends x{static getNotFoundInstance(){return new H}}H.kind="NotFoundException";class re extends N{constructor(s){super(s),this.luminances=re.EMPTY,this.buckets=new Int32Array(re.LUMINANCE_BUCKETS)}getBlackRow(s,r){const l=this.getLuminanceSource(),c=l.getWidth();r==null||r.getSize()<c?r=new D(c):r.clear(),this.initArrays(c);const u=l.getRow(s,this.luminances),h=this.buckets;for(let w=0;w<c;w++)h[(u[w]&255)>>re.LUMINANCE_SHIFT]++;const f=re.estimateBlackPoint(h);if(c<3)for(let w=0;w<c;w++)(u[w]&255)<f&&r.set(w);else{let w=u[0]&255,v=u[1]&255;for(let E=1;E<c-1;E++){const R=u[E+1]&255;(v*4-w-R)/2<f&&r.set(E),w=v,v=R}}return r}getBlackMatrix(){const s=this.getLuminanceSource(),r=s.getWidth(),l=s.getHeight(),c=new oe(r,l);this.initArrays(r);const u=this.buckets;for(let w=1;w<5;w++){const v=Math.floor(l*w/5),E=s.getRow(v,this.luminances),R=Math.floor(r*4/5);for(let I=Math.floor(r/5);I<R;I++){const L=E[I]&255;u[L>>re.LUMINANCE_SHIFT]++}}const h=re.estimateBlackPoint(u),f=s.getMatrix();for(let w=0;w<l;w++){const v=w*r;for(let E=0;E<r;E++)(f[v+E]&255)<h&&c.set(E,w)}return c}createBinarizer(s){return new re(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const r=this.buckets;for(let l=0;l<re.LUMINANCE_BUCKETS;l++)r[l]=0}static estimateBlackPoint(s){const r=s.length;let l=0,c=0,u=0;for(let E=0;E<r;E++)s[E]>u&&(c=E,u=s[E]),s[E]>l&&(l=s[E]);let h=0,f=0;for(let E=0;E<r;E++){const R=E-c,I=s[E]*R*R;I>f&&(h=E,f=I)}if(c>h){const E=c;c=h,h=E}if(h-c<=r/16)throw new H;let w=h-1,v=-1;for(let E=h-1;E>c;E--){const R=E-c,I=R*R*(h-E)*(l-s[E]);I>v&&(w=E,v=I)}return w<<re.LUMINANCE_SHIFT}}re.LUMINANCE_BITS=5,re.LUMINANCE_SHIFT=8-re.LUMINANCE_BITS,re.LUMINANCE_BUCKETS=1<<re.LUMINANCE_BITS,re.EMPTY=Uint8ClampedArray.from([0]);class ce extends re{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),r=s.getWidth(),l=s.getHeight();if(r>=ce.MINIMUM_DIMENSION&&l>=ce.MINIMUM_DIMENSION){const c=s.getMatrix();let u=r>>ce.BLOCK_SIZE_POWER;r&ce.BLOCK_SIZE_MASK&&u++;let h=l>>ce.BLOCK_SIZE_POWER;l&ce.BLOCK_SIZE_MASK&&h++;const f=ce.calculateBlackPoints(c,u,h,r,l),w=new oe(r,l);ce.calculateThresholdForBlock(c,u,h,r,l,f,w),this.matrix=w}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new ce(s)}static calculateThresholdForBlock(s,r,l,c,u,h,f){const w=u-ce.BLOCK_SIZE,v=c-ce.BLOCK_SIZE;for(let E=0;E<l;E++){let R=E<<ce.BLOCK_SIZE_POWER;R>w&&(R=w);const I=ce.cap(E,2,l-3);for(let L=0;L<r;L++){let U=L<<ce.BLOCK_SIZE_POWER;U>v&&(U=v);const F=ce.cap(L,2,r-3);let X=0;for(let ae=-2;ae<=2;ae++){const le=h[I+ae];X+=le[F-2]+le[F-1]+le[F]+le[F+1]+le[F+2]}const K=X/25;ce.thresholdBlock(s,U,R,K,c,f)}}}static cap(s,r,l){return s<r?r:s>l?l:s}static thresholdBlock(s,r,l,c,u,h){for(let f=0,w=l*u+r;f<ce.BLOCK_SIZE;f++,w+=u)for(let v=0;v<ce.BLOCK_SIZE;v++)(s[w+v]&255)<=c&&h.set(r+v,l+f)}static calculateBlackPoints(s,r,l,c,u){const h=u-ce.BLOCK_SIZE,f=c-ce.BLOCK_SIZE,w=new Array(l);for(let v=0;v<l;v++){w[v]=new Int32Array(r);let E=v<<ce.BLOCK_SIZE_POWER;E>h&&(E=h);for(let R=0;R<r;R++){let I=R<<ce.BLOCK_SIZE_POWER;I>f&&(I=f);let L=0,U=255,F=0;for(let K=0,ae=E*c+I;K<ce.BLOCK_SIZE;K++,ae+=c){for(let le=0;le<ce.BLOCK_SIZE;le++){const ne=s[ae+le]&255;L+=ne,ne<U&&(U=ne),ne>F&&(F=ne)}if(F-U>ce.MIN_DYNAMIC_RANGE)for(K++,ae+=c;K<ce.BLOCK_SIZE;K++,ae+=c)for(let le=0;le<ce.BLOCK_SIZE;le++)L+=s[ae+le]&255}let X=L>>ce.BLOCK_SIZE_POWER*2;if(F-U<=ce.MIN_DYNAMIC_RANGE&&(X=U/2,v>0&&R>0)){const K=(w[v-1][R]+2*w[v][R-1]+w[v-1][R-1])/4;U<K&&(X=K)}w[v][R]=X}}return w}}ce.BLOCK_SIZE_POWER=3,ce.BLOCK_SIZE=1<<ce.BLOCK_SIZE_POWER,ce.BLOCK_SIZE_MASK=ce.BLOCK_SIZE-1,ce.MINIMUM_DIMENSION=ce.BLOCK_SIZE*5,ce.MIN_DYNAMIC_RANGE=24;class se{constructor(s,r){this.width=s,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,r,l,c){throw new Z("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Z("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Z("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let r=new $;for(let l=0;l<this.height;l++){const c=this.getRow(l,s);for(let u=0;u<this.width;u++){const h=c[u]&255;let f;h<64?f="#":h<128?f="+":h<192?f=".":f=" ",r.append(f)}r.append("\n")}return r.toString()}}class xe extends se{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,r){const l=this.delegate.getRow(s,r),c=this.getWidth();for(let u=0;u<c;u++)l[u]=255-(l[u]&255);return l}getMatrix(){const s=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(r);for(let c=0;c<r;c++)l[c]=255-(s[c]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(s,r,l,c){return new xe(this.delegate.crop(s,r,l,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new xe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new xe(this.delegate.rotateCounterClockwise45())}}class _e extends se{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=_e.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const r=s.getContext("2d").getImageData(0,0,s.width,s.height);return _e.toGrayscaleBuffer(r.data,s.width,s.height)}static toGrayscaleBuffer(s,r,l){const c=new Uint8ClampedArray(r*l);for(let u=0,h=0,f=s.length;u<f;u+=4,h++){let w;if(s[u+3]===0)w=255;else{const E=s[u],R=s[u+1],I=s[u+2];w=306*E+601*R+117*I+512>>10}c[h]=w}return c}getRow(s,r){if(s<0||s>=this.getHeight())throw new y("Requested row is outside the image: "+s);const l=this.getWidth(),c=s*l;return r===null?r=this.buffer.slice(c,c+l):(r.length<l&&(r=new Uint8ClampedArray(l)),r.set(this.buffer.slice(c,c+l))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,r,l,c){return super.crop(s,r,l,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const r=this.getTempCanvasElement(),l=r.getContext("2d"),c=s*_e.DEGREE_TO_RADIANS,u=this.canvas.width,h=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(c))*u+Math.abs(Math.sin(c))*h),w=Math.ceil(Math.abs(Math.sin(c))*u+Math.abs(Math.cos(c))*h);return r.width=f,r.height=w,l.translate(f/2,w/2),l.rotate(c),l.drawImage(this.canvas,u/-2,h/-2),this.buffer=_e.makeBufferFromCanvasImageData(r),this}invert(){return new xe(this)}}_e.DEGREE_TO_RADIANS=Math.PI/180;class ln{constructor(s,r,l){this.deviceId=s,this.label=r,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var wt=(globalThis||eo||self||window||void 0)&&(globalThis||eo||self||window||void 0).__awaiter||function(O,s,r,l){function c(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function f(E){try{v(l.next(E))}catch(R){h(R)}}function w(E){try{v(l.throw(E))}catch(R){h(R)}}function v(E){E.done?u(E.value):c(E.value).then(f,w)}v((l=l.apply(O,s||[])).next())})};class ci{constructor(s,r=500,l){this.reader=s,this.timeBetweenScansMillis=r,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return wt(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const l of s){const c=l.kind==="video"?"videoinput":l.kind;if(c!=="videoinput")continue;const u=l.deviceId||l.id,h=l.label||"Video device ".concat(r.length+1),f=l.groupId,w={deviceId:u,label:h,kind:c,groupId:f};r.push(w)}return r})}getVideoInputDevices(){return wt(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new ln(r.deviceId,r.label))})}findDeviceById(s){return wt(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(l=>l.deviceId===s):null})}decodeFromInputVideoDevice(s,r){return wt(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,r)})}decodeOnceFromVideoDevice(s,r){return wt(this,void 0,void 0,function*(){this.reset();let l;s?l={deviceId:{exact:s}}:l={facingMode:"environment"};const c={video:l};return yield this.decodeOnceFromConstraints(c,r)})}decodeOnceFromConstraints(s,r){return wt(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(l,r)})}decodeOnceFromStream(s,r){return wt(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(s,r);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(s,r,l){return wt(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,r,l)})}decodeFromVideoDevice(s,r,l){return wt(this,void 0,void 0,function*(){let c;s?c={deviceId:{exact:s}}:c={facingMode:"environment"};const u={video:c};return yield this.decodeFromConstraints(u,r,l)})}decodeFromConstraints(s,r,l){return wt(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(c,r,l)})}decodeFromStream(s,r,l){return wt(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(s,r);return yield this.decodeContinuously(c,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,r){return wt(this,void 0,void 0,function*(){const l=this.prepareVideoElement(r);return this.addVideoSource(l,s),this.videoElement=l,this.stream=s,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(s){return new Promise((r,l)=>this.playVideoOnLoad(s,()=>r()))}playVideoOnLoad(s,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",r),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return wt(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch(r){console.warn("It was not possible to play the video.")}})}getMediaElement(s,r){const l=document.getElementById(s);if(!l)throw new b("element with id '".concat(s,"' not found"));if(l.nodeName.toLowerCase()!==r.toLowerCase())throw new b("element with id '".concat(s,"' must be an ").concat(r," element"));return l}decodeFromImage(s,r){if(!s&&!r)throw new b("either imageElement with a src set or an url must be provided");return r&&!s?this.decodeFromImageUrl(r):this.decodeFromImageElement(s)}decodeFromVideo(s,r){if(!s&&!r)throw new b("Either an element with a src set or an URL must be provided");return r&&!s?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,r,l){if(s===void 0&&r===void 0)throw new b("Either an element with a src set or an URL must be provided");return r&&!s?this.decodeFromVideoUrlContinuously(r,l):this.decodeFromVideoElementContinuously(s,l)}decodeFromImageElement(s){if(!s)throw new b("An image element must be provided.");this.reset();const r=this.prepareImageElement(s);this.imageElement=r;let l;return this.isImageLoaded(r)?l=this.decodeOnce(r,!1,!0):l=this._decodeOnLoadImage(r),l}decodeFromVideoElement(s){const r=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(s,r){const l=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(l,r)}_decodeFromVideoElementSetup(s){if(!s)throw new b("A video element must be provided.");this.reset();const r=this.prepareVideoElement(s);return this.videoElement=r,r}decodeFromImageUrl(s){if(!s)throw new b("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const l=this._decodeOnLoadImage(r);return r.src=s,l}decodeFromVideoUrl(s){if(!s)throw new b("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),l=this.decodeFromVideoElement(r);return r.src=s,l}decodeFromVideoUrlContinuously(s,r){if(!s)throw new b("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(l,r);return l.src=s,c}_decodeOnLoadImage(s){return new Promise((r,l)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(r,l),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return wt(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,r){return wt(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,r)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let r;return typeof s>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof s=="string"&&(r=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(r=s),r}prepareVideoElement(s){let r;return!s&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof s=="string"&&(r=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(r=s),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(s,r=!0,l=!0){this._stopAsyncDecode=!1;const c=(u,h)=>{if(this._stopAsyncDecode){h(new H("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const f=this.decode(s);u(f)}catch(f){const w=r&&f instanceof H,E=(f instanceof S||f instanceof z)&&l;if(w||E)return setTimeout(c,this._timeBetweenDecodingAttempts,u,h);h(f)}};return new Promise((u,h)=>c(u,h))}decodeContinuously(s,r){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(s);r(c,null),setTimeout(l,this.timeBetweenScansMillis)}catch(c){r(null,c);const u=c instanceof S||c instanceof z,h=c instanceof H;(u||h)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(s){const r=this.createBinaryBitmap(s);return this.decodeBitmap(r)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,r,l){r||(r={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(s,r,l=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const r=this.getCaptureCanvas(s),l=new _e(r),c=new ce(l);return new C(c)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const r=this.createCaptureCanvas(s);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let l,c;return typeof s<"u"&&(s instanceof HTMLVideoElement?(l=s.videoWidth,c=s.videoHeight):s instanceof HTMLImageElement&&(l=s.naturalWidth||s.width,c=s.naturalHeight||s.height)),r.style.width=l+"px",r.style.height=c+"px",r.width=l,r.height=c,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,r){try{s.srcObject=r}catch(l){s.src=URL.createObjectURL(r)}}cleanVideoSource(s){try{s.srcObject=null}catch(r){s.src=""}this.videoElement.removeAttribute("src")}}class ft{constructor(s,r,l=r==null?0:8*r.length,c,u,h=M.currentTimeMillis()){this.text=s,this.rawBytes=r,this.numBits=l,this.resultPoints=c,this.format=u,this.timestamp=h,this.text=s,this.rawBytes=r,l==null?this.numBits=r==null?0:8*r.length:this.numBits=l,this.resultPoints=c,this.format=u,this.resultMetadata=null,h==null?this.timestamp=M.currentTimeMillis():this.timestamp=h}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,r)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const r=this.resultPoints;if(r===null)this.resultPoints=s;else if(s!==null&&s.length>0){const l=new Array(r.length+s.length);M.arraycopy(r,0,l,0,r.length),M.arraycopy(s,0,l,r.length,s.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var os;(function(O){O[O.AZTEC=0]="AZTEC",O[O.CODABAR=1]="CODABAR",O[O.CODE_39=2]="CODE_39",O[O.CODE_93=3]="CODE_93",O[O.CODE_128=4]="CODE_128",O[O.DATA_MATRIX=5]="DATA_MATRIX",O[O.EAN_8=6]="EAN_8",O[O.EAN_13=7]="EAN_13",O[O.ITF=8]="ITF",O[O.MAXICODE=9]="MAXICODE",O[O.PDF_417=10]="PDF_417",O[O.QR_CODE=11]="QR_CODE",O[O.RSS_14=12]="RSS_14",O[O.RSS_EXPANDED=13]="RSS_EXPANDED",O[O.UPC_A=14]="UPC_A",O[O.UPC_E=15]="UPC_E",O[O.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(os||(os={}));var ye=os,bu;(function(O){O[O.OTHER=0]="OTHER",O[O.ORIENTATION=1]="ORIENTATION",O[O.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",O[O.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",O[O.ISSUE_NUMBER=4]="ISSUE_NUMBER",O[O.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",O[O.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",O[O.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",O[O.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",O[O.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",O[O.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(bu||(bu={}));var Ht=bu;class Va{constructor(s,r,l,c,u=-1,h=-1){this.rawBytes=s,this.text=r,this.byteSegments=l,this.ecLevel=c,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=h,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ga{exp(s){return this.expTable[s]}log(s){if(s===0)throw new y;return this.logTable[s]}static addOrSubtract(s,r){return s^r}}class En{constructor(s,r){if(r.length===0)throw new y;this.field=s;const l=r.length;if(l>1&&r[0]===0){let c=1;for(;c<l&&r[c]===0;)c++;c===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-c),M.arraycopy(r,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const r=this.coefficients;let l;if(s===1){l=0;for(let h=0,f=r.length;h!==f;h++){const w=r[h];l=Ga.addOrSubtract(l,w)}return l}l=r[0];const c=r.length,u=this.field;for(let h=1;h<c;h++)l=Ga.addOrSubtract(u.multiply(s,l),r[h]);return l}addOrSubtract(s){if(!this.field.equals(s.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let r=this.coefficients,l=s.coefficients;if(r.length>l.length){const h=r;r=l,l=h}let c=new Int32Array(l.length);const u=l.length-r.length;M.arraycopy(l,0,c,0,u);for(let h=u;h<l.length;h++)c[h]=Ga.addOrSubtract(r[h-u],l[h]);return new En(this.field,c)}multiply(s){if(!this.field.equals(s.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const r=this.coefficients,l=r.length,c=s.coefficients,u=c.length,h=new Int32Array(l+u-1),f=this.field;for(let w=0;w<l;w++){const v=r[w];for(let E=0;E<u;E++)h[w+E]=Ga.addOrSubtract(h[w+E],f.multiply(v,c[E]))}return new En(f,h)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const r=this.coefficients.length,l=this.field,c=new Int32Array(r),u=this.coefficients;for(let h=0;h<r;h++)c[h]=l.multiply(u[h],s);return new En(l,c)}multiplyByMonomial(s,r){if(s<0)throw new y;if(r===0)return this.field.getZero();const l=this.coefficients,c=l.length,u=new Int32Array(c+s),h=this.field;for(let f=0;f<c;f++)u[f]=h.multiply(l[f],r);return new En(h,u)}divide(s){if(!this.field.equals(s.field))throw new y("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new y("Divide by 0");const r=this.field;let l=r.getZero(),c=this;const u=s.getCoefficient(s.getDegree()),h=r.inverse(u);for(;c.getDegree()>=s.getDegree()&&!c.isZero();){const f=c.getDegree()-s.getDegree(),w=r.multiply(c.getCoefficient(c.getDegree()),h),v=s.multiplyByMonomial(f,w),E=r.buildMonomial(f,w);l=l.addOrSubtract(E),c=c.addOrSubtract(v)}return[l,c]}toString(){let s="";for(let r=this.getDegree();r>=0;r--){let l=this.getCoefficient(r);if(l!==0){if(l<0?(s+=" - ",l=-l):s.length>0&&(s+=" + "),r===0||l!==1){const c=this.field.log(l);c===0?s+="1":c===1?s+="a":(s+="a^",s+=c)}r!==0&&(r===1?s+="x":(s+="x^",s+=r))}}return s}}class gl extends x{}gl.kind="ArithmeticException";class qe extends Ga{constructor(s,r,l){super(),this.primitive=s,this.size=r,this.generatorBase=l;const c=new Int32Array(r);let u=1;for(let f=0;f<r;f++)c[f]=u,u*=2,u>=r&&(u^=s,u&=r-1);this.expTable=c;const h=new Int32Array(r);for(let f=0;f<r-1;f++)h[c[f]]=f;this.logTable=h,this.zero=new En(this,Int32Array.from([0])),this.one=new En(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,r){if(s<0)throw new y;if(r===0)return this.zero;const l=new Int32Array(s+1);return l[0]=r,new En(this,l)}inverse(s){if(s===0)throw new gl;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,r){return s===0||r===0?0:this.expTable[(this.logTable[s]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+_.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}qe.AZTEC_DATA_12=new qe(4201,4096,1),qe.AZTEC_DATA_10=new qe(1033,1024,1),qe.AZTEC_DATA_6=new qe(67,64,1),qe.AZTEC_PARAM=new qe(19,16,1),qe.QR_CODE_FIELD_256=new qe(285,256,0),qe.DATA_MATRIX_FIELD_256=new qe(301,256,1),qe.AZTEC_DATA_8=qe.DATA_MATRIX_FIELD_256,qe.MAXICODE_FIELD_64=qe.AZTEC_DATA_6;class Dr extends x{}Dr.kind="ReedSolomonException";class yi extends x{}yi.kind="IllegalStateException";class Ha{constructor(s){this.field=s}decode(s,r){const l=this.field,c=new En(l,s),u=new Int32Array(r);let h=!0;for(let L=0;L<r;L++){const U=c.evaluateAt(l.exp(L+l.getGeneratorBase()));u[u.length-1-L]=U,U!==0&&(h=!1)}if(h)return;const f=new En(l,u),w=this.runEuclideanAlgorithm(l.buildMonomial(r,1),f,r),v=w[0],E=w[1],R=this.findErrorLocations(v),I=this.findErrorMagnitudes(E,R);for(let L=0;L<R.length;L++){const U=s.length-1-l.log(R[L]);if(U<0)throw new Dr("Bad error location");s[U]=qe.addOrSubtract(s[U],I[L])}}runEuclideanAlgorithm(s,r,l){if(s.getDegree()<r.getDegree()){const L=s;s=r,r=L}const c=this.field;let u=s,h=r,f=c.getZero(),w=c.getOne();for(;h.getDegree()>=(l/2|0);){let L=u,U=f;if(u=h,f=w,u.isZero())throw new Dr("r_{i-1} was zero");h=L;let F=c.getZero();const X=u.getCoefficient(u.getDegree()),K=c.inverse(X);for(;h.getDegree()>=u.getDegree()&&!h.isZero();){const ae=h.getDegree()-u.getDegree(),le=c.multiply(h.getCoefficient(h.getDegree()),K);F=F.addOrSubtract(c.buildMonomial(ae,le)),h=h.addOrSubtract(u.multiplyByMonomial(ae,le))}if(w=F.multiply(f).addOrSubtract(U),h.getDegree()>=u.getDegree())throw new yi("Division algorithm failed to reduce polynomial?")}const v=w.getCoefficient(0);if(v===0)throw new Dr("sigmaTilde(0) was zero");const E=c.inverse(v),R=w.multiplyScalar(E),I=h.multiplyScalar(E);return[R,I]}findErrorLocations(s){const r=s.getDegree();if(r===1)return Int32Array.from([s.getCoefficient(1)]);const l=new Int32Array(r);let c=0;const u=this.field;for(let h=1;h<u.getSize()&&c<r;h++)s.evaluateAt(h)===0&&(l[c]=u.inverse(h),c++);if(c!==r)throw new Dr("Error locator degree does not match number of roots");return l}findErrorMagnitudes(s,r){const l=r.length,c=new Int32Array(l),u=this.field;for(let h=0;h<l;h++){const f=u.inverse(r[h]);let w=1;for(let v=0;v<l;v++)if(h!==v){const E=u.multiply(r[v],f),R=E&1?E&-2:E|1;w=u.multiply(w,R)}c[h]=u.multiply(s.evaluateAt(f),u.inverse(w)),u.getGeneratorBase()!==0&&(c[h]=u.multiply(c[h],f))}return c}}var Jt;(function(O){O[O.UPPER=0]="UPPER",O[O.LOWER=1]="LOWER",O[O.MIXED=2]="MIXED",O[O.DIGIT=3]="DIGIT",O[O.PUNCT=4]="PUNCT",O[O.BINARY=5]="BINARY"})(Jt||(Jt={}));class nt{decode(s){this.ddata=s;let r=s.getBits(),l=this.extractBits(r),c=this.correctBits(l),u=nt.convertBoolArrayToByteArray(c),h=nt.getEncodedData(c),f=new Va(u,h,null,null);return f.setNumBits(c.length),f}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let r=s.length,l=Jt.UPPER,c=Jt.UPPER,u="",h=0;for(;h<r;)if(c===Jt.BINARY){if(r-h<5)break;let f=nt.readCode(s,h,5);if(h+=5,f===0){if(r-h<11)break;f=nt.readCode(s,h,11)+31,h+=11}for(let w=0;w<f;w++){if(r-h<8){h=r;break}const v=nt.readCode(s,h,8);u+=q.castAsNonUtf8Char(v),h+=8}c=l}else{let f=c===Jt.DIGIT?4:5;if(r-h<f)break;let w=nt.readCode(s,h,f);h+=f;let v=nt.getCharacter(c,w);v.startsWith("CTRL_")?(l=c,c=nt.getTable(v.charAt(5)),v.charAt(6)==="L"&&(l=c)):(u+=v,c=l)}return u}static getTable(s){switch(s){case"L":return Jt.LOWER;case"P":return Jt.PUNCT;case"M":return Jt.MIXED;case"D":return Jt.DIGIT;case"B":return Jt.BINARY;case"U":default:return Jt.UPPER}}static getCharacter(s,r){switch(s){case Jt.UPPER:return nt.UPPER_TABLE[r];case Jt.LOWER:return nt.LOWER_TABLE[r];case Jt.MIXED:return nt.MIXED_TABLE[r];case Jt.PUNCT:return nt.PUNCT_TABLE[r];case Jt.DIGIT:return nt.DIGIT_TABLE[r];default:throw new yi("Bad table")}}correctBits(s){let r,l;this.ddata.getNbLayers()<=2?(l=6,r=qe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,r=qe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,r=qe.AZTEC_DATA_10):(l=12,r=qe.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),u=s.length/l;if(u<c)throw new z;let h=s.length%l,f=new Int32Array(u);for(let I=0;I<u;I++,h+=l)f[I]=nt.readCode(s,h,l);try{new Ha(r).decode(f,u-c)}catch(I){throw new z(I)}let w=(1<<l)-1,v=0;for(let I=0;I<c;I++){let L=f[I];if(L===0||L===w)throw new z;(L===1||L===w-1)&&v++}let E=new Array(c*l-v),R=0;for(let I=0;I<c;I++){let L=f[I];if(L===1||L===w-1)E.fill(L>1,R,R+l-1),R+=l-1;else for(let U=l-1;U>=0;--U)E[R++]=(L&1<<U)!==0}return E}extractBits(s){let r=this.ddata.isCompact(),l=this.ddata.getNbLayers(),c=(r?11:14)+l*4,u=new Int32Array(c),h=new Array(this.totalBitsInLayer(l,r));if(r)for(let f=0;f<u.length;f++)u[f]=f;else{let f=c+1+2*_.truncDivision(_.truncDivision(c,2)-1,15),w=c/2,v=_.truncDivision(f,2);for(let E=0;E<w;E++){let R=E+_.truncDivision(E,15);u[w-E-1]=v-R-1,u[w+E]=v+R+1}}for(let f=0,w=0;f<l;f++){let v=(l-f)*4+(r?9:12),E=f*2,R=c-1-E;for(let I=0;I<v;I++){let L=I*2;for(let U=0;U<2;U++)h[w+L+U]=s.get(u[E+U],u[E+I]),h[w+2*v+L+U]=s.get(u[E+I],u[R-U]),h[w+4*v+L+U]=s.get(u[R-U],u[R-I]),h[w+6*v+L+U]=s.get(u[R-I],u[E+U])}w+=v*8}return h}static readCode(s,r,l){let c=0;for(let u=r;u<r+l;u++)c<<=1,s[u]&&(c|=1);return c}static readByte(s,r){let l=s.length-r;return l>=8?nt.readCode(s,r,8):nt.readCode(s,r,l)<<8-l}static convertBoolArrayToByteArray(s){let r=new Uint8Array((s.length+7)/8);for(let l=0;l<r.length;l++)r[l]=nt.readByte(s,8*l);return r}totalBitsInLayer(s,r){return((r?88:112)+16*s)*s}}nt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],nt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],nt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],nt.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],nt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ue{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,r,l,c){const u=s-l,h=r-c;return Math.sqrt(u*u+h*h)}static sum(s){let r=0;for(let l=0,c=s.length;l!==c;l++){const u=s[l];r+=u}return r}}class pl{static floatToIntBits(s){return s}}pl.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ge{constructor(s,r){this.x=s,this.y=r}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof ge){const r=s;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*pl.floatToIntBits(this.x)+pl.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const r=this.distance(s[0],s[1]),l=this.distance(s[1],s[2]),c=this.distance(s[0],s[2]);let u,h,f;if(l>=r&&l>=c?(h=s[0],u=s[1],f=s[2]):c>=l&&c>=r?(h=s[1],u=s[0],f=s[2]):(h=s[2],u=s[0],f=s[1]),this.crossProductZ(u,h,f)<0){const w=u;u=f,f=w}s[0]=u,s[1]=h,s[2]=f}static distance(s,r){return Ue.distance(s.x,s.y,r.x,r.y)}static crossProductZ(s,r,l){const c=r.x,u=r.y;return(l.x-c)*(s.y-u)-(l.y-u)*(s.x-c)}}class ml{constructor(s,r){this.bits=s,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class r0 extends ml{constructor(s,r,l,c,u){super(s,r),this.compact=l,this.nbDatablocks=c,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Li{constructor(s,r,l,c){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),r==null&&(r=Li.INIT_SIZE),l==null&&(l=s.getWidth()/2|0),c==null&&(c=s.getHeight()/2|0);const u=r/2|0;if(this.leftInit=l-u,this.rightInit=l+u,this.upInit=c-u,this.downInit=c+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new H}detect(){let s=this.leftInit,r=this.rightInit,l=this.upInit,c=this.downInit,u=!1,h=!0,f=!1,w=!1,v=!1,E=!1,R=!1;const I=this.width,L=this.height;for(;h;){h=!1;let U=!0;for(;(U||!w)&&r<I;)U=this.containsBlackPoint(l,c,r,!1),U?(r++,h=!0,w=!0):w||r++;if(r>=I){u=!0;break}let F=!0;for(;(F||!v)&&c<L;)F=this.containsBlackPoint(s,r,c,!0),F?(c++,h=!0,v=!0):v||c++;if(c>=L){u=!0;break}let X=!0;for(;(X||!E)&&s>=0;)X=this.containsBlackPoint(l,c,s,!1),X?(s--,h=!0,E=!0):E||s--;if(s<0){u=!0;break}let K=!0;for(;(K||!R)&&l>=0;)K=this.containsBlackPoint(s,r,l,!0),K?(l--,h=!0,R=!0):R||l--;if(l<0){u=!0;break}h&&(f=!0)}if(!u&&f){const U=r-s;let F=null;for(let le=1;F===null&&le<U;le++)F=this.getBlackPointOnSegment(s,c-le,s+le,c);if(F==null)throw new H;let X=null;for(let le=1;X===null&&le<U;le++)X=this.getBlackPointOnSegment(s,l+le,s+le,l);if(X==null)throw new H;let K=null;for(let le=1;K===null&&le<U;le++)K=this.getBlackPointOnSegment(r,l+le,r-le,l);if(K==null)throw new H;let ae=null;for(let le=1;ae===null&&le<U;le++)ae=this.getBlackPointOnSegment(r,c-le,r-le,c);if(ae==null)throw new H;return this.centerEdges(ae,F,K,X)}else throw new H}getBlackPointOnSegment(s,r,l,c){const u=Ue.round(Ue.distance(s,r,l,c)),h=(l-s)/u,f=(c-r)/u,w=this.image;for(let v=0;v<u;v++){const E=Ue.round(s+v*h),R=Ue.round(r+v*f);if(w.get(E,R))return new ge(E,R)}return null}centerEdges(s,r,l,c){const u=s.getX(),h=s.getY(),f=r.getX(),w=r.getY(),v=l.getX(),E=l.getY(),R=c.getX(),I=c.getY(),L=Li.CORR;return u<this.width/2?[new ge(R-L,I+L),new ge(f+L,w+L),new ge(v-L,E-L),new ge(u+L,h-L)]:[new ge(R+L,I+L),new ge(f+L,w-L),new ge(v-L,E+L),new ge(u-L,h-L)]}containsBlackPoint(s,r,l,c){const u=this.image;if(c){for(let h=s;h<=r;h++)if(u.get(h,l))return!0}else for(let h=s;h<=r;h++)if(u.get(l,h))return!0;return!1}}Li.INIT_SIZE=10,Li.CORR=1;class Eu{static checkAndNudgePoints(s,r){const l=s.getWidth(),c=s.getHeight();let u=!0;for(let h=0;h<r.length&&u;h+=2){const f=Math.floor(r[h]),w=Math.floor(r[h+1]);if(f<-1||f>l||w<-1||w>c)throw new H;u=!1,f===-1?(r[h]=0,u=!0):f===l&&(r[h]=l-1,u=!0),w===-1?(r[h+1]=0,u=!0):w===c&&(r[h+1]=c-1,u=!0)}u=!0;for(let h=r.length-2;h>=0&&u;h-=2){const f=Math.floor(r[h]),w=Math.floor(r[h+1]);if(f<-1||f>l||w<-1||w>c)throw new H;u=!1,f===-1?(r[h]=0,u=!0):f===l&&(r[h]=l-1,u=!0),w===-1?(r[h+1]=0,u=!0):w===c&&(r[h+1]=c-1,u=!0)}}}class ui{constructor(s,r,l,c,u,h,f,w,v){this.a11=s,this.a21=r,this.a31=l,this.a12=c,this.a22=u,this.a32=h,this.a13=f,this.a23=w,this.a33=v}static quadrilateralToQuadrilateral(s,r,l,c,u,h,f,w,v,E,R,I,L,U,F,X){const K=ui.quadrilateralToSquare(s,r,l,c,u,h,f,w);return ui.squareToQuadrilateral(v,E,R,I,L,U,F,X).times(K)}transformPoints(s){const r=s.length,l=this.a11,c=this.a12,u=this.a13,h=this.a21,f=this.a22,w=this.a23,v=this.a31,E=this.a32,R=this.a33;for(let I=0;I<r;I+=2){const L=s[I],U=s[I+1],F=u*L+w*U+R;s[I]=(l*L+h*U+v)/F,s[I+1]=(c*L+f*U+E)/F}}transformPointsWithValues(s,r){const l=this.a11,c=this.a12,u=this.a13,h=this.a21,f=this.a22,w=this.a23,v=this.a31,E=this.a32,R=this.a33,I=s.length;for(let L=0;L<I;L++){const U=s[L],F=r[L],X=u*U+w*F+R;s[L]=(l*U+h*F+v)/X,r[L]=(c*U+f*F+E)/X}}static squareToQuadrilateral(s,r,l,c,u,h,f,w){const v=s-l+u-f,E=r-c+h-w;if(v===0&&E===0)return new ui(l-s,u-l,s,c-r,h-c,r,0,0,1);{const R=l-u,I=f-u,L=c-h,U=w-h,F=R*U-I*L,X=(v*U-I*E)/F,K=(R*E-v*L)/F;return new ui(l-s+X*l,f-s+K*f,s,c-r+X*c,w-r+K*w,r,X,K,1)}}static quadrilateralToSquare(s,r,l,c,u,h,f,w){return ui.squareToQuadrilateral(s,r,l,c,u,h,f,w).buildAdjoint()}buildAdjoint(){return new ui(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new ui(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class a0 extends Eu{sampleGrid(s,r,l,c,u,h,f,w,v,E,R,I,L,U,F,X,K,ae,le){const ne=ui.quadrilateralToQuadrilateral(c,u,h,f,w,v,E,R,I,L,U,F,X,K,ae,le);return this.sampleGridWithTransform(s,r,l,ne)}sampleGridWithTransform(s,r,l,c){if(r<=0||l<=0)throw new H;const u=new oe(r,l),h=new Float32Array(2*r);for(let f=0;f<l;f++){const w=h.length,v=f+.5;for(let E=0;E<w;E+=2)h[E]=E/2+.5,h[E+1]=v;c.transformPoints(h),Eu.checkAndNudgePoints(s,h);try{for(let E=0;E<w;E+=2)s.get(Math.floor(h[E]),Math.floor(h[E+1]))&&u.set(E/2,f)}catch(E){throw new H}}return u}}class ls{static setGridSampler(s){ls.gridSampler=s}static getInstance(){return ls.gridSampler}}ls.gridSampler=new a0;class mn{constructor(s,r){this.x=s,this.y=r}toResultPoint(){return new ge(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class o0{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let r=this.getMatrixCenter(),l=this.getBullsEyeCorners(r);if(s){let h=l[0];l[0]=l[2],l[2]=h}this.extractParameters(l);let c=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),u=this.getMatrixCornerPoints(l);return new r0(c,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new H;let r=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(s[0],s[1],r),this.sampleLine(s[1],s[2],r),this.sampleLine(s[2],s[3],r),this.sampleLine(s[3],s[0],r)]);this.shift=this.getRotation(l,r);let c=0;for(let h=0;h<4;h++){let f=l[(this.shift+h)%4];this.compact?(c<<=7,c+=f>>1&127):(c<<=10,c+=(f>>2&992)+(f>>1&31))}let u=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(s,r){let l=0;s.forEach((c,u,h)=>{let f=(c>>r-2<<1)+(c&1);l=(l<<3)+f}),l=((l&1)<<11)+(l>>1);for(let c=0;c<4;c++)if(_.bitCount(l^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new H}getCorrectedParameterData(s,r){let l,c;r?(l=7,c=2):(l=10,c=4);let u=l-c,h=new Int32Array(l);for(let w=l-1;w>=0;--w)h[w]=s&15,s>>=4;try{new Ha(qe.AZTEC_PARAM).decode(h,u)}catch(w){throw new H}let f=0;for(let w=0;w<c;w++)f=(f<<4)+h[w];return f}getBullsEyeCorners(s){let r=s,l=s,c=s,u=s,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let R=this.getFirstDifferent(r,h,1,-1),I=this.getFirstDifferent(l,h,1,1),L=this.getFirstDifferent(c,h,-1,1),U=this.getFirstDifferent(u,h,-1,-1);if(this.nbCenterLayers>2){let F=this.distancePoint(U,R)*this.nbCenterLayers/(this.distancePoint(u,r)*(this.nbCenterLayers+2));if(F<.75||F>1.25||!this.isWhiteOrBlackRectangle(R,I,L,U))break}r=R,l=I,c=L,u=U,h=!h}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new H;this.compact=this.nbCenterLayers===5;let f=new ge(r.getX()+.5,r.getY()-.5),w=new ge(l.getX()+.5,l.getY()+.5),v=new ge(c.getX()-.5,c.getY()+.5),E=new ge(u.getX()-.5,u.getY()-.5);return this.expandSquare([f,w,v,E],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,r,l,c;try{let f=new Li(this.image).detect();s=f[0],r=f[1],l=f[2],c=f[3]}catch(f){let w=this.image.getWidth()/2,v=this.image.getHeight()/2;s=this.getFirstDifferent(new mn(w+7,v-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new mn(w+7,v+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new mn(w-7,v+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new mn(w-7,v-7),!1,-1,-1).toResultPoint()}let u=Ue.round((s.getX()+c.getX()+r.getX()+l.getX())/4),h=Ue.round((s.getY()+c.getY()+r.getY()+l.getY())/4);try{let f=new Li(this.image,15,u,h).detect();s=f[0],r=f[1],l=f[2],c=f[3]}catch(f){s=this.getFirstDifferent(new mn(u+7,h-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new mn(u+7,h+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new mn(u-7,h+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new mn(u-7,h-7),!1,-1,-1).toResultPoint()}return u=Ue.round((s.getX()+c.getX()+r.getX()+l.getX())/4),h=Ue.round((s.getY()+c.getY()+r.getY()+l.getY())/4),new mn(u,h)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,r,l,c,u){let h=ls.getInstance(),f=this.getDimension(),w=f/2-this.nbCenterLayers,v=f/2+this.nbCenterLayers;return h.sampleGrid(s,f,f,w,w,v,w,v,v,w,v,r.getX(),r.getY(),l.getX(),l.getY(),c.getX(),c.getY(),u.getX(),u.getY())}sampleLine(s,r,l){let c=0,u=this.distanceResultPoint(s,r),h=u/l,f=s.getX(),w=s.getY(),v=h*(r.getX()-s.getX())/u,E=h*(r.getY()-s.getY())/u;for(let R=0;R<l;R++)this.image.get(Ue.round(f+R*v),Ue.round(w+R*E))&&(c|=1<<l-R-1);return c}isWhiteOrBlackRectangle(s,r,l,c){let u=3;s=new mn(s.getX()-u,s.getY()+u),r=new mn(r.getX()-u,r.getY()-u),l=new mn(l.getX()+u,l.getY()-u),c=new mn(c.getX()+u,c.getY()+u);let h=this.getColor(c,s);if(h===0)return!1;let f=this.getColor(s,r);return f!==h||(f=this.getColor(r,l),f!==h)?!1:(f=this.getColor(l,c),f===h)}getColor(s,r){let l=this.distancePoint(s,r),c=(r.getX()-s.getX())/l,u=(r.getY()-s.getY())/l,h=0,f=s.getX(),w=s.getY(),v=this.image.get(s.getX(),s.getY()),E=Math.ceil(l);for(let I=0;I<E;I++)f+=c,w+=u,this.image.get(Ue.round(f),Ue.round(w))!==v&&h++;let R=h/l;return R>.1&&R<.9?0:R<=.1===v?1:-1}getFirstDifferent(s,r,l,c){let u=s.getX()+l,h=s.getY()+c;for(;this.isValid(u,h)&&this.image.get(u,h)===r;)u+=l,h+=c;for(u-=l,h-=c;this.isValid(u,h)&&this.image.get(u,h)===r;)u+=l;for(u-=l;this.isValid(u,h)&&this.image.get(u,h)===r;)h+=c;return h-=c,new mn(u,h)}expandSquare(s,r,l){let c=l/(2*r),u=s[0].getX()-s[2].getX(),h=s[0].getY()-s[2].getY(),f=(s[0].getX()+s[2].getX())/2,w=(s[0].getY()+s[2].getY())/2,v=new ge(f+c*u,w+c*h),E=new ge(f-c*u,w-c*h);u=s[1].getX()-s[3].getX(),h=s[1].getY()-s[3].getY(),f=(s[1].getX()+s[3].getX())/2,w=(s[1].getY()+s[3].getY())/2;let R=new ge(f+c*u,w+c*h),I=new ge(f-c*u,w-c*h);return[v,R,E,I]}isValid(s,r){return s>=0&&s<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(s){let r=Ue.round(s.getX()),l=Ue.round(s.getY());return this.isValid(r,l)}distancePoint(s,r){return Ue.distance(s.getX(),s.getY(),r.getX(),r.getY())}distanceResultPoint(s,r){return Ue.distance(s.getX(),s.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(_.truncDivision(this.nbLayers-4,8)+1)+15}}class xl{decode(s,r=null){let l=null,c=new o0(s.getBlackMatrix()),u=null,h=null;try{let E=c.detectMirror(!1);u=E.getPoints(),this.reportFoundResultPoints(r,u),h=new nt().decode(E)}catch(E){l=E}if(h==null)try{let E=c.detectMirror(!0);u=E.getPoints(),this.reportFoundResultPoints(r,u),h=new nt().decode(E)}catch(E){throw l!=null?l:E}let f=new ft(h.getText(),h.getRawBytes(),h.getNumBits(),u,ye.AZTEC,M.currentTimeMillis()),w=h.getByteSegments();w!=null&&f.putMetadata(Ht.BYTE_SEGMENTS,w);let v=h.getECLevel();return v!=null&&f.putMetadata(Ht.ERROR_CORRECTION_LEVEL,v),f}reportFoundResultPoints(s,r){if(s!=null){let l=s.get(G.NEED_RESULT_POINT_CALLBACK);l!=null&&r.forEach((c,u,h)=>{l.foundPossibleResultPoint(c)})}}reset(){}}class Hx extends ci{constructor(s=500){super(new xl,s)}}class Ot{decode(s,r){try{return this.doDecode(s,r)}catch(l){if(r&&r.get(G.TRY_HARDER)===!0&&s.isRotateSupported()){const u=s.rotateCounterClockwise(),h=this.doDecode(u,r),f=h.getResultMetadata();let w=270;f!==null&&f.get(Ht.ORIENTATION)===!0&&(w=w+f.get(Ht.ORIENTATION)%360),h.putMetadata(Ht.ORIENTATION,w);const v=h.getResultPoints();if(v!==null){const E=u.getHeight();for(let R=0;R<v.length;R++)v[R]=new ge(E-v[R].getY()-1,v[R].getX())}return h}else throw new H}}reset(){}doDecode(s,r){const l=s.getWidth(),c=s.getHeight();let u=new D(l);const h=r&&r.get(G.TRY_HARDER)===!0,f=Math.max(1,c>>(h?8:5));let w;h?w=c:w=15;const v=Math.trunc(c/2);for(let E=0;E<w;E++){const R=Math.trunc((E+1)/2),I=(E&1)===0,L=v+f*(I?R:-R);if(L<0||L>=c)break;try{u=s.getBlackRow(L,u)}catch(U){continue}for(let U=0;U<2;U++){if(U===1&&(u.reverse(),r&&r.get(G.NEED_RESULT_POINT_CALLBACK)===!0)){const F=new Map;r.forEach((X,K)=>F.set(K,X)),F.delete(G.NEED_RESULT_POINT_CALLBACK),r=F}try{const F=this.decodeRow(L,u,r);if(U===1){F.putMetadata(Ht.ORIENTATION,180);const X=F.getResultPoints();X!==null&&(X[0]=new ge(l-X[0].getX()-1,X[0].getY()),X[1]=new ge(l-X[1].getX()-1,X[1].getY()))}return F}catch(F){}}}throw new H}static recordPattern(s,r,l){const c=l.length;for(let v=0;v<c;v++)l[v]=0;const u=s.getSize();if(r>=u)throw new H;let h=!s.get(r),f=0,w=r;for(;w<u;){if(s.get(w)!==h)l[f]++;else{if(++f===c)break;l[f]=1,h=!h}w++}if(!(f===c||f===c-1&&w===u))throw new H}static recordPatternInReverse(s,r,l){let c=l.length,u=s.get(r);for(;r>0&&c>=0;)s.get(--r)!==u&&(c--,u=!u);if(c>=0)throw new H;Ot.recordPattern(s,r+1,l)}static patternMatchVariance(s,r,l){const c=s.length;let u=0,h=0;for(let v=0;v<c;v++)u+=s[v],h+=r[v];if(u<h)return Number.POSITIVE_INFINITY;const f=u/h;l*=f;let w=0;for(let v=0;v<c;v++){const E=s[v],R=r[v]*f,I=E>R?E-R:R-E;if(I>l)return Number.POSITIVE_INFINITY;w+=I}return w/u}}class ue extends Ot{static findStartPattern(s){const r=s.getSize(),l=s.getNextSet(0);let c=0,u=Int32Array.from([0,0,0,0,0,0]),h=l,f=!1;const w=6;for(let v=l;v<r;v++)if(s.get(v)!==f)u[c]++;else{if(c===w-1){let E=ue.MAX_AVG_VARIANCE,R=-1;for(let I=ue.CODE_START_A;I<=ue.CODE_START_C;I++){const L=Ot.patternMatchVariance(u,ue.CODE_PATTERNS[I],ue.MAX_INDIVIDUAL_VARIANCE);L<E&&(E=L,R=I)}if(R>=0&&s.isRange(Math.max(0,h-(v-h)/2),h,!1))return Int32Array.from([h,v,R]);h+=u[0]+u[1],u=u.slice(2,u.length-1),u[c-1]=0,u[c]=0,c--}else c++;u[c]=1,f=!f}throw new H}static decodeCode(s,r,l){Ot.recordPattern(s,l,r);let c=ue.MAX_AVG_VARIANCE,u=-1;for(let h=0;h<ue.CODE_PATTERNS.length;h++){const f=ue.CODE_PATTERNS[h],w=this.patternMatchVariance(r,f,ue.MAX_INDIVIDUAL_VARIANCE);w<c&&(c=w,u=h)}if(u>=0)return u;throw new H}decodeRow(s,r,l){const c=l&&l.get(G.ASSUME_GS1)===!0,u=ue.findStartPattern(r),h=u[2];let f=0;const w=new Uint8Array(20);w[f++]=h;let v;switch(h){case ue.CODE_START_A:v=ue.CODE_CODE_A;break;case ue.CODE_START_B:v=ue.CODE_CODE_B;break;case ue.CODE_START_C:v=ue.CODE_CODE_C;break;default:throw new z}let E=!1,R=!1,I="",L=u[0],U=u[1];const F=Int32Array.from([0,0,0,0,0,0]);let X=0,K=0,ae=h,le=0,ne=!0,Be=!1,Te=!1;for(;!E;){const Ur=R;switch(R=!1,X=K,K=ue.decodeCode(r,F,U),w[f++]=K,K!==ue.CODE_STOP&&(ne=!0),K!==ue.CODE_STOP&&(le++,ae+=le*K),L=U,U+=F.reduce((v3,y3)=>v3+y3,0),K){case ue.CODE_START_A:case ue.CODE_START_B:case ue.CODE_START_C:throw new z}switch(v){case ue.CODE_CODE_A:if(K<64)Te===Be?I+=String.fromCharCode(32+K):I+=String.fromCharCode(32+K+128),Te=!1;else if(K<96)Te===Be?I+=String.fromCharCode(K-64):I+=String.fromCharCode(K+64),Te=!1;else switch(K!==ue.CODE_STOP&&(ne=!1),K){case ue.CODE_FNC_1:c&&(I.length===0?I+="]C1":I+="");break;case ue.CODE_FNC_2:case ue.CODE_FNC_3:break;case ue.CODE_FNC_4_A:!Be&&Te?(Be=!0,Te=!1):Be&&Te?(Be=!1,Te=!1):Te=!0;break;case ue.CODE_SHIFT:R=!0,v=ue.CODE_CODE_B;break;case ue.CODE_CODE_B:v=ue.CODE_CODE_B;break;case ue.CODE_CODE_C:v=ue.CODE_CODE_C;break;case ue.CODE_STOP:E=!0;break}break;case ue.CODE_CODE_B:if(K<96)Te===Be?I+=String.fromCharCode(32+K):I+=String.fromCharCode(32+K+128),Te=!1;else switch(K!==ue.CODE_STOP&&(ne=!1),K){case ue.CODE_FNC_1:c&&(I.length===0?I+="]C1":I+="");break;case ue.CODE_FNC_2:case ue.CODE_FNC_3:break;case ue.CODE_FNC_4_B:!Be&&Te?(Be=!0,Te=!1):Be&&Te?(Be=!1,Te=!1):Te=!0;break;case ue.CODE_SHIFT:R=!0,v=ue.CODE_CODE_A;break;case ue.CODE_CODE_A:v=ue.CODE_CODE_A;break;case ue.CODE_CODE_C:v=ue.CODE_CODE_C;break;case ue.CODE_STOP:E=!0;break}break;case ue.CODE_CODE_C:if(K<100)K<10&&(I+="0"),I+=K;else switch(K!==ue.CODE_STOP&&(ne=!1),K){case ue.CODE_FNC_1:c&&(I.length===0?I+="]C1":I+="");break;case ue.CODE_CODE_A:v=ue.CODE_CODE_A;break;case ue.CODE_CODE_B:v=ue.CODE_CODE_B;break;case ue.CODE_STOP:E=!0;break}break}Ur&&(v=v===ue.CODE_CODE_A?ue.CODE_CODE_B:ue.CODE_CODE_A)}const _n=U-L;if(U=r.getNextUnset(U),!r.isRange(U,Math.min(r.getSize(),U+(U-L)/2),!1))throw new H;if(ae-=le*X,ae%103!==X)throw new S;const hi=I.length;if(hi===0)throw new H;hi>0&&ne&&(v===ue.CODE_CODE_C?I=I.substring(0,hi-2):I=I.substring(0,hi-1));const Tn=(u[1]+u[0])/2,et=L+_n/2,nn=w.length,Dn=new Uint8Array(nn);for(let Ur=0;Ur<nn;Ur++)Dn[Ur]=w[Ur];const zr=[new ge(Tn,s),new ge(et,s)];return new ft(I,Dn,0,zr,ye.CODE_128,new Date().getTime())}}ue.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ue.MAX_AVG_VARIANCE=.25,ue.MAX_INDIVIDUAL_VARIANCE=.7,ue.CODE_SHIFT=98,ue.CODE_CODE_C=99,ue.CODE_CODE_B=100,ue.CODE_CODE_A=101,ue.CODE_FNC_1=102,ue.CODE_FNC_2=97,ue.CODE_FNC_3=96,ue.CODE_FNC_4_A=101,ue.CODE_FNC_4_B=100,ue.CODE_START_A=103,ue.CODE_START_B=104,ue.CODE_START_C=105,ue.CODE_STOP=106;class Bt extends Ot{constructor(s=!1,r=!1){super(),this.usingCheckDigit=s,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,r,l){let c=this.counters;c.fill(0),this.decodeRowResult="";let u=Bt.findAsteriskPattern(r,c),h=r.getNextSet(u[1]),f=r.getSize(),w,v;do{Bt.recordPattern(r,h,c);let F=Bt.toNarrowWidePattern(c);if(F<0)throw new H;w=Bt.patternToChar(F),this.decodeRowResult+=w,v=h;for(let X of c)h+=X;h=r.getNextSet(h)}while(w!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let E=0;for(let F of c)E+=F;let R=h-v-E;if(h!==f&&R*2<E)throw new H;if(this.usingCheckDigit){let F=this.decodeRowResult.length-1,X=0;for(let K=0;K<F;K++)X+=Bt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(K));if(this.decodeRowResult.charAt(F)!==Bt.ALPHABET_STRING.charAt(X%43))throw new S;this.decodeRowResult=this.decodeRowResult.substring(0,F)}if(this.decodeRowResult.length===0)throw new H;let I;this.extendedMode?I=Bt.decodeExtended(this.decodeRowResult):I=this.decodeRowResult;let L=(u[1]+u[0])/2,U=v+E/2;return new ft(I,null,0,[new ge(L,s),new ge(U,s)],ye.CODE_39,new Date().getTime())}static findAsteriskPattern(s,r){let l=s.getSize(),c=s.getNextSet(0),u=0,h=c,f=!1,w=r.length;for(let v=c;v<l;v++)if(s.get(v)!==f)r[u]++;else{if(u===w-1){if(this.toNarrowWidePattern(r)===Bt.ASTERISK_ENCODING&&s.isRange(Math.max(0,h-Math.floor((v-h)/2)),h,!1))return[h,v];h+=r[0]+r[1],r.copyWithin(0,2,2+u-1),r[u-1]=0,r[u]=0,u--}else u++;r[u]=1,f=!f}throw new H}static toNarrowWidePattern(s){let r=s.length,l=0,c;do{let u=2147483647;for(let w of s)w<u&&w>l&&(u=w);l=u,c=0;let h=0,f=0;for(let w=0;w<r;w++){let v=s[w];v>l&&(f|=1<<r-1-w,c++,h+=v)}if(c===3){for(let w=0;w<r&&c>0;w++){let v=s[w];if(v>l&&(c--,v*2>=h))return-1}return f}}while(c>3);return-1}static patternToChar(s){for(let r=0;r<Bt.CHARACTER_ENCODINGS.length;r++)if(Bt.CHARACTER_ENCODINGS[r]===s)return Bt.ALPHABET_STRING.charAt(r);if(s===Bt.ASTERISK_ENCODING)return"*";throw new H}static decodeExtended(s){let r=s.length,l="";for(let c=0;c<r;c++){let u=s.charAt(c);if(u==="+"||u==="$"||u==="%"||u==="/"){let h=s.charAt(c+1),f="\0";switch(u){case"+":if(h>="A"&&h<="Z")f=String.fromCharCode(h.charCodeAt(0)+32);else throw new z;break;case"$":if(h>="A"&&h<="Z")f=String.fromCharCode(h.charCodeAt(0)-64);else throw new z;break;case"%":if(h>="A"&&h<="E")f=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")f=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")f=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")f=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")f="\0";else if(h==="V")f="@";else if(h==="W")f="`";else if(h==="X"||h==="Y"||h==="Z")f="";else throw new z;break;case"/":if(h>="A"&&h<="O")f=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")f=":";else throw new z;break}l+=f,c++}else l+=u}return l}}Bt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Bt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Bt.ASTERISK_ENCODING=148;class $e extends Ot{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,r,l){let c=this.decodeStart(r),u=this.decodeEnd(r),h=new $;$e.decodeMiddle(r,c[1],u[0],h);let f=h.toString(),w=null;l!=null&&(w=l.get(G.ALLOWED_LENGTHS)),w==null&&(w=$e.DEFAULT_ALLOWED_LENGTHS);let v=f.length,E=!1,R=0;for(let U of w){if(v===U){E=!0;break}U>R&&(R=U)}if(!E&&v>R&&(E=!0),!E)throw new z;const I=[new ge(c[1],s),new ge(u[0],s)];return new ft(f,null,0,I,ye.ITF,new Date().getTime())}static decodeMiddle(s,r,l,c){let u=new Int32Array(10),h=new Int32Array(5),f=new Int32Array(5);for(u.fill(0),h.fill(0),f.fill(0);r<l;){Ot.recordPattern(s,r,u);for(let v=0;v<5;v++){let E=2*v;h[v]=u[E],f[v]=u[E+1]}let w=$e.decodeDigit(h);c.append(w.toString()),w=this.decodeDigit(f),c.append(w.toString()),u.forEach(function(v){r+=v})}}decodeStart(s){let r=$e.skipWhiteSpace(s),l=$e.findGuardPattern(s,r,$e.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(s,l[0]),l}validateQuietZone(s,r){let l=this.narrowLineWidth*10;l=l<r?l:r;for(let c=r-1;l>0&&c>=0&&!s.get(c);c--)l--;if(l!==0)throw new H}static skipWhiteSpace(s){const r=s.getSize(),l=s.getNextSet(0);if(l===r)throw new H;return l}decodeEnd(s){s.reverse();try{let r=$e.skipWhiteSpace(s),l;try{l=$e.findGuardPattern(s,r,$e.END_PATTERN_REVERSED[0])}catch(u){u instanceof H&&(l=$e.findGuardPattern(s,r,$e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,l[0]);let c=l[0];return l[0]=s.getSize()-l[1],l[1]=s.getSize()-c,l}finally{s.reverse()}}static findGuardPattern(s,r,l){let c=l.length,u=new Int32Array(c),h=s.getSize(),f=!1,w=0,v=r;u.fill(0);for(let E=r;E<h;E++)if(s.get(E)!==f)u[w]++;else{if(w===c-1){if(Ot.patternMatchVariance(u,l,$e.MAX_INDIVIDUAL_VARIANCE)<$e.MAX_AVG_VARIANCE)return[v,E];v+=u[0]+u[1],M.arraycopy(u,2,u,0,w-1),u[w-1]=0,u[w]=0,w--}else w++;u[w]=1,f=!f}throw new H}static decodeDigit(s){let r=$e.MAX_AVG_VARIANCE,l=-1,c=$e.PATTERNS.length;for(let u=0;u<c;u++){let h=$e.PATTERNS[u],f=Ot.patternMatchVariance(s,h,$e.MAX_INDIVIDUAL_VARIANCE);f<r?(r=f,l=u):f===r&&(l=-1)}if(l>=0)return l%10;throw new H}}$e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],$e.MAX_AVG_VARIANCE=.38,$e.MAX_INDIVIDUAL_VARIANCE=.5,$e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],$e.START_PATTERN=Int32Array.from([1,1,1,1]),$e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class vt extends Ot{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let r=!1,l,c=0,u=Int32Array.from([0,0,0]);for(;!r;){u=Int32Array.from([0,0,0]),l=vt.findGuardPattern(s,c,!1,this.START_END_PATTERN,u);let h=l[0];c=l[1];let f=h-(c-h);f>=0&&(r=s.isRange(f,h,!1))}return l}static checkChecksum(s){return vt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let r=s.length;if(r===0)return!1;let l=parseInt(s.charAt(r-1),10);return vt.getStandardUPCEANChecksum(s.substring(0,r-1))===l}static getStandardUPCEANChecksum(s){let r=s.length,l=0;for(let c=r-1;c>=0;c-=2){let u=s.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new z;l+=u}l*=3;for(let c=r-2;c>=0;c-=2){let u=s.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new z;l+=u}return(1e3-l)%10}static decodeEnd(s,r){return vt.findGuardPattern(s,r,!1,vt.START_END_PATTERN,new Int32Array(vt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,r,l,c){return this.findGuardPattern(s,r,l,c,new Int32Array(c.length))}static findGuardPattern(s,r,l,c,u){let h=s.getSize();r=l?s.getNextUnset(r):s.getNextSet(r);let f=0,w=r,v=c.length,E=l;for(let R=r;R<h;R++)if(s.get(R)!==E)u[f]++;else{if(f===v-1){if(Ot.patternMatchVariance(u,c,vt.MAX_INDIVIDUAL_VARIANCE)<vt.MAX_AVG_VARIANCE)return Int32Array.from([w,R]);w+=u[0]+u[1];let I=u.slice(2,u.length-1);for(let L=0;L<f-1;L++)u[L]=I[L];u[f-1]=0,u[f]=0,f--}else f++;u[f]=1,E=!E}throw new H}static decodeDigit(s,r,l,c){this.recordPattern(s,l,r);let u=this.MAX_AVG_VARIANCE,h=-1,f=c.length;for(let w=0;w<f;w++){let v=c[w],E=Ot.patternMatchVariance(r,v,vt.MAX_INDIVIDUAL_VARIANCE);E<u&&(u=E,h=w)}if(h>=0)return h;throw new H}}vt.MAX_AVG_VARIANCE=.48,vt.MAX_INDIVIDUAL_VARIANCE=.7,vt.START_END_PATTERN=Int32Array.from([1,1,1]),vt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),vt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),vt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class qa{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,r,l){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(r,l,c),h=c.toString(),f=qa.parseExtensionString(h),w=[new ge((l[0]+l[1])/2,s),new ge(u,s)],v=new ft(h,null,0,w,ye.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&v.putAllMetadata(f),v}decodeMiddle(s,r,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=s.getSize(),h=r[1],f=0;for(let v=0;v<5&&h<u;v++){let E=vt.decodeDigit(s,c,h,vt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+E%10);for(let R of c)h+=R;E>=10&&(f|=1<<4-v),v!==4&&(h=s.getNextSet(h),h=s.getNextUnset(h))}if(l.length!==5)throw new H;let w=this.determineCheckDigit(f);if(qa.extensionChecksum(l.toString())!==w)throw new H;return h}static extensionChecksum(s){let r=s.length,l=0;for(let c=r-2;c>=0;c-=2)l+=s.charAt(c).charCodeAt(0)-48;l*=3;for(let c=r-1;c>=0;c-=2)l+=s.charAt(c).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(s){for(let r=0;r<10;r++)if(s===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new H}static parseExtensionString(s){if(s.length!==5)return null;let r=qa.parseExtension5String(s);return r==null?null:new Map([[Ht.SUGGESTED_PRICE,r]])}static parseExtension5String(s){let r;switch(s.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let l=parseInt(s.substring(1)),c=(l/100).toString(),u=l%100,h=u<10?"0"+u:u.toString();return r+c+"."+h}}class Au{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,r,l){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(r,l,c),h=c.toString(),f=Au.parseExtensionString(h),w=[new ge((l[0]+l[1])/2,s),new ge(u,s)],v=new ft(h,null,0,w,ye.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&v.putAllMetadata(f),v}decodeMiddle(s,r,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=s.getSize(),h=r[1],f=0;for(let w=0;w<2&&h<u;w++){let v=vt.decodeDigit(s,c,h,vt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+v%10);for(let E of c)h+=E;v>=10&&(f|=1<<1-w),w!==1&&(h=s.getNextSet(h),h=s.getNextUnset(h))}if(l.length!==2)throw new H;if(parseInt(l.toString())%4!==f)throw new H;return h}static parseExtensionString(s){return s.length!==2?null:new Map([[Ht.ISSUE_NUMBER,parseInt(s)]])}}class l0{static decodeRow(s,r,l){let c=vt.findGuardPattern(r,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new qa().decodeRow(s,r,c)}catch(u){return new Au().decodeRow(s,r,c)}}}l0.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Xe extends vt{constructor(){super(),this.decodeRowStringBuffer="",Xe.L_AND_G_PATTERNS=Xe.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let r=Xe.L_PATTERNS[s-10],l=new Int32Array(r.length);for(let c=0;c<r.length;c++)l[c]=r[r.length-c-1];Xe.L_AND_G_PATTERNS[s]=l}}decodeRow(s,r,l){let c=Xe.findStartGuardPattern(r),u=l==null?null:l.get(G.NEED_RESULT_POINT_CALLBACK);if(u!=null){const ne=new ge((c[0]+c[1])/2,s);u.foundPossibleResultPoint(ne)}let h=this.decodeMiddle(r,c,this.decodeRowStringBuffer),f=h.rowOffset,w=h.resultString;if(u!=null){const ne=new ge(f,s);u.foundPossibleResultPoint(ne)}let v=this.decodeEnd(r,f);if(u!=null){const ne=new ge((v[0]+v[1])/2,s);u.foundPossibleResultPoint(ne)}let E=v[1],R=E+(E-v[0]);if(R>=r.getSize()||!r.isRange(E,R,!1))throw new H;let I=w.toString();if(I.length<8)throw new z;if(!Xe.checkChecksum(I))throw new S;let L=(c[1]+c[0])/2,U=(v[1]+v[0])/2,F=this.getBarcodeFormat(),X=[new ge(L,s),new ge(U,s)],K=new ft(I,null,0,X,F,new Date().getTime()),ae=0;try{let ne=l0.decodeRow(s,r,v[1]);K.putMetadata(Ht.UPC_EAN_EXTENSION,ne.getText()),K.putAllMetadata(ne.getResultMetadata()),K.addResultPoints(ne.getResultPoints()),ae=ne.getText().length}catch(ne){}let le=l==null?null:l.get(G.ALLOWED_EAN_EXTENSIONS);if(le!=null){let ne=!1;for(let Be in le)if(ae.toString()===Be){ne=!0;break}if(!ne)throw new H}return K}decodeEnd(s,r){return Xe.findGuardPattern(s,r,!1,Xe.START_END_PATTERN,new Int32Array(Xe.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return Xe.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let r=s.length;if(r===0)return!1;let l=parseInt(s.charAt(r-1),10);return Xe.getStandardUPCEANChecksum(s.substring(0,r-1))===l}static getStandardUPCEANChecksum(s){let r=s.length,l=0;for(let c=r-1;c>=0;c-=2){let u=s.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new z;l+=u}l*=3;for(let c=r-2;c>=0;c-=2){let u=s.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new z;l+=u}return(1e3-l)%10}}class Ws extends Xe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,r,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=s.getSize(),h=r[1],f=0;for(let v=0;v<6&&h<u;v++){let E=Xe.decodeDigit(s,c,h,Xe.L_AND_G_PATTERNS);l+=String.fromCharCode(48+E%10);for(let R of c)h+=R;E>=10&&(f|=1<<5-v)}l=Ws.determineFirstDigit(l,f),h=Xe.findGuardPattern(s,h,!0,Xe.MIDDLE_PATTERN,new Int32Array(Xe.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<6&&h<u;v++){let E=Xe.decodeDigit(s,c,h,Xe.L_PATTERNS);l+=String.fromCharCode(48+E);for(let R of c)h+=R}return{rowOffset:h,resultString:l}}getBarcodeFormat(){return ye.EAN_13}static determineFirstDigit(s,r){for(let l=0;l<10;l++)if(r===this.FIRST_DIGIT_ENCODINGS[l])return s=String.fromCharCode(48+l)+s,s;throw new H}}Ws.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class c0 extends Xe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,r,l){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=s.getSize(),h=r[1];for(let w=0;w<4&&h<u;w++){let v=Xe.decodeDigit(s,c,h,Xe.L_PATTERNS);l+=String.fromCharCode(48+v);for(let E of c)h+=E}h=Xe.findGuardPattern(s,h,!0,Xe.MIDDLE_PATTERN,new Int32Array(Xe.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<4&&h<u;w++){let v=Xe.decodeDigit(s,c,h,Xe.L_PATTERNS);l+=String.fromCharCode(48+v);for(let E of c)h+=E}return{rowOffset:h,resultString:l}}getBarcodeFormat(){return ye.EAN_8}}class u0 extends Xe{constructor(){super(...arguments),this.ean13Reader=new Ws}getBarcodeFormat(){return ye.UPC_A}decode(s,r){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,r,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,r,l))}decodeMiddle(s,r,l){return this.ean13Reader.decodeMiddle(s,r,l)}maybeReturnResult(s){let r=s.getText();if(r.charAt(0)==="0"){let l=new ft(r.substring(1),null,null,s.getResultPoints(),ye.UPC_A);return s.getResultMetadata()!=null&&l.putAllMetadata(s.getResultMetadata()),l}else throw new H}reset(){this.ean13Reader.reset()}}class di extends Xe{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,r,l){const c=this.decodeMiddleCounters.map(v=>v);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const u=s.getSize();let h=r[1],f=0;for(let v=0;v<6&&h<u;v++){const E=di.decodeDigit(s,c,h,di.L_AND_G_PATTERNS);l+=String.fromCharCode(48+E%10);for(let R of c)h+=R;E>=10&&(f|=1<<5-v)}let w=di.determineNumSysAndCheckDigit(l,f);return{rowOffset:h,resultString:w}}decodeEnd(s,r){return di.findGuardPatternWithoutCounters(s,r,!0,di.MIDDLE_END_PATTERN)}checkChecksum(s){return Xe.checkChecksum(di.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,r){for(let l=0;l<=1;l++)for(let c=0;c<10;c++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][c]){let u=String.fromCharCode(48+l),h=String.fromCharCode(48+c);return u+s+h}throw H.getNotFoundInstance()}getBarcodeFormat(){return ye.UPC_E}static convertUPCEtoUPCA(s){const r=s.slice(1,7).split("").map(u=>u.charCodeAt(0)),l=new $;l.append(s.charAt(0));let c=r[5];switch(c){case 0:case 1:case 2:l.appendChars(r,0,2),l.append(c),l.append("0000"),l.appendChars(r,2,3);break;case 3:l.appendChars(r,0,3),l.append("00000"),l.appendChars(r,3,2);break;case 4:l.appendChars(r,0,4),l.append("00000"),l.append(r[4]);break;default:l.appendChars(r,0,5),l.append("0000"),l.append(c);break}return s.length>=8&&l.append(s.charAt(7)),l.toString()}}di.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),di.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Su extends Ot{constructor(s){super();let r=s==null?null:s.get(G.POSSIBLE_FORMATS),l=[];i(r)?(l.push(new Ws),l.push(new u0),l.push(new c0),l.push(new di)):(r.indexOf(ye.EAN_13)>-1&&l.push(new Ws),r.indexOf(ye.UPC_A)>-1&&l.push(new u0),r.indexOf(ye.EAN_8)>-1&&l.push(new c0),r.indexOf(ye.UPC_E)>-1&&l.push(new di)),this.readers=l}decodeRow(s,r,l){for(let c of this.readers)try{const u=c.decodeRow(s,r,l),h=u.getBarcodeFormat()===ye.EAN_13&&u.getText().charAt(0)==="0",f=l==null?null:l.get(G.POSSIBLE_FORMATS),w=f==null||f.includes(ye.UPC_A);if(h&&w){const v=u.getRawBytes(),E=new ft(u.getText().substring(1),v,v?v.length:null,u.getResultPoints(),ye.UPC_A);return E.putAllMetadata(u.getResultMetadata()),E}return u}catch(u){}throw new H}reset(){for(let s of this.readers)s.reset()}}class cn extends Ot{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,r){for(let l=0;l<r.length;l++)if(Ot.patternMatchVariance(s,r[l],cn.MAX_INDIVIDUAL_VARIANCE)<cn.MAX_AVG_VARIANCE)return l;throw new H}static count(s){return Ue.sum(new Int32Array(s))}static increment(s,r){let l=0,c=r[0];for(let u=1;u<s.length;u++)r[u]>c&&(c=r[u],l=u);s[l]++}static decrement(s,r){let l=0,c=r[0];for(let u=1;u<s.length;u++)r[u]<c&&(c=r[u],l=u);s[l]--}static isFinderPattern(s){let r=s[0]+s[1],l=r+s[2]+s[3],c=r/l;if(c>=cn.MIN_FINDER_PATTERN_RATIO&&c<=cn.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let f of s)f>h&&(h=f),f<u&&(u=f);return h<10*u}return!1}}cn.MAX_AVG_VARIANCE=.2,cn.MAX_INDIVIDUAL_VARIANCE=.45,cn.MIN_FINDER_PATTERN_RATIO=9.5/12,cn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Nr{constructor(s,r){this.value=s,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof Nr))return!1;const r=s;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class wl{constructor(s,r,l,c,u){this.value=s,this.startEnd=r,this.value=s,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new ge(l,u)),this.resultPoints.push(new ge(c,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof wl))return!1;const r=s;return this.value===r.value}hashCode(){return this.value}}class bi{constructor(){}static getRSSvalue(s,r,l){let c=0;for(let w of s)c+=w;let u=0,h=0,f=s.length;for(let w=0;w<f-1;w++){let v;for(v=1,h|=1<<w;v<s[w];v++,h&=~(1<<w)){let E=bi.combins(c-v-1,f-w-2);if(l&&h===0&&c-v-(f-w-1)>=f-w-1&&(E-=bi.combins(c-v-(f-w),f-w-2)),f-w-1>1){let R=0;for(let I=c-v-(f-w-2);I>r;I--)R+=bi.combins(c-v-I-1,f-w-3);E-=R*(f-1-w)}else c-v>r&&E--;u+=E}c-=v}return u}static combins(s,r){let l,c;s-r>r?(c=r,l=s-r):(c=s-r,l=r);let u=1,h=1;for(let f=s;f>l;f--)u*=f,h<=c&&(u/=h,h++);for(;h<=c;)u/=h,h++;return u}}class qx{static buildBitArray(s){let r=s.length*2-1;s[s.length-1].getRightChar()==null&&(r-=1);let l=12*r,c=new D(l),u=0,f=s[0].getRightChar().getValue();for(let w=11;w>=0;--w)f&1<<w&&c.set(u),u++;for(let w=1;w<s.length;++w){let v=s[w],E=v.getLeftChar().getValue();for(let R=11;R>=0;--R)E&1<<R&&c.set(u),u++;if(v.getRightChar()!=null){let R=v.getRightChar().getValue();for(let I=11;I>=0;--I)R&1<<I&&c.set(u),u++}}return c}}class Ys{constructor(s,r){r?this.decodedInformation=null:(this.finished=s,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Cu{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class An extends Cu{constructor(s,r){super(s),this.value=r}getValue(){return this.value}isFNC1(){return this.value===An.FNC1}}An.FNC1="$";class Qs extends Cu{constructor(s,r,l){super(s),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Xn extends Cu{constructor(s,r,l){if(super(s),r<0||r>10||l<0||l>10)throw new z;this.firstDigit=r,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Xn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Xn.FNC1}isAnyFNC1(){return this.firstDigit===Xn.FNC1||this.secondDigit===Xn.FNC1}}Xn.FNC1=10;class he{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new H;let r=s.substring(0,2);for(let u of he.TWO_DIGIT_DATA_LENGTH)if(u[0]===r)return u[1]===he.VARIABLE_LENGTH?he.processVariableAI(2,u[2],s):he.processFixedAI(2,u[1],s);if(s.length<3)throw new H;let l=s.substring(0,3);for(let u of he.THREE_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===he.VARIABLE_LENGTH?he.processVariableAI(3,u[2],s):he.processFixedAI(3,u[1],s);for(let u of he.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===he.VARIABLE_LENGTH?he.processVariableAI(4,u[2],s):he.processFixedAI(4,u[1],s);if(s.length<4)throw new H;let c=s.substring(0,4);for(let u of he.FOUR_DIGIT_DATA_LENGTH)if(u[0]===c)return u[1]===he.VARIABLE_LENGTH?he.processVariableAI(4,u[2],s):he.processFixedAI(4,u[1],s);throw new H}static processFixedAI(s,r,l){if(l.length<s)throw new H;let c=l.substring(0,s);if(l.length<s+r)throw new H;let u=l.substring(s,s+r),h=l.substring(s+r),f="("+c+")"+u,w=he.parseFieldsInGeneralPurpose(h);return w==null?f:f+w}static processVariableAI(s,r,l){let c=l.substring(0,s),u;l.length<s+r?u=l.length:u=s+r;let h=l.substring(s,u),f=l.substring(u),w="("+c+")"+h,v=he.parseFieldsInGeneralPurpose(f);return v==null?w:w+v}}he.VARIABLE_LENGTH=[],he.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",he.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",he.VARIABLE_LENGTH,20],["22",he.VARIABLE_LENGTH,29],["30",he.VARIABLE_LENGTH,8],["37",he.VARIABLE_LENGTH,8],["90",he.VARIABLE_LENGTH,30],["91",he.VARIABLE_LENGTH,30],["92",he.VARIABLE_LENGTH,30],["93",he.VARIABLE_LENGTH,30],["94",he.VARIABLE_LENGTH,30],["95",he.VARIABLE_LENGTH,30],["96",he.VARIABLE_LENGTH,30],["97",he.VARIABLE_LENGTH,3],["98",he.VARIABLE_LENGTH,30],["99",he.VARIABLE_LENGTH,30]],he.THREE_DIGIT_DATA_LENGTH=[["240",he.VARIABLE_LENGTH,30],["241",he.VARIABLE_LENGTH,30],["242",he.VARIABLE_LENGTH,6],["250",he.VARIABLE_LENGTH,30],["251",he.VARIABLE_LENGTH,30],["253",he.VARIABLE_LENGTH,17],["254",he.VARIABLE_LENGTH,20],["400",he.VARIABLE_LENGTH,30],["401",he.VARIABLE_LENGTH,30],["402",17],["403",he.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",he.VARIABLE_LENGTH,20],["421",he.VARIABLE_LENGTH,15],["422",3],["423",he.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],he.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",he.VARIABLE_LENGTH,15],["391",he.VARIABLE_LENGTH,18],["392",he.VARIABLE_LENGTH,15],["393",he.VARIABLE_LENGTH,18],["703",he.VARIABLE_LENGTH,30]],he.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",he.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",he.VARIABLE_LENGTH,20],["8003",he.VARIABLE_LENGTH,30],["8004",he.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",he.VARIABLE_LENGTH,30],["8008",he.VARIABLE_LENGTH,12],["8018",18],["8020",he.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",he.VARIABLE_LENGTH,70],["8200",he.VARIABLE_LENGTH,70]];class Mr{constructor(s){this.buffer=new $,this.information=s}decodeAllCodes(s,r){let l=r,c=null;do{let u=this.decodeGeneralPurposeField(l,c),h=he.parseFieldsInGeneralPurpose(u.getNewString());if(h!=null&&s.append(h),u.isRemaining()?c=""+u.getRemainingValue():c=null,l===u.getNewPosition())break;l=u.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let r=s;r<s+3;++r)if(this.information.get(r))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(s,4);return u===0?new Xn(this.information.getSize(),Xn.FNC1,Xn.FNC1):new Xn(this.information.getSize(),u-1,Xn.FNC1)}let r=this.extractNumericValueFromBitArray(s,7),l=(r-8)/11,c=(r-8)%11;return new Xn(s+7,l,c)}extractNumericValueFromBitArray(s,r){return Mr.extractNumericValueFromBitArray(this.information,s,r)}static extractNumericValueFromBitArray(s,r,l){let c=0;for(let u=0;u<l;++u)s.get(r+u)&&(c|=1<<l-u-1);return c}decodeGeneralPurposeField(s,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(s);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new Qs(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new Qs(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,r;do{let l=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),s=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),s=r.isFinished()):(r=this.parseNumericBlock(),s=r.isFinished()),!(l!==this.current.getPosition())&&!s)break}while(!s);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let r;return s.isSecondDigitFNC1()?r=new Qs(this.current.getPosition(),this.buffer.toString()):r=new Qs(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new Ys(!0,r)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let r=new Qs(this.current.getPosition(),this.buffer.toString());return new Ys(!0,r)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ys(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let r=new Qs(this.current.getPosition(),this.buffer.toString());return new Ys(!0,r)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ys(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let r=new Qs(this.current.getPosition(),this.buffer.toString());return new Ys(!0,r)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ys(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(s,5);if(r>=5&&r<16)return!0;if(s+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<116)return!0;if(s+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,8);return c>=232&&c<253}decodeIsoIec646(s){let r=this.extractNumericValueFromBitArray(s,5);if(r===15)return new An(s+5,An.FNC1);if(r>=5&&r<15)return new An(s+5,"0"+(r-5));let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<90)return new An(s+7,""+(l+1));if(l>=90&&l<116)return new An(s+7,""+(l+7));let c=this.extractNumericValueFromBitArray(s,8),u;switch(c){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new z}return new An(s+8,u)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(s,5);if(r>=5&&r<16)return!0;if(s+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,6);return l>=16&&l<63}decodeAlphanumeric(s){let r=this.extractNumericValueFromBitArray(s,5);if(r===15)return new An(s+5,An.FNC1);if(r>=5&&r<15)return new An(s+5,"0"+(r-5));let l=this.extractNumericValueFromBitArray(s,6);if(l>=32&&l<58)return new An(s+6,""+(l+33));let c;switch(l){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new yi("Decoding invalid alphanumeric value: "+l)}return new An(s+6,c)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let r=0;r<5&&r+s<this.information.getSize();++r)if(r===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+r))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let r=s;r<s+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let r=0;r<4&&r+s<this.information.getSize();++r)if(this.information.get(s+r))return!1;return!0}}class _u{constructor(s){this.information=s,this.generalDecoder=new Mr(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Sn extends _u{constructor(s){super(s)}encodeCompressedGtin(s,r){s.append("(01)");let l=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,r,l)}encodeCompressedGtinWithoutAI(s,r,l){for(let c=0;c<4;++c){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*c,10);u/100===0&&s.append("0"),u/10===0&&s.append("0"),s.append(u)}Sn.appendCheckDigit(s,l)}static appendCheckDigit(s,r){let l=0;for(let c=0;c<13;c++){let u=s.charAt(c+r).charCodeAt(0)-48;l+=c&1?u:3*u}l=10-l%10,l===10&&(l=0),s.append(l)}}Sn.GTIN_SIZE=40;class kr extends Sn{constructor(s){super(s)}parseInformation(){let s=new $;s.append("(01)");let r=s.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(kr.HEADER_SIZE,4);return s.append(l),this.encodeCompressedGtinWithoutAI(s,kr.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(s,kr.HEADER_SIZE+44)}}kr.HEADER_SIZE=4;class vl extends _u{constructor(s){super(s)}parseInformation(){let s=new $;return this.getGeneralDecoder().decodeAllCodes(s,vl.HEADER_SIZE)}}vl.HEADER_SIZE=5;class yl extends Sn{constructor(s){super(s)}encodeCompressedWeight(s,r,l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(r,l);this.addWeightCode(s,c);let u=this.checkWeight(c),h=1e5;for(let f=0;f<5;++f)u/h===0&&s.append("0"),h/=10;s.append(u)}}class Ei extends yl{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=Ei.HEADER_SIZE+yl.GTIN_SIZE+Ei.WEIGHT_SIZE)throw new H;let s=new $;return this.encodeCompressedGtin(s,Ei.HEADER_SIZE),this.encodeCompressedWeight(s,Ei.HEADER_SIZE+yl.GTIN_SIZE,Ei.WEIGHT_SIZE),s.toString()}}Ei.HEADER_SIZE=5,Ei.WEIGHT_SIZE=15;class Xx extends Ei{constructor(s){super(s)}addWeightCode(s,r){s.append("(3103)")}checkWeight(s){return s}}class Wx extends Ei{constructor(s){super(s)}addWeightCode(s,r){r<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class Ai extends Sn{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Ai.HEADER_SIZE+Sn.GTIN_SIZE)throw new H;let s=new $;this.encodeCompressedGtin(s,Ai.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Ai.HEADER_SIZE+Sn.GTIN_SIZE,Ai.LAST_DIGIT_SIZE);s.append("(392"),s.append(r),s.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(Ai.HEADER_SIZE+Sn.GTIN_SIZE+Ai.LAST_DIGIT_SIZE,null);return s.append(l.getNewString()),s.toString()}}Ai.HEADER_SIZE=8,Ai.LAST_DIGIT_SIZE=2;class xn extends Sn{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<xn.HEADER_SIZE+Sn.GTIN_SIZE)throw new H;let s=new $;this.encodeCompressedGtin(s,xn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(xn.HEADER_SIZE+Sn.GTIN_SIZE,xn.LAST_DIGIT_SIZE);s.append("(393"),s.append(r),s.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(xn.HEADER_SIZE+Sn.GTIN_SIZE+xn.LAST_DIGIT_SIZE,xn.FIRST_THREE_DIGITS_SIZE);l/100==0&&s.append("0"),l/10==0&&s.append("0"),s.append(l);let c=this.getGeneralDecoder().decodeGeneralPurposeField(xn.HEADER_SIZE+Sn.GTIN_SIZE+xn.LAST_DIGIT_SIZE+xn.FIRST_THREE_DIGITS_SIZE,null);return s.append(c.getNewString()),s.toString()}}xn.HEADER_SIZE=8,xn.LAST_DIGIT_SIZE=2,xn.FIRST_THREE_DIGITS_SIZE=10;class dt extends yl{constructor(s,r,l){super(s),this.dateCode=l,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=dt.HEADER_SIZE+dt.GTIN_SIZE+dt.WEIGHT_SIZE+dt.DATE_SIZE)throw new H;let s=new $;return this.encodeCompressedGtin(s,dt.HEADER_SIZE),this.encodeCompressedWeight(s,dt.HEADER_SIZE+dt.GTIN_SIZE,dt.WEIGHT_SIZE),this.encodeCompressedDate(s,dt.HEADER_SIZE+dt.GTIN_SIZE+dt.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,r){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r,dt.DATE_SIZE);if(l==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let c=l%32;l/=32;let u=l%12+1;l/=12;let h=l;h/10==0&&s.append("0"),s.append(h),u/10==0&&s.append("0"),s.append(u),c/10==0&&s.append("0"),s.append(c)}addWeightCode(s,r){s.append("("),s.append(this.firstAIdigits),s.append(r/1e5),s.append(")")}checkWeight(s){return s%1e5}}dt.HEADER_SIZE=8,dt.WEIGHT_SIZE=20,dt.DATE_SIZE=16;function d0(O){try{if(O.get(1))return new kr(O);if(!O.get(2))return new vl(O);switch(Mr.extractNumericValueFromBitArray(O,1,4)){case 4:return new Xx(O);case 5:return new Wx(O)}switch(Mr.extractNumericValueFromBitArray(O,1,5)){case 12:return new Ai(O);case 13:return new xn(O)}switch(Mr.extractNumericValueFromBitArray(O,1,7)){case 56:return new dt(O,"310","11");case 57:return new dt(O,"320","11");case 58:return new dt(O,"310","13");case 59:return new dt(O,"320","13");case 60:return new dt(O,"310","15");case 61:return new dt(O,"320","15");case 62:return new dt(O,"310","17");case 63:return new dt(O,"320","17")}}catch(s){throw console.log(s),new yi("unknown decoder: "+O)}}class cs{constructor(s,r,l,c){this.leftchar=s,this.rightchar=r,this.finderpattern=l,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,r){return s instanceof cs?cs.equalsOrNull(s.leftchar,r.leftchar)&&cs.equalsOrNull(s.rightchar,r.rightchar)&&cs.equalsOrNull(s.finderpattern,r.finderpattern):!1}static equalsOrNull(s,r){return s===null?r===null:cs.equals(s,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Tu{constructor(s,r,l){this.pairs=s,this.rowNumber=r,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,r){return s instanceof Tu?this.checkEqualitity(s,r)&&s.wasReversed===r.wasReversed:!1}checkEqualitity(s,r){if(!s||!r)return;let l;return s.forEach((c,u)=>{r.forEach(h=>{c.getLeftChar().getValue()===h.getLeftChar().getValue()&&c.getRightChar().getValue()===h.getRightChar().getValue()&&c.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(l=!0)})}),l}}class te extends cn{constructor(s){super(...arguments),this.pairs=new Array(te.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,r,l){this.pairs.length=0,this.startFromEven=!1;try{return te.constructResult(this.decodeRow2pairs(s,r))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,te.constructResult(this.decodeRow2pairs(s,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,r){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,s))}catch(u){if(u instanceof H){if(!this.pairs.length)throw new H;l=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(s,!1),c){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new H}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return s&&(this.rows=this.rows.reverse()),r}checkRows(s,r){for(let l=r;l<this.rows.length;l++){let c=this.rows[l];this.pairs.length=0;for(let h of s)this.pairs.push(h.getPairs());if(this.pairs.push(c.getPairs()),!te.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(s);u.push(c);try{return this.checkRows(u,l+1)}catch(h){this.verbose&&console.log(h)}}throw new H}static isValidSequence(s){for(let r of te.FINDER_PATTERN_SEQUENCES){if(s.length>r.length)continue;let l=!0;for(let c=0;c<s.length;c++)if(s[c].getFinderPattern().getValue()!=r[c]){l=!1;break}if(l)return!0}return!1}storeRow(s,r){let l=0,c=!1,u=!1;for(;l<this.rows.length;){let h=this.rows[l];if(h.getRowNumber()>s){u=h.isEquivalent(this.pairs);break}c=h.isEquivalent(this.pairs),l++}u||c||te.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new Tu(this.pairs,s,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,r){for(let l of r)if(l.getPairs().length!==s.length){for(let c of l.getPairs())for(let u of s)if(cs.equals(c,u))break}}static isPartialRow(s,r){for(let l of r){let c=!0;for(let u of s){let h=!1;for(let f of l.getPairs())if(u.equals(f)){h=!0;break}if(!h){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(s){let r=qx.buildBitArray(s),c=d0(r).parseInformation(),u=s[0].getFinderPattern().getResultPoints(),h=s[s.length-1].getFinderPattern().getResultPoints(),f=[u[0],u[1],h[0],h[1]];return new ft(c,null,null,f,ye.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),r=s.getLeftChar(),l=s.getRightChar();if(l==null)return!1;let c=l.getChecksumPortion(),u=2;for(let f=1;f<this.pairs.size();++f){let w=this.pairs.get(f);c+=w.getLeftChar().getChecksumPortion(),u++;let v=w.getRightChar();v!=null&&(c+=v.getChecksumPortion(),u++)}return c%=211,211*(u-4)+c==r.getValue()}static getNextSecondBar(s,r){let l;return s.get(r)?(l=s.getNextUnset(r),l=s.getNextSet(l)):(l=s.getNextSet(r),l=s.getNextUnset(l)),l}retrieveNextPair(s,r,l){let c=r.length%2==0;this.startFromEven&&(c=!c);let u,h=!0,f=-1;do this.findNextPair(s,r,f),u=this.parseFoundFinderPattern(s,l,c),u==null?f=te.getNextSecondBar(s,this.startEnd[0]):h=!1;while(h);let w=this.decodeDataCharacter(s,u,c,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new H;let v;try{v=this.decodeDataCharacter(s,u,c,!1)}catch(E){v=null,this.verbose&&console.log(E)}return new cs(w,v,u,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,r,l){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=s.getSize(),h;l>=0?h=l:this.isEmptyPair(r)?h=0:h=r[r.length-1].getFinderPattern().getStartEnd()[1];let f=r.length%2!=0;this.startFromEven&&(f=!f);let w=!1;for(;h<u&&(w=!s.get(h),!!w);)h++;let v=0,E=h;for(let R=h;R<u;R++)if(s.get(R)!=w)c[v]++;else{if(v==3){if(f&&te.reverseCounters(c),te.isFinderPattern(c)){this.startEnd[0]=E,this.startEnd[1]=R;return}f&&te.reverseCounters(c),E+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,v--}else v++;c[v]=1,w=!w}throw new H}static reverseCounters(s){let r=s.length;for(let l=0;l<r/2;++l){let c=s[l];s[l]=s[r-l-1],s[r-l-1]=c}}parseFoundFinderPattern(s,r,l){let c,u,h;if(l){let v=this.startEnd[0]-1;for(;v>=0&&!s.get(v);)v--;v++,c=this.startEnd[0]-v,u=v,h=this.startEnd[1]}else u=this.startEnd[0],h=s.getNextUnset(this.startEnd[1]+1),c=h-this.startEnd[1];let f=this.getDecodeFinderCounters();M.arraycopy(f,0,f,1,f.length-1),f[0]=c;let w;try{w=this.parseFinderValue(f,te.FINDER_PATTERNS)}catch(v){return null}return new wl(w,[u,h],u,h,r)}decodeDataCharacter(s,r,l,c){let u=this.getDataCharacterCounters();for(let et=0;et<u.length;et++)u[et]=0;if(c)te.recordPatternInReverse(s,r.getStartEnd()[0],u);else{te.recordPattern(s,r.getStartEnd()[1],u);for(let et=0,nn=u.length-1;et<nn;et++,nn--){let Dn=u[et];u[et]=u[nn],u[nn]=Dn}}let h=17,f=Ue.sum(new Int32Array(u))/h,w=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(f-w)/w>.3)throw new H;let v=this.getOddCounts(),E=this.getEvenCounts(),R=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let et=0;et<u.length;et++){let nn=1*u[et]/f,Dn=nn+.5;if(Dn<1){if(nn<.3)throw new H;Dn=1}else if(Dn>8){if(nn>8.7)throw new H;Dn=8}let zr=et/2;et&1?(E[zr]=Dn,I[zr]=nn-Dn):(v[zr]=Dn,R[zr]=nn-Dn)}this.adjustOddEvenCounts(h);let L=4*r.getValue()+(l?0:2)+(c?0:1)-1,U=0,F=0;for(let et=v.length-1;et>=0;et--){if(te.isNotA1left(r,l,c)){let nn=te.WEIGHTS[L][2*et];F+=v[et]*nn}U+=v[et]}let X=0;for(let et=E.length-1;et>=0;et--)if(te.isNotA1left(r,l,c)){let nn=te.WEIGHTS[L][2*et+1];X+=E[et]*nn}let K=F+X;if(U&1||U>13||U<4)throw new H;let ae=(13-U)/2,le=te.SYMBOL_WIDEST[ae],ne=9-le,Be=bi.getRSSvalue(v,le,!0),Te=bi.getRSSvalue(E,ne,!1),_n=te.EVEN_TOTAL_SUBSET[ae],hi=te.GSUM[ae],Tn=Be*_n+Te+hi;return new Nr(Tn,K)}static isNotA1left(s,r,l){return!(s.getValue()==0&&r&&l)}adjustOddEvenCounts(s){let r=Ue.sum(new Int32Array(this.getOddCounts())),l=Ue.sum(new Int32Array(this.getEvenCounts())),c=!1,u=!1;r>13?u=!0:r<4&&(c=!0);let h=!1,f=!1;l>13?f=!0:l<4&&(h=!0);let w=r+l-s,v=(r&1)==1,E=(l&1)==0;if(w==1)if(v){if(E)throw new H;u=!0}else{if(!E)throw new H;f=!0}else if(w==-1)if(v){if(E)throw new H;c=!0}else{if(!E)throw new H;h=!0}else if(w==0){if(v){if(!E)throw new H;r<l?(c=!0,f=!0):(u=!0,h=!0)}else if(E)throw new H}else throw new H;if(c){if(u)throw new H;te.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&te.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(f)throw new H;te.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&te.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}te.SYMBOL_WIDEST=[7,5,4,3,1],te.EVEN_TOTAL_SUBSET=[4,20,52,104,204],te.GSUM=[0,348,1388,2948,3988],te.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],te.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],te.FINDER_PAT_A=0,te.FINDER_PAT_B=1,te.FINDER_PAT_C=2,te.FINDER_PAT_D=3,te.FINDER_PAT_E=4,te.FINDER_PAT_F=5,te.FINDER_PATTERN_SEQUENCES=[[te.FINDER_PAT_A,te.FINDER_PAT_A],[te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B],[te.FINDER_PAT_A,te.FINDER_PAT_C,te.FINDER_PAT_B,te.FINDER_PAT_D],[te.FINDER_PAT_A,te.FINDER_PAT_E,te.FINDER_PAT_B,te.FINDER_PAT_D,te.FINDER_PAT_C],[te.FINDER_PAT_A,te.FINDER_PAT_E,te.FINDER_PAT_B,te.FINDER_PAT_D,te.FINDER_PAT_D,te.FINDER_PAT_F],[te.FINDER_PAT_A,te.FINDER_PAT_E,te.FINDER_PAT_B,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_F,te.FINDER_PAT_F],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_D],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_E],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_F,te.FINDER_PAT_F],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_E,te.FINDER_PAT_F,te.FINDER_PAT_F]],te.MAX_PAIRS=11;class Yx extends Nr{constructor(s,r,l){super(s,r),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class yt extends cn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,r,l){const c=this.decodePair(r,!1,s,l);yt.addOrTally(this.possibleLeftPairs,c),r.reverse();let u=this.decodePair(r,!0,s,l);yt.addOrTally(this.possibleRightPairs,u),r.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&yt.checkChecksum(h,f))return yt.constructResult(h,f)}throw new H}static addOrTally(s,r){if(r==null)return;let l=!1;for(let c of s)if(c.getValue()===r.getValue()){c.incrementCount(),l=!0;break}l||s.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,r){let l=4537077*s.getValue()+r.getValue(),c=new String(l).toString(),u=new $;for(let v=13-c.length;v>0;v--)u.append("0");u.append(c);let h=0;for(let v=0;v<13;v++){let E=u.charAt(v).charCodeAt(0)-48;h+=v&1?E:3*E}h=10-h%10,h===10&&(h=0),u.append(h.toString());let f=s.getFinderPattern().getResultPoints(),w=r.getFinderPattern().getResultPoints();return new ft(u.toString(),null,0,[f[0],f[1],w[0],w[1]],ye.RSS_14,new Date().getTime())}static checkChecksum(s,r){let l=(s.getChecksumPortion()+16*r.getChecksumPortion())%79,c=9*s.getFinderPattern().getValue()+r.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,l===c}decodePair(s,r,l,c){try{let u=this.findFinderPattern(s,r),h=this.parseFoundFinderPattern(s,l,r,u),f=c==null?null:c.get(G.NEED_RESULT_POINT_CALLBACK);if(f!=null){let E=(u[0]+u[1])/2;r&&(E=s.getSize()-1-E),f.foundPossibleResultPoint(new ge(E,l))}let w=this.decodeDataCharacter(s,h,!0),v=this.decodeDataCharacter(s,h,!1);return new Yx(1597*w.getValue()+v.getValue(),w.getChecksumPortion()+4*v.getChecksumPortion(),h)}catch(u){return null}}decodeDataCharacter(s,r,l){let c=this.getDataCharacterCounters();for(let X=0;X<c.length;X++)c[X]=0;if(l)Ot.recordPatternInReverse(s,r.getStartEnd()[0],c);else{Ot.recordPattern(s,r.getStartEnd()[1]+1,c);for(let X=0,K=c.length-1;X<K;X++,K--){let ae=c[X];c[X]=c[K],c[K]=ae}}let u=l?16:15,h=Ue.sum(new Int32Array(c))/u,f=this.getOddCounts(),w=this.getEvenCounts(),v=this.getOddRoundingErrors(),E=this.getEvenRoundingErrors();for(let X=0;X<c.length;X++){let K=c[X]/h,ae=Math.floor(K+.5);ae<1?ae=1:ae>8&&(ae=8);let le=Math.floor(X/2);X&1?(w[le]=ae,E[le]=K-ae):(f[le]=ae,v[le]=K-ae)}this.adjustOddEvenCounts(l,u);let R=0,I=0;for(let X=f.length-1;X>=0;X--)I*=9,I+=f[X],R+=f[X];let L=0,U=0;for(let X=w.length-1;X>=0;X--)L*=9,L+=w[X],U+=w[X];let F=I+3*L;if(l){if(R&1||R>12||R<4)throw new H;let X=(12-R)/2,K=yt.OUTSIDE_ODD_WIDEST[X],ae=9-K,le=bi.getRSSvalue(f,K,!1),ne=bi.getRSSvalue(w,ae,!0),Be=yt.OUTSIDE_EVEN_TOTAL_SUBSET[X],Te=yt.OUTSIDE_GSUM[X];return new Nr(le*Be+ne+Te,F)}else{if(U&1||U>10||U<4)throw new H;let X=(10-U)/2,K=yt.INSIDE_ODD_WIDEST[X],ae=9-K,le=bi.getRSSvalue(f,K,!0),ne=bi.getRSSvalue(w,ae,!1),Be=yt.INSIDE_ODD_TOTAL_SUBSET[X],Te=yt.INSIDE_GSUM[X];return new Nr(ne*Be+le+Te,F)}}findFinderPattern(s,r){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=s.getSize(),u=!1,h=0;for(;h<c&&(u=!s.get(h),r!==u);)h++;let f=0,w=h;for(let v=h;v<c;v++)if(s.get(v)!==u)l[f]++;else{if(f===3){if(cn.isFinderPattern(l))return[w,v];w+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,f--}else f++;l[f]=1,u=!u}throw new H}parseFoundFinderPattern(s,r,l,c){let u=s.get(c[0]),h=c[0]-1;for(;h>=0&&u!==s.get(h);)h--;h++;const f=c[0]-h,w=this.getDecodeFinderCounters(),v=new Int32Array(w.length);M.arraycopy(w,0,v,1,w.length-1),v[0]=f;const E=this.parseFinderValue(v,yt.FINDER_PATTERNS);let R=h,I=c[1];return l&&(R=s.getSize()-1-R,I=s.getSize()-1-I),new wl(E,[h,c[1]],R,I,r)}adjustOddEvenCounts(s,r){let l=Ue.sum(new Int32Array(this.getOddCounts())),c=Ue.sum(new Int32Array(this.getEvenCounts())),u=!1,h=!1,f=!1,w=!1;s?(l>12?h=!0:l<4&&(u=!0),c>12?w=!0:c<4&&(f=!0)):(l>11?h=!0:l<5&&(u=!0),c>10?w=!0:c<4&&(f=!0));let v=l+c-r,E=(l&1)===(s?1:0),R=(c&1)===1;if(v===1)if(E){if(R)throw new H;h=!0}else{if(!R)throw new H;w=!0}else if(v===-1)if(E){if(R)throw new H;u=!0}else{if(!R)throw new H;f=!0}else if(v===0){if(E){if(!R)throw new H;l<c?(u=!0,w=!0):(h=!0,f=!0)}else if(R)throw new H}else throw new H;if(u){if(h)throw new H;cn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&cn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(w)throw new H;cn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&cn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}yt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],yt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],yt.OUTSIDE_GSUM=[0,161,961,2015,2715],yt.INSIDE_GSUM=[0,336,1036,1516],yt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],yt.INSIDE_ODD_WIDEST=[2,4,6,8],yt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class jr extends Ot{constructor(s,r){super(),this.readers=[],this.verbose=r===!0;const l=s?s.get(G.POSSIBLE_FORMATS):null,c=s&&s.get(G.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(ye.EAN_13)||l.includes(ye.UPC_A)||l.includes(ye.EAN_8)||l.includes(ye.UPC_E))&&this.readers.push(new Su(s)),l.includes(ye.CODE_39)&&this.readers.push(new Bt(c)),l.includes(ye.CODE_128)&&this.readers.push(new ue),l.includes(ye.ITF)&&this.readers.push(new $e),l.includes(ye.RSS_14)&&this.readers.push(new yt),l.includes(ye.RSS_EXPANDED)&&this.readers.push(new te(this.verbose))):(this.readers.push(new Su(s)),this.readers.push(new Bt),this.readers.push(new Su(s)),this.readers.push(new ue),this.readers.push(new $e),this.readers.push(new yt),this.readers.push(new te(this.verbose)))}decodeRow(s,r,l){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(s,r,l)}catch(u){}throw new H}reset(){this.readers.forEach(s=>s.reset())}}class Qx extends ci{constructor(s=500,r){super(new jr(r),s,r)}}class Ye{constructor(s,r,l){this.ecCodewords=s,this.ecBlocks=[r],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class We{constructor(s,r){this.count=s,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Le{constructor(s,r,l,c,u,h){this.versionNumber=s,this.symbolSizeRows=r,this.symbolSizeColumns=l,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=u,this.ecBlocks=h;let f=0;const w=h.getECCodewords(),v=h.getECBlocks();for(let E of v)f+=E.getCount()*(E.getDataCodewords()+w);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,r){if(s&1||r&1)throw new z;for(let l of Le.VERSIONS)if(l.symbolSizeRows===s&&l.symbolSizeColumns===r)return l;throw new z}toString(){return""+this.versionNumber}static buildVersions(){return[new Le(1,10,10,8,8,new Ye(5,new We(1,3))),new Le(2,12,12,10,10,new Ye(7,new We(1,5))),new Le(3,14,14,12,12,new Ye(10,new We(1,8))),new Le(4,16,16,14,14,new Ye(12,new We(1,12))),new Le(5,18,18,16,16,new Ye(14,new We(1,18))),new Le(6,20,20,18,18,new Ye(18,new We(1,22))),new Le(7,22,22,20,20,new Ye(20,new We(1,30))),new Le(8,24,24,22,22,new Ye(24,new We(1,36))),new Le(9,26,26,24,24,new Ye(28,new We(1,44))),new Le(10,32,32,14,14,new Ye(36,new We(1,62))),new Le(11,36,36,16,16,new Ye(42,new We(1,86))),new Le(12,40,40,18,18,new Ye(48,new We(1,114))),new Le(13,44,44,20,20,new Ye(56,new We(1,144))),new Le(14,48,48,22,22,new Ye(68,new We(1,174))),new Le(15,52,52,24,24,new Ye(42,new We(2,102))),new Le(16,64,64,14,14,new Ye(56,new We(2,140))),new Le(17,72,72,16,16,new Ye(36,new We(4,92))),new Le(18,80,80,18,18,new Ye(48,new We(4,114))),new Le(19,88,88,20,20,new Ye(56,new We(4,144))),new Le(20,96,96,22,22,new Ye(68,new We(4,174))),new Le(21,104,104,24,24,new Ye(56,new We(6,136))),new Le(22,120,120,18,18,new Ye(68,new We(6,175))),new Le(23,132,132,20,20,new Ye(62,new We(8,163))),new Le(24,144,144,22,22,new Ye(62,new We(8,156),new We(2,155))),new Le(25,8,18,6,16,new Ye(7,new We(1,5))),new Le(26,8,32,6,14,new Ye(11,new We(1,10))),new Le(27,12,26,10,24,new Ye(14,new We(1,16))),new Le(28,12,36,10,16,new Ye(18,new We(1,22))),new Le(29,16,36,14,16,new Ye(24,new We(1,32))),new Le(30,16,48,14,22,new Ye(28,new We(1,49)))]}}Le.VERSIONS=Le.buildVersions();class Ou{constructor(s){const r=s.getHeight();if(r<8||r>144||r&1)throw new z;this.version=Ou.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new oe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const r=s.getHeight(),l=s.getWidth();return Le.getVersionForDimensions(r,l)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let r=0,l=4,c=0;const u=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth();let f=!1,w=!1,v=!1,E=!1;do if(l===u&&c===0&&!f)s[r++]=this.readCorner1(u,h)&255,l-=2,c+=2,f=!0;else if(l===u-2&&c===0&&h&3&&!w)s[r++]=this.readCorner2(u,h)&255,l-=2,c+=2,w=!0;else if(l===u+4&&c===2&&!(h&7)&&!v)s[r++]=this.readCorner3(u,h)&255,l-=2,c+=2,v=!0;else if(l===u-2&&c===0&&(h&7)===4&&!E)s[r++]=this.readCorner4(u,h)&255,l-=2,c+=2,E=!0;else{do l<u&&c>=0&&!this.readMappingMatrix.get(c,l)&&(s[r++]=this.readUtah(l,c,u,h)&255),l-=2,c+=2;while(l>=0&&c<h);l+=1,c+=3;do l>=0&&c<h&&!this.readMappingMatrix.get(c,l)&&(s[r++]=this.readUtah(l,c,u,h)&255),l+=2,c-=2;while(l<u&&c>=0);l+=3,c+=1}while(l<u||c<h);if(r!==this.version.getTotalCodewords())throw new z;return s}readModule(s,r,l,c){return s<0&&(s+=l,r+=4-(l+4&7)),r<0&&(r+=c,s+=4-(c+4&7)),this.readMappingMatrix.set(r,s),this.mappingBitMatrix.get(r,s)}readUtah(s,r,l,c){let u=0;return this.readModule(s-2,r-2,l,c)&&(u|=1),u<<=1,this.readModule(s-2,r-1,l,c)&&(u|=1),u<<=1,this.readModule(s-1,r-2,l,c)&&(u|=1),u<<=1,this.readModule(s-1,r-1,l,c)&&(u|=1),u<<=1,this.readModule(s-1,r,l,c)&&(u|=1),u<<=1,this.readModule(s,r-2,l,c)&&(u|=1),u<<=1,this.readModule(s,r-1,l,c)&&(u|=1),u<<=1,this.readModule(s,r,l,c)&&(u|=1),u}readCorner1(s,r){let l=0;return this.readModule(s-1,0,s,r)&&(l|=1),l<<=1,this.readModule(s-1,1,s,r)&&(l|=1),l<<=1,this.readModule(s-1,2,s,r)&&(l|=1),l<<=1,this.readModule(0,r-2,s,r)&&(l|=1),l<<=1,this.readModule(0,r-1,s,r)&&(l|=1),l<<=1,this.readModule(1,r-1,s,r)&&(l|=1),l<<=1,this.readModule(2,r-1,s,r)&&(l|=1),l<<=1,this.readModule(3,r-1,s,r)&&(l|=1),l}readCorner2(s,r){let l=0;return this.readModule(s-3,0,s,r)&&(l|=1),l<<=1,this.readModule(s-2,0,s,r)&&(l|=1),l<<=1,this.readModule(s-1,0,s,r)&&(l|=1),l<<=1,this.readModule(0,r-4,s,r)&&(l|=1),l<<=1,this.readModule(0,r-3,s,r)&&(l|=1),l<<=1,this.readModule(0,r-2,s,r)&&(l|=1),l<<=1,this.readModule(0,r-1,s,r)&&(l|=1),l<<=1,this.readModule(1,r-1,s,r)&&(l|=1),l}readCorner3(s,r){let l=0;return this.readModule(s-1,0,s,r)&&(l|=1),l<<=1,this.readModule(s-1,r-1,s,r)&&(l|=1),l<<=1,this.readModule(0,r-3,s,r)&&(l|=1),l<<=1,this.readModule(0,r-2,s,r)&&(l|=1),l<<=1,this.readModule(0,r-1,s,r)&&(l|=1),l<<=1,this.readModule(1,r-3,s,r)&&(l|=1),l<<=1,this.readModule(1,r-2,s,r)&&(l|=1),l<<=1,this.readModule(1,r-1,s,r)&&(l|=1),l}readCorner4(s,r){let l=0;return this.readModule(s-3,0,s,r)&&(l|=1),l<<=1,this.readModule(s-2,0,s,r)&&(l|=1),l<<=1,this.readModule(s-1,0,s,r)&&(l|=1),l<<=1,this.readModule(0,r-2,s,r)&&(l|=1),l<<=1,this.readModule(0,r-1,s,r)&&(l|=1),l<<=1,this.readModule(1,r-1,s,r)&&(l|=1),l<<=1,this.readModule(2,r-1,s,r)&&(l|=1),l<<=1,this.readModule(3,r-1,s,r)&&(l|=1),l}extractDataRegion(s){const r=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(s.getHeight()!==r)throw new y("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),h=r/c|0,f=l/u|0,w=h*c,v=f*u,E=new oe(v,w);for(let R=0;R<h;++R){const I=R*c;for(let L=0;L<f;++L){const U=L*u;for(let F=0;F<c;++F){const X=R*(c+2)+1+F,K=I+F;for(let ae=0;ae<u;++ae){const le=L*(u+2)+1+ae;if(s.get(le,X)){const ne=U+ae;E.set(ne,K)}}}}}return E}}class Ru{constructor(s,r){this.numDataCodewords=s,this.codewords=r}static getDataBlocks(s,r){const l=r.getECBlocks();let c=0;const u=l.getECBlocks();for(let F of u)c+=F.getCount();const h=new Array(c);let f=0;for(let F of u)for(let X=0;X<F.getCount();X++){const K=F.getDataCodewords(),ae=l.getECCodewords()+K;h[f++]=new Ru(K,new Uint8Array(ae))}const v=h[0].codewords.length-l.getECCodewords(),E=v-1;let R=0;for(let F=0;F<E;F++)for(let X=0;X<f;X++)h[X].codewords[F]=s[R++];const I=r.getVersionNumber()===24,L=I?8:f;for(let F=0;F<L;F++)h[F].codewords[v-1]=s[R++];const U=h[0].codewords.length;for(let F=v;F<U;F++)for(let X=0;X<f;X++){const K=I?(X+8)%f:X,ae=I&&K>7?F-1:F;h[K].codewords[ae]=s[R++]}if(R!==s.length)throw new y;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Iu{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new y(""+s);let r=0,l=this.bitOffset,c=this.byteOffset;const u=this.bytes;if(l>0){const h=8-l,f=s<h?s:h,w=h-f,v=255>>8-f<<w;r=(u[c]&v)>>w,s-=f,l+=f,l===8&&(l=0,c++)}if(s>0){for(;s>=8;)r=r<<8|u[c]&255,c++,s-=8;if(s>0){const h=8-s,f=255>>h<<h;r=r<<s|(u[c]&f)>>h,l+=s}}return this.bitOffset=l,this.byteOffset=c,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Lt;(function(O){O[O.PAD_ENCODE=0]="PAD_ENCODE",O[O.ASCII_ENCODE=1]="ASCII_ENCODE",O[O.C40_ENCODE=2]="C40_ENCODE",O[O.TEXT_ENCODE=3]="TEXT_ENCODE",O[O.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",O[O.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",O[O.BASE256_ENCODE=6]="BASE256_ENCODE"})(Lt||(Lt={}));class us{static decode(s){const r=new Iu(s),l=new $,c=new $,u=new Array;let h=Lt.ASCII_ENCODE;do if(h===Lt.ASCII_ENCODE)h=this.decodeAsciiSegment(r,l,c);else{switch(h){case Lt.C40_ENCODE:this.decodeC40Segment(r,l);break;case Lt.TEXT_ENCODE:this.decodeTextSegment(r,l);break;case Lt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,l);break;case Lt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,l);break;case Lt.BASE256_ENCODE:this.decodeBase256Segment(r,l,u);break;default:throw new z}h=Lt.ASCII_ENCODE}while(h!==Lt.PAD_ENCODE&&r.available()>0);return c.length()>0&&l.append(c.toString()),new Va(s,l.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(s,r,l){let c=!1;do{let u=s.readBits(8);if(u===0)throw new z;if(u<=128)return c&&(u+=128),r.append(String.fromCharCode(u-1)),Lt.ASCII_ENCODE;if(u===129)return Lt.PAD_ENCODE;if(u<=229){const h=u-130;h<10&&r.append("0"),r.append(""+h)}else switch(u){case 230:return Lt.C40_ENCODE;case 231:return Lt.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:r.append("[)>05"),l.insert(0,"");break;case 237:r.append("[)>06"),l.insert(0,"");break;case 238:return Lt.ANSIX12_ENCODE;case 239:return Lt.TEXT_ENCODE;case 240:return Lt.EDIFACT_ENCODE;case 241:break;default:if(u!==254||s.available()!==0)throw new z;break}}while(s.available()>0);return Lt.ASCII_ENCODE}static decodeC40Segment(s,r){let l=!1;const c=[];let u=0;do{if(s.available()===8)return;const h=s.readBits(8);if(h===254)return;this.parseTwoBytes(h,s.readBits(8),c);for(let f=0;f<3;f++){const w=c[f];switch(u){case 0:if(w<3)u=w+1;else if(w<this.C40_BASIC_SET_CHARS.length){const v=this.C40_BASIC_SET_CHARS[w];l?(r.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):r.append(v)}else throw new z;break;case 1:l?(r.append(String.fromCharCode(w+128)),l=!1):r.append(String.fromCharCode(w)),u=0;break;case 2:if(w<this.C40_SHIFT2_SET_CHARS.length){const v=this.C40_SHIFT2_SET_CHARS[w];l?(r.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):r.append(v)}else switch(w){case 27:r.append("");break;case 30:l=!0;break;default:throw new z}u=0;break;case 3:l?(r.append(String.fromCharCode(w+224)),l=!1):r.append(String.fromCharCode(w+96)),u=0;break;default:throw new z}}}while(s.available()>0)}static decodeTextSegment(s,r){let l=!1,c=[],u=0;do{if(s.available()===8)return;const h=s.readBits(8);if(h===254)return;this.parseTwoBytes(h,s.readBits(8),c);for(let f=0;f<3;f++){const w=c[f];switch(u){case 0:if(w<3)u=w+1;else if(w<this.TEXT_BASIC_SET_CHARS.length){const v=this.TEXT_BASIC_SET_CHARS[w];l?(r.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):r.append(v)}else throw new z;break;case 1:l?(r.append(String.fromCharCode(w+128)),l=!1):r.append(String.fromCharCode(w)),u=0;break;case 2:if(w<this.TEXT_SHIFT2_SET_CHARS.length){const v=this.TEXT_SHIFT2_SET_CHARS[w];l?(r.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):r.append(v)}else switch(w){case 27:r.append("");break;case 30:l=!0;break;default:throw new z}u=0;break;case 3:if(w<this.TEXT_SHIFT3_SET_CHARS.length){const v=this.TEXT_SHIFT3_SET_CHARS[w];l?(r.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):r.append(v),u=0}else throw new z;break;default:throw new z}}}while(s.available()>0)}static decodeAnsiX12Segment(s,r){const l=[];do{if(s.available()===8)return;const c=s.readBits(8);if(c===254)return;this.parseTwoBytes(c,s.readBits(8),l);for(let u=0;u<3;u++){const h=l[u];switch(h){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(h<14)r.append(String.fromCharCode(h+44));else if(h<40)r.append(String.fromCharCode(h+51));else throw new z;break}}}while(s.available()>0)}static parseTwoBytes(s,r,l){let c=(s<<8)+r-1,u=Math.floor(c/1600);l[0]=u,c-=u*1600,u=Math.floor(c/40),l[1]=u,l[2]=c-u*40}static decodeEdifactSegment(s,r){do{if(s.available()<=16)return;for(let l=0;l<4;l++){let c=s.readBits(6);if(c===31){const u=8-s.getBitOffset();u!==8&&s.readBits(u);return}c&32||(c|=64),r.append(String.fromCharCode(c))}}while(s.available()>0)}static decodeBase256Segment(s,r,l){let c=1+s.getByteOffset();const u=this.unrandomize255State(s.readBits(8),c++);let h;if(u===0?h=s.available()/8|0:u<250?h=u:h=250*(u-249)+this.unrandomize255State(s.readBits(8),c++),h<0)throw new z;const f=new Uint8Array(h);for(let w=0;w<h;w++){if(s.available()<8)throw new z;f[w]=this.unrandomize255State(s.readBits(8),c++)}l.push(f);try{r.append(ee.decode(f,q.ISO88591))}catch(w){throw new yi("Platform does not support required encoding: "+w.message)}}static unrandomize255State(s,r){const l=149*r%255+1,c=s-l;return c>=0?c:c+256}}us.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],us.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],us.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],us.TEXT_SHIFT2_SET_CHARS=us.C40_SHIFT2_SET_CHARS,us.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Kx{constructor(){this.rsDecoder=new Ha(qe.DATA_MATRIX_FIELD_256)}decode(s){const r=new Ou(s),l=r.getVersion(),c=r.readCodewords(),u=Ru.getDataBlocks(c,l);let h=0;for(let v of u)h+=v.getNumDataCodewords();const f=new Uint8Array(h),w=u.length;for(let v=0;v<w;v++){const E=u[v],R=E.getCodewords(),I=E.getNumDataCodewords();this.correctErrors(R,I);for(let L=0;L<I;L++)f[L*w+v]=R[L]}return us.decode(f)}correctErrors(s,r){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-r)}catch(c){throw new S}for(let c=0;c<r;c++)s[c]=l[c]}}class Ct{constructor(s){this.image=s,this.rectangleDetector=new Li(this.image)}detect(){const s=this.rectangleDetector.detect();let r=this.detectSolid1(s);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new H;r=this.shiftToModuleCenter(r);const l=r[0],c=r[1],u=r[2],h=r[3];let f=this.transitionsBetween(l,h)+1,w=this.transitionsBetween(u,h)+1;(f&1)===1&&(f+=1),(w&1)===1&&(w+=1),4*f<7*w&&4*w<7*f&&(f=w=Math.max(f,w));let v=Ct.sampleGrid(this.image,l,c,u,h,f,w);return new ml(v,[l,c,u,h])}static shiftPoint(s,r,l){let c=(r.getX()-s.getX())/(l+1),u=(r.getY()-s.getY())/(l+1);return new ge(s.getX()+c,s.getY()+u)}static moveAway(s,r,l){let c=s.getX(),u=s.getY();return c<r?c-=1:c+=1,u<l?u-=1:u+=1,new ge(c,u)}detectSolid1(s){let r=s[0],l=s[1],c=s[3],u=s[2],h=this.transitionsBetween(r,l),f=this.transitionsBetween(l,c),w=this.transitionsBetween(c,u),v=this.transitionsBetween(u,r),E=h,R=[u,r,l,c];return E>f&&(E=f,R[0]=r,R[1]=l,R[2]=c,R[3]=u),E>w&&(E=w,R[0]=l,R[1]=c,R[2]=u,R[3]=r),E>v&&(R[0]=c,R[1]=u,R[2]=r,R[3]=l),R}detectSolid2(s){let r=s[0],l=s[1],c=s[2],u=s[3],h=this.transitionsBetween(r,u),f=Ct.shiftPoint(l,c,(h+1)*4),w=Ct.shiftPoint(c,l,(h+1)*4),v=this.transitionsBetween(f,r),E=this.transitionsBetween(w,u);return v<E?(s[0]=r,s[1]=l,s[2]=c,s[3]=u):(s[0]=l,s[1]=c,s[2]=u,s[3]=r),s}correctTopRight(s){let r=s[0],l=s[1],c=s[2],u=s[3],h=this.transitionsBetween(r,u),f=this.transitionsBetween(l,u),w=Ct.shiftPoint(r,l,(f+1)*4),v=Ct.shiftPoint(c,l,(h+1)*4);h=this.transitionsBetween(w,u),f=this.transitionsBetween(v,u);let E=new ge(u.getX()+(c.getX()-l.getX())/(h+1),u.getY()+(c.getY()-l.getY())/(h+1)),R=new ge(u.getX()+(r.getX()-l.getX())/(f+1),u.getY()+(r.getY()-l.getY())/(f+1));if(!this.isValid(E))return this.isValid(R)?R:null;if(!this.isValid(R))return E;let I=this.transitionsBetween(w,E)+this.transitionsBetween(v,E),L=this.transitionsBetween(w,R)+this.transitionsBetween(v,R);return I>L?E:R}shiftToModuleCenter(s){let r=s[0],l=s[1],c=s[2],u=s[3],h=this.transitionsBetween(r,u)+1,f=this.transitionsBetween(c,u)+1,w=Ct.shiftPoint(r,l,f*4),v=Ct.shiftPoint(c,l,h*4);h=this.transitionsBetween(w,u)+1,f=this.transitionsBetween(v,u)+1,(h&1)===1&&(h+=1),(f&1)===1&&(f+=1);let E=(r.getX()+l.getX()+c.getX()+u.getX())/4,R=(r.getY()+l.getY()+c.getY()+u.getY())/4;r=Ct.moveAway(r,E,R),l=Ct.moveAway(l,E,R),c=Ct.moveAway(c,E,R),u=Ct.moveAway(u,E,R);let I,L;return w=Ct.shiftPoint(r,l,f*4),w=Ct.shiftPoint(w,u,h*4),I=Ct.shiftPoint(l,r,f*4),I=Ct.shiftPoint(I,c,h*4),v=Ct.shiftPoint(c,u,f*4),v=Ct.shiftPoint(v,l,h*4),L=Ct.shiftPoint(u,c,f*4),L=Ct.shiftPoint(L,r,h*4),[w,I,v,L]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,r,l,c,u,h,f){return ls.getInstance().sampleGrid(s,h,f,.5,.5,h-.5,.5,h-.5,f-.5,.5,f-.5,r.getX(),r.getY(),u.getX(),u.getY(),c.getX(),c.getY(),l.getX(),l.getY())}transitionsBetween(s,r){let l=Math.trunc(s.getX()),c=Math.trunc(s.getY()),u=Math.trunc(r.getX()),h=Math.trunc(r.getY()),f=Math.abs(h-c)>Math.abs(u-l);if(f){let F=l;l=c,c=F,F=u,u=h,h=F}let w=Math.abs(u-l),v=Math.abs(h-c),E=-w/2,R=c<h?1:-1,I=l<u?1:-1,L=0,U=this.image.get(f?c:l,f?l:c);for(let F=l,X=c;F!==u;F+=I){let K=this.image.get(f?X:F,f?F:X);if(K!==U&&(L++,U=K),E+=v,E>0){if(X===h)break;X+=R,E-=w}}return L}}class ds{constructor(){this.decoder=new Kx}decode(s,r=null){let l,c;if(r!=null&&r.has(G.PURE_BARCODE)){const v=ds.extractPureBits(s.getBlackMatrix());l=this.decoder.decode(v),c=ds.NO_POINTS}else{const v=new Ct(s.getBlackMatrix()).detect();l=this.decoder.decode(v.getBits()),c=v.getPoints()}const u=l.getRawBytes(),h=new ft(l.getText(),u,8*u.length,c,ye.DATA_MATRIX,M.currentTimeMillis()),f=l.getByteSegments();f!=null&&h.putMetadata(Ht.BYTE_SEGMENTS,f);const w=l.getECLevel();return w!=null&&h.putMetadata(Ht.ERROR_CORRECTION_LEVEL,w),h}reset(){}static extractPureBits(s){const r=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(r==null||l==null)throw new H;const c=this.moduleSize(r,s);let u=r[1];const h=l[1];let f=r[0];const v=(l[0]-f+1)/c,E=(h-u+1)/c;if(v<=0||E<=0)throw new H;const R=c/2;u+=R,f+=R;const I=new oe(v,E);for(let L=0;L<E;L++){const U=u+L*c;for(let F=0;F<v;F++)s.get(f+F*c,U)&&I.set(F,L)}return I}static moduleSize(s,r){const l=r.getWidth();let c=s[0];const u=s[1];for(;c<l&&r.get(c,u);)c++;if(c===l)throw new H;const h=c-s[0];if(h===0)throw new H;return h}}ds.NO_POINTS=[];class Zx extends ci{constructor(s=500){super(new ds,s)}}var Br;(function(O){O[O.L=0]="L",O[O.M=1]="M",O[O.Q=2]="Q",O[O.H=3]="H"})(Br||(Br={}));class it{constructor(s,r,l){this.value=s,this.stringValue=r,this.bits=l,it.FOR_BITS.set(l,this),it.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return it.L;case"M":return it.M;case"Q":return it.Q;case"H":return it.H;default:throw new b(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof it))return!1;const r=s;return this.value===r.value}static forBits(s){if(s<0||s>=it.FOR_BITS.size)throw new y;return it.FOR_BITS.get(s)}}it.FOR_BITS=new Map,it.FOR_VALUE=new Map,it.L=new it(Br.L,"L",1),it.M=new it(Br.M,"M",0),it.Q=new it(Br.Q,"Q",3),it.H=new it(Br.H,"H",2);class un{constructor(s){this.errorCorrectionLevel=it.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,r){return _.bitCount(s^r)}static decodeFormatInformation(s,r){const l=un.doDecodeFormatInformation(s,r);return l!==null?l:un.doDecodeFormatInformation(s^un.FORMAT_INFO_MASK_QR,r^un.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,r){let l=Number.MAX_SAFE_INTEGER,c=0;for(const u of un.FORMAT_INFO_DECODE_LOOKUP){const h=u[0];if(h===s||h===r)return new un(u[1]);let f=un.numBitsDiffering(s,h);f<l&&(c=u[1],l=f),s!==r&&(f=un.numBitsDiffering(r,h),f<l&&(c=u[1],l=f))}return l<=3?new un(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof un))return!1;const r=s;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}un.FORMAT_INFO_MASK_QR=21522,un.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class W{constructor(s,...r){this.ecCodewordsPerBlock=s,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const r=this.ecBlocks;for(const l of r)s+=l.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class j{constructor(s,r){this.count=s,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class we{constructor(s,r,...l){this.versionNumber=s,this.alignmentPatternCenters=r,this.ecBlocks=l;let c=0;const u=l[0].getECCodewordsPerBlock(),h=l[0].getECBlocks();for(const f of h)c+=f.getCount()*(f.getDataCodewords()+u);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new z;try{return this.getVersionForNumber((s-17)/4)}catch(r){throw new z}}static getVersionForNumber(s){if(s<1||s>40)throw new y;return we.VERSIONS[s-1]}static decodeVersionInformation(s){let r=Number.MAX_SAFE_INTEGER,l=0;for(let c=0;c<we.VERSION_DECODE_INFO.length;c++){const u=we.VERSION_DECODE_INFO[c];if(u===s)return we.getVersionForNumber(c+7);const h=un.numBitsDiffering(s,u);h<r&&(l=c+7,r=h)}return r<=3?we.getVersionForNumber(l):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),r=new oe(s);r.setRegion(0,0,9,9),r.setRegion(s-8,0,8,9),r.setRegion(0,s-8,9,8);const l=this.alignmentPatternCenters.length;for(let c=0;c<l;c++){const u=this.alignmentPatternCenters[c]-2;for(let h=0;h<l;h++)c===0&&(h===0||h===l-1)||c===l-1&&h===0||r.setRegion(this.alignmentPatternCenters[h]-2,u,5,5)}return r.setRegion(6,9,1,s-17),r.setRegion(9,6,s-17,1),this.versionNumber>6&&(r.setRegion(s-11,0,3,6),r.setRegion(0,s-11,6,3)),r}toString(){return""+this.versionNumber}}we.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),we.VERSIONS=[new we(1,new Int32Array(0),new W(7,new j(1,19)),new W(10,new j(1,16)),new W(13,new j(1,13)),new W(17,new j(1,9))),new we(2,Int32Array.from([6,18]),new W(10,new j(1,34)),new W(16,new j(1,28)),new W(22,new j(1,22)),new W(28,new j(1,16))),new we(3,Int32Array.from([6,22]),new W(15,new j(1,55)),new W(26,new j(1,44)),new W(18,new j(2,17)),new W(22,new j(2,13))),new we(4,Int32Array.from([6,26]),new W(20,new j(1,80)),new W(18,new j(2,32)),new W(26,new j(2,24)),new W(16,new j(4,9))),new we(5,Int32Array.from([6,30]),new W(26,new j(1,108)),new W(24,new j(2,43)),new W(18,new j(2,15),new j(2,16)),new W(22,new j(2,11),new j(2,12))),new we(6,Int32Array.from([6,34]),new W(18,new j(2,68)),new W(16,new j(4,27)),new W(24,new j(4,19)),new W(28,new j(4,15))),new we(7,Int32Array.from([6,22,38]),new W(20,new j(2,78)),new W(18,new j(4,31)),new W(18,new j(2,14),new j(4,15)),new W(26,new j(4,13),new j(1,14))),new we(8,Int32Array.from([6,24,42]),new W(24,new j(2,97)),new W(22,new j(2,38),new j(2,39)),new W(22,new j(4,18),new j(2,19)),new W(26,new j(4,14),new j(2,15))),new we(9,Int32Array.from([6,26,46]),new W(30,new j(2,116)),new W(22,new j(3,36),new j(2,37)),new W(20,new j(4,16),new j(4,17)),new W(24,new j(4,12),new j(4,13))),new we(10,Int32Array.from([6,28,50]),new W(18,new j(2,68),new j(2,69)),new W(26,new j(4,43),new j(1,44)),new W(24,new j(6,19),new j(2,20)),new W(28,new j(6,15),new j(2,16))),new we(11,Int32Array.from([6,30,54]),new W(20,new j(4,81)),new W(30,new j(1,50),new j(4,51)),new W(28,new j(4,22),new j(4,23)),new W(24,new j(3,12),new j(8,13))),new we(12,Int32Array.from([6,32,58]),new W(24,new j(2,92),new j(2,93)),new W(22,new j(6,36),new j(2,37)),new W(26,new j(4,20),new j(6,21)),new W(28,new j(7,14),new j(4,15))),new we(13,Int32Array.from([6,34,62]),new W(26,new j(4,107)),new W(22,new j(8,37),new j(1,38)),new W(24,new j(8,20),new j(4,21)),new W(22,new j(12,11),new j(4,12))),new we(14,Int32Array.from([6,26,46,66]),new W(30,new j(3,115),new j(1,116)),new W(24,new j(4,40),new j(5,41)),new W(20,new j(11,16),new j(5,17)),new W(24,new j(11,12),new j(5,13))),new we(15,Int32Array.from([6,26,48,70]),new W(22,new j(5,87),new j(1,88)),new W(24,new j(5,41),new j(5,42)),new W(30,new j(5,24),new j(7,25)),new W(24,new j(11,12),new j(7,13))),new we(16,Int32Array.from([6,26,50,74]),new W(24,new j(5,98),new j(1,99)),new W(28,new j(7,45),new j(3,46)),new W(24,new j(15,19),new j(2,20)),new W(30,new j(3,15),new j(13,16))),new we(17,Int32Array.from([6,30,54,78]),new W(28,new j(1,107),new j(5,108)),new W(28,new j(10,46),new j(1,47)),new W(28,new j(1,22),new j(15,23)),new W(28,new j(2,14),new j(17,15))),new we(18,Int32Array.from([6,30,56,82]),new W(30,new j(5,120),new j(1,121)),new W(26,new j(9,43),new j(4,44)),new W(28,new j(17,22),new j(1,23)),new W(28,new j(2,14),new j(19,15))),new we(19,Int32Array.from([6,30,58,86]),new W(28,new j(3,113),new j(4,114)),new W(26,new j(3,44),new j(11,45)),new W(26,new j(17,21),new j(4,22)),new W(26,new j(9,13),new j(16,14))),new we(20,Int32Array.from([6,34,62,90]),new W(28,new j(3,107),new j(5,108)),new W(26,new j(3,41),new j(13,42)),new W(30,new j(15,24),new j(5,25)),new W(28,new j(15,15),new j(10,16))),new we(21,Int32Array.from([6,28,50,72,94]),new W(28,new j(4,116),new j(4,117)),new W(26,new j(17,42)),new W(28,new j(17,22),new j(6,23)),new W(30,new j(19,16),new j(6,17))),new we(22,Int32Array.from([6,26,50,74,98]),new W(28,new j(2,111),new j(7,112)),new W(28,new j(17,46)),new W(30,new j(7,24),new j(16,25)),new W(24,new j(34,13))),new we(23,Int32Array.from([6,30,54,78,102]),new W(30,new j(4,121),new j(5,122)),new W(28,new j(4,47),new j(14,48)),new W(30,new j(11,24),new j(14,25)),new W(30,new j(16,15),new j(14,16))),new we(24,Int32Array.from([6,28,54,80,106]),new W(30,new j(6,117),new j(4,118)),new W(28,new j(6,45),new j(14,46)),new W(30,new j(11,24),new j(16,25)),new W(30,new j(30,16),new j(2,17))),new we(25,Int32Array.from([6,32,58,84,110]),new W(26,new j(8,106),new j(4,107)),new W(28,new j(8,47),new j(13,48)),new W(30,new j(7,24),new j(22,25)),new W(30,new j(22,15),new j(13,16))),new we(26,Int32Array.from([6,30,58,86,114]),new W(28,new j(10,114),new j(2,115)),new W(28,new j(19,46),new j(4,47)),new W(28,new j(28,22),new j(6,23)),new W(30,new j(33,16),new j(4,17))),new we(27,Int32Array.from([6,34,62,90,118]),new W(30,new j(8,122),new j(4,123)),new W(28,new j(22,45),new j(3,46)),new W(30,new j(8,23),new j(26,24)),new W(30,new j(12,15),new j(28,16))),new we(28,Int32Array.from([6,26,50,74,98,122]),new W(30,new j(3,117),new j(10,118)),new W(28,new j(3,45),new j(23,46)),new W(30,new j(4,24),new j(31,25)),new W(30,new j(11,15),new j(31,16))),new we(29,Int32Array.from([6,30,54,78,102,126]),new W(30,new j(7,116),new j(7,117)),new W(28,new j(21,45),new j(7,46)),new W(30,new j(1,23),new j(37,24)),new W(30,new j(19,15),new j(26,16))),new we(30,Int32Array.from([6,26,52,78,104,130]),new W(30,new j(5,115),new j(10,116)),new W(28,new j(19,47),new j(10,48)),new W(30,new j(15,24),new j(25,25)),new W(30,new j(23,15),new j(25,16))),new we(31,Int32Array.from([6,30,56,82,108,134]),new W(30,new j(13,115),new j(3,116)),new W(28,new j(2,46),new j(29,47)),new W(30,new j(42,24),new j(1,25)),new W(30,new j(23,15),new j(28,16))),new we(32,Int32Array.from([6,34,60,86,112,138]),new W(30,new j(17,115)),new W(28,new j(10,46),new j(23,47)),new W(30,new j(10,24),new j(35,25)),new W(30,new j(19,15),new j(35,16))),new we(33,Int32Array.from([6,30,58,86,114,142]),new W(30,new j(17,115),new j(1,116)),new W(28,new j(14,46),new j(21,47)),new W(30,new j(29,24),new j(19,25)),new W(30,new j(11,15),new j(46,16))),new we(34,Int32Array.from([6,34,62,90,118,146]),new W(30,new j(13,115),new j(6,116)),new W(28,new j(14,46),new j(23,47)),new W(30,new j(44,24),new j(7,25)),new W(30,new j(59,16),new j(1,17))),new we(35,Int32Array.from([6,30,54,78,102,126,150]),new W(30,new j(12,121),new j(7,122)),new W(28,new j(12,47),new j(26,48)),new W(30,new j(39,24),new j(14,25)),new W(30,new j(22,15),new j(41,16))),new we(36,Int32Array.from([6,24,50,76,102,128,154]),new W(30,new j(6,121),new j(14,122)),new W(28,new j(6,47),new j(34,48)),new W(30,new j(46,24),new j(10,25)),new W(30,new j(2,15),new j(64,16))),new we(37,Int32Array.from([6,28,54,80,106,132,158]),new W(30,new j(17,122),new j(4,123)),new W(28,new j(29,46),new j(14,47)),new W(30,new j(49,24),new j(10,25)),new W(30,new j(24,15),new j(46,16))),new we(38,Int32Array.from([6,32,58,84,110,136,162]),new W(30,new j(4,122),new j(18,123)),new W(28,new j(13,46),new j(32,47)),new W(30,new j(48,24),new j(14,25)),new W(30,new j(42,15),new j(32,16))),new we(39,Int32Array.from([6,26,54,82,110,138,166]),new W(30,new j(20,117),new j(4,118)),new W(28,new j(40,47),new j(7,48)),new W(30,new j(43,24),new j(22,25)),new W(30,new j(10,15),new j(67,16))),new we(40,Int32Array.from([6,30,58,86,114,142,170]),new W(30,new j(19,118),new j(6,119)),new W(28,new j(18,47),new j(31,48)),new W(30,new j(34,24),new j(34,25)),new W(30,new j(20,15),new j(61,16)))];var qt;(function(O){O[O.DATA_MASK_000=0]="DATA_MASK_000",O[O.DATA_MASK_001=1]="DATA_MASK_001",O[O.DATA_MASK_010=2]="DATA_MASK_010",O[O.DATA_MASK_011=3]="DATA_MASK_011",O[O.DATA_MASK_100=4]="DATA_MASK_100",O[O.DATA_MASK_101=5]="DATA_MASK_101",O[O.DATA_MASK_110=6]="DATA_MASK_110",O[O.DATA_MASK_111=7]="DATA_MASK_111"})(qt||(qt={}));class Wn{constructor(s,r){this.value=s,this.isMasked=r}unmaskBitMatrix(s,r){for(let l=0;l<r;l++)for(let c=0;c<r;c++)this.isMasked(l,c)&&s.flip(c,l)}}Wn.values=new Map([[qt.DATA_MASK_000,new Wn(qt.DATA_MASK_000,(O,s)=>(O+s&1)===0)],[qt.DATA_MASK_001,new Wn(qt.DATA_MASK_001,(O,s)=>(O&1)===0)],[qt.DATA_MASK_010,new Wn(qt.DATA_MASK_010,(O,s)=>s%3===0)],[qt.DATA_MASK_011,new Wn(qt.DATA_MASK_011,(O,s)=>(O+s)%3===0)],[qt.DATA_MASK_100,new Wn(qt.DATA_MASK_100,(O,s)=>(Math.floor(O/2)+Math.floor(s/3)&1)===0)],[qt.DATA_MASK_101,new Wn(qt.DATA_MASK_101,(O,s)=>O*s%6===0)],[qt.DATA_MASK_110,new Wn(qt.DATA_MASK_110,(O,s)=>O*s%6<3)],[qt.DATA_MASK_111,new Wn(qt.DATA_MASK_111,(O,s)=>(O+s+O*s%3&1)===0)]]);class $x{constructor(s){const r=s.getHeight();if(r<21||(r&3)!==1)throw new z;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let u=0;u<6;u++)s=this.copyBit(u,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let u=5;u>=0;u--)s=this.copyBit(8,u,s);const r=this.bitMatrix.getHeight();let l=0;const c=r-7;for(let u=r-1;u>=c;u--)l=this.copyBit(8,u,l);for(let u=r-8;u<r;u++)l=this.copyBit(u,8,l);if(this.parsedFormatInfo=un.decodeFormatInformation(s,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new z}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),r=Math.floor((s-17)/4);if(r<=6)return we.getVersionForNumber(r);let l=0;const c=s-11;for(let h=5;h>=0;h--)for(let f=s-9;f>=c;f--)l=this.copyBit(f,h,l);let u=we.decodeVersionInformation(l);if(u!==null&&u.getDimensionForVersion()===s)return this.parsedVersion=u,u;l=0;for(let h=5;h>=0;h--)for(let f=s-9;f>=c;f--)l=this.copyBit(h,f,l);if(u=we.decodeVersionInformation(l),u!==null&&u.getDimensionForVersion()===s)return this.parsedVersion=u,u;throw new z}copyBit(s,r,l){return(this.isMirror?this.bitMatrix.get(r,s):this.bitMatrix.get(s,r))?l<<1|1:l<<1}readCodewords(){const s=this.readFormatInformation(),r=this.readVersion(),l=Wn.values.get(s.getDataMask()),c=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,c);const u=r.buildFunctionPattern();let h=!0;const f=new Uint8Array(r.getTotalCodewords());let w=0,v=0,E=0;for(let R=c-1;R>0;R-=2){R===6&&R--;for(let I=0;I<c;I++){const L=h?c-1-I:I;for(let U=0;U<2;U++)u.get(R-U,L)||(E++,v<<=1,this.bitMatrix.get(R-U,L)&&(v|=1),E===8&&(f[w++]=v,E=0,v=0))}h=!h}if(w!==r.getTotalCodewords())throw new z;return f}remask(){if(this.parsedFormatInfo===null)return;const s=Wn.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,r)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let r=0,l=s.getWidth();r<l;r++)for(let c=r+1,u=s.getHeight();c<u;c++)s.get(r,c)!==s.get(c,r)&&(s.flip(c,r),s.flip(r,c))}}class Du{constructor(s,r){this.numDataCodewords=s,this.codewords=r}static getDataBlocks(s,r,l){if(s.length!==r.getTotalCodewords())throw new y;const c=r.getECBlocksForLevel(l);let u=0;const h=c.getECBlocks();for(const U of h)u+=U.getCount();const f=new Array(u);let w=0;for(const U of h)for(let F=0;F<U.getCount();F++){const X=U.getDataCodewords(),K=c.getECCodewordsPerBlock()+X;f[w++]=new Du(X,new Uint8Array(K))}const v=f[0].codewords.length;let E=f.length-1;for(;E>=0&&f[E].codewords.length!==v;)E--;E++;const R=v-c.getECCodewordsPerBlock();let I=0;for(let U=0;U<R;U++)for(let F=0;F<w;F++)f[F].codewords[U]=s[I++];for(let U=E;U<w;U++)f[U].codewords[R]=s[I++];const L=f[0].codewords.length;for(let U=R;U<L;U++)for(let F=0;F<w;F++){const X=F<E?U:U+1;f[F].codewords[X]=s[I++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Yn;(function(O){O[O.TERMINATOR=0]="TERMINATOR",O[O.NUMERIC=1]="NUMERIC",O[O.ALPHANUMERIC=2]="ALPHANUMERIC",O[O.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",O[O.BYTE=4]="BYTE",O[O.ECI=5]="ECI",O[O.KANJI=6]="KANJI",O[O.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",O[O.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",O[O.HANZI=9]="HANZI"})(Yn||(Yn={}));class ve{constructor(s,r,l,c){this.value=s,this.stringValue=r,this.characterCountBitsForVersions=l,this.bits=c,ve.FOR_BITS.set(c,this),ve.FOR_VALUE.set(s,this)}static forBits(s){const r=ve.FOR_BITS.get(s);if(r===void 0)throw new y;return r}getCharacterCountBits(s){const r=s.getVersionNumber();let l;return r<=9?l=0:r<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof ve))return!1;const r=s;return this.value===r.value}toString(){return this.stringValue}}ve.FOR_BITS=new Map,ve.FOR_VALUE=new Map,ve.TERMINATOR=new ve(Yn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ve.NUMERIC=new ve(Yn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ve.ALPHANUMERIC=new ve(Yn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ve.STRUCTURED_APPEND=new ve(Yn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ve.BYTE=new ve(Yn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ve.ECI=new ve(Yn.ECI,"ECI",Int32Array.from([0,0,0]),7),ve.KANJI=new ve(Yn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ve.FNC1_FIRST_POSITION=new ve(Yn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ve.FNC1_SECOND_POSITION=new ve(Yn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ve.HANZI=new ve(Yn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class gt{static decode(s,r,l,c){const u=new Iu(s);let h=new $;const f=new Array;let w=-1,v=-1;try{let E=null,R=!1,I;do{if(u.available()<4)I=ve.TERMINATOR;else{const L=u.readBits(4);I=ve.forBits(L)}switch(I){case ve.TERMINATOR:break;case ve.FNC1_FIRST_POSITION:case ve.FNC1_SECOND_POSITION:R=!0;break;case ve.STRUCTURED_APPEND:if(u.available()<16)throw new z;w=u.readBits(8),v=u.readBits(8);break;case ve.ECI:const L=gt.parseECIValue(u);if(E=V.getCharacterSetECIByValue(L),E===null)throw new z;break;case ve.HANZI:const U=u.readBits(4),F=u.readBits(I.getCharacterCountBits(r));U===gt.GB2312_SUBSET&&gt.decodeHanziSegment(u,h,F);break;default:const X=u.readBits(I.getCharacterCountBits(r));switch(I){case ve.NUMERIC:gt.decodeNumericSegment(u,h,X);break;case ve.ALPHANUMERIC:gt.decodeAlphanumericSegment(u,h,X,R);break;case ve.BYTE:gt.decodeByteSegment(u,h,X,E,f,c);break;case ve.KANJI:gt.decodeKanjiSegment(u,h,X);break;default:throw new z}break}}while(I!==ve.TERMINATOR)}catch(E){throw new z}return new Va(s,h.toString(),f.length===0?null:f,l===null?null:l.toString(),w,v)}static decodeHanziSegment(s,r,l){if(l*13>s.available())throw new z;const c=new Uint8Array(2*l);let u=0;for(;l>0;){const h=s.readBits(13);let f=h/96<<8&4294967295|h%96;f<959?f+=41377:f+=42657,c[u]=f>>8&255,c[u+1]=f&255,u+=2,l--}try{r.append(ee.decode(c,q.GB2312))}catch(h){throw new z(h)}}static decodeKanjiSegment(s,r,l){if(l*13>s.available())throw new z;const c=new Uint8Array(2*l);let u=0;for(;l>0;){const h=s.readBits(13);let f=h/192<<8&4294967295|h%192;f<7936?f+=33088:f+=49472,c[u]=f>>8,c[u+1]=f,u+=2,l--}try{r.append(ee.decode(c,q.SHIFT_JIS))}catch(h){throw new z(h)}}static decodeByteSegment(s,r,l,c,u,h){if(8*l>s.available())throw new z;const f=new Uint8Array(l);for(let v=0;v<l;v++)f[v]=s.readBits(8);let w;c===null?w=q.guessEncoding(f,h):w=c.getName();try{r.append(ee.decode(f,w))}catch(v){throw new z(v)}u.push(f)}static toAlphaNumericChar(s){if(s>=gt.ALPHANUMERIC_CHARS.length)throw new z;return gt.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,r,l,c){const u=r.length();for(;l>1;){if(s.available()<11)throw new z;const h=s.readBits(11);r.append(gt.toAlphaNumericChar(Math.floor(h/45))),r.append(gt.toAlphaNumericChar(h%45)),l-=2}if(l===1){if(s.available()<6)throw new z;r.append(gt.toAlphaNumericChar(s.readBits(6)))}if(c)for(let h=u;h<r.length();h++)r.charAt(h)==="%"&&(h<r.length()-1&&r.charAt(h+1)==="%"?r.deleteCharAt(h+1):r.setCharAt(h,""))}static decodeNumericSegment(s,r,l){for(;l>=3;){if(s.available()<10)throw new z;const c=s.readBits(10);if(c>=1e3)throw new z;r.append(gt.toAlphaNumericChar(Math.floor(c/100))),r.append(gt.toAlphaNumericChar(Math.floor(c/10)%10)),r.append(gt.toAlphaNumericChar(c%10)),l-=3}if(l===2){if(s.available()<7)throw new z;const c=s.readBits(7);if(c>=100)throw new z;r.append(gt.toAlphaNumericChar(Math.floor(c/10))),r.append(gt.toAlphaNumericChar(c%10))}else if(l===1){if(s.available()<4)throw new z;const c=s.readBits(4);if(c>=10)throw new z;r.append(gt.toAlphaNumericChar(c))}}static parseECIValue(s){const r=s.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const l=s.readBits(8);return(r&63)<<8&4294967295|l}if((r&224)===192){const l=s.readBits(16);return(r&31)<<16&4294967295|l}throw new z}}gt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",gt.GB2312_SUBSET=1;class h0{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const r=s[0];s[0]=s[2],s[2]=r}}class Jx{constructor(){this.rsDecoder=new Ha(qe.QR_CODE_FIELD_256)}decodeBooleanArray(s,r){return this.decodeBitMatrix(oe.parseFromBooleanArray(s),r)}decodeBitMatrix(s,r){const l=new $x(s);let c=null;try{return this.decodeBitMatrixParser(l,r)}catch(u){c=u}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const u=this.decodeBitMatrixParser(l,r);return u.setOther(new h0(!0)),u}catch(u){throw c!==null?c:u}}decodeBitMatrixParser(s,r){const l=s.readVersion(),c=s.readFormatInformation().getErrorCorrectionLevel(),u=s.readCodewords(),h=Du.getDataBlocks(u,l,c);let f=0;for(const E of h)f+=E.getNumDataCodewords();const w=new Uint8Array(f);let v=0;for(const E of h){const R=E.getCodewords(),I=E.getNumDataCodewords();this.correctErrors(R,I);for(let L=0;L<I;L++)w[v++]=R[L]}return gt.decode(w,l,c,r)}correctErrors(s,r){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-r)}catch(c){throw new S}for(let c=0;c<r;c++)s[c]=l[c]}}class Nu extends ge{constructor(s,r,l){super(s,r),this.estimatedModuleSize=l}aboutEquals(s,r,l){if(Math.abs(r-this.getY())<=s&&Math.abs(l-this.getX())<=s){const c=Math.abs(s-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(s,r,l){const c=(this.getX()+r)/2,u=(this.getY()+s)/2,h=(this.estimatedModuleSize+l)/2;return new Nu(c,u,h)}}class bl{constructor(s,r,l,c,u,h,f){this.image=s,this.startX=r,this.startY=l,this.width=c,this.height=u,this.moduleSize=h,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,r=this.height,l=this.width,c=s+l,u=this.startY+r/2,h=new Int32Array(3),f=this.image;for(let w=0;w<r;w++){const v=u+(w&1?-Math.floor((w+1)/2):Math.floor((w+1)/2));h[0]=0,h[1]=0,h[2]=0;let E=s;for(;E<c&&!f.get(E,v);)E++;let R=0;for(;E<c;){if(f.get(E,v))if(R===1)h[1]++;else if(R===2){if(this.foundPatternCross(h)){const I=this.handlePossibleCenter(h,v,E);if(I!==null)return I}h[0]=h[2],h[1]=1,h[2]=0,R=1}else h[++R]++;else R===1&&R++,h[R]++;E++}if(this.foundPatternCross(h)){const I=this.handlePossibleCenter(h,v,c);if(I!==null)return I}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new H}static centerFromEnd(s,r){return r-s[2]-s[1]/2}foundPatternCross(s){const r=this.moduleSize,l=r/2;for(let c=0;c<3;c++)if(Math.abs(r-s[c])>=l)return!1;return!0}crossCheckVertical(s,r,l,c){const u=this.image,h=u.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let w=s;for(;w>=0&&u.get(r,w)&&f[1]<=l;)f[1]++,w--;if(w<0||f[1]>l)return NaN;for(;w>=0&&!u.get(r,w)&&f[0]<=l;)f[0]++,w--;if(f[0]>l)return NaN;for(w=s+1;w<h&&u.get(r,w)&&f[1]<=l;)f[1]++,w++;if(w===h||f[1]>l)return NaN;for(;w<h&&!u.get(r,w)&&f[2]<=l;)f[2]++,w++;if(f[2]>l)return NaN;const v=f[0]+f[1]+f[2];return 5*Math.abs(v-c)>=2*c?NaN:this.foundPatternCross(f)?bl.centerFromEnd(f,w):NaN}handlePossibleCenter(s,r,l){const c=s[0]+s[1]+s[2],u=bl.centerFromEnd(s,l),h=this.crossCheckVertical(r,u,2*s[1],c);if(!isNaN(h)){const f=(s[0]+s[1]+s[2])/3;for(const v of this.possibleCenters)if(v.aboutEquals(f,h,u))return v.combineEstimate(h,u,f);const w=new Nu(u,h,f);this.possibleCenters.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return null}}class Mu extends ge{constructor(s,r,l,c){super(s,r),this.estimatedModuleSize=l,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,r,l){if(Math.abs(r-this.getY())<=s&&Math.abs(l-this.getX())<=s){const c=Math.abs(s-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(s,r,l){const c=this.count+1,u=(this.count*this.getX()+r)/c,h=(this.count*this.getY()+s)/c,f=(this.count*this.estimatedModuleSize+l)/c;return new Mu(u,h,f,c)}}class e3{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Xt{constructor(s,r){this.image=s,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const r=s!=null&&s.get(G.TRY_HARDER)!==void 0,l=s!=null&&s.get(G.PURE_BARCODE)!==void 0,c=this.image,u=c.getHeight(),h=c.getWidth();let f=Math.floor(3*u/(4*Xt.MAX_MODULES));(f<Xt.MIN_SKIP||r)&&(f=Xt.MIN_SKIP);let w=!1;const v=new Int32Array(5);for(let R=f-1;R<u&&!w;R+=f){v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0;let I=0;for(let L=0;L<h;L++)if(c.get(L,R))(I&1)===1&&I++,v[I]++;else if(I&1)v[I]++;else if(I===4)if(Xt.foundPatternCross(v)){if(this.handlePossibleCenter(v,R,L,l)===!0)if(f=2,this.hasSkipped===!0)w=this.haveMultiplyConfirmedCenters();else{const F=this.findRowSkip();F>v[2]&&(R+=F-v[2]-f,L=h-1)}else{v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,I=3;continue}I=0,v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0}else v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,I=3;else v[++I]++;Xt.foundPatternCross(v)&&this.handlePossibleCenter(v,R,h,l)===!0&&(f=v[0],this.hasSkipped&&(w=this.haveMultiplyConfirmedCenters()))}const E=this.selectBestPatterns();return ge.orderBestPatterns(E),new e3(E)}static centerFromEnd(s,r){return r-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let r=0;for(let u=0;u<5;u++){const h=s[u];if(h===0)return!1;r+=h}if(r<7)return!1;const l=r/7,c=l/2;return Math.abs(l-s[0])<c&&Math.abs(l-s[1])<c&&Math.abs(3*l-s[2])<3*c&&Math.abs(l-s[3])<c&&Math.abs(l-s[4])<c}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,r,l,c){const u=this.getCrossCheckStateCount();let h=0;const f=this.image;for(;s>=h&&r>=h&&f.get(r-h,s-h);)u[2]++,h++;if(s<h||r<h)return!1;for(;s>=h&&r>=h&&!f.get(r-h,s-h)&&u[1]<=l;)u[1]++,h++;if(s<h||r<h||u[1]>l)return!1;for(;s>=h&&r>=h&&f.get(r-h,s-h)&&u[0]<=l;)u[0]++,h++;if(u[0]>l)return!1;const w=f.getHeight(),v=f.getWidth();for(h=1;s+h<w&&r+h<v&&f.get(r+h,s+h);)u[2]++,h++;if(s+h>=w||r+h>=v)return!1;for(;s+h<w&&r+h<v&&!f.get(r+h,s+h)&&u[3]<l;)u[3]++,h++;if(s+h>=w||r+h>=v||u[3]>=l)return!1;for(;s+h<w&&r+h<v&&f.get(r+h,s+h)&&u[4]<l;)u[4]++,h++;if(u[4]>=l)return!1;const E=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(E-c)<2*c&&Xt.foundPatternCross(u)}crossCheckVertical(s,r,l,c){const u=this.image,h=u.getHeight(),f=this.getCrossCheckStateCount();let w=s;for(;w>=0&&u.get(r,w);)f[2]++,w--;if(w<0)return NaN;for(;w>=0&&!u.get(r,w)&&f[1]<=l;)f[1]++,w--;if(w<0||f[1]>l)return NaN;for(;w>=0&&u.get(r,w)&&f[0]<=l;)f[0]++,w--;if(f[0]>l)return NaN;for(w=s+1;w<h&&u.get(r,w);)f[2]++,w++;if(w===h)return NaN;for(;w<h&&!u.get(r,w)&&f[3]<l;)f[3]++,w++;if(w===h||f[3]>=l)return NaN;for(;w<h&&u.get(r,w)&&f[4]<l;)f[4]++,w++;if(f[4]>=l)return NaN;const v=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(v-c)>=2*c?NaN:Xt.foundPatternCross(f)?Xt.centerFromEnd(f,w):NaN}crossCheckHorizontal(s,r,l,c){const u=this.image,h=u.getWidth(),f=this.getCrossCheckStateCount();let w=s;for(;w>=0&&u.get(w,r);)f[2]++,w--;if(w<0)return NaN;for(;w>=0&&!u.get(w,r)&&f[1]<=l;)f[1]++,w--;if(w<0||f[1]>l)return NaN;for(;w>=0&&u.get(w,r)&&f[0]<=l;)f[0]++,w--;if(f[0]>l)return NaN;for(w=s+1;w<h&&u.get(w,r);)f[2]++,w++;if(w===h)return NaN;for(;w<h&&!u.get(w,r)&&f[3]<l;)f[3]++,w++;if(w===h||f[3]>=l)return NaN;for(;w<h&&u.get(w,r)&&f[4]<l;)f[4]++,w++;if(f[4]>=l)return NaN;const v=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(v-c)>=c?NaN:Xt.foundPatternCross(f)?Xt.centerFromEnd(f,w):NaN}handlePossibleCenter(s,r,l,c){const u=s[0]+s[1]+s[2]+s[3]+s[4];let h=Xt.centerFromEnd(s,l),f=this.crossCheckVertical(r,Math.floor(h),s[2],u);if(!isNaN(f)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(f),s[2],u),!isNaN(h)&&(!c||this.crossCheckDiagonal(Math.floor(f),Math.floor(h),s[2],u)))){const w=u/7;let v=!1;const E=this.possibleCenters;for(let R=0,I=E.length;R<I;R++){const L=E[R];if(L.aboutEquals(w,f,h)){E[R]=L.combineEstimate(f,h,w),v=!0;break}}if(!v){const R=new Mu(h,f,w);E.push(R),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(R)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const l of this.possibleCenters)if(l.getCount()>=Xt.CENTER_QUORUM)if(r==null)r=l;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-l.getX())-Math.abs(r.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,r=0;const l=this.possibleCenters.length;for(const h of this.possibleCenters)h.getCount()>=Xt.CENTER_QUORUM&&(s++,r+=h.getEstimatedModuleSize());if(s<3)return!1;const c=r/l;let u=0;for(const h of this.possibleCenters)u+=Math.abs(h.getEstimatedModuleSize()-c);return u<=.05*r}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new H;const r=this.possibleCenters;let l;if(s>3){let c=0,u=0;for(const w of this.possibleCenters){const v=w.getEstimatedModuleSize();c+=v,u+=v*v}l=c/s;let h=Math.sqrt(u/s-l*l);r.sort((w,v)=>{const E=Math.abs(v.getEstimatedModuleSize()-l),R=Math.abs(w.getEstimatedModuleSize()-l);return E<R?-1:E>R?1:0});const f=Math.max(.2*l,h);for(let w=0;w<r.length&&r.length>3;w++){const v=r[w];Math.abs(v.getEstimatedModuleSize()-l)>f&&(r.splice(w,1),w--)}}if(r.length>3){let c=0;for(const u of r)c+=u.getEstimatedModuleSize();l=c/r.length,r.sort((u,h)=>{if(h.getCount()===u.getCount()){const f=Math.abs(h.getEstimatedModuleSize()-l),w=Math.abs(u.getEstimatedModuleSize()-l);return f<w?1:f>w?-1:0}else return h.getCount()-u.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}Xt.CENTER_QUORUM=2,Xt.MIN_SKIP=3,Xt.MAX_MODULES=57;class Xa{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(G.NEED_RESULT_POINT_CALLBACK);const l=new Xt(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(l)}processFinderPatternInfo(s){const r=s.getTopLeft(),l=s.getTopRight(),c=s.getBottomLeft(),u=this.calculateModuleSize(r,l,c);if(u<1)throw new H("No pattern found in proccess finder.");const h=Xa.computeDimension(r,l,c,u),f=we.getProvisionalVersionForDimension(h),w=f.getDimensionForVersion()-7;let v=null;if(f.getAlignmentPatternCenters().length>0){const L=l.getX()-r.getX()+c.getX(),U=l.getY()-r.getY()+c.getY(),F=1-3/w,X=Math.floor(r.getX()+F*(L-r.getX())),K=Math.floor(r.getY()+F*(U-r.getY()));for(let ae=4;ae<=16;ae<<=1)try{v=this.findAlignmentInRegion(u,X,K,ae);break}catch(le){if(!(le instanceof H))throw le}}const E=Xa.createTransform(r,l,c,v,h),R=Xa.sampleGrid(this.image,E,h);let I;return v===null?I=[c,r,l]:I=[c,r,l,v],new ml(R,I)}static createTransform(s,r,l,c,u){const h=u-3.5;let f,w,v,E;return c!==null?(f=c.getX(),w=c.getY(),v=h-3,E=v):(f=r.getX()-s.getX()+l.getX(),w=r.getY()-s.getY()+l.getY(),v=h,E=h),ui.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,v,E,3.5,h,s.getX(),s.getY(),r.getX(),r.getY(),f,w,l.getX(),l.getY())}static sampleGrid(s,r,l){return ls.getInstance().sampleGridWithTransform(s,l,l,r)}static computeDimension(s,r,l,c){const u=Ue.round(ge.distance(s,r)/c),h=Ue.round(ge.distance(s,l)/c);let f=Math.floor((u+h)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new H("Dimensions could be not found.")}return f}calculateModuleSize(s,r,l){return(this.calculateModuleSizeOneWay(s,r)+this.calculateModuleSizeOneWay(s,l))/2}calculateModuleSizeOneWay(s,r){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(r.getX()),Math.floor(r.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(l)?c/7:isNaN(c)?l/7:(l+c)/14}sizeOfBlackWhiteBlackRunBothWays(s,r,l,c){let u=this.sizeOfBlackWhiteBlackRun(s,r,l,c),h=1,f=s-(l-s);f<0?(h=s/(s-f),f=0):f>=this.image.getWidth()&&(h=(this.image.getWidth()-1-s)/(f-s),f=this.image.getWidth()-1);let w=Math.floor(r-(c-r)*h);return h=1,w<0?(h=r/(r-w),w=0):w>=this.image.getHeight()&&(h=(this.image.getHeight()-1-r)/(w-r),w=this.image.getHeight()-1),f=Math.floor(s+(f-s)*h),u+=this.sizeOfBlackWhiteBlackRun(s,r,f,w),u-1}sizeOfBlackWhiteBlackRun(s,r,l,c){const u=Math.abs(c-r)>Math.abs(l-s);if(u){let L=s;s=r,r=L,L=l,l=c,c=L}const h=Math.abs(l-s),f=Math.abs(c-r);let w=-h/2;const v=s<l?1:-1,E=r<c?1:-1;let R=0;const I=l+v;for(let L=s,U=r;L!==I;L+=v){const F=u?U:L,X=u?L:U;if(R===1===this.image.get(F,X)){if(R===2)return Ue.distance(L,U,s,r);R++}if(w+=f,w>0){if(U===c)break;U+=E,w-=h}}return R===2?Ue.distance(l+v,c,s,r):NaN}findAlignmentInRegion(s,r,l,c){const u=Math.floor(c*s),h=Math.max(0,r-u),f=Math.min(this.image.getWidth()-1,r+u);if(f-h<s*3)throw new H("Alignment top exceeds estimated module size.");const w=Math.max(0,l-u),v=Math.min(this.image.getHeight()-1,l+u);if(v-w<s*3)throw new H("Alignment bottom exceeds estimated module size.");return new bl(this.image,h,w,f-h,v-w,s,this.resultPointCallback).find()}}class hs{constructor(){this.decoder=new Jx}getDecoder(){return this.decoder}decode(s,r){let l,c;if(r!=null&&r.get(G.PURE_BARCODE)!==void 0){const w=hs.extractPureBits(s.getBlackMatrix());l=this.decoder.decodeBitMatrix(w,r),c=hs.NO_POINTS}else{const w=new Xa(s.getBlackMatrix()).detect(r);l=this.decoder.decodeBitMatrix(w.getBits(),r),c=w.getPoints()}l.getOther()instanceof h0&&l.getOther().applyMirroredCorrection(c);const u=new ft(l.getText(),l.getRawBytes(),void 0,c,ye.QR_CODE,void 0),h=l.getByteSegments();h!==null&&u.putMetadata(Ht.BYTE_SEGMENTS,h);const f=l.getECLevel();return f!==null&&u.putMetadata(Ht.ERROR_CORRECTION_LEVEL,f),l.hasStructuredAppend()&&(u.putMetadata(Ht.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),u.putMetadata(Ht.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),u}reset(){}static extractPureBits(s){const r=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(r===null||l===null)throw new H;const c=this.moduleSize(r,s);let u=r[1],h=l[1],f=r[0],w=l[0];if(f>=w||u>=h)throw new H;if(h-u!==w-f&&(w=f+(h-u),w>=s.getWidth()))throw new H;const v=Math.round((w-f+1)/c),E=Math.round((h-u+1)/c);if(v<=0||E<=0)throw new H;if(E!==v)throw new H;const R=Math.floor(c/2);u+=R,f+=R;const I=f+Math.floor((v-1)*c)-w;if(I>0){if(I>R)throw new H;f-=I}const L=u+Math.floor((E-1)*c)-h;if(L>0){if(L>R)throw new H;u-=L}const U=new oe(v,E);for(let F=0;F<E;F++){const X=u+Math.floor(F*c);for(let K=0;K<v;K++)s.get(f+Math.floor(K*c),X)&&U.set(K,F)}return U}static moduleSize(s,r){const l=r.getHeight(),c=r.getWidth();let u=s[0],h=s[1],f=!0,w=0;for(;u<c&&h<l;){if(f!==r.get(u,h)){if(++w===5)break;f=!f}u++,h++}if(u===c||h===l)throw new H;return(u-s[0])/7}}hs.NO_POINTS=new Array;class Ae{PDF417Common(){}static getBitCountSum(s){return Ue.sum(s)}static toIntArray(s){if(s==null||!s.length)return Ae.EMPTY_INT_ARRAY;const r=new Int32Array(s.length);let l=0;for(const c of s)r[l++]=c;return r}static getCodeword(s){const r=A.binarySearch(Ae.SYMBOL_TABLE,s&262143);return r<0?-1:(Ae.CODEWORD_TABLE[r]-1)%Ae.NUMBER_OF_CODEWORDS}}Ae.NUMBER_OF_CODEWORDS=929,Ae.MAX_CODEWORDS_IN_BARCODE=Ae.NUMBER_OF_CODEWORDS-1,Ae.MIN_ROWS_IN_BARCODE=3,Ae.MAX_ROWS_IN_BARCODE=90,Ae.MODULES_IN_CODEWORD=17,Ae.MODULES_IN_STOP_PATTERN=18,Ae.BARS_IN_MODULE=8,Ae.EMPTY_INT_ARRAY=new Int32Array([]),Ae.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ae.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class t3{constructor(s,r){this.bits=s,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Ne{static detectMultiple(s,r,l){let c=s.getBlackMatrix(),u=Ne.detect(l,c);return u.length||(c=c.clone(),c.rotate180(),u=Ne.detect(l,c)),new t3(c,u)}static detect(s,r){const l=new Array;let c=0,u=0,h=!1;for(;c<r.getHeight();){const f=Ne.findVertices(r,c,u);if(f[0]==null&&f[3]==null){if(!h)break;h=!1,u=0;for(const w of l)w[1]!=null&&(c=Math.trunc(Math.max(c,w[1].getY()))),w[3]!=null&&(c=Math.max(c,Math.trunc(w[3].getY())));c+=Ne.ROW_STEP;continue}if(h=!0,l.push(f),!s)break;f[2]!=null?(u=Math.trunc(f[2].getX()),c=Math.trunc(f[2].getY())):(u=Math.trunc(f[4].getX()),c=Math.trunc(f[4].getY()))}return l}static findVertices(s,r,l){const c=s.getHeight(),u=s.getWidth(),h=new Array(8);return Ne.copyToResult(h,Ne.findRowsWithPattern(s,c,u,r,l,Ne.START_PATTERN),Ne.INDEXES_START_PATTERN),h[4]!=null&&(l=Math.trunc(h[4].getX()),r=Math.trunc(h[4].getY())),Ne.copyToResult(h,Ne.findRowsWithPattern(s,c,u,r,l,Ne.STOP_PATTERN),Ne.INDEXES_STOP_PATTERN),h}static copyToResult(s,r,l){for(let c=0;c<l.length;c++)s[l[c]]=r[c]}static findRowsWithPattern(s,r,l,c,u,h){const f=new Array(4);let w=!1;const v=new Int32Array(h.length);for(;c<r;c+=Ne.ROW_STEP){let R=Ne.findGuardPattern(s,u,c,l,!1,h,v);if(R!=null){for(;c>0;){const I=Ne.findGuardPattern(s,u,--c,l,!1,h,v);if(I!=null)R=I;else{c++;break}}f[0]=new ge(R[0],c),f[1]=new ge(R[1],c),w=!0;break}}let E=c+1;if(w){let R=0,I=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;E<r;E++){const L=Ne.findGuardPattern(s,I[0],E,l,!1,h,v);if(L!=null&&Math.abs(I[0]-L[0])<Ne.MAX_PATTERN_DRIFT&&Math.abs(I[1]-L[1])<Ne.MAX_PATTERN_DRIFT)I=L,R=0;else{if(R>Ne.SKIPPED_ROW_COUNT_MAX)break;R++}}E-=R+1,f[2]=new ge(I[0],E),f[3]=new ge(I[1],E)}return E-c<Ne.BARCODE_MIN_HEIGHT&&A.fill(f,null),f}static findGuardPattern(s,r,l,c,u,h,f){A.fillWithin(f,0,f.length,0);let w=r,v=0;for(;s.get(w,l)&&w>0&&v++<Ne.MAX_PIXEL_DRIFT;)w--;let E=w,R=0,I=h.length;for(let L=u;E<c;E++)if(s.get(E,l)!==L)f[R]++;else{if(R===I-1){if(Ne.patternMatchVariance(f,h,Ne.MAX_INDIVIDUAL_VARIANCE)<Ne.MAX_AVG_VARIANCE)return new Int32Array([w,E]);w+=f[0]+f[1],M.arraycopy(f,2,f,0,R-1),f[R-1]=0,f[R]=0,R--}else R++;f[R]=1,L=!L}return R===I-1&&Ne.patternMatchVariance(f,h,Ne.MAX_INDIVIDUAL_VARIANCE)<Ne.MAX_AVG_VARIANCE?new Int32Array([w,E-1]):null}static patternMatchVariance(s,r,l){let c=s.length,u=0,h=0;for(let v=0;v<c;v++)u+=s[v],h+=r[v];if(u<h)return 1/0;let f=u/h;l*=f;let w=0;for(let v=0;v<c;v++){let E=s[v],R=r[v]*f,I=E>R?E-R:R-E;if(I>l)return 1/0;w+=I}return w/u}}Ne.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ne.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ne.MAX_AVG_VARIANCE=.42,Ne.MAX_INDIVIDUAL_VARIANCE=.8,Ne.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ne.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ne.MAX_PIXEL_DRIFT=3,Ne.MAX_PATTERN_DRIFT=5,Ne.SKIPPED_ROW_COUNT_MAX=25,Ne.ROW_STEP=5,Ne.BARCODE_MIN_HEIGHT=10;class en{constructor(s,r){if(r.length===0)throw new y;this.field=s;let l=r.length;if(l>1&&r[0]===0){let c=1;for(;c<l&&r[c]===0;)c++;c===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-c),M.arraycopy(r,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let c=0;for(let u of this.coefficients)c=this.field.add(c,u);return c}let r=this.coefficients[0],l=this.coefficients.length;for(let c=1;c<l;c++)r=this.field.add(this.field.multiply(s,r),this.coefficients[c]);return r}add(s){if(!this.field.equals(s.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let r=this.coefficients,l=s.coefficients;if(r.length>l.length){let h=r;r=l,l=h}let c=new Int32Array(l.length),u=l.length-r.length;M.arraycopy(l,0,c,0,u);for(let h=u;h<l.length;h++)c[h]=this.field.add(r[h-u],l[h]);return new en(this.field,c)}subtract(s){if(!this.field.equals(s.field))throw new y("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof en?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new en(this.field,new Int32Array([0]));let r=this.coefficients,l=r.length,c=s.coefficients,u=c.length,h=new Int32Array(l+u-1);for(let f=0;f<l;f++){let w=r[f];for(let v=0;v<u;v++)h[f+v]=this.field.add(h[f+v],this.field.multiply(w,c[v]))}return new en(this.field,h)}negative(){let s=this.coefficients.length,r=new Int32Array(s);for(let l=0;l<s;l++)r[l]=this.field.subtract(0,this.coefficients[l]);return new en(this.field,r)}multiplyScalar(s){if(s===0)return new en(this.field,new Int32Array([0]));if(s===1)return this;let r=this.coefficients.length,l=new Int32Array(r);for(let c=0;c<r;c++)l[c]=this.field.multiply(this.coefficients[c],s);return new en(this.field,l)}multiplyByMonomial(s,r){if(s<0)throw new y;if(r===0)return new en(this.field,new Int32Array([0]));let l=this.coefficients.length,c=new Int32Array(l+s);for(let u=0;u<l;u++)c[u]=this.field.multiply(this.coefficients[u],r);return new en(this.field,c)}toString(){let s=new $;for(let r=this.getDegree();r>=0;r--){let l=this.getCoefficient(r);l!==0&&(l<0?(s.append(" - "),l=-l):s.length()>0&&s.append(" + "),(r===0||l!==1)&&s.append(l),r!==0&&(r===1?s.append("x"):(s.append("x^"),s.append(r))))}return s.toString()}}class n3{add(s,r){return(s+r)%this.modulus}subtract(s,r){return(this.modulus+s-r)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new y;return this.logTable[s]}inverse(s){if(s===0)throw new gl;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,r){return s===0||r===0?0:this.expTable[(this.logTable[s]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class ku extends n3{constructor(s,r){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let l=1;for(let c=0;c<s;c++)this.expTable[c]=l,l=l*r%s;for(let c=0;c<s-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new en(this,new Int32Array([0])),this.one=new en(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,r){if(s<0)throw new y;if(r===0)return this.zero;let l=new Int32Array(s+1);return l[0]=r,new en(this,l)}}ku.PDF417_GF=new ku(Ae.NUMBER_OF_CODEWORDS,3);class f0{constructor(){this.field=ku.PDF417_GF}decode(s,r,l){let c=new en(this.field,s),u=new Int32Array(r),h=!1;for(let U=r;U>0;U--){let F=c.evaluateAt(this.field.exp(U));u[r-U]=F,F!==0&&(h=!0)}if(!h)return 0;let f=this.field.getOne();if(l!=null)for(const U of l){let F=this.field.exp(s.length-1-U),X=new en(this.field,new Int32Array([this.field.subtract(0,F),1]));f=f.multiply(X)}let w=new en(this.field,u),v=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),w,r),E=v[0],R=v[1],I=this.findErrorLocations(E),L=this.findErrorMagnitudes(R,E,I);for(let U=0;U<I.length;U++){let F=s.length-1-this.field.log(I[U]);if(F<0)throw S.getChecksumInstance();s[F]=this.field.subtract(s[F],L[U])}return I.length}runEuclideanAlgorithm(s,r,l){if(s.getDegree()<r.getDegree()){let I=s;s=r,r=I}let c=s,u=r,h=this.field.getZero(),f=this.field.getOne();for(;u.getDegree()>=Math.round(l/2);){let I=c,L=h;if(c=u,h=f,c.isZero())throw S.getChecksumInstance();u=I;let U=this.field.getZero(),F=c.getCoefficient(c.getDegree()),X=this.field.inverse(F);for(;u.getDegree()>=c.getDegree()&&!u.isZero();){let K=u.getDegree()-c.getDegree(),ae=this.field.multiply(u.getCoefficient(u.getDegree()),X);U=U.add(this.field.buildMonomial(K,ae)),u=u.subtract(c.multiplyByMonomial(K,ae))}f=U.multiply(h).subtract(L).negative()}let w=f.getCoefficient(0);if(w===0)throw S.getChecksumInstance();let v=this.field.inverse(w),E=f.multiply(v),R=u.multiply(v);return[E,R]}findErrorLocations(s){let r=s.getDegree(),l=new Int32Array(r),c=0;for(let u=1;u<this.field.getSize()&&c<r;u++)s.evaluateAt(u)===0&&(l[c]=this.field.inverse(u),c++);if(c!==r)throw S.getChecksumInstance();return l}findErrorMagnitudes(s,r,l){let c=r.getDegree(),u=new Int32Array(c);for(let v=1;v<=c;v++)u[c-v]=this.field.multiply(v,r.getCoefficient(v));let h=new en(this.field,u),f=l.length,w=new Int32Array(f);for(let v=0;v<f;v++){let E=this.field.inverse(l[v]),R=this.field.subtract(0,s.evaluateAt(E)),I=this.field.inverse(h.evaluateAt(E));w[v]=this.field.multiply(R,I)}return w}}class Ks{constructor(s,r,l,c,u){s instanceof Ks?this.constructor_2(s):this.constructor_1(s,r,l,c,u)}constructor_1(s,r,l,c,u){const h=r==null||l==null,f=c==null||u==null;if(h&&f)throw new H;h?(r=new ge(0,c.getY()),l=new ge(0,u.getY())):f&&(c=new ge(s.getWidth()-1,r.getY()),u=new ge(s.getWidth()-1,l.getY())),this.image=s,this.topLeft=r,this.bottomLeft=l,this.topRight=c,this.bottomRight=u,this.minX=Math.trunc(Math.min(r.getX(),l.getX())),this.maxX=Math.trunc(Math.max(c.getX(),u.getX())),this.minY=Math.trunc(Math.min(r.getY(),c.getY())),this.maxY=Math.trunc(Math.max(l.getY(),u.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,r){return s==null?r:r==null?s:new Ks(s.image,s.topLeft,s.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(s,r,l){let c=this.topLeft,u=this.bottomLeft,h=this.topRight,f=this.bottomRight;if(s>0){let w=l?this.topLeft:this.topRight,v=Math.trunc(w.getY()-s);v<0&&(v=0);let E=new ge(w.getX(),v);l?c=E:h=E}if(r>0){let w=l?this.bottomLeft:this.bottomRight,v=Math.trunc(w.getY()+r);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);let E=new ge(w.getX(),v);l?u=E:f=E}return new Ks(this.image,c,u,h,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class i3{constructor(s,r,l,c){this.columnCount=s,this.errorCorrectionLevel=c,this.rowCountUpperPart=r,this.rowCountLowerPart=l,this.rowCount=r+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Wa{constructor(){this.buffer=""}static form(s,r){let l=-1;function c(h,f,w,v,E,R){if(h==="%%")return"%";if(r[++l]===void 0)return;h=v?parseInt(v.substr(1)):void 0;let I=E?parseInt(E.substr(1)):void 0,L;switch(R){case"s":L=r[l];break;case"c":L=r[l][0];break;case"f":L=parseFloat(r[l]).toFixed(h);break;case"p":L=parseFloat(r[l]).toPrecision(h);break;case"e":L=parseFloat(r[l]).toExponential(h);break;case"x":L=parseInt(r[l]).toString(I||16);break;case"d":L=parseFloat(parseInt(r[l],I||10).toPrecision(h)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(I);let U=parseInt(w),F=w&&w[0]+""=="0"?"0":" ";for(;L.length<U;)L=f!==void 0?L+F:F+L;return L}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(u,c)}format(s,...r){this.buffer+=Wa.form(s,r)}toString(){return this.buffer}}class Ya{constructor(s){this.boundingBox=new Ks(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let r=this.getCodeword(s);if(r!=null)return r;for(let l=1;l<Ya.MAX_NEARBY_DISTANCE;l++){let c=this.imageRowToCodewordIndex(s)-l;if(c>=0&&(r=this.codewords[c],r!=null)||(c=this.imageRowToCodewordIndex(s)+l,c<this.codewords.length&&(r=this.codewords[c],r!=null)))return r}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,r){this.codewords[this.imageRowToCodewordIndex(s)]=r}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new Wa;let r=0;for(const l of this.codewords){if(l==null){s.format("%3d:    |   %n",r++);continue}s.format("%3d: %3d|%3d%n",r++,l.getRowNumber(),l.getValue())}return s.toString()}}Ya.MAX_NEARBY_DISTANCE=5;class Qa{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let r=this.values.get(s);r==null&&(r=0),r++,this.values.set(s,r)}getValue(){let s=-1,r=new Array;for(const[l,c]of this.values.entries()){const u={getKey:()=>l,getValue:()=>c};u.getValue()>s?(s=u.getValue(),r=[],r.push(u.getKey())):u.getValue()===s&&r.push(u.getKey())}return Ae.toIntArray(r)}getConfidence(s){return this.values.get(s)}}class g0 extends Ya{constructor(s,r){super(s),this._isLeft=r}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,s);let l=this.getBoundingBox(),c=this._isLeft?l.getTopLeft():l.getTopRight(),u=this._isLeft?l.getBottomLeft():l.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),w=-1,v=1,E=0;for(let R=h;R<f;R++){if(r[R]==null)continue;let I=r[R],L=I.getRowNumber()-w;if(L===0)E++;else if(L===1)v=Math.max(v,E),E=1,w=I.getRowNumber();else if(L<0||I.getRowNumber()>=s.getRowCount()||L>R)r[R]=null;else{let U;v>2?U=(v-2)*L:U=L;let F=U>=R;for(let X=1;X<=U&&!F;X++)F=r[R-X]!=null;F?r[R]=null:(w=I.getRowNumber(),E=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let r=new Int32Array(s.getRowCount());for(let l of this.getCodewords())if(l!=null){let c=l.getRowNumber();if(c>=r.length)continue;r[c]++}return r}adjustIncompleteIndicatorColumnRowNumbers(s){let r=this.getBoundingBox(),l=this._isLeft?r.getTopLeft():r.getTopRight(),c=this._isLeft?r.getBottomLeft():r.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),f=this.getCodewords(),w=-1;for(let v=u;v<h;v++){if(f[v]==null)continue;let E=f[v];E.setRowNumberAsRowIndicatorColumn();let R=E.getRowNumber()-w;R===0||(R===1?w=E.getRowNumber():E.getRowNumber()>=s.getRowCount()?f[v]=null:w=E.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),r=new Qa,l=new Qa,c=new Qa,u=new Qa;for(let f of s){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let w=f.getValue()%30,v=f.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:l.setValue(w*3+1);break;case 1:u.setValue(w/3),c.setValue(w%3);break;case 2:r.setValue(w+1);break}}if(r.getValue().length===0||l.getValue().length===0||c.getValue().length===0||u.getValue().length===0||r.getValue()[0]<1||l.getValue()[0]+c.getValue()[0]<Ae.MIN_ROWS_IN_BARCODE||l.getValue()[0]+c.getValue()[0]>Ae.MAX_ROWS_IN_BARCODE)return null;let h=new i3(r.getValue()[0],l.getValue()[0],c.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(s,h),h}removeIncorrectCodewords(s,r){for(let l=0;l<s.length;l++){let c=s[l];if(s[l]==null)continue;let u=c.getValue()%30,h=c.getRowNumber();if(h>r.getRowCount()){s[l]=null;continue}switch(this._isLeft||(h+=2),h%3){case 0:u*3+1!==r.getRowCountUpperPart()&&(s[l]=null);break;case 1:(Math.trunc(u/3)!==r.getErrorCorrectionLevel()||u%3!==r.getRowCountLowerPart())&&(s[l]=null);break;case 2:u+1!==r.getColumnCount()&&(s[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+"\n"+super.toString()}}class Ka{constructor(s,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=Ae.MAX_CODEWORDS_IN_BARCODE,r;do r=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let l=this.detectionResultColumns[r].getCodewords();for(let c=0;c<l.length;c++)l[c]!=null&&(l[c].hasValidRowNumber()||this.adjustRowNumbers(r,c,l))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<s.length;l++)if(s[l]!=null&&r[l]!=null&&s[l].getRowNumber()===r[l].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let u=this.detectionResultColumns[c].getCodewords()[l];u!=null&&(u.setRowNumber(s[l].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<r.length;l++){if(r[l]==null)continue;let c=r[l].getRowNumber(),u=0;for(let h=this.barcodeColumnCount+1;h>0&&u<this.ADJUST_ROW_NUMBER_SKIP;h--){let f=this.detectionResultColumns[h].getCodewords()[l];f!=null&&(u=Ka.adjustRowNumberIfValid(c,u,f),f.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,r=this.detectionResultColumns[0].getCodewords();for(let l=0;l<r.length;l++){if(r[l]==null)continue;let c=r[l].getRowNumber(),u=0;for(let h=1;h<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;h++){let f=this.detectionResultColumns[h].getCodewords()[l];f!=null&&(u=Ka.adjustRowNumberIfValid(c,u,f),f.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,r,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(s)?(l.setRowNumber(s),r=0):++r),r}adjustRowNumbers(s,r,l){if(!this.detectionResultColumns[s-1])return;let c=l[r],u=this.detectionResultColumns[s-1].getCodewords(),h=u;this.detectionResultColumns[s+1]!=null&&(h=this.detectionResultColumns[s+1].getCodewords());let f=new Array(14);f[2]=u[r],f[3]=h[r],r>0&&(f[0]=l[r-1],f[4]=u[r-1],f[5]=h[r-1]),r>1&&(f[8]=l[r-2],f[10]=u[r-2],f[11]=h[r-2]),r<l.length-1&&(f[1]=l[r+1],f[6]=u[r+1],f[7]=h[r+1]),r<l.length-2&&(f[9]=l[r+2],f[12]=u[r+2],f[13]=h[r+2]);for(let w of f)if(Ka.adjustRowNumber(c,w))return}static adjustRowNumber(s,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===s.getBucket()?(s.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,r){this.detectionResultColumns[s]=r}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new Wa;for(let l=0;l<s.getCodewords().length;l++){r.format("CW %3d:",l);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){r.format("    |   ");continue}let u=this.detectionResultColumns[c].getCodewords()[l];if(u==null){r.format("    |   ");continue}r.format(" %3d|%3d",u.getRowNumber(),u.getValue())}r.format("%n")}return r.toString()}}class Za{constructor(s,r,l,c){this.rowNumber=Za.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(r),this.bucket=Math.trunc(l),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==Za.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}Za.BARCODE_ROW_UNKNOWN=-1;class Cn{static initialize(){for(let s=0;s<Ae.SYMBOL_TABLE.length;s++){let r=Ae.SYMBOL_TABLE[s],l=r&1;for(let c=0;c<Ae.BARS_IN_MODULE;c++){let u=0;for(;(r&1)===l;)u+=1,r>>=1;l=r&1,Cn.RATIOS_TABLE[s]||(Cn.RATIOS_TABLE[s]=new Array(Ae.BARS_IN_MODULE)),Cn.RATIOS_TABLE[s][Ae.BARS_IN_MODULE-c-1]=Math.fround(u/Ae.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let r=Cn.getDecodedCodewordValue(Cn.sampleBitCounts(s));return r!==-1?r:Cn.getClosestDecodedValue(s)}static sampleBitCounts(s){let r=Ue.sum(s),l=new Int32Array(Ae.BARS_IN_MODULE),c=0,u=0;for(let h=0;h<Ae.MODULES_IN_CODEWORD;h++){let f=r/(2*Ae.MODULES_IN_CODEWORD)+h*r/Ae.MODULES_IN_CODEWORD;u+s[c]<=f&&(u+=s[c],c++),l[c]++}return l}static getDecodedCodewordValue(s){let r=Cn.getBitValue(s);return Ae.getCodeword(r)===-1?-1:r}static getBitValue(s){let r=0;for(let l=0;l<s.length;l++)for(let c=0;c<s[l];c++)r=r<<1|(l%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(s){let r=Ue.sum(s),l=new Array(Ae.BARS_IN_MODULE);if(r>1)for(let h=0;h<l.length;h++)l[h]=Math.fround(s[h]/r);let c=pl.MAX_VALUE,u=-1;this.bSymbolTableReady||Cn.initialize();for(let h=0;h<Cn.RATIOS_TABLE.length;h++){let f=0,w=Cn.RATIOS_TABLE[h];for(let v=0;v<Ae.BARS_IN_MODULE;v++){let E=Math.fround(w[v]-l[v]);if(f+=Math.fround(E*E),f>=c)break}f<c&&(c=f,u=Ae.SYMBOL_TABLE[h])}return u}}Cn.bSymbolTableReady=!1,Cn.RATIOS_TABLE=new Array(Ae.SYMBOL_TABLE.length).map(O=>new Array(Ae.BARS_IN_MODULE));class p0{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class m0{static parseLong(s,r=void 0){return parseInt(s,r)}}class x0 extends x{}x0.kind="NullPointerException";class s3{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,r,l){if(s==null)throw new x0;if(r<0||r>s.length||l<0||r+l>s.length||r+l<0)throw new B;if(l===0)return;for(let c=0;c<l;c++)this.write(s[r+c])}flush(){}close(){}}class r3 extends x{}class a3 extends s3{constructor(s=32){if(super(),this.count=0,s<0)throw new y("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let l=this.buf.length<<1;if(l-s<0&&(l=s),l<0){if(s<0)throw new r3;l=_.MAX_VALUE}this.buf=A.copyOfUint8Array(this.buf,l)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,r,l){if(r<0||r>s.length||l<0||r+l-s.length>0)throw new B;this.ensureCapacity(this.count+l),M.arraycopy(s,r,this.buf,this.count,l),this.count+=l}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return A.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var Qe;(function(O){O[O.ALPHA=0]="ALPHA",O[O.LOWER=1]="LOWER",O[O.MIXED=2]="MIXED",O[O.PUNCT=3]="PUNCT",O[O.ALPHA_SHIFT=4]="ALPHA_SHIFT",O[O.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Qe||(Qe={}));function w0(){if(typeof window<"u")return window.BigInt||null;if(typeof eo<"u")return eo.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let El;function fs(O){if(typeof El>"u"&&(El=w0()),El===null)throw new Error("BigInt is not supported!");return El(O)}function o3(){let O=[];O[0]=fs(1);let s=fs(900);O[1]=s;for(let r=2;r<16;r++)O[r]=O[r-1]*s;return O}class Q{static decode(s,r){let l=new $(""),c=V.ISO8859_1;l.enableDecoding(c);let u=1,h=s[u++],f=new p0;for(;u<s[0];){switch(h){case Q.TEXT_COMPACTION_MODE_LATCH:u=Q.textCompaction(s,u,l);break;case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:u=Q.byteCompaction(h,s,c,u,l);break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(s[u++]);break;case Q.NUMERIC_COMPACTION_MODE_LATCH:u=Q.numericCompaction(s,u,l);break;case Q.ECI_CHARSET:V.getCharacterSetECIByValue(s[u++]);break;case Q.ECI_GENERAL_PURPOSE:u+=2;break;case Q.ECI_USER_DEFINED:u++;break;case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=Q.decodeMacroBlock(s,u,f);break;case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:throw new z;default:u--,u=Q.textCompaction(s,u,l);break}if(u<s.length)h=s[u++];else throw z.getFormatInstance()}if(l.length()===0)throw z.getFormatInstance();let w=new Va(null,l.toString(),null,r);return w.setOther(f),w}static decodeMacroBlock(s,r,l){if(r+Q.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw z.getFormatInstance();let c=new Int32Array(Q.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<Q.NUMBER_OF_SEQUENCE_CODEWORDS;f++,r++)c[f]=s[r];l.setSegmentIndex(_.parseInt(Q.decodeBase900toBase10(c,Q.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new $;r=Q.textCompaction(s,r,u),l.setFileId(u.toString());let h=-1;for(s[r]===Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=r+1);r<s[0];)switch(s[r]){case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,s[r]){case Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new $;r=Q.textCompaction(s,r+1,f),l.setFileName(f.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let w=new $;r=Q.textCompaction(s,r+1,w),l.setSender(w.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let v=new $;r=Q.textCompaction(s,r+1,v),l.setAddressee(v.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let E=new $;r=Q.numericCompaction(s,r+1,E),l.setSegmentCount(_.parseInt(E.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let R=new $;r=Q.numericCompaction(s,r+1,R),l.setTimestamp(m0.parseLong(R.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let I=new $;r=Q.numericCompaction(s,r+1,I),l.setChecksum(_.parseInt(I.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let L=new $;r=Q.numericCompaction(s,r+1,L),l.setFileSize(m0.parseLong(L.toString()));break;default:throw z.getFormatInstance()}break;case Q.MACRO_PDF417_TERMINATOR:r++,l.setLastSegment(!0);break;default:throw z.getFormatInstance()}if(h!==-1){let f=r-h;l.isLastSegment()&&f--,l.setOptionalData(A.copyOfRange(s,h,h+f))}return r}static textCompaction(s,r,l){let c=new Int32Array((s[0]-r)*2),u=new Int32Array((s[0]-r)*2),h=0,f=!1;for(;r<s[0]&&!f;){let w=s[r++];if(w<Q.TEXT_COMPACTION_MODE_LATCH)c[h]=w/30,c[h+1]=w%30,h+=2;else switch(w){case Q.TEXT_COMPACTION_MODE_LATCH:c[h++]=Q.TEXT_COMPACTION_MODE_LATCH;break;case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:r--,f=!0;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[h]=Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,w=s[r++],u[h]=w,h++;break}}return Q.decodeTextCompaction(c,u,h,l),r}static decodeTextCompaction(s,r,l,c){let u=Qe.ALPHA,h=Qe.ALPHA,f=0;for(;f<l;){let w=s[f],v="";switch(u){case Qe.ALPHA:if(w<26)v=String.fromCharCode(65+w);else switch(w){case 26:v=" ";break;case Q.LL:u=Qe.LOWER;break;case Q.ML:u=Qe.MIXED;break;case Q.PS:h=u,u=Qe.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(r[f]);break;case Q.TEXT_COMPACTION_MODE_LATCH:u=Qe.ALPHA;break}break;case Qe.LOWER:if(w<26)v=String.fromCharCode(97+w);else switch(w){case 26:v=" ";break;case Q.AS:h=u,u=Qe.ALPHA_SHIFT;break;case Q.ML:u=Qe.MIXED;break;case Q.PS:h=u,u=Qe.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(r[f]);break;case Q.TEXT_COMPACTION_MODE_LATCH:u=Qe.ALPHA;break}break;case Qe.MIXED:if(w<Q.PL)v=Q.MIXED_CHARS[w];else switch(w){case Q.PL:u=Qe.PUNCT;break;case 26:v=" ";break;case Q.LL:u=Qe.LOWER;break;case Q.AL:u=Qe.ALPHA;break;case Q.PS:h=u,u=Qe.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(r[f]);break;case Q.TEXT_COMPACTION_MODE_LATCH:u=Qe.ALPHA;break}break;case Qe.PUNCT:if(w<Q.PAL)v=Q.PUNCT_CHARS[w];else switch(w){case Q.PAL:u=Qe.ALPHA;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(r[f]);break;case Q.TEXT_COMPACTION_MODE_LATCH:u=Qe.ALPHA;break}break;case Qe.ALPHA_SHIFT:if(u=h,w<26)v=String.fromCharCode(65+w);else switch(w){case 26:v=" ";break;case Q.TEXT_COMPACTION_MODE_LATCH:u=Qe.ALPHA;break}break;case Qe.PUNCT_SHIFT:if(u=h,w<Q.PAL)v=Q.PUNCT_CHARS[w];else switch(w){case Q.PAL:u=Qe.ALPHA;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(r[f]);break;case Q.TEXT_COMPACTION_MODE_LATCH:u=Qe.ALPHA;break}break}v!==""&&c.append(v),f++}}static byteCompaction(s,r,l,c,u){let h=new a3,f=0,w=0,v=!1;switch(s){case Q.BYTE_COMPACTION_MODE_LATCH:let E=new Int32Array(6),R=r[c++];for(;c<r[0]&&!v;)switch(E[f++]=R,w=900*w+R,R=r[c++],R){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:c--,v=!0;break;default:if(f%5===0&&f>0){for(let I=0;I<6;++I)h.write(Number(fs(w)>>fs(8*(5-I))));w=0,f=0}break}c===r[0]&&R<Q.TEXT_COMPACTION_MODE_LATCH&&(E[f++]=R);for(let I=0;I<f;I++)h.write(E[I]);break;case Q.BYTE_COMPACTION_MODE_LATCH_6:for(;c<r[0]&&!v;){let I=r[c++];if(I<Q.TEXT_COMPACTION_MODE_LATCH)f++,w=900*w+I;else switch(I){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:c--,v=!0;break}if(f%5===0&&f>0){for(let L=0;L<6;++L)h.write(Number(fs(w)>>fs(8*(5-L))));w=0,f=0}}break}return u.append(ee.decode(h.toByteArray(),l)),c}static numericCompaction(s,r,l){let c=0,u=!1,h=new Int32Array(Q.MAX_NUMERIC_CODEWORDS);for(;r<s[0]&&!u;){let f=s[r++];if(r===s[0]&&(u=!0),f<Q.TEXT_COMPACTION_MODE_LATCH)h[c]=f,c++;else switch(f){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:r--,u=!0;break}(c%Q.MAX_NUMERIC_CODEWORDS===0||f===Q.NUMERIC_COMPACTION_MODE_LATCH||u)&&c>0&&(l.append(Q.decodeBase900toBase10(h,c)),c=0)}return r}static decodeBase900toBase10(s,r){let l=fs(0);for(let u=0;u<r;u++)l+=Q.EXP900[r-u-1]*fs(s[u]);let c=l.toString();if(c.charAt(0)!=="1")throw new z;return c.substring(1)}}Q.TEXT_COMPACTION_MODE_LATCH=900,Q.BYTE_COMPACTION_MODE_LATCH=901,Q.NUMERIC_COMPACTION_MODE_LATCH=902,Q.BYTE_COMPACTION_MODE_LATCH_6=924,Q.ECI_USER_DEFINED=925,Q.ECI_GENERAL_PURPOSE=926,Q.ECI_CHARSET=927,Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Q.MACRO_PDF417_TERMINATOR=922,Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Q.MAX_NUMERIC_CODEWORDS=15,Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Q.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Q.PL=25,Q.LL=27,Q.AS=27,Q.ML=28,Q.AL=28,Q.PS=29,Q.PAL=29,Q.PUNCT_CHARS=";<>@[\\]_`~!\r	,:\n-.$/\"|*()?{}'",Q.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Q.EXP900=w0()?o3():[],Q.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Me{constructor(){}static decode(s,r,l,c,u,h,f){let w=new Ks(s,r,l,c,u),v=null,E=null,R;for(let U=!0;;U=!1){if(r!=null&&(v=Me.getRowIndicatorColumn(s,w,r,!0,h,f)),c!=null&&(E=Me.getRowIndicatorColumn(s,w,c,!1,h,f)),R=Me.merge(v,E),R==null)throw H.getNotFoundInstance();let F=R.getBoundingBox();if(U&&F!=null&&(F.getMinY()<w.getMinY()||F.getMaxY()>w.getMaxY()))w=F;else break}R.setBoundingBox(w);let I=R.getBarcodeColumnCount()+1;R.setDetectionResultColumn(0,v),R.setDetectionResultColumn(I,E);let L=v!=null;for(let U=1;U<=I;U++){let F=L?U:I-U;if(R.getDetectionResultColumn(F)!==void 0)continue;let X;F===0||F===I?X=new g0(w,F===0):X=new Ya(w),R.setDetectionResultColumn(F,X);let K=-1,ae=K;for(let le=w.getMinY();le<=w.getMaxY();le++){if(K=Me.getStartColumn(R,F,le,L),K<0||K>w.getMaxX()){if(ae===-1)continue;K=ae}let ne=Me.detectCodeword(s,w.getMinX(),w.getMaxX(),L,K,le,h,f);ne!=null&&(X.setCodeword(le,ne),ae=K,h=Math.min(h,ne.getWidth()),f=Math.max(f,ne.getWidth()))}}return Me.createDecoderResult(R)}static merge(s,r){if(s==null&&r==null)return null;let l=Me.getBarcodeMetadata(s,r);if(l==null)return null;let c=Ks.merge(Me.adjustBoundingBox(s),Me.adjustBoundingBox(r));return new Ka(l,c)}static adjustBoundingBox(s){if(s==null)return null;let r=s.getRowHeights();if(r==null)return null;let l=Me.getMax(r),c=0;for(let f of r)if(c+=l-f,f>0)break;let u=s.getCodewords();for(let f=0;c>0&&u[f]==null;f++)c--;let h=0;for(let f=r.length-1;f>=0&&(h+=l-r[f],!(r[f]>0));f--);for(let f=u.length-1;h>0&&u[f]==null;f--)h--;return s.getBoundingBox().addMissingRows(c,h,s.isLeft())}static getMax(s){let r=-1;for(let l of s)r=Math.max(r,l);return r}static getBarcodeMetadata(s,r){let l;if(s==null||(l=s.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let c;return r==null||(c=r.getBarcodeMetadata())==null?l:l.getColumnCount()!==c.getColumnCount()&&l.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&l.getRowCount()!==c.getRowCount()?null:l}static getRowIndicatorColumn(s,r,l,c,u,h){let f=new g0(r,c);for(let w=0;w<2;w++){let v=w===0?1:-1,E=Math.trunc(Math.trunc(l.getX()));for(let R=Math.trunc(Math.trunc(l.getY()));R<=r.getMaxY()&&R>=r.getMinY();R+=v){let I=Me.detectCodeword(s,0,s.getWidth(),c,E,R,u,h);I!=null&&(f.setCodeword(R,I),c?E=I.getStartX():E=I.getEndX())}}return f}static adjustCodewordCount(s,r){let l=r[0][1],c=l.getValue(),u=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-Me.getNumberOfECCodeWords(s.getBarcodeECLevel());if(c.length===0){if(u<1||u>Ae.MAX_CODEWORDS_IN_BARCODE)throw H.getNotFoundInstance();l.setValue(u)}else c[0]!==u&&l.setValue(u)}static createDecoderResult(s){let r=Me.createBarcodeMatrix(s);Me.adjustCodewordCount(s,r);let l=new Array,c=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),u=[],h=new Array;for(let w=0;w<s.getBarcodeRowCount();w++)for(let v=0;v<s.getBarcodeColumnCount();v++){let E=r[w][v+1].getValue(),R=w*s.getBarcodeColumnCount()+v;E.length===0?l.push(R):E.length===1?c[R]=E[0]:(h.push(R),u.push(E))}let f=new Array(u.length);for(let w=0;w<f.length;w++)f[w]=u[w];return Me.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),c,Ae.toIntArray(l),Ae.toIntArray(h),f)}static createDecoderResultFromAmbiguousValues(s,r,l,c,u){let h=new Int32Array(c.length),f=100;for(;f-- >0;){for(let w=0;w<h.length;w++)r[c[w]]=u[w][h[w]];try{return Me.decodeCodewords(r,s,l)}catch(w){if(!(w instanceof S))throw w}if(h.length===0)throw S.getChecksumInstance();for(let w=0;w<h.length;w++)if(h[w]<u[w].length-1){h[w]++;break}else if(h[w]=0,w===h.length-1)throw S.getChecksumInstance()}throw S.getChecksumInstance()}static createBarcodeMatrix(s){let r=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let c=0;c<r.length;c++)for(let u=0;u<r[c].length;u++)r[c][u]=new Qa;let l=0;for(let c of s.getDetectionResultColumns()){if(c!=null){for(let u of c.getCodewords())if(u!=null){let h=u.getRowNumber();if(h>=0){if(h>=r.length)continue;r[h][l].setValue(u.getValue())}}}l++}return r}static isValidBarcodeColumn(s,r){return r>=0&&r<=s.getBarcodeColumnCount()+1}static getStartColumn(s,r,l,c){let u=c?1:-1,h=null;if(Me.isValidBarcodeColumn(s,r-u)&&(h=s.getDetectionResultColumn(r-u).getCodeword(l)),h!=null)return c?h.getEndX():h.getStartX();if(h=s.getDetectionResultColumn(r).getCodewordNearby(l),h!=null)return c?h.getStartX():h.getEndX();if(Me.isValidBarcodeColumn(s,r-u)&&(h=s.getDetectionResultColumn(r-u).getCodewordNearby(l)),h!=null)return c?h.getEndX():h.getStartX();let f=0;for(;Me.isValidBarcodeColumn(s,r-u);){r-=u;for(let w of s.getDetectionResultColumn(r).getCodewords())if(w!=null)return(c?w.getEndX():w.getStartX())+u*f*(w.getEndX()-w.getStartX());f++}return c?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,r,l,c,u,h,f,w){u=Me.adjustCodewordStartColumn(s,r,l,c,u,h);let v=Me.getModuleBitCount(s,r,l,c,u,h);if(v==null)return null;let E,R=Ue.sum(v);if(c)E=u+R;else{for(let U=0;U<v.length/2;U++){let F=v[U];v[U]=v[v.length-1-U],v[v.length-1-U]=F}E=u,u=E-R}if(!Me.checkCodewordSkew(R,f,w))return null;let I=Cn.getDecodedValue(v),L=Ae.getCodeword(I);return L===-1?null:new Za(u,E,Me.getCodewordBucketNumber(I),L)}static getModuleBitCount(s,r,l,c,u,h){let f=u,w=new Int32Array(8),v=0,E=c?1:-1,R=c;for(;(c?f<l:f>=r)&&v<w.length;)s.get(f,h)===R?(w[v]++,f+=E):(v++,R=!R);return v===w.length||f===(c?l:r)&&v===w.length-1?w:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,r,l,c,u,h){let f=u,w=c?-1:1;for(let v=0;v<2;v++){for(;(c?f>=r:f<l)&&c===s.get(f,h);){if(Math.abs(u-f)>Me.CODEWORD_SKEW_SIZE)return u;f+=w}w=-w,c=!c}return f}static checkCodewordSkew(s,r,l){return r-Me.CODEWORD_SKEW_SIZE<=s&&s<=l+Me.CODEWORD_SKEW_SIZE}static decodeCodewords(s,r,l){if(s.length===0)throw z.getFormatInstance();let c=1<<r+1,u=Me.correctErrors(s,l,c);Me.verifyCodewordCount(s,c);let h=Q.decode(s,""+r);return h.setErrorsCorrected(u),h.setErasures(l.length),h}static correctErrors(s,r,l){if(r!=null&&r.length>l/2+Me.MAX_ERRORS||l<0||l>Me.MAX_EC_CODEWORDS)throw S.getChecksumInstance();return Me.errorCorrection.decode(s,l,r)}static verifyCodewordCount(s,r){if(s.length<4)throw z.getFormatInstance();let l=s[0];if(l>s.length)throw z.getFormatInstance();if(l===0)if(r<s.length)s[0]=s.length-r;else throw z.getFormatInstance()}static getBitCountForCodeword(s){let r=new Int32Array(8),l=0,c=r.length-1;for(;!((s&1)!==l&&(l=s&1,c--,c<0));)r[c]++,s>>=1;return r}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return Me.getCodewordBucketNumber(Me.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let r=new Wa;for(let l=0;l<s.length;l++){r.format("Row %2d: ",l);for(let c=0;c<s[l].length;c++){let u=s[l][c];u.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}r.format("%n")}return r.toString()}}Me.CODEWORD_SKEW_SIZE=2,Me.MAX_ERRORS=3,Me.MAX_EC_CODEWORDS=512,Me.errorCorrection=new f0;class tn{decode(s,r=null){let l=tn.decode(s,r,!1);if(l==null||l.length===0||l[0]==null)throw H.getNotFoundInstance();return l[0]}decodeMultiple(s,r=null){try{return tn.decode(s,r,!0)}catch(l){throw l instanceof z||l instanceof S?H.getNotFoundInstance():l}}static decode(s,r,l){const c=new Array,u=Ne.detectMultiple(s,r,l);for(const h of u.getPoints()){const f=Me.decode(u.getBits(),h[4],h[5],h[6],h[7],tn.getMinCodewordWidth(h),tn.getMaxCodewordWidth(h)),w=new ft(f.getText(),f.getRawBytes(),void 0,h,ye.PDF_417);w.putMetadata(Ht.ERROR_CORRECTION_LEVEL,f.getECLevel());const v=f.getOther();v!=null&&w.putMetadata(Ht.PDF417_EXTRA_METADATA,v),c.push(w)}return c.map(h=>h)}static getMaxWidth(s,r){return s==null||r==null?0:Math.trunc(Math.abs(s.getX()-r.getX()))}static getMinWidth(s,r){return s==null||r==null?_.MAX_VALUE:Math.trunc(Math.abs(s.getX()-r.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(tn.getMaxWidth(s[0],s[4]),tn.getMaxWidth(s[6],s[2])*Ae.MODULES_IN_CODEWORD/Ae.MODULES_IN_STOP_PATTERN),Math.max(tn.getMaxWidth(s[1],s[5]),tn.getMaxWidth(s[7],s[3])*Ae.MODULES_IN_CODEWORD/Ae.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(tn.getMinWidth(s[0],s[4]),tn.getMinWidth(s[6],s[2])*Ae.MODULES_IN_CODEWORD/Ae.MODULES_IN_STOP_PATTERN),Math.min(tn.getMinWidth(s[1],s[5]),tn.getMinWidth(s[7],s[3])*Ae.MODULES_IN_CODEWORD/Ae.MODULES_IN_STOP_PATTERN)))}reset(){}}class Al extends x{}Al.kind="ReaderException";class v0{constructor(s,r){this.verbose=s===!0,r&&this.setHints(r)}decode(s,r){return r&&this.setHints(r),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const r=!i(s)&&s.get(G.TRY_HARDER)===!0,l=i(s)?null:s.get(G.POSSIBLE_FORMATS),c=new Array;if(!i(l)){const u=l.some(h=>h===ye.UPC_A||h===ye.UPC_E||h===ye.EAN_13||h===ye.EAN_8||h===ye.CODABAR||h===ye.CODE_39||h===ye.CODE_93||h===ye.CODE_128||h===ye.ITF||h===ye.RSS_14||h===ye.RSS_EXPANDED);u&&!r&&c.push(new jr(s,this.verbose)),l.includes(ye.QR_CODE)&&c.push(new hs),l.includes(ye.DATA_MATRIX)&&c.push(new ds),l.includes(ye.AZTEC)&&c.push(new xl),l.includes(ye.PDF_417)&&c.push(new tn),u&&r&&c.push(new jr(s,this.verbose))}c.length===0&&(r||c.push(new jr(s,this.verbose)),c.push(new hs),c.push(new ds),c.push(new xl),c.push(new tn),r&&c.push(new jr(s,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new Al("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(s,this.hints)}catch(l){if(l instanceof Al)continue}throw new H("No MultiFormat Readers were able to detect the code.")}}class l3 extends ci{constructor(s=null,r=500){const l=new v0;l.setHints(s),super(l,r)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class c3 extends ci{constructor(s=500){super(new tn,s)}}class u3 extends ci{constructor(s=500){super(new hs,s)}}var ju;(function(O){O[O.ERROR_CORRECTION=0]="ERROR_CORRECTION",O[O.CHARACTER_SET=1]="CHARACTER_SET",O[O.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",O[O.MIN_SIZE=3]="MIN_SIZE",O[O.MAX_SIZE=4]="MAX_SIZE",O[O.MARGIN=5]="MARGIN",O[O.PDF417_COMPACT=6]="PDF417_COMPACT",O[O.PDF417_COMPACTION=7]="PDF417_COMPACTION",O[O.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",O[O.AZTEC_LAYERS=9]="AZTEC_LAYERS",O[O.QR_VERSION=10]="QR_VERSION"})(ju||(ju={}));var Pt=ju;class Bu{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new En(s,Int32Array.from([1])))}buildGenerator(s){const r=this.cachedGenerators;if(s>=r.length){let l=r[r.length-1];const c=this.field;for(let u=r.length;u<=s;u++){const h=l.multiply(new En(c,Int32Array.from([1,c.exp(u-1+c.getGeneratorBase())])));r.push(h),l=h}}return r[s]}encode(s,r){if(r===0)throw new y("No error correction bytes");const l=s.length-r;if(l<=0)throw new y("No data bytes provided");const c=this.buildGenerator(r),u=new Int32Array(l);M.arraycopy(s,0,u,0,l);let h=new En(this.field,u);h=h.multiplyByMonomial(r,1);const w=h.divide(c)[1].getCoefficients(),v=r-w.length;for(let E=0;E<v;E++)s[l+E]=0;M.arraycopy(w,0,s,l+v,w.length)}}class bt{constructor(){}static applyMaskPenaltyRule1(s){return bt.applyMaskPenaltyRule1Internal(s,!0)+bt.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let r=0;const l=s.getArray(),c=s.getWidth(),u=s.getHeight();for(let h=0;h<u-1;h++){const f=l[h];for(let w=0;w<c-1;w++){const v=f[w];v===f[w+1]&&v===l[h+1][w]&&v===l[h+1][w+1]&&r++}}return bt.N2*r}static applyMaskPenaltyRule3(s){let r=0;const l=s.getArray(),c=s.getWidth(),u=s.getHeight();for(let h=0;h<u;h++)for(let f=0;f<c;f++){const w=l[h];f+6<c&&w[f]===1&&w[f+1]===0&&w[f+2]===1&&w[f+3]===1&&w[f+4]===1&&w[f+5]===0&&w[f+6]===1&&(bt.isWhiteHorizontal(w,f-4,f)||bt.isWhiteHorizontal(w,f+7,f+11))&&r++,h+6<u&&l[h][f]===1&&l[h+1][f]===0&&l[h+2][f]===1&&l[h+3][f]===1&&l[h+4][f]===1&&l[h+5][f]===0&&l[h+6][f]===1&&(bt.isWhiteVertical(l,f,h-4,h)||bt.isWhiteVertical(l,f,h+7,h+11))&&r++}return r*bt.N3}static isWhiteHorizontal(s,r,l){r=Math.max(r,0),l=Math.min(l,s.length);for(let c=r;c<l;c++)if(s[c]===1)return!1;return!0}static isWhiteVertical(s,r,l,c){l=Math.max(l,0),c=Math.min(c,s.length);for(let u=l;u<c;u++)if(s[u][r]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let r=0;const l=s.getArray(),c=s.getWidth(),u=s.getHeight();for(let w=0;w<u;w++){const v=l[w];for(let E=0;E<c;E++)v[E]===1&&r++}const h=s.getHeight()*s.getWidth();return Math.floor(Math.abs(r*2-h)*10/h)*bt.N4}static getDataMaskBit(s,r,l){let c,u;switch(s){case 0:c=l+r&1;break;case 1:c=l&1;break;case 2:c=r%3;break;case 3:c=(l+r)%3;break;case 4:c=Math.floor(l/2)+Math.floor(r/3)&1;break;case 5:u=l*r,c=(u&1)+u%3;break;case 6:u=l*r,c=(u&1)+u%3&1;break;case 7:u=l*r,c=u%3+(l+r&1)&1;break;default:throw new y("Invalid mask pattern: "+s)}return c===0}static applyMaskPenaltyRule1Internal(s,r){let l=0;const c=r?s.getHeight():s.getWidth(),u=r?s.getWidth():s.getHeight(),h=s.getArray();for(let f=0;f<c;f++){let w=0,v=-1;for(let E=0;E<u;E++){const R=r?h[f][E]:h[E][f];R===v?w++:(w>=5&&(l+=bt.N1+(w-5)),w=1,v=R)}w>=5&&(l+=bt.N1+(w-5))}return l}}bt.N1=3,bt.N2=3,bt.N3=40,bt.N4=10;class Sl{constructor(s,r){this.width=s,this.height=r;const l=new Array(r);for(let c=0;c!==r;c++)l[c]=new Uint8Array(s);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(s,r){return this.bytes[r][s]}getArray(){return this.bytes}setNumber(s,r,l){this.bytes[r][s]=l}setBoolean(s,r,l){this.bytes[r][s]=l?1:0}clear(s){for(const r of this.bytes)A.fill(r,s)}equals(s){if(!(s instanceof Sl))return!1;const r=s;if(this.width!==r.width||this.height!==r.height)return!1;for(let l=0,c=this.height;l<c;++l){const u=this.bytes[l],h=r.bytes[l];for(let f=0,w=this.width;f<w;++f)if(u[f]!==h[f])return!1}return!0}toString(){const s=new $;for(let r=0,l=this.height;r<l;++r){const c=this.bytes[r];for(let u=0,h=this.width;u<h;++u)switch(c[u]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append("\n")}return s.toString()}}class Zs{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new $;return s.append("<<\n"),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append("\n ecLevel: "),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append("\n version: "),s.append(this.version?this.version.toString():"null"),s.append("\n maskPattern: "),s.append(this.maskPattern.toString()),this.matrix?(s.append("\n matrix:\n"),s.append(this.matrix.toString())):s.append("\n matrix: null\n"),s.append(">>\n"),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<Zs.NUM_MASK_PATTERNS}}Zs.NUM_MASK_PATTERNS=8;class Je extends x{}Je.kind="WriterException";class be{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,r,l,c,u){be.clearMatrix(u),be.embedBasicPatterns(l,u),be.embedTypeInfo(r,c,u),be.maybeEmbedVersionInfo(l,u),be.embedDataBits(s,c,u)}static embedBasicPatterns(s,r){be.embedPositionDetectionPatternsAndSeparators(r),be.embedDarkDotAtLeftBottomCorner(r),be.maybeEmbedPositionAdjustmentPatterns(s,r),be.embedTimingPatterns(r)}static embedTypeInfo(s,r,l){const c=new D;be.makeTypeInfoBits(s,r,c);for(let u=0,h=c.getSize();u<h;++u){const f=c.get(c.getSize()-1-u),w=be.TYPE_INFO_COORDINATES[u],v=w[0],E=w[1];if(l.setBoolean(v,E,f),u<8){const R=l.getWidth()-u-1;l.setBoolean(R,8,f)}else{const I=l.getHeight()-7+(u-8);l.setBoolean(8,I,f)}}}static maybeEmbedVersionInfo(s,r){if(s.getVersionNumber()<7)return;const l=new D;be.makeVersionInfoBits(s,l);let c=6*3-1;for(let u=0;u<6;++u)for(let h=0;h<3;++h){const f=l.get(c);c--,r.setBoolean(u,r.getHeight()-11+h,f),r.setBoolean(r.getHeight()-11+h,u,f)}}static embedDataBits(s,r,l){let c=0,u=-1,h=l.getWidth()-1,f=l.getHeight()-1;for(;h>0;){for(h===6&&(h-=1);f>=0&&f<l.getHeight();){for(let w=0;w<2;++w){const v=h-w;if(!be.isEmpty(l.get(v,f)))continue;let E;c<s.getSize()?(E=s.get(c),++c):E=!1,r!==255&&bt.getDataMaskBit(r,v,f)&&(E=!E),l.setBoolean(v,f,E)}f+=u}u=-u,f+=u,h-=2}if(c!==s.getSize())throw new Je("Not all bits consumed: "+c+"/"+s.getSize())}static findMSBSet(s){return 32-_.numberOfLeadingZeros(s)}static calculateBCHCode(s,r){if(r===0)throw new y("0 polynomial");const l=be.findMSBSet(r);for(s<<=l-1;be.findMSBSet(s)>=l;)s^=r<<be.findMSBSet(s)-l;return s}static makeTypeInfoBits(s,r,l){if(!Zs.isValidMaskPattern(r))throw new Je("Invalid mask pattern");const c=s.getBits()<<3|r;l.appendBits(c,5);const u=be.calculateBCHCode(c,be.TYPE_INFO_POLY);l.appendBits(u,10);const h=new D;if(h.appendBits(be.TYPE_INFO_MASK_PATTERN,15),l.xor(h),l.getSize()!==15)throw new Je("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(s,r){r.appendBits(s.getVersionNumber(),6);const l=be.calculateBCHCode(s.getVersionNumber(),be.VERSION_INFO_POLY);if(r.appendBits(l,12),r.getSize()!==18)throw new Je("should not happen but we got: "+r.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let r=8;r<s.getWidth()-8;++r){const l=(r+1)%2;be.isEmpty(s.get(r,6))&&s.setNumber(r,6,l),be.isEmpty(s.get(6,r))&&s.setNumber(6,r,l)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new Je;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,r,l){for(let c=0;c<8;++c){if(!be.isEmpty(l.get(s+c,r)))throw new Je;l.setNumber(s+c,r,0)}}static embedVerticalSeparationPattern(s,r,l){for(let c=0;c<7;++c){if(!be.isEmpty(l.get(s,r+c)))throw new Je;l.setNumber(s,r+c,0)}}static embedPositionAdjustmentPattern(s,r,l){for(let c=0;c<5;++c){const u=be.POSITION_ADJUSTMENT_PATTERN[c];for(let h=0;h<5;++h)l.setNumber(s+h,r+c,u[h])}}static embedPositionDetectionPattern(s,r,l){for(let c=0;c<7;++c){const u=be.POSITION_DETECTION_PATTERN[c];for(let h=0;h<7;++h)l.setNumber(s+h,r+c,u[h])}}static embedPositionDetectionPatternsAndSeparators(s){const r=be.POSITION_DETECTION_PATTERN[0].length;be.embedPositionDetectionPattern(0,0,s),be.embedPositionDetectionPattern(s.getWidth()-r,0,s),be.embedPositionDetectionPattern(0,s.getWidth()-r,s);const l=8;be.embedHorizontalSeparationPattern(0,l-1,s),be.embedHorizontalSeparationPattern(s.getWidth()-l,l-1,s),be.embedHorizontalSeparationPattern(0,s.getWidth()-l,s);const c=7;be.embedVerticalSeparationPattern(c,0,s),be.embedVerticalSeparationPattern(s.getHeight()-c-1,0,s),be.embedVerticalSeparationPattern(c,s.getHeight()-c,s)}static maybeEmbedPositionAdjustmentPatterns(s,r){if(s.getVersionNumber()<2)return;const l=s.getVersionNumber()-1,c=be.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let u=0,h=c.length;u!==h;u++){const f=c[u];if(f>=0)for(let w=0;w!==h;w++){const v=c[w];v>=0&&be.isEmpty(r.get(v,f))&&be.embedPositionAdjustmentPattern(v-2,f-2,r)}}}}be.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),be.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),be.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),be.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),be.VERSION_INFO_POLY=7973,be.TYPE_INFO_POLY=1335,be.TYPE_INFO_MASK_PATTERN=21522;class d3{constructor(s,r){this.dataBytes=s,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ot{constructor(){}static calculateMaskPenalty(s){return bt.applyMaskPenaltyRule1(s)+bt.applyMaskPenaltyRule2(s)+bt.applyMaskPenaltyRule3(s)+bt.applyMaskPenaltyRule4(s)}static encode(s,r,l=null){let c=ot.DEFAULT_BYTE_MODE_ENCODING;const u=l!==null&&l.get(Pt.CHARACTER_SET)!==void 0;u&&(c=l.get(Pt.CHARACTER_SET).toString());const h=this.chooseMode(s,c),f=new D;if(h===ve.BYTE&&(u||ot.DEFAULT_BYTE_MODE_ENCODING!==c)){const le=V.getCharacterSetECIByName(c);le!==void 0&&this.appendECI(le,f)}this.appendModeInfo(h,f);const w=new D;this.appendBytes(s,h,w,c);let v;if(l!==null&&l.get(Pt.QR_VERSION)!==void 0){const le=Number.parseInt(l.get(Pt.QR_VERSION).toString(),10);v=we.getVersionForNumber(le);const ne=this.calculateBitsNeeded(h,f,w,v);if(!this.willFit(ne,v,r))throw new Je("Data too big for requested version")}else v=this.recommendVersion(r,h,f,w);const E=new D;E.appendBitArray(f);const R=h===ve.BYTE?w.getSizeInBytes():s.length;this.appendLengthInfo(R,v,h,E),E.appendBitArray(w);const I=v.getECBlocksForLevel(r),L=v.getTotalCodewords()-I.getTotalECCodewords();this.terminateBits(L,E);const U=this.interleaveWithECBytes(E,v.getTotalCodewords(),L,I.getNumBlocks()),F=new Zs;F.setECLevel(r),F.setMode(h),F.setVersion(v);const X=v.getDimensionForVersion(),K=new Sl(X,X),ae=this.chooseMaskPattern(U,r,v,K);return F.setMaskPattern(ae),be.buildMatrix(U,r,v,ae,K),F.setMatrix(K),F}static recommendVersion(s,r,l,c){const u=this.calculateBitsNeeded(r,l,c,we.getVersionForNumber(1)),h=this.chooseVersion(u,s),f=this.calculateBitsNeeded(r,l,c,h);return this.chooseVersion(f,s)}static calculateBitsNeeded(s,r,l,c){return r.getSize()+s.getCharacterCountBits(c)+l.getSize()}static getAlphanumericCode(s){return s<ot.ALPHANUMERIC_TABLE.length?ot.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,r=null){if(V.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(s))return ve.KANJI;let l=!1,c=!1;for(let u=0,h=s.length;u<h;++u){const f=s.charAt(u);if(ot.isDigit(f))l=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)c=!0;else return ve.BYTE}return c?ve.ALPHANUMERIC:l?ve.NUMERIC:ve.BYTE}static isOnlyDoubleByteKanji(s){let r;try{r=ee.encode(s,V.SJIS)}catch(c){return!1}const l=r.length;if(l%2!==0)return!1;for(let c=0;c<l;c+=2){const u=r[c]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(s,r,l,c){let u=Number.MAX_SAFE_INTEGER,h=-1;for(let f=0;f<Zs.NUM_MASK_PATTERNS;f++){be.buildMatrix(s,r,l,f,c);let w=this.calculateMaskPenalty(c);w<u&&(u=w,h=f)}return h}static chooseVersion(s,r){for(let l=1;l<=40;l++){const c=we.getVersionForNumber(l);if(ot.willFit(s,c,r))return c}throw new Je("Data too big")}static willFit(s,r,l){const c=r.getTotalCodewords(),h=r.getECBlocksForLevel(l).getTotalECCodewords(),f=c-h,w=(s+7)/8;return f>=w}static terminateBits(s,r){const l=s*8;if(r.getSize()>l)throw new Je("data bits cannot fit in the QR Code"+r.getSize()+" > "+l);for(let h=0;h<4&&r.getSize()<l;++h)r.appendBit(!1);const c=r.getSize()&7;if(c>0)for(let h=c;h<8;h++)r.appendBit(!1);const u=s-r.getSizeInBytes();for(let h=0;h<u;++h)r.appendBits(h&1?17:236,8);if(r.getSize()!==l)throw new Je("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,r,l,c,u,h){if(c>=l)throw new Je("Block ID too large");const f=s%l,w=l-f,v=Math.floor(s/l),E=v+1,R=Math.floor(r/l),I=R+1,L=v-R,U=E-I;if(L!==U)throw new Je("EC bytes mismatch");if(l!==w+f)throw new Je("RS blocks mismatch");if(s!==(R+L)*w+(I+U)*f)throw new Je("Total bytes mismatch");c<w?(u[0]=R,h[0]=L):(u[0]=I,h[0]=U)}static interleaveWithECBytes(s,r,l,c){if(s.getSizeInBytes()!==l)throw new Je("Number of bits and data bytes does not match");let u=0,h=0,f=0;const w=new Array;for(let E=0;E<c;++E){const R=new Int32Array(1),I=new Int32Array(1);ot.getNumDataBytesAndNumECBytesForBlockID(r,l,c,E,R,I);const L=R[0],U=new Uint8Array(L);s.toBytes(8*u,U,0,L);const F=ot.generateECBytes(U,I[0]);w.push(new d3(U,F)),h=Math.max(h,L),f=Math.max(f,F.length),u+=R[0]}if(l!==u)throw new Je("Data bytes does not match offset");const v=new D;for(let E=0;E<h;++E)for(const R of w){const I=R.getDataBytes();E<I.length&&v.appendBits(I[E],8)}for(let E=0;E<f;++E)for(const R of w){const I=R.getErrorCorrectionBytes();E<I.length&&v.appendBits(I[E],8)}if(r!==v.getSizeInBytes())throw new Je("Interleaving error: "+r+" and "+v.getSizeInBytes()+" differ.");return v}static generateECBytes(s,r){const l=s.length,c=new Int32Array(l+r);for(let h=0;h<l;h++)c[h]=s[h]&255;new Bu(qe.QR_CODE_FIELD_256).encode(c,r);const u=new Uint8Array(r);for(let h=0;h<r;h++)u[h]=c[l+h];return u}static appendModeInfo(s,r){r.appendBits(s.getBits(),4)}static appendLengthInfo(s,r,l,c){const u=l.getCharacterCountBits(r);if(s>=1<<u)throw new Je(s+" is bigger than "+((1<<u)-1));c.appendBits(s,u)}static appendBytes(s,r,l,c){switch(r){case ve.NUMERIC:ot.appendNumericBytes(s,l);break;case ve.ALPHANUMERIC:ot.appendAlphanumericBytes(s,l);break;case ve.BYTE:ot.append8BitBytes(s,l,c);break;case ve.KANJI:ot.appendKanjiBytes(s,l);break;default:throw new Je("Invalid mode: "+r)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const r=ot.getDigit(s);return r>=0&&r<=9}static appendNumericBytes(s,r){const l=s.length;let c=0;for(;c<l;){const u=ot.getDigit(s.charAt(c));if(c+2<l){const h=ot.getDigit(s.charAt(c+1)),f=ot.getDigit(s.charAt(c+2));r.appendBits(u*100+h*10+f,10),c+=3}else if(c+1<l){const h=ot.getDigit(s.charAt(c+1));r.appendBits(u*10+h,7),c+=2}else r.appendBits(u,4),c++}}static appendAlphanumericBytes(s,r){const l=s.length;let c=0;for(;c<l;){const u=ot.getAlphanumericCode(s.charCodeAt(c));if(u===-1)throw new Je;if(c+1<l){const h=ot.getAlphanumericCode(s.charCodeAt(c+1));if(h===-1)throw new Je;r.appendBits(u*45+h,11),c+=2}else r.appendBits(u,6),c++}}static append8BitBytes(s,r,l){let c;try{c=ee.encode(s,l)}catch(u){throw new Je(u)}for(let u=0,h=c.length;u!==h;u++){const f=c[u];r.appendBits(f,8)}}static appendKanjiBytes(s,r){let l;try{l=ee.encode(s,V.SJIS)}catch(u){throw new Je(u)}const c=l.length;for(let u=0;u<c;u+=2){const h=l[u]&255,f=l[u+1]&255,w=h<<8&4294967295|f;let v=-1;if(w>=33088&&w<=40956?v=w-33088:w>=57408&&w<=60351&&(v=w-49472),v===-1)throw new Je("Invalid byte sequence");const E=(v>>8)*192+(v&255);r.appendBits(E,13)}}static appendECI(s,r){r.appendBits(ve.ECI.getBits(),4),r.appendBits(s.getValue(),8)}}ot.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ot.DEFAULT_BYTE_MODE_ENCODING=V.UTF8.getName();class $s{write(s,r,l,c=null){if(s.length===0)throw new y("Found empty contents");if(r<0||l<0)throw new y("Requested dimensions are too small: "+r+"x"+l);let u=it.L,h=$s.QUIET_ZONE_SIZE;c!==null&&(c.get(Pt.ERROR_CORRECTION)!==void 0&&(u=it.fromString(c.get(Pt.ERROR_CORRECTION).toString())),c.get(Pt.MARGIN)!==void 0&&(h=Number.parseInt(c.get(Pt.MARGIN).toString(),10)));const f=ot.encode(s,u,c);return this.renderResult(f,r,l,h)}writeToDom(s,r,l,c,u=null){typeof s=="string"&&(s=document.querySelector(s));const h=this.write(r,l,c,u);s&&s.appendChild(h)}renderResult(s,r,l,c){const u=s.getMatrix();if(u===null)throw new yi;const h=u.getWidth(),f=u.getHeight(),w=h+c*2,v=f+c*2,E=Math.max(r,w),R=Math.max(l,v),I=Math.min(Math.floor(E/w),Math.floor(R/v)),L=Math.floor((E-h*I)/2),U=Math.floor((R-f*I)/2),F=this.createSVGElement(E,R);for(let X=0,K=U;X<f;X++,K+=I)for(let ae=0,le=L;ae<h;ae++,le+=I)if(u.get(ae,X)===1){const ne=this.createSvgRectElement(le,K,I,I);F.appendChild(ne)}return F}createSVGElement(s,r){const l=document.createElementNS($s.SVG_NS,"svg");return l.setAttributeNS(null,"height",s.toString()),l.setAttributeNS(null,"width",r.toString()),l}createSvgRectElement(s,r,l,c){const u=document.createElementNS($s.SVG_NS,"rect");return u.setAttributeNS(null,"x",s.toString()),u.setAttributeNS(null,"y",r.toString()),u.setAttributeNS(null,"height",l.toString()),u.setAttributeNS(null,"width",c.toString()),u.setAttributeNS(null,"fill","#000000"),u}}$s.QUIET_ZONE_SIZE=4,$s.SVG_NS="http://www.w3.org/2000/svg";class Lr{encode(s,r,l,c,u){if(s.length===0)throw new y("Found empty contents");if(r!==ye.QR_CODE)throw new y("Can only encode QR_CODE, but got "+r);if(l<0||c<0)throw new y("Requested dimensions are too small: ".concat(l,"x").concat(c));let h=it.L,f=Lr.QUIET_ZONE_SIZE;u!==null&&(u.get(Pt.ERROR_CORRECTION)!==void 0&&(h=it.fromString(u.get(Pt.ERROR_CORRECTION).toString())),u.get(Pt.MARGIN)!==void 0&&(f=Number.parseInt(u.get(Pt.MARGIN).toString(),10)));const w=ot.encode(s,h,u);return Lr.renderResult(w,l,c,f)}static renderResult(s,r,l,c){const u=s.getMatrix();if(u===null)throw new yi;const h=u.getWidth(),f=u.getHeight(),w=h+c*2,v=f+c*2,E=Math.max(r,w),R=Math.max(l,v),I=Math.min(Math.floor(E/w),Math.floor(R/v)),L=Math.floor((E-h*I)/2),U=Math.floor((R-f*I)/2),F=new oe(E,R);for(let X=0,K=U;X<f;X++,K+=I)for(let ae=0,le=L;ae<h;ae++,le+=I)u.get(ae,X)===1&&F.setRegion(le,K,I,I);return F}}Lr.QUIET_ZONE_SIZE=4;class h3{encode(s,r,l,c,u){let h;switch(r){case ye.QR_CODE:h=new Lr;break;default:throw new y("No encoder available for format "+r)}return h.encode(s,r,l,c,u)}}class Si extends se{constructor(s,r,l,c,u,h,f,w){if(super(h,f),this.yuvData=s,this.dataWidth=r,this.dataHeight=l,this.left=c,this.top=u,c+h>r||u+f>l)throw new y("Crop rectangle does not fit within image data.");w&&this.reverseHorizontal(h,f)}getRow(s,r){if(s<0||s>=this.getHeight())throw new y("Requested row is outside the image: "+s);const l=this.getWidth();(r==null||r.length<l)&&(r=new Uint8ClampedArray(l));const c=(s+this.top)*this.dataWidth+this.left;return M.arraycopy(this.yuvData,c,r,0,l),r}getMatrix(){const s=this.getWidth(),r=this.getHeight();if(s===this.dataWidth&&r===this.dataHeight)return this.yuvData;const l=s*r,c=new Uint8ClampedArray(l);let u=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return M.arraycopy(this.yuvData,u,c,0,l),c;for(let h=0;h<r;h++){const f=h*s;M.arraycopy(this.yuvData,u,c,f,s),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(s,r,l,c){return new Si(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+r,l,c,!1)}renderThumbnail(){const s=this.getWidth()/Si.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/Si.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(s*r),c=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let h=0;h<r;h++){const f=h*s;for(let w=0;w<s;w++){const v=c[u+w*Si.THUMBNAIL_SCALE_FACTOR]&255;l[f+w]=4278190080|v*65793}u+=this.dataWidth*Si.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/Si.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Si.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,r){const l=this.yuvData;for(let c=0,u=this.top*this.dataWidth+this.left;c<r;c++,u+=this.dataWidth){const h=u+s/2;for(let f=u,w=u+s-1;f<h;f++,w--){const v=l[f];l[f]=l[w],l[w]=v}}}invert(){return new xe(this)}}Si.THUMBNAIL_SCALE_FACTOR=2;class Lu extends se{constructor(s,r,l,c,u,h,f){if(super(r,l),this.dataWidth=c,this.dataHeight=u,this.left=h,this.top=f,s.BYTES_PER_ELEMENT===4){const w=r*l,v=new Uint8ClampedArray(w);for(let E=0;E<w;E++){const R=s[E],I=R>>16&255,L=R>>7&510,U=R&255;v[E]=(I+L+U)/4&255}this.luminances=v}else this.luminances=s;if(c===void 0&&(this.dataWidth=r),u===void 0&&(this.dataHeight=l),h===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+l>this.dataHeight)throw new y("Crop rectangle does not fit within image data.")}getRow(s,r){if(s<0||s>=this.getHeight())throw new y("Requested row is outside the image: "+s);const l=this.getWidth();(r==null||r.length<l)&&(r=new Uint8ClampedArray(l));const c=(s+this.top)*this.dataWidth+this.left;return M.arraycopy(this.luminances,c,r,0,l),r}getMatrix(){const s=this.getWidth(),r=this.getHeight();if(s===this.dataWidth&&r===this.dataHeight)return this.luminances;const l=s*r,c=new Uint8ClampedArray(l);let u=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return M.arraycopy(this.luminances,u,c,0,l),c;for(let h=0;h<r;h++){const f=h*s;M.arraycopy(this.luminances,u,c,f,s),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(s,r,l,c){return new Lu(this.luminances,l,c,this.dataWidth,this.dataHeight,this.left+s,this.top+r)}invert(){return new xe(this)}}class y0 extends V{static forName(s){return this.getCharacterSetECIByName(s)}}class Pu{}Pu.ISO_8859_1=V.ISO8859_1;class b0{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class E0{static singletonList(s){return[s]}static min(s,r){return s.sort(r)[0]}}class f3{constructor(s){this.previous=s}getPrevious(){return this.previous}}class Pr extends f3{constructor(s,r,l){super(s),this.value=r,this.bitCount=l}appendTo(s,r){s.appendBits(this.value,this.bitCount)}add(s,r){return new Pr(this,s,r)}addBinaryShift(s,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Pr(this,s,r)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+_.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class zu extends Pr{constructor(s,r,l){super(s,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=l}appendTo(s,r){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):l===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(r[this.binaryShiftStart+l],8)}addBinaryShift(s,r){return new zu(this,s,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function g3(O,s,r){return new zu(O,s,r)}function $a(O,s,r){return new Pr(O,s,r)}const p3=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],gs=0,Cl=1,Qn=2,A0=3,Ci=4,m3=new Pr(null,0,0),Uu=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function x3(O){for(let s of O)A.fill(s,-1);return O[gs][Ci]=0,O[Cl][Ci]=0,O[Cl][gs]=28,O[A0][Ci]=0,O[Qn][Ci]=0,O[Qn][gs]=15,O}const S0=x3(A.createInt32Array(6,6));class _i{constructor(s,r,l,c){this.token=s,this.mode=r,this.binaryShiftByteCount=l,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,r){let l=this.bitCount,c=this.token;if(s!==this.mode){let h=Uu[this.mode][s];c=$a(c,h&65535,h>>16),l+=h>>16}let u=s===Qn?4:5;return c=$a(c,r,u),new _i(c,s,0,l+u)}shiftAndAppend(s,r){let l=this.token,c=this.mode===Qn?4:5;return l=$a(l,S0[this.mode][s],c),l=$a(l,r,5),new _i(l,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(s){let r=this.token,l=this.mode,c=this.bitCount;if(this.mode===Ci||this.mode===Qn){let f=Uu[l][gs];r=$a(r,f&65535,f>>16),c+=f>>16,l=gs}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,h=new _i(r,l,this.binaryShiftByteCount+1,c+u);return h.binaryShiftByteCount===2078&&(h=h.endBinaryShift(s+1)),h}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=g3(r,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new _i(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let r=this.bitCount+(Uu[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?r+=_i.calculateBinaryShiftCost(s)-_i.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(r+=10),r<=s.bitCount}toBitArray(s){let r=[];for(let c=this.endBinaryShift(s.length).token;c!==null;c=c.getPrevious())r.unshift(c);let l=new D;for(const c of r)c.appendTo(l,s);return l}toString(){return q.format("%s bits=%d bytes=%d",p3[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}_i.INITIAL_STATE=new _i(m3,gs,0,0);function w3(O){const s=q.getCharCode(" "),r=q.getCharCode("."),l=q.getCharCode(",");O[gs][s]=1;const c=q.getCharCode("Z"),u=q.getCharCode("A");for(let I=u;I<=c;I++)O[gs][I]=I-u+2;O[Cl][s]=1;const h=q.getCharCode("z"),f=q.getCharCode("a");for(let I=f;I<=h;I++)O[Cl][I]=I-f+2;O[Qn][s]=1;const w=q.getCharCode("9"),v=q.getCharCode("0");for(let I=v;I<=w;I++)O[Qn][I]=I-v+2;O[Qn][l]=12,O[Qn][r]=13;const E=["\0"," ","","","","","","","\x07","\b","	","\n","\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let I=0;I<E.length;I++)O[A0][q.getCharCode(E[I])]=I;const R=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let I=0;I<R.length;I++)q.getCharCode(R[I])>0&&(O[Ci][q.getCharCode(R[I])]=I);return O}const Fu=w3(A.createInt32Array(5,256));class Ja{constructor(s){this.text=s}encode(){const s=q.getCharCode(" "),r=q.getCharCode("\n");let l=E0.singletonList(_i.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let h,f=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case q.getCharCode("\r"):h=f===r?2:0;break;case q.getCharCode("."):h=f===s?3:0;break;case q.getCharCode(","):h=f===s?4:0;break;case q.getCharCode(":"):h=f===s?5:0;break;default:h=0}h>0?(l=Ja.updateStateListForPair(l,u,h),u++):l=this.updateStateListForChar(l,u)}return E0.min(l,(u,h)=>u.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,r){const l=[];for(let c of s)this.updateStateForChar(c,r,l);return Ja.simplifyStates(l)}updateStateForChar(s,r,l){let c=this.text[r]&255,u=Fu[s.getMode()][c]>0,h=null;for(let f=0;f<=Ci;f++){let w=Fu[f][c];if(w>0){if(h==null&&(h=s.endBinaryShift(r)),!u||f===s.getMode()||f===Qn){const v=h.latchAndAppend(f,w);l.push(v)}if(!u&&S0[s.getMode()][f]>=0){const v=h.shiftAndAppend(f,w);l.push(v)}}}if(s.getBinaryShiftByteCount()>0||Fu[s.getMode()][c]===0){let f=s.addBinaryShiftChar(r);l.push(f)}}static updateStateListForPair(s,r,l){const c=[];for(let u of s)this.updateStateForPair(u,r,l,c);return this.simplifyStates(c)}static updateStateForPair(s,r,l,c){let u=s.endBinaryShift(r);if(c.push(u.latchAndAppend(Ci,l)),s.getMode()!==Ci&&c.push(u.shiftAndAppend(Ci,l)),l===3||l===4){let h=u.latchAndAppend(Qn,16-l).latchAndAppend(Qn,1);c.push(h)}if(s.getBinaryShiftByteCount()>0){let h=s.addBinaryShiftChar(r).addBinaryShiftChar(r+1);c.push(h)}}static simplifyStates(s){let r=[];for(const l of s){let c=!0;for(const u of r){if(u.isBetterThanOrEqualTo(l)){c=!1;break}l.isBetterThanOrEqualTo(u)&&(r=r.filter(h=>h!==u))}c&&r.push(l)}return r}}class Fe{constructor(){}static encodeBytes(s){return Fe.encode(s,Fe.DEFAULT_EC_PERCENT,Fe.DEFAULT_AZTEC_LAYERS)}static encode(s,r,l){let c=new Ja(s).encode(),u=_.truncDivision(c.getSize()*r,100)+11,h=c.getSize()+u,f,w,v,E,R;if(l!==Fe.DEFAULT_AZTEC_LAYERS){if(f=l<0,w=Math.abs(l),w>(f?Fe.MAX_NB_BITS_COMPACT:Fe.MAX_NB_BITS))throw new y(q.format("Illegal value %s for layers",l));v=Fe.totalBitsInLayer(w,f),E=Fe.WORD_SIZE[w];let ne=v-v%E;if(R=Fe.stuffBits(c,E),R.getSize()+u>ne)throw new y("Data to large for user specified layer");if(f&&R.getSize()>E*64)throw new y("Data to large for user specified layer")}else{E=0,R=null;for(let ne=0;;ne++){if(ne>Fe.MAX_NB_BITS)throw new y("Data too large for an Aztec code");if(f=ne<=3,w=f?ne+1:ne,v=Fe.totalBitsInLayer(w,f),h>v)continue;(R==null||E!==Fe.WORD_SIZE[w])&&(E=Fe.WORD_SIZE[w],R=Fe.stuffBits(c,E));let Be=v-v%E;if(!(f&&R.getSize()>E*64)&&R.getSize()+u<=Be)break}}let I=Fe.generateCheckWords(R,v,E),L=R.getSize()/E,U=Fe.generateModeMessage(f,w,L),F=(f?11:14)+w*4,X=new Int32Array(F),K;if(f){K=F;for(let ne=0;ne<X.length;ne++)X[ne]=ne}else{K=F+1+2*_.truncDivision(_.truncDivision(F,2)-1,15);let ne=_.truncDivision(F,2),Be=_.truncDivision(K,2);for(let Te=0;Te<ne;Te++){let _n=Te+_.truncDivision(Te,15);X[ne-Te-1]=Be-_n-1,X[ne+Te]=Be+_n+1}}let ae=new oe(K);for(let ne=0,Be=0;ne<w;ne++){let Te=(w-ne)*4+(f?9:12);for(let _n=0;_n<Te;_n++){let hi=_n*2;for(let Tn=0;Tn<2;Tn++)I.get(Be+hi+Tn)&&ae.set(X[ne*2+Tn],X[ne*2+_n]),I.get(Be+Te*2+hi+Tn)&&ae.set(X[ne*2+_n],X[F-1-ne*2-Tn]),I.get(Be+Te*4+hi+Tn)&&ae.set(X[F-1-ne*2-Tn],X[F-1-ne*2-_n]),I.get(Be+Te*6+hi+Tn)&&ae.set(X[F-1-ne*2-_n],X[ne*2+Tn])}Be+=Te*8}if(Fe.drawModeMessage(ae,f,K,U),f)Fe.drawBullsEye(ae,_.truncDivision(K,2),5);else{Fe.drawBullsEye(ae,_.truncDivision(K,2),7);for(let ne=0,Be=0;ne<_.truncDivision(F,2)-1;ne+=15,Be+=16)for(let Te=_.truncDivision(K,2)&1;Te<K;Te+=2)ae.set(_.truncDivision(K,2)-Be,Te),ae.set(_.truncDivision(K,2)+Be,Te),ae.set(Te,_.truncDivision(K,2)-Be),ae.set(Te,_.truncDivision(K,2)+Be)}let le=new b0;return le.setCompact(f),le.setSize(K),le.setLayers(w),le.setCodeWords(L),le.setMatrix(ae),le}static drawBullsEye(s,r,l){for(let c=0;c<l;c+=2)for(let u=r-c;u<=r+c;u++)s.set(u,r-c),s.set(u,r+c),s.set(r-c,u),s.set(r+c,u);s.set(r-l,r-l),s.set(r-l+1,r-l),s.set(r-l,r-l+1),s.set(r+l,r-l),s.set(r+l,r-l+1),s.set(r+l,r+l-1)}static generateModeMessage(s,r,l){let c=new D;return s?(c.appendBits(r-1,2),c.appendBits(l-1,6),c=Fe.generateCheckWords(c,28,4)):(c.appendBits(r-1,5),c.appendBits(l-1,11),c=Fe.generateCheckWords(c,40,4)),c}static drawModeMessage(s,r,l,c){let u=_.truncDivision(l,2);if(r)for(let h=0;h<7;h++){let f=u-3+h;c.get(h)&&s.set(f,u-5),c.get(h+7)&&s.set(u+5,f),c.get(20-h)&&s.set(f,u+5),c.get(27-h)&&s.set(u-5,f)}else for(let h=0;h<10;h++){let f=u-5+h+_.truncDivision(h,5);c.get(h)&&s.set(f,u-7),c.get(h+10)&&s.set(u+7,f),c.get(29-h)&&s.set(f,u+7),c.get(39-h)&&s.set(u-7,f)}}static generateCheckWords(s,r,l){let c=s.getSize()/l,u=new Bu(Fe.getGF(l)),h=_.truncDivision(r,l),f=Fe.bitsToWords(s,l,h);u.encode(f,h-c);let w=r%l,v=new D;v.appendBits(0,w);for(const E of Array.from(f))v.appendBits(E,l);return v}static bitsToWords(s,r,l){let c=new Int32Array(l),u,h;for(u=0,h=s.getSize()/r;u<h;u++){let f=0;for(let w=0;w<r;w++)f|=s.get(u*r+w)?1<<r-w-1:0;c[u]=f}return c}static getGF(s){switch(s){case 4:return qe.AZTEC_PARAM;case 6:return qe.AZTEC_DATA_6;case 8:return qe.AZTEC_DATA_8;case 10:return qe.AZTEC_DATA_10;case 12:return qe.AZTEC_DATA_12;default:throw new y("Unsupported word size "+s)}}static stuffBits(s,r){let l=new D,c=s.getSize(),u=(1<<r)-2;for(let h=0;h<c;h+=r){let f=0;for(let w=0;w<r;w++)(h+w>=c||s.get(h+w))&&(f|=1<<r-1-w);(f&u)===u?(l.appendBits(f&u,r),h--):f&u?l.appendBits(f,r):(l.appendBits(f|1,r),h--)}return l}static totalBitsInLayer(s,r){return((r?88:112)+16*s)*s}}Fe.DEFAULT_EC_PERCENT=33,Fe.DEFAULT_AZTEC_LAYERS=0,Fe.MAX_NB_BITS=32,Fe.MAX_NB_BITS_COMPACT=4,Fe.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class _l{encode(s,r,l,c){return this.encodeWithHints(s,r,l,c,null)}encodeWithHints(s,r,l,c,u){let h=Pu.ISO_8859_1,f=Fe.DEFAULT_EC_PERCENT,w=Fe.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(Pt.CHARACTER_SET)&&(h=y0.forName(u.get(Pt.CHARACTER_SET).toString())),u.has(Pt.ERROR_CORRECTION)&&(f=_.parseInt(u.get(Pt.ERROR_CORRECTION).toString())),u.has(Pt.AZTEC_LAYERS)&&(w=_.parseInt(u.get(Pt.AZTEC_LAYERS).toString()))),_l.encodeLayers(s,r,l,c,h,f,w)}static encodeLayers(s,r,l,c,u,h,f){if(r!==ye.AZTEC)throw new y("Can only encode AZTEC, but got "+r);let w=Fe.encode(q.getBytes(s,u),h,f);return _l.renderResult(w,l,c)}static renderResult(s,r,l){let c=s.getMatrix();if(c==null)throw new yi;let u=c.getWidth(),h=c.getHeight(),f=Math.max(r,u),w=Math.max(l,h),v=Math.min(f/u,w/h),E=(f-u*v)/2,R=(w-h*v)/2,I=new oe(f,w);for(let L=0,U=R;L<h;L++,U+=v)for(let F=0,X=E;F<u;F++,X+=v)c.get(F,L)&&I.setRegion(X,U,v,v);return I}}n.AbstractExpandedDecoder=_u,n.ArgumentException=b,n.ArithmeticException=gl,n.AztecCode=b0,n.AztecCodeReader=xl,n.AztecCodeWriter=_l,n.AztecDecoder=nt,n.AztecDetector=o0,n.AztecDetectorResult=r0,n.AztecEncoder=Fe,n.AztecHighLevelEncoder=Ja,n.AztecPoint=mn,n.BarcodeFormat=ye,n.Binarizer=N,n.BinaryBitmap=C,n.BitArray=D,n.BitMatrix=oe,n.BitSource=Iu,n.BrowserAztecCodeReader=Hx,n.BrowserBarcodeReader=Qx,n.BrowserCodeReader=ci,n.BrowserDatamatrixCodeReader=Zx,n.BrowserMultiFormatReader=l3,n.BrowserPDF417Reader=c3,n.BrowserQRCodeReader=u3,n.BrowserQRCodeSvgWriter=$s,n.CharacterSetECI=V,n.ChecksumException=S,n.Code128Reader=ue,n.Code39Reader=Bt,n.DataMatrixDecodedBitStreamParser=us,n.DataMatrixReader=ds,n.DecodeHintType=G,n.DecoderResult=Va,n.DefaultGridSampler=a0,n.DetectorResult=ml,n.EAN13Reader=Ws,n.EncodeHintType=Pt,n.Exception=x,n.FormatException=z,n.GenericGF=qe,n.GenericGFPoly=En,n.GlobalHistogramBinarizer=re,n.GridSampler=Eu,n.GridSamplerInstance=ls,n.HTMLCanvasElementLuminanceSource=_e,n.HybridBinarizer=ce,n.ITFReader=$e,n.IllegalArgumentException=y,n.IllegalStateException=yi,n.InvertedLuminanceSource=xe,n.LuminanceSource=se,n.MathUtils=Ue,n.MultiFormatOneDReader=jr,n.MultiFormatReader=v0,n.MultiFormatWriter=h3,n.NotFoundException=H,n.OneDReader=Ot,n.PDF417DecodedBitStreamParser=Q,n.PDF417DecoderErrorCorrection=f0,n.PDF417Reader=tn,n.PDF417ResultMetadata=p0,n.PerspectiveTransform=ui,n.PlanarYUVLuminanceSource=Si,n.QRCodeByteMatrix=Sl,n.QRCodeDataMask=Wn,n.QRCodeDecodedBitStreamParser=gt,n.QRCodeDecoderErrorCorrectionLevel=it,n.QRCodeDecoderFormatInformation=un,n.QRCodeEncoder=ot,n.QRCodeEncoderQRCode=Zs,n.QRCodeMaskUtil=bt,n.QRCodeMatrixUtil=be,n.QRCodeMode=ve,n.QRCodeReader=hs,n.QRCodeVersion=we,n.QRCodeWriter=Lr,n.RGBLuminanceSource=Lu,n.RSS14Reader=yt,n.RSSExpandedReader=te,n.ReaderException=Al,n.ReedSolomonDecoder=Ha,n.ReedSolomonEncoder=Bu,n.ReedSolomonException=Dr,n.Result=ft,n.ResultMetadataType=Ht,n.ResultPoint=ge,n.StringUtils=q,n.UnsupportedOperationException=Z,n.VideoInputDevice=ln,n.WhiteRectangleDetector=Li,n.WriterException=Je,n.ZXingArrays=A,n.ZXingCharset=y0,n.ZXingInteger=_,n.ZXingStandardCharsets=Pu,n.ZXingStringBuilder=$,n.ZXingStringEncoding=ee,n.ZXingSystem=M,n.createAbstractExpandedDecoder=d0,Object.defineProperty(n,"__esModule",{value:!0})})})(Zh,Zh.exports);var lt=Zh.exports;const zE=V3(lt),UE=Qg({__proto__:null,default:zE},[lt]);var Mg=function(){function e(t,n,i){if(this.formatMap=new Map([[fe.QR_CODE,lt.BarcodeFormat.QR_CODE],[fe.AZTEC,lt.BarcodeFormat.AZTEC],[fe.CODABAR,lt.BarcodeFormat.CODABAR],[fe.CODE_39,lt.BarcodeFormat.CODE_39],[fe.CODE_93,lt.BarcodeFormat.CODE_93],[fe.CODE_128,lt.BarcodeFormat.CODE_128],[fe.DATA_MATRIX,lt.BarcodeFormat.DATA_MATRIX],[fe.MAXICODE,lt.BarcodeFormat.MAXICODE],[fe.ITF,lt.BarcodeFormat.ITF],[fe.EAN_13,lt.BarcodeFormat.EAN_13],[fe.EAN_8,lt.BarcodeFormat.EAN_8],[fe.PDF_417,lt.BarcodeFormat.PDF_417],[fe.RSS_14,lt.BarcodeFormat.RSS_14],[fe.RSS_EXPANDED,lt.BarcodeFormat.RSS_EXPANDED],[fe.UPC_A,lt.BarcodeFormat.UPC_A],[fe.UPC_E,lt.BarcodeFormat.UPC_E],[fe.UPC_EAN_EXTENSION,lt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!UE)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=i;var a=this.createZXingFormats(t),o=new Map;o.set(lt.DecodeHintType.POSSIBLE_FORMATS,a),o.set(lt.DecodeHintType.TRY_HARDER,!1),this.hints=o}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(i,a){try{i(n.decode(t))}catch(o){a(o)}})},e.prototype.decode=function(t){var n=new lt.MultiFormatReader(this.verbose,this.hints),i=new lt.HTMLCanvasElementLuminanceSource(t),a=new lt.BinaryBitmap(new lt.HybridBinarizer(i)),o=n.decode(a);return{text:o.text,format:Ux.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,i,a){t.set(n,i)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],i=0,a=t;i<a.length;i++){var o=a[i];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.logError("".concat(o," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),FE=function(e,t,n,i){function a(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function m(b){try{x(i.next(b))}catch(y){d(y)}}function p(b){try{x(i.throw(b))}catch(y){d(y)}}function x(b){b.done?o(b.value):a(b.value).then(m,p)}x((i=i.apply(e,t||[])).next())})},VE=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,a,o,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(x){return function(b){return p([x,b])}}function p(x){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(n=0)),n;)try{if(i=1,a&&(o=x[0]&2?a.return:x[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,x[1])).done)return o;switch(a=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,a=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(b){x=[6,b],a=0}finally{i=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},kg=function(){function e(t,n,i){if(this.formatMap=new Map([[fe.QR_CODE,"qr_code"],[fe.AZTEC,"aztec"],[fe.CODABAR,"codabar"],[fe.CODE_39,"code_39"],[fe.CODE_93,"code_93"],[fe.CODE_128,"code_128"],[fe.DATA_MATRIX,"data_matrix"],[fe.ITF,"itf"],[fe.EAN_13,"ean_13"],[fe.EAN_8,"ean_8"],[fe.PDF_417,"pdf417"],[fe.UPC_A,"upc_a"],[fe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=i;var a=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return FE(this,void 0,void 0,function(){var n,i;return VE(this,function(a){switch(a.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=a.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return i=this.selectLargestBarcode(n),[2,{text:i.rawValue,format:Ux.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,i=0,a=0,o=t;a<o.length;a++){var d=o[a],m=d.boundingBox.width*d.boundingBox.height;m>i&&(i=m,n=d)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],i=0,a=t;i<a.length;i++){var o=a[i];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.warn("".concat(o," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,i,a){t.set(n,i)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),jg=function(e,t,n,i){function a(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function m(b){try{x(i.next(b))}catch(y){d(y)}}function p(b){try{x(i.throw(b))}catch(y){d(y)}}function x(b){b.done?o(b.value):a(b.value).then(m,p)}x((i=i.apply(e,t||[])).next())})},Bg=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,a,o,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(x){return function(b){return p([x,b])}}function p(x){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(n=0)),n;)try{if(i=1,a&&(o=x[0]&2?a.return:x[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,x[1])).done)return o;switch(a=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,a=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(b){x=[6,b],a=0}finally{i=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},GE=function(){function e(t,n,i,a){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=i,n&&kg.isSupported()?(this.primaryDecoder=new kg(t,i,a),this.secondaryDecoder=new Mg(t,i,a)):this.primaryDecoder=new Mg(t,i,a)}return e.prototype.decodeAsync=function(t){return jg(this,void 0,void 0,function(){var n;return Bg(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,i.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return jg(this,void 0,void 0,function(){var n,i;return Bg(this,function(a){switch(a.label){case 0:n=performance.now(),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,a.sent()];case 3:if(i=a.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw i;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,i=this.executionResults;n<i.length;n++){var a=i[n];t+=a}var o=t/this.executionResults.length;console.log("".concat(o," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),n0=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),eu=function(e,t,n,i){function a(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function m(b){try{x(i.next(b))}catch(y){d(y)}}function p(b){try{x(i.throw(b))}catch(y){d(y)}}function x(b){b.done?o(b.value):a(b.value).then(m,p)}x((i=i.apply(e,t||[])).next())})},tu=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,a,o,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(x){return function(b){return p([x,b])}}function p(x){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(n=0)),n;)try{if(i=1,a&&(o=x[0]&2?a.return:x[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,x[1])).done)return o;switch(a=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,a=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(b){x=[6,b],a=0}finally{i=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Vx=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var i={advanced:[n]};return this.track.applyConstraints(i)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),HE=function(e){n0(t,e);function t(n,i){return e.call(this,n,i)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var i={};i[this.name]=n;var a={advanced:[i]};return this.track.applyConstraints(a)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),i=n[this.name];return{min:i.min,max:i.max,step:i.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Vx),qE=function(e){n0(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(HE),XE=function(e){n0(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(Vx),WE=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new qE(this.track)},e.prototype.torchFeature=function(){return new XE(this.track)},e}(),YE=function(){function e(t,n,i){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=i,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var i=t.surface.clientWidth,a=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(i,a),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,i,a){return eu(this,void 0,void 0,function(){var o,d;return tu(this,function(m){switch(m.label){case 0:return o=new e(t,n,a),i.aspectRatio?(d={aspectRatio:i.aspectRatio},[4,o.getFirstTrackOrFail().applyConstraints(d)]):[3,2];case 1:m.sent(),m.label=2;case 2:return o.setupSurface(),[2,o]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,i=function(){setTimeout(t,200),n.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return eu(this,void 0,void 0,function(){return tu(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,i){var a=t.mediaStream.getVideoTracks(),o=a.length,d=0;t.mediaStream.getVideoTracks().forEach(function(m){t.mediaStream.removeTrack(m),m.stop(),++d,d>=o&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new WE(this.getFirstTrackOrFail())},e}(),QE=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,i){return eu(this,void 0,void 0,function(){return tu(this,function(a){return[2,YE.create(t,this.mediaStream,n,i)]})})},e.create=function(t){return eu(this,void 0,void 0,function(){var n,i;return tu(this,function(a){switch(a.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return i=a.sent(),[2,new e(i)]}})})},e}(),Lg=function(e,t,n,i){function a(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function m(b){try{x(i.next(b))}catch(y){d(y)}}function p(b){try{x(i.throw(b))}catch(y){d(y)}}function x(b){b.done?o(b.value):a(b.value).then(m,p)}x((i=i.apply(e,t||[])).next())})},Pg=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,a,o,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(x){return function(b){return p([x,b])}}function p(x){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(n=0)),n;)try{if(i=1,a&&(o=x[0]&2?a.return:x[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,x[1])).done)return o;switch(a=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,a=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(b){x=[6,b],a=0}finally{i=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},KE=function(){function e(){}return e.failIfNotSupported=function(){return Lg(this,void 0,void 0,function(){return Pg(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Lg(this,void 0,void 0,function(){return Pg(this,function(n){return[2,QE.create(t)]})})},e}(),ZE=function(e,t,n,i){function a(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function m(b){try{x(i.next(b))}catch(y){d(y)}}function p(b){try{x(i.throw(b))}catch(y){d(y)}}function x(b){b.done?o(b.value):a(b.value).then(m,p)}x((i=i.apply(e,t||[])).next())})},$E=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,a,o,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(x){return function(b){return p([x,b])}}function p(x){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(n=0)),n;)try{if(i=1,a&&(o=x[0]&2?a.return:x[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,x[1])).done)return o;switch(a=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,a=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(b){x=[6,b],a=0}finally{i=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},JE=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=da.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=da.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return ZE(this,void 0,void 0,function(){var t,n,i,a,o,d,m;return $E(this,function(p){switch(p.label){case 0:return t=function(x){for(var b=x.getVideoTracks(),y=0,C=b;y<C.length;y++){var S=C[y];S.enabled=!1,S.stop(),x.removeTrack(S)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=p.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(i=p.sent(),a=[],o=0,d=i;o<d.length;o++)m=d[o],m.kind==="videoinput"&&a.push({id:m.deviceId,label:m.label});return t(n),[2,a]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var i=function(o){for(var d=[],m=0,p=o;m<p.length;m++){var x=p[m];x.kind==="video"&&d.push({id:x.id,label:x.label})}t(d)},a=MediaStreamTrack;a.getSources(i)})},e}(),Et;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Et||(Et={}));var eA=function(){function e(){this.state=Et.NOT_STARTED,this.onGoingTransactionNewState=Et.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Et.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Et.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Et.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Et.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Et.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Et.UNKNOWN:throw"Transition from unknown is not allowed";case Et.NOT_STARTED:this.failIfNewStateIs(t,[Et.PAUSED]);break;case Et.SCANNING:break;case Et.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var i=0,a=n;i<a.length;i++){var o=a[i];if(t===o)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),tA=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Et.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Et.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Et.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Et.PAUSED},e}(),nA=function(){function e(){}return e.create=function(){return new tA(new eA)},e}(),iA=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Mn=function(e){iA(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(BE),sA=function(){function e(t,n){this.logger=n,this.fps=Mn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Mn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Fx.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Hi(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),rA=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var i;typeof n=="boolean"?this.verbose=n===!0:n&&(i=n,this.verbose=i.verbose===!0,i.experimentalFeatures),this.logger=new PE(this.verbose),this.qrcode=new GE(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(i),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=nA.create()}return e.prototype.start=function(t,n,i,a){var o=this;if(!t)throw"cameraIdOrConfig is required";if(!i||typeof i!="function")throw"qrCodeSuccessCallback is required and should be a function.";var d;a?d=a:d=this.verbose?this.logger.log:function(){};var m=sA.create(n,this.logger);this.clearElement();var p=!1;m.videoConstraints&&(m.isMediaStreamConstraintsValid()?p=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=p,b=document.getElementById(this.elementId);b.clientWidth?b.clientWidth:Mn.DEFAULT_WIDTH,b.style.position="relative",this.shouldScan=!0,this.element=b;var y=this,C=this.stateManagerProxy.startTransition(Et.SCANNING);return new Promise(function(S,N){var M=x?m.videoConstraints:y.createVideoConstraints(t);if(!M){C.cancel(),N("videoConstraints should be defined");return}var B={};(!x||m.aspectRatio)&&(B.aspectRatio=m.aspectRatio);var T={onRenderSurfaceReady:function(A,_){y.setupUi(A,_,m),y.isScanning=!0,y.foreverScan(m,i,d)}};KE.failIfNotSupported().then(function(A){A.create(M).then(function(_){return _.render(o.element,B,T).then(function(D){y.renderedCamera=D,C.execute(),S(null)}).catch(function(D){C.cancel(),N(D)})}).catch(function(_){C.cancel(),N(da.errorGettingUserMedia(_))})}).catch(function(A){C.cancel(),N(da.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Et.PAUSED),this.showPausedState(),(Hi(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Et.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Et.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var i=function(){if(t.element){var o=document.getElementById(Mn.SHADED_REGION_ELEMENT_ID);o&&t.element.removeChild(o)}},a=this;return this.renderedCamera.close().then(function(){return a.renderedCamera=null,a.element&&(a.element.removeChild(a.canvasElement),a.canvasElement=null),i(),a.qrRegion&&(a.qrRegion=null),a.context&&(a.context=null),n.execute(),a.hidePausedState(),a.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(i){return i.decodedText})},e.prototype.scanFileV2=function(t,n){var i=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Hi(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(a,o){i.possiblyCloseLastScanImageFile(),i.clearElement(),i.lastScanImageFile=URL.createObjectURL(t);var d=new Image;d.onload=function(){var m=d.width,p=d.height,x=document.getElementById(i.elementId),b=x.clientWidth?x.clientWidth:Mn.DEFAULT_WIDTH,y=Math.max(x.clientHeight?x.clientHeight:p,Mn.FILE_SCAN_MIN_HEIGHT),C=i.computeCanvasDrawConfig(m,p,b,y);if(n){var S=i.createCanvasElement(b,y,"qr-canvas-visible");S.style.display="inline-block",x.appendChild(S);var N=S.getContext("2d");if(!N)throw"Unable to get 2d context from canvas";N.canvas.width=b,N.canvas.height=y,N.drawImage(d,0,0,m,p,C.x,C.y,C.width,C.height)}var M=Mn.FILE_SCAN_HIDDEN_CANVAS_PADDING,B=Math.max(d.width,C.width),T=Math.max(d.height,C.height),A=B+2*M,_=T+2*M,D=i.createCanvasElement(A,_);x.appendChild(D);var P=D.getContext("2d");if(!P)throw"Unable to get 2d context from canvas";P.canvas.width=A,P.canvas.height=_,P.drawImage(d,0,0,m,p,M,M,B,T);try{i.qrcode.decodeRobustlyAsync(D).then(function(G){a(Ng.createFromQrcodeResult(G))}).catch(o)}catch(G){o("QR code parse error, error = ".concat(G))}},d.onerror=o,d.onabort=o,d.onstalled=o,d.onsuspend=o,d.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return JE.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!Fx.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[fe.QR_CODE,fe.AZTEC,fe.CODABAR,fe.CODE_39,fe.CODE_93,fe.CODE_128,fe.DATA_MATRIX,fe.MAXICODE,fe.ITF,fe.EAN_13,fe.EAN_8,fe.PDF_417,fe.RSS_14,fe.RSS_EXPANDED,fe.UPC_A,fe.UPC_E,fe.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var i=[],a=0,o=t.formatsToSupport;a<o.length;a++){var d=o[a];jE(d)?i.push(d):this.logger.warn("Invalid format: ".concat(d," passed in config, ignoring."))}if(i.length===0)throw"None of formatsToSupport match supported values.";return i},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Hi(t))return!0;if(!Hi(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Hi(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return Hi(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,i){var a=this,o=i.qrbox;this.validateQrboxConfig(o);var d=this.toQrdimensions(t,n,o),m=function(x){if(x<Mn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Mn.MIN_QR_BOX_SIZE,"px.")},p=function(x){return x>t&&(a.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=t),x};m(d.width),m(d.height),d.width=p(d.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,i){if(typeof i=="number")return{width:i,height:i};if(typeof i=="function")try{return i(t,n)}catch(a){throw new Error("qrbox config was passed as a function but it failed with unknown error"+a)}return i},e.prototype.setupUi=function(t,n,i){i.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,i);var a=Hi(i.qrbox)?{width:t,height:n}:i.qrbox;this.validateQrboxConfig(a);var o=this.toQrdimensions(t,n,a);o.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var d=i.isShadedBoxEnabled()&&o.height<=n,m={x:0,y:0,width:t,height:n},p=d?this.getShadedRegionBounds(t,n,o):m,x=this.createCanvasElement(p.width,p.height),b={willReadFrequently:!0},y=x.getContext("2d",b);y.canvas.width=p.width,y.canvas.height=p.height,this.element.append(x),d&&this.possiblyInsertShadingElement(this.element,t,n,o),this.createScannerPausedUiElement(this.element),this.qrRegion=p,this.context=y,this.canvasElement=x},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=da.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var i=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(a){return t(a.text,Ng.createFromQrcodeResult(a)),i.possiblyUpdateShaders(!0),!0}).catch(function(a){i.possiblyUpdateShaders(!1);var o=da.codeParseError(a);return n(o,LE.createFrom(o)),!1})},e.prototype.foreverScan=function(t,n,i){var a=this;if(this.shouldScan&&this.renderedCamera){var o=this.renderedCamera.getSurface(),d=o.videoWidth/o.clientWidth,m=o.videoHeight/o.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var p=this.qrRegion.width*d,x=this.qrRegion.height*m,b=this.qrRegion.x*d,y=this.qrRegion.y*m;this.context.drawImage(o,b,y,p,x,0,0,this.qrRegion.width,this.qrRegion.height);var C=function(){a.foreverScanTimeout=setTimeout(function(){a.foreverScan(t,n,i)},a.getTimeoutFps(t.fps))};this.scanContext(n,i).then(function(S){!S&&t.disableFlip!==!0?(a.context.translate(a.context.canvas.width,0),a.context.scale(-1,1),a.scanContext(n,i).finally(function(){C()})):C()}).catch(function(S){a.logger.logError("Error happend while scanning context",S),C()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",i="deviceId",a={user:!0,environment:!0},o="exact",d=function(N){if(N in a)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(N,"'")},m=Object.keys(t);if(m.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(m.length," keys");var p=Object.keys(t)[0];if(p!==n&&p!==i)throw"Only '".concat(n,"' and '").concat(i,"' ")+" are supported for 'cameraIdOrConfig'";if(p===n){var x=t.facingMode;if(typeof x=="string"){if(d(x))return{facingMode:x}}else if(typeof x=="object")if(o in x){if(d(x["".concat(o)]))return{facingMode:{exact:x["".concat(o)]}}}else throw"'facingMode' should be string or object with"+" ".concat(o," as key.");else{var b=typeof x;throw"Invalid type of 'facingMode' = ".concat(b)}}else{var y=t.deviceId;if(typeof y=="string")return{deviceId:y};if(typeof y=="object"){if(o in y)return{deviceId:{exact:y["".concat(o)]}};throw"'deviceId' should be string or object with"+" ".concat(o," as key.")}else{var C=typeof y;throw"Invalid type of 'deviceId' = ".concat(C)}}}var S=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(S)},e.prototype.computeCanvasDrawConfig=function(t,n,i,a){if(t<=i&&n<=a){var o=(i-t)/2,d=(a-n)/2;return{x:o,y:d,width:t,height:n}}else{var m=t,p=n;return t>i&&(n=i/t*n,t=i),n>a&&(t=a/n*t,n=a),this.logger.log("Image downsampled from "+"".concat(m,"X").concat(p)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,i,a)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?Mn.BORDER_SHADER_MATCH_COLOR:Mn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,i){var a=t,o=n,d=document.createElement("canvas");return d.style.width="".concat(a,"px"),d.style.height="".concat(o,"px"),d.style.display="none",d.id=Hi(i)?"qr-canvas":i,d},e.prototype.getShadedRegionBounds=function(t,n,i){if(i.width>t||i.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-i.width)/2,y:(n-i.height)/2,width:i.width,height:i.height}},e.prototype.possiblyInsertShadingElement=function(t,n,i,a){if(!(n-a.width<1||i-a.height<1)){var o=document.createElement("div");o.style.position="absolute";var d=(n-a.width)/2,m=(i-a.height)/2;if(o.style.borderLeft="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderRight="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderTop="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderBottom="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),o.style.boxSizing="border-box",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.id="".concat(Mn.SHADED_REGION_ELEMENT_ID),n-a.width<11||i-a.height<11)this.hasBorderShaders=!1;else{var p=5,x=40;this.insertShaderBorders(o,x,p,-p,null,0,!0),this.insertShaderBorders(o,x,p,-p,null,0,!1),this.insertShaderBorders(o,x,p,null,-p,0,!0),this.insertShaderBorders(o,x,p,null,-p,0,!1),this.insertShaderBorders(o,p,x+p,-p,null,-p,!0),this.insertShaderBorders(o,p,x+p,null,-p,-p,!0),this.insertShaderBorders(o,p,x+p,-p,null,-p,!1),this.insertShaderBorders(o,p,x+p,null,-p,-p,!1),this.hasBorderShaders=!0}t.append(o)}},e.prototype.insertShaderBorders=function(t,n,i,a,o,d,m){var p=document.createElement("div");p.style.position="absolute",p.style.backgroundColor=Mn.BORDER_SHADER_DEFAULT_COLOR,p.style.width="".concat(n,"px"),p.style.height="".concat(i,"px"),a!==null&&(p.style.top="".concat(a,"px")),o!==null&&(p.style.bottom="".concat(o,"px")),m?p.style.left="".concat(d,"px"):p.style.right="".concat(d,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(p),t.appendChild(p)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),zg;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(zg||(zg={}));const aA=({onClose:e})=>{const t=Gs(),[n,i]=Y.useState(!1),[a,o]=Y.useState(""),d=Y.useRef(null),m="qr-reader";Y.useEffect(()=>(p(),()=>{x()}),[]);const p=async()=>{try{i(!0),o("");const S=new rA(m);d.current=S,await S.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},b,y)}catch(S){console.error("Error starting scanner:",S),o("Unable to access camera. Please check permissions."),i(!1)}},x=async()=>{if(d.current)try{await d.current.stop(),d.current.clear()}catch(S){console.error("Error stopping scanner:",S)}},b=S=>{console.log("QR Code detected:",S);let N="";if(S.startsWith("artifact:"))N=S.replace("artifact:","");else if(S.includes("/artifact/")){const M=S.match(/\/artifact\/(\d+)/);M&&(N=M[1])}else/^\d+$/.test(S)&&(N=S);N?(x(),e(),t.push("/artifact/".concat(N))):o("Invalid QR code. Please scan a museum artifact QR code.")},y=S=>{},C=async()=>{await x(),e()};return g.jsx("div",{className:"qr-scanner-overlay",children:g.jsxs("div",{className:"qr-scanner-container",children:[g.jsxs("div",{className:"qr-scanner-header",children:[g.jsx("h2",{children:"Scan Artifact QR Code"}),g.jsx(Ce,{fill:"clear",onClick:C,children:g.jsx(ie,{icon:Jo})})]}),g.jsx("div",{id:m,className:"qr-reader"}),a&&g.jsx("div",{className:"qr-scanner-error",children:g.jsx(gc,{color:"danger",children:g.jsx("p",{children:a})})}),g.jsxs("div",{className:"qr-scanner-instructions",children:[g.jsx(ie,{icon:vx,className:"scan-icon"}),g.jsx("p",{children:"Point your camera at the QR code"}),g.jsx("p",{className:"small-text",children:"Make sure the QR code is well lit and centered"})]}),g.jsx(Ce,{expand:"block",color:"light",onClick:C,children:"Cancel"})]})})},Yr=({count:e=1})=>g.jsx(g.Fragment,{children:Array.from({length:e}).map((t,n)=>g.jsxs(Ie,{className:"skeleton-card gallery-card",children:[g.jsx("div",{className:"skeleton skeleton-image"}),g.jsxs(De,{children:[g.jsx("div",{className:"skeleton skeleton-title"}),g.jsx("div",{className:"skeleton skeleton-text"}),g.jsx("div",{className:"skeleton skeleton-text",style:{width:"80%"}})]})]},n))}),oA=({filters:e,activeFilters:t,onFilterToggle:n,onClearAll:i})=>{const a=t.length>0;return g.jsxs("div",{className:"filter-chips-container",children:[g.jsx("div",{className:"filter-chips-scroll",children:e.map(o=>{const d=t.includes(o.id);return g.jsxs(Ti,{className:"filter-chip ".concat(d?"active":""),onClick:()=>n(o.id),children:[o.icon&&g.jsx(ie,{icon:o.icon}),g.jsx(de,{children:o.label}),d&&g.jsx(ie,{icon:Jo})]},o.id)})}),a&&g.jsxs(Ti,{className:"clear-all-chip",onClick:i,color:"danger",children:[g.jsx(ie,{icon:Jo}),g.jsx(de,{children:"Clear All"})]})]})},lA=({count:e,searchTerm:t,hasFilters:n})=>e===0?g.jsxs("div",{className:"search-results-empty",children:[g.jsx(ie,{icon:M6,className:"empty-icon"}),g.jsx("h3",{children:"No artifacts found"}),t&&g.jsxs("p",{children:['No results for "',g.jsx("strong",{children:t}),'"']}),n&&g.jsx("p",{className:"empty-hint",children:"Try adjusting your filters or search term"})]}):g.jsxs("div",{className:"search-results-count",children:[g.jsx(ie,{icon:yx}),g.jsxs("span",{children:["Found ",g.jsx("strong",{children:e})," ",e===1?"artifact":"artifacts",t&&g.jsxs(g.Fragment,{children:[' for "',g.jsx("strong",{children:t}),'"']})]})]}),Gx=({src:e,alt:t,className:n,style:i,onClick:a})=>{const[o,d]=Y.useState(!1),[m,p]=Y.useState(!1),x=Y.useRef(null);return Y.useEffect(()=>{if(!x.current)return;const b=new IntersectionObserver(y=>{y.forEach(C=>{C.isIntersecting&&(p(!0),b.disconnect())})},{rootMargin:"50px"});return b.observe(x.current),()=>{b.disconnect()}},[]),g.jsxs("div",{ref:x,className:n,style:{...i,position:"relative",overflow:"hidden",backgroundColor:"#f0f0f0"},onClick:a,children:[!o&&g.jsx("div",{className:"skeleton skeleton-image",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}),m&&g.jsx("img",{src:e,alt:t,loading:"lazy",onLoad:()=>d(!0),style:{width:"100%",height:"100%",objectFit:"cover",opacity:o?1:0,transition:"opacity 0.3s ease-in-out"}})]})},i0=()=>{const[e,t]=Y.useState([]);return Y.useEffect(()=>{const a=localStorage.getItem("favorites");if(a)try{t(JSON.parse(a))}catch(o){console.error("Error loading favorites:",o)}},[]),{favorites:e,toggleFavorite:a=>{t(o=>{const d=o.includes(a)?o.filter(m=>m!==a):[...o,a];return localStorage.setItem("favorites",JSON.stringify(d)),d})},isFavorite:a=>e.includes(a)}},s0=async()=>{if(!vu())return console.warn("Supabase is not configured. Using fallback data."),[];try{const{data:e,error:t}=await Re.from("artifacts").select("*").order("created_at",{ascending:!1});return t?(console.error("Error fetching artifacts:",t),[]):e||[]}catch(e){return console.error("Error fetching artifacts:",e),[]}},cA=async e=>{if(!vu())return console.warn("Supabase is not configured."),null;try{const{data:t,error:n}=await Re.from("artifacts").select("*").eq("id",e).single();return n?(console.error("Error fetching artifact:",n),null):t}catch(t){return console.error("Error fetching artifact:",t),null}},uA=async()=>{if(!vu())return console.warn("Supabase is not configured. Using fallback data."),[];try{const{data:e,error:t}=await Re.from("exhibits_3d").select("*").order("created_at",{ascending:!0});return t?(console.error("Error fetching 3D exhibits:",t),[]):!e||e.length===0?(console.warn("No 3D exhibits in database, using fallback data"),[{id:"fallback-1",name_en:"Ancient Globe",name_it:"Globo Antico",name_es:"Globo Antiguo",name_fr:"Globe Ancien",description_en:"A spherical artifact",description_it:"Un artefatto sferico",description_es:"Un artefacto esfrico",description_fr:"Un artefact sphrique",model_type:"primitive",model_data:{shape:"sphere",color:"#8B7355",size:2}},{id:"fallback-2",name_en:"Stone Cube",name_it:"Cubo di Pietra",name_es:"Cubo de Piedra",name_fr:"Cube de Pierre",description_en:"Carved stone cube",description_it:"Cubo di pietra scolpito",description_es:"Cubo de piedra tallado",description_fr:"Cube de pierre sculpt",model_type:"primitive",model_data:{shape:"box",color:"#696969",size:2}}]):e||[]}catch(e){return console.error("Error fetching 3D exhibits:",e),[]}},dA=async()=>{if(!vu())return console.warn("Supabase is not configured. Using fallback data."),[];try{const{data:e,error:t}=await Re.from("quiz_questions").select("*").eq("is_active",!0).order("order_index",{ascending:!0});return t?(console.error("Error fetching quiz questions:",t),[]):e||[]}catch(e){return console.error("Error fetching quiz questions:",e),[]}},hA=()=>{const e=Gs(),{t,i18n:n}=qn(),[i,a]=Y.useState(!1),[o,d]=Y.useState(""),[m,p]=Y.useState("all"),[x,b]=Y.useState([]),{toggleFavorite:y,isFavorite:C}=i0(),[S,N]=Y.useState([]),[M,B]=Y.useState(!0),[T,A]=Y.useState(null),_=n.language||"en",[D,P]=Y.useState([]);Y.useEffect(()=>{if(S.length===0)return;const q=new Set,$=new Set;S.forEach(H=>{H.category&&q.add(H.category),H.period&&$.add(H.period)});const oe=[{id:"type-image",label:"Images",value:"image",icon:f6},{id:"type-video",label:"Videos",value:"video",icon:V6},{id:"favorites",label:"Favorites",value:"favorites",icon:el}];Array.from(q).forEach(H=>{oe.push({id:"category-".concat(H),label:H.charAt(0).toUpperCase()+H.slice(1),value:H,icon:u6})}),Array.from($).slice(0,5).forEach(H=>{oe.push({id:"period-".concat(H),label:H,value:H,icon:z6})}),P(oe)},[S]);const G=async()=>{B(!0),A(null);try{const q=await s0();N(q)}catch(q){console.error("Error loading artifacts:",q),A("Failed to load artifacts")}finally{B(!1)}};Y.useEffect(()=>{G()},[]);const z=async q=>{await G(),q.detail.complete()},k=S.map(q=>({id:q.id,title:q["name_".concat(_)]||q.name_en,description:q["description_".concat(_)]||q.description_en,type:q.type,src:q.image_url,category:q.category,period:q.period})),V=q=>{b($=>$.includes(q)?$.filter(oe=>oe!==q):[...$,q])},Z=()=>{b([])},ee=k.filter(q=>{const $=q.title.toLowerCase().includes(o.toLowerCase())||q.description.toLowerCase().includes(o.toLowerCase());if(x.length===0){const H=m==="all"||m==="images"&&q.type==="image"||m==="videos"&&q.type==="video"||m==="favorites"&&C(q.id);return $&&H}const oe=x.some(H=>{if(H==="type-image")return q.type==="image";if(H==="type-video")return q.type==="video";if(H==="favorites")return C(q.id);if(H.startsWith("category-")){const re=H.replace("category-","");return q.category===re}if(H.startsWith("period-")){const re=H.replace("period-","");return q.period===re}return!1});return $&&oe});return g.jsxs(Zt,{children:[g.jsx(Nt,{children:g.jsxs(Mt,{children:[g.jsx(fn,{slot:"start",children:g.jsx(es,{})}),g.jsx(kt,{style:{color:"#667eea",fontWeight:"600"},children:t("museumGallery")})]})}),g.jsxs(Vt,{fullscreen:!0,children:[g.jsx(S3,{slot:"fixed",onIonRefresh:z,children:g.jsx(C3,{})}),g.jsx(Nt,{collapse:"condense",children:g.jsx(Mt,{children:g.jsx(kt,{size:"large",style:{color:"#667eea",fontWeight:"600"},children:"Gallery"})})}),g.jsx("div",{style:{padding:"16px 16px 0 16px"},children:g.jsx(_3,{value:o,onIonInput:q=>d(q.detail.value),placeholder:t("searchArtifacts"),animated:!0})}),D.length>0&&g.jsx(oA,{filters:D,activeFilters:x,onFilterToggle:V,onClearAll:Z}),g.jsx("div",{style:{padding:"0 16px 16px 16px"},children:g.jsxs(Hg,{value:m,onIonChange:q=>p(q.detail.value),children:[g.jsx(_s,{value:"all",children:g.jsx(de,{children:t("all")})}),g.jsx(_s,{value:"favorites",children:g.jsx(de,{children:t("favorites")})}),g.jsx(_s,{value:"images",children:g.jsx(de,{children:t("images")})}),g.jsx(_s,{value:"videos",children:g.jsx(de,{children:t("videos")})})]})}),!M&&g.jsx(lA,{count:ee.length,searchTerm:o,hasFilters:x.length>0||m!=="all"}),M&&g.jsx(Ud,{children:g.jsxs(Fd,{children:[g.jsx(xs,{size:"6",sizeMd:"4",sizeLg:"3",children:g.jsx(Yr,{count:1})}),g.jsx(xs,{size:"6",sizeMd:"4",sizeLg:"3",children:g.jsx(Yr,{count:1})}),g.jsx(xs,{size:"6",sizeMd:"4",sizeLg:"3",children:g.jsx(Yr,{count:1})}),g.jsx(xs,{size:"6",sizeMd:"4",sizeLg:"3",children:g.jsx(Yr,{count:1})}),g.jsx(xs,{size:"6",sizeMd:"4",sizeLg:"3",children:g.jsx(Yr,{count:1})}),g.jsx(xs,{size:"6",sizeMd:"4",sizeLg:"3",children:g.jsx(Yr,{count:1})})]})}),T&&g.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"var(--ion-color-danger)"},children:[g.jsx("p",{children:T}),g.jsx(Ce,{onClick:G,children:t("retry")||"Retry"})]}),!M&&!T&&ee.length>0&&g.jsx(Ud,{children:g.jsx(Fd,{children:ee.map(q=>g.jsx(xs,{size:"6",sizeMd:"4",sizeLg:"3",children:g.jsxs(Ie,{className:"gallery-card",children:[g.jsx(Ve,{children:g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g.jsx(Ge,{onClick:()=>e.push("/tabs/artifact/".concat(q.id)),style:{cursor:"pointer",flex:1},children:q.title}),g.jsx(Ce,{fill:"clear",onClick:$=>{$.stopPropagation(),y(q.id)},children:g.jsx(ie,{icon:C(q.id)?el:yu,color:C(q.id)?"danger":"medium"})})]})}),g.jsx(De,{children:q.type==="image"?g.jsx(Gx,{src:q.src,alt:q.title,className:"gallery-media",onClick:()=>e.push("/tabs/artifact/".concat(q.id))}):g.jsx("div",{onClick:()=>e.push("/tabs/artifact/".concat(q.id)),children:g.jsxs("video",{className:"gallery-media",controls:!0,playsInline:!0,children:[g.jsx("source",{src:q.src,type:"video/mp4"}),"Your browser does not support the video tag."]})})})]})},q.id))})}),g.jsx(qg,{vertical:"bottom",horizontal:"end",slot:"fixed",children:g.jsx(Xg,{onClick:()=>a(!0),children:g.jsx(ie,{icon:wx})})}),i&&g.jsx(aA,{onClose:()=>a(!1)})]})]})};let dn=null,Ug=!1;const fA=()=>{const{t:e,i18n:t}=qn(),n=Y.useRef(null),[i,a]=Y.useState(""),[o,d]=Y.useState(!0),[m,p]=Y.useState([]),[x,b]=Y.useState(!0),y=Y.useRef(null),C=Y.useRef(null),S=t.language||"en";Y.useEffect(()=>{(async()=>{b(!0);try{const A=await uA();p(A),A.length>0&&!i&&a(A[0].id)}catch(A){console.error("Error loading exhibits:",A)}finally{b(!1)}})()},[]);const N=async()=>(dn||(d(!0),dn=await C0(()=>import("./babylon-vendor-BwsgXFG1.js").then(T=>T.i),__vite__mapDeps([0,1,2])),Ug||(await C0(()=>import("./babylon-vendor-BwsgXFG1.js").then(T=>T.d),__vite__mapDeps([0,1,2])),Ug=!0),d(!1)),dn);Y.useEffect(()=>{if(!n.current||x)return;(async()=>{const A=await N();if(!n.current)return;const _=new A.Engine(n.current,!0,{preserveDrawingBuffer:!0,stencil:!0,adaptToDeviceRatio:!0});y.current=_,_.setHardwareScalingLevel(1/window.devicePixelRatio);const D=new A.Scene(_);C.current=D,D.clearColor=new A.Color4(.1,.1,.15,1);const P=new A.ArcRotateCamera("camera",Math.PI/2,Math.PI/2.5,4,A.Vector3.Zero(),D);P.attachControl(n.current,!0),P.lowerRadiusLimit=2,P.upperRadiusLimit=10;const G=new A.HemisphericLight("light",new A.Vector3(0,1,0),D);G.intensity=.7;const z=new A.DirectionalLight("dirLight",new A.Vector3(-1,-2,-1),D);z.intensity=.5,B(i,D),_.runRenderLoop(()=>{D.render()}),setTimeout(()=>{_.resize()},100);const k=()=>{_.resize()};return window.addEventListener("resize",k),()=>{window.removeEventListener("resize",k),D.dispose(),_.dispose()}})()},[x]),Y.useEffect(()=>{var T,A;if(C.current&&i){C.current.meshes.forEach(D=>{D.name!=="camera"&&D.dispose()});const _=m.find(D=>D.id===i);_&&(_.model_type==="gltf"&&((T=_.model_data)!=null&&T.url)?M(_.model_data.url,C.current):_.model_type==="primitive"&&((A=_.model_data)!=null&&A.shape)&&B(_.model_data.shape,C.current))}},[i,m]);const M=async(T,A)=>{if(dn)try{const _=await dn.SceneLoader.ImportMeshAsync("","",T,A);if(_.meshes.length>0){const D=_.meshes[0],P=D.getHierarchyBoundingVectors(),G=P.max.subtract(P.min),k=2/Math.max(G.x,G.y,G.z);D.scaling=new dn.Vector3(k,k,k),D.position=dn.Vector3.Zero(),A.registerBeforeRender(()=>{D.rotation.y+=.005})}}catch(_){console.error("Error loading model:",_),B("sphere",A)}},B=(T,A)=>{if(!dn)return;let _;switch(T){case"sphere":_=dn.MeshBuilder.CreateSphere("sphere",{diameter:2,segments:32},A);break;case"box":_=dn.MeshBuilder.CreateBox("box",{size:2},A);break;case"cylinder":_=dn.MeshBuilder.CreateCylinder("cylinder",{height:3,diameter:1},A);break;default:_=dn.MeshBuilder.CreateSphere("sphere",{diameter:2},A)}const D=new dn.StandardMaterial("material",A);return D.diffuseColor=new dn.Color3(.8,.7,.5),D.specularColor=new dn.Color3(.2,.2,.2),D.emissiveColor=new dn.Color3(.1,.1,.1),_.material=D,A.registerBeforeRender(()=>{_.rotation.y+=.005}),_};return g.jsxs(Zt,{children:[g.jsx(Nt,{children:g.jsxs(Mt,{children:[g.jsx(fn,{slot:"start",children:g.jsx(es,{})}),g.jsx(kt,{children:e("exhibits3d")})]})}),g.jsxs(Vt,{fullscreen:!0,children:[g.jsx(Nt,{collapse:"condense",children:g.jsx(Mt,{children:g.jsx(kt,{size:"large",children:"3D Exhibits"})})}),g.jsx("div",{className:"exhibits-container",children:x?g.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"40px"},children:g.jsx(Ps,{name:"crescent"})}):g.jsxs(g.Fragment,{children:[g.jsxs(Ie,{children:[g.jsx(Ve,{children:g.jsx(Ge,{children:e("interactive3dViewer")})}),g.jsxs(De,{children:[o&&g.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},children:g.jsx(Ps,{name:"crescent"})}),g.jsx("canvas",{ref:n,className:"babylon-canvas",style:{width:"100%",height:"400px",borderRadius:"8px",touchAction:"none",display:o?"none":"block"}}),g.jsx("p",{style:{marginTop:"12px",textAlign:"center"},children:e("useMouseToRotate")||"Use mouse/touch to rotate and zoom"})]})]}),g.jsxs(Ie,{children:[g.jsx(Ve,{children:g.jsx(Ge,{children:e("selectExhibit")})}),g.jsx(De,{children:m.length===0?g.jsx("p",{style:{textAlign:"center",padding:"20px"},children:e("noExhibitsFound")||"No exhibits found"}):g.jsx(Ln,{children:m.map(T=>{const A=T["name_".concat(S)]||T.name_en,_=T["description_".concat(S)]||T.description_en;return g.jsx(Se,{button:!0,onClick:()=>a(T.id),color:i===T.id?"primary":"",children:g.jsxs(de,{children:[g.jsx("h2",{children:A}),g.jsx("p",{children:_})]})},T.id)})})})]})]})})]})]})},gA=()=>{const{t:e}=qn(),t=Y.useRef(null),[n,i]=Y.useState(!1),[a,o]=Y.useState(!1),d=Y.useRef(null),m=Y.useRef(null);Y.useEffect(()=>{if(p(),!t.current)return;const b=new W3(t.current,!0,{preserveDrawingBuffer:!0,stencil:!0,adaptToDeviceRatio:!0});d.current=b,b.setHardwareScalingLevel(1/window.devicePixelRatio);const y=new Y3(b);m.current=y,y.clearColor=new Q3(.05,.05,.1,1),new K3("camera",Math.PI/2,Math.PI/2.5,5,_0.Zero(),y).attachControl(t.current,!0);const S=new Z3("light",new _0(0,1,0),y);S.intensity=.8;const N=$3.CreateTorusKnot("artifact",{radius:.5,tube:.2,radialSegments:128,tubularSegments:64},y),M=new J3("artifactMat",y);M.diffuseColor=new T0(.9,.7,.3),M.specularColor=new T0(1,1,1),M.specularPower=32,N.material=M,y.registerBeforeRender(()=>{N.rotation.y+=.01}),b.runRenderLoop(()=>{y.render()}),setTimeout(()=>{b.resize()},100);const B=()=>{b.resize()};return window.addEventListener("resize",B),()=>{window.removeEventListener("resize",B),y.dispose(),b.dispose()}},[]);const p=async()=>{if("xr"in navigator)try{const b=await navigator.xr.isSessionSupported("immersive-ar");i(b)}catch(b){console.log("AR not supported:",b),i(!1)}else i(!1)},x=async()=>{if(!m.current||!n){alert("AR is not supported on this device/browser");return}try{const b=await m.current.createDefaultXRExperienceAsync({uiOptions:{sessionMode:"immersive-ar"}});b.baseExperience&&(o(!0),await b.baseExperience.enterXRAsync("immersive-ar","unbounded",b.renderTarget),b.baseExperience.onStateChangedObservable.add(y=>{y===ew.NOT_IN_XR&&o(!1)}))}catch(b){console.error("Error starting AR session:",b),alert("Could not start AR session. Make sure you are using HTTPS and have camera permissions.")}};return g.jsxs(Zt,{children:[g.jsx(Nt,{children:g.jsxs(Mt,{children:[g.jsx(fn,{slot:"start",children:g.jsx(es,{})}),g.jsx(kt,{children:e("arView")})]})}),g.jsxs(Vt,{fullscreen:!0,children:[g.jsx(Nt,{collapse:"condense",children:g.jsx(Mt,{children:g.jsx(kt,{size:"large",children:"AR View"})})}),g.jsxs("div",{className:"ar-container",children:[g.jsxs(Ie,{children:[g.jsx(Ve,{children:g.jsx(Ge,{children:"Augmented Reality Viewer"})}),g.jsxs(De,{children:[g.jsx("canvas",{ref:t,className:"ar-canvas",style:{width:"100%",height:"400px",borderRadius:"8px",touchAction:"none"}}),g.jsx("div",{style:{marginTop:"16px",textAlign:"center"},children:n?g.jsxs(Ce,{expand:"block",onClick:x,disabled:a,children:[g.jsx(ie,{slot:"start",icon:Jb}),a?"AR Session Active":"Start AR Experience"]}):g.jsx(gc,{color:"warning",children:g.jsxs("p",{children:[g.jsx(ie,{icon:px})," AR is not supported on this device/browser"]})})})]})]}),g.jsxs(Ie,{children:[g.jsx(Ve,{children:g.jsx(Ge,{children:"AR Requirements"})}),g.jsx(De,{children:g.jsxs(Ln,{children:[g.jsx(Se,{children:g.jsxs(de,{children:[g.jsx("h3",{children:"HTTPS Required"}),g.jsx("p",{children:"AR features require a secure connection (HTTPS)"})]})}),g.jsx(Se,{children:g.jsxs(de,{children:[g.jsx("h3",{children:"Camera Permission"}),g.jsx("p",{children:"Allow camera access when prompted"})]})}),g.jsx(Se,{children:g.jsxs(de,{children:[g.jsx("h3",{children:"Compatible Device"}),g.jsx("p",{children:"AR works on ARCore (Android) and ARKit (iOS) devices"})]})}),g.jsx(Se,{children:g.jsxs(de,{children:[g.jsx("h3",{children:"Modern Browser"}),g.jsx("p",{children:"Chrome, Safari, or Edge with WebXR support"})]})})]})})]}),g.jsxs(Ie,{children:[g.jsx(Ve,{children:g.jsx(Ge,{children:"How to Use AR"})}),g.jsx(De,{children:g.jsxs("ol",{children:[g.jsx("li",{children:'Click "Start AR Experience" button'}),g.jsx("li",{children:"Grant camera permissions when prompted"}),g.jsx("li",{children:"Point your camera at a flat surface"}),g.jsx("li",{children:"The 3D artifact will appear in your space"}),g.jsx("li",{children:"Walk around to view from different angles"})]})})]})]})]})]})},pA=()=>{const{t:e,i18n:t}=qn(),[n,i]=Y.useState([]),[a,o]=Y.useState(!0),[d,m]=Y.useState(0),[p,x]=Y.useState(null),[b,y]=Y.useState(0),[C,S]=Y.useState(!1),[N,M]=Y.useState([]),[B,T]=Y.useState(!1),A=t.language||"en";Y.useEffect(()=>{(async()=>{o(!0);try{const oe=await dA();i(oe),M(new Array(oe.length).fill(!1))}catch(oe){console.error("Error loading quiz questions:",oe)}finally{o(!1)}})()},[]);const _=$=>{x($)},D=()=>{if(p===null)return;p===n[d].correct_answer&&y(b+1);const oe=[...N];oe[d]=!0,M(oe),T(!0)},P=()=>{T(!1),x(null),d<n.length-1?m(d+1):S(!0)},G=()=>{m(0),x(null),y(0),S(!1),M(new Array(n.length).fill(!1)),T(!1)},z=()=>{const $=b/n.length*100;return $===100?{icon:F6,color:"warning",text:e("perfectScore")}:$>=80?{icon:B6,color:"success",text:e("excellent")}:$>=60?{icon:D6,color:"primary",text:e("goodJob")}:{icon:Ma,color:"medium",text:e("keepLearning")}},k=(d+1)/n.length;if(a)return g.jsxs(Zt,{children:[g.jsx(Nt,{children:g.jsxs(Mt,{children:[g.jsx(fn,{slot:"start",children:g.jsx(es,{})}),g.jsx(kt,{children:e("museumQuiz")})]})}),g.jsx(Vt,{children:g.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"40px"},children:g.jsx(Ps,{name:"crescent"})})})]});if(n.length===0)return g.jsxs(Zt,{children:[g.jsx(Nt,{children:g.jsxs(Mt,{children:[g.jsx(fn,{slot:"start",children:g.jsx(es,{})}),g.jsx(kt,{children:e("museumQuiz")})]})}),g.jsx(Vt,{children:g.jsx("div",{style:{textAlign:"center",padding:"40px"},children:g.jsx("p",{children:e("noQuestionsFound")||"No quiz questions available"})})})]});const V=n[d],Z=V["question_".concat(A)]||V.question_en,ee=[V["option1_".concat(A)]||V.option1_en,V["option2_".concat(A)]||V.option2_en,V["option3_".concat(A)]||V.option3_en,V["option4_".concat(A)]||V.option4_en],q=V["explanation_".concat(A)]||V.explanation_en;return g.jsxs(Zt,{children:[g.jsx(Nt,{children:g.jsxs(Mt,{children:[g.jsx(fn,{slot:"start",children:g.jsx(es,{})}),g.jsx(kt,{children:e("museumQuiz")})]})}),g.jsx(Vt,{fullscreen:!0,children:g.jsx("div",{className:"quiz-container",children:C?g.jsxs(Ie,{children:[g.jsx(Ve,{children:g.jsx(Ge,{style:{textAlign:"center"},children:e("quizComplete")})}),g.jsx(De,{children:g.jsxs("div",{style:{textAlign:"center",padding:"20px"},children:[g.jsx(ie,{icon:z().icon,style:{fontSize:"80px"},color:z().color}),g.jsx("h2",{children:z().text}),g.jsxs("h1",{style:{fontSize:"48px",margin:"20px 0"},children:[b," / ",n.length]}),g.jsxs("p",{style:{fontSize:"18px",color:"var(--ion-color-medium)"},children:[e("youScored")," ",Math.round(b/n.length*100),"%"]}),g.jsxs("div",{style:{marginTop:"30px"},children:[g.jsx("h3",{children:e("yourBadges")}),g.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px",flexWrap:"wrap"},children:[b>=3&&g.jsx(Vu,{color:"primary",style:{padding:"10px 15px",fontSize:"14px"},children:e("scholarBadge")}),b>=4&&g.jsx(Vu,{color:"success",style:{padding:"10px 15px",fontSize:"14px"},children:e("expertBadge")}),b===5&&g.jsx(Vu,{color:"warning",style:{padding:"10px 15px",fontSize:"14px"},children:e("masterBadge")})]})]}),g.jsx(Ce,{expand:"block",onClick:G,style:{marginTop:"30px"},children:e("tryAgain")})]})})]}):g.jsxs(g.Fragment,{children:[g.jsx(Ie,{children:g.jsxs(De,{children:[g.jsxs("div",{style:{marginBottom:"8px",display:"flex",justifyContent:"space-between"},children:[g.jsxs("span",{children:[e("question")," ",d+1," ",e("of")," ",n.length]}),g.jsxs("span",{children:[e("score"),": ",b]})]}),g.jsx(Gg,{value:k})]})}),g.jsxs(Ie,{children:[g.jsx(Ve,{children:g.jsx(Ge,{children:Z})}),g.jsxs(De,{children:[g.jsx(T3,{value:p,onIonChange:$=>_($.detail.value),children:ee.map(($,oe)=>g.jsxs(Se,{lines:"none",children:[g.jsx(O3,{slot:"start",value:oe,disabled:B}),g.jsx(de,{className:"ion-text-wrap",children:$}),B&&oe===V.correct_answer&&g.jsx(ie,{icon:Ma,color:"success",slot:"end"}),B&&oe===p&&oe!==V.correct_answer&&g.jsx(ie,{icon:Jf,color:"danger",slot:"end"})]},oe))}),B&&g.jsx("div",{style:{marginTop:"20px",padding:"16px",backgroundColor:"var(--ion-color-light)",borderRadius:"8px"},children:g.jsxs("p",{style:{margin:0},children:[g.jsxs("strong",{children:[e("explanation"),":"]})," ",q]})}),g.jsx("div",{style:{marginTop:"20px",display:"flex",gap:"10px"},children:B?g.jsx(Ce,{expand:"block",onClick:P,style:{flex:1},children:d<n.length-1?e("nextQuestion"):e("viewResults")}):g.jsx(Ce,{expand:"block",onClick:D,disabled:p===null,style:{flex:1},children:e("submitAnswer")})})]})]})]})})})]})},mA=({audioUrl:e="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",title:t="Audio Guide",artifactId:n})=>{const{playAudio:i,pauseAudio:a,isPlaying:o,currentAudio:d}=dx(),m=(d==null?void 0:d.url)===e&&o,p=()=>{m?a():i(e,t,n)};return g.jsxs(Ie,{className:"audio-guide-card",children:[g.jsx(Ve,{children:g.jsxs(Ge,{children:[" ",t]})}),g.jsxs(De,{children:[g.jsx("div",{className:"audio-controls-simple",children:g.jsxs(Ce,{expand:"block",size:"large",onClick:p,className:"play-button-simple",color:m?"danger":"primary",children:[g.jsx(ie,{icon:m?xx:hc,slot:"start"}),m?"Pause Audio Guide":"Play Audio Guide"]})}),g.jsx("div",{className:"audio-info",children:g.jsx("p",{children:g.jsx("small",{children:m?" Audio is playing in the mini player below. You can continue browsing while listening!":"Listen to the audio guide to learn more about this artifact's history, significance, and the story behind its discovery."})})})]})]})},xA=()=>g.jsxs("div",{style:{padding:"16px"},children:[g.jsx("div",{className:"skeleton skeleton-image",style:{height:"300px",marginBottom:"20px"}}),g.jsx("div",{className:"skeleton skeleton-title",style:{width:"80%",height:"32px",marginBottom:"16px"}}),g.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"20px"},children:[g.jsx("div",{className:"skeleton",style:{width:"100px",height:"24px"}}),g.jsx("div",{className:"skeleton",style:{width:"120px",height:"24px"}}),g.jsx("div",{className:"skeleton",style:{width:"80px",height:"24px"}})]}),g.jsx(Ie,{children:g.jsxs(De,{children:[g.jsx("div",{className:"skeleton skeleton-text",style:{marginBottom:"8px"}}),g.jsx("div",{className:"skeleton skeleton-text",style:{marginBottom:"8px"}}),g.jsx("div",{className:"skeleton skeleton-text",style:{marginBottom:"8px"}}),g.jsx("div",{className:"skeleton skeleton-text",style:{width:"90%",marginBottom:"8px"}}),g.jsx("div",{className:"skeleton skeleton-text",style:{width:"70%"}})]})}),g.jsx(Ie,{children:g.jsxs(De,{children:[g.jsx("div",{className:"skeleton skeleton-text",style:{marginBottom:"8px"}}),g.jsx("div",{className:"skeleton skeleton-text",style:{width:"85%",marginBottom:"8px"}}),g.jsx("div",{className:"skeleton skeleton-text",style:{width:"75%"}})]})})]}),wA=({src:e,alt:t})=>{const[n,i]=Y.useState(!1),[a,o]=Y.useState(1),[d,m]=Y.useState({x:0,y:0}),[p,x]=Y.useState(!1),[b,y]=Y.useState({x:0,y:0}),C=Y.useRef(null),S=()=>{i(!0)},N=()=>{i(!1),o(1),m({x:0,y:0})},M=()=>{o(k=>Math.min(k+.5,4))},B=()=>{o(k=>Math.max(k-.5,1)),a<=1.5&&m({x:0,y:0})},T=()=>{o(1),m({x:0,y:0})},A=k=>{k.touches.length===1&&a>1&&(x(!0),y({x:k.touches[0].clientX-d.x,y:k.touches[0].clientY-d.y}))},_=k=>{p&&k.touches.length===1&&m({x:k.touches[0].clientX-b.x,y:k.touches[0].clientY-b.y})},D=()=>{x(!1)},P=k=>{a>1&&(x(!0),y({x:k.clientX-d.x,y:k.clientY-d.y}))},G=k=>{p&&m({x:k.clientX-b.x,y:k.clientY-b.y})},z=()=>{x(!1)};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"image-zoom-thumbnail",onClick:S,children:[g.jsx("img",{src:e,alt:t}),g.jsxs("div",{className:"image-zoom-overlay",children:[g.jsx(ie,{icon:r6}),g.jsx("span",{children:"Tap to zoom"})]})]}),g.jsx(R3,{isOpen:n,onDidDismiss:N,className:"image-zoom-modal",children:g.jsxs("div",{className:"image-zoom-container",children:[g.jsx("div",{className:"image-zoom-header",children:g.jsx(fn,{slot:"end",children:g.jsx(Ce,{onClick:N,children:g.jsx(ie,{icon:Jo})})})}),g.jsx("div",{ref:C,className:"image-zoom-content",onTouchStart:A,onTouchMove:_,onTouchEnd:D,onMouseDown:P,onMouseMove:G,onMouseUp:z,onMouseLeave:z,children:g.jsx("img",{src:e,alt:t,style:{transform:"scale(".concat(a,") translate(").concat(d.x/a,"px, ").concat(d.y/a,"px)"),transition:p?"none":"transform 0.2s ease-out",cursor:a>1?p?"grabbing":"grab":"default"}})}),g.jsxs("div",{className:"image-zoom-controls",children:[g.jsx(Ce,{onClick:B,disabled:a<=1,children:""}),g.jsxs("span",{children:[Math.round(a*100),"%"]}),g.jsx(Ce,{onClick:M,disabled:a>=4,children:"+"}),g.jsx(Ce,{onClick:T,fill:"outline",children:"Reset"})]})]})})]})},vA=({currentArtifactId:e,category:t,period:n})=>{const{t:i,i18n:a}=qn(),o=Gs(),{toggleFavorite:d,isFavorite:m}=i0(),[p,x]=Y.useState([]),[b,y]=Y.useState(!0),C=a.language||"en";if(Y.useEffect(()=>{(async()=>{y(!0);try{const A=(await s0()).filter(_=>_.id!==e).filter(_=>{const D=t&&_.category===t,P=n&&_.period===n;return D||P}).slice(0,4);x(A)}catch(T){console.error("Error loading related artifacts:",T)}finally{y(!1)}})()},[e,t,n]),b||p.length===0)return null;const S=B=>{const T="name_".concat(C);return B[T]||B.name_en||"Untitled"},N=B=>{o.push("/artifact/".concat(B))},M=(B,T)=>{B.stopPropagation(),d(T)};return g.jsxs(Ie,{className:"related-artifacts-card",children:[g.jsx(Ve,{children:g.jsx(Ge,{children:i("relatedArtifacts")||"Related Artifacts"})}),g.jsx(De,{children:g.jsx(Ud,{children:g.jsx(Fd,{children:p.map(B=>g.jsx(xs,{size:"6",children:g.jsxs("div",{className:"related-artifact-item",onClick:()=>N(B.id),children:[g.jsxs("div",{className:"related-artifact-image",children:[g.jsx(Gx,{src:B.image_url,alt:S(B),className:"artifact-image"}),g.jsx("button",{className:"favorite-button",onClick:T=>M(T,B.id),children:g.jsx(ie,{icon:m(B.id)?el:yu,color:m(B.id)?"danger":"light"})})]}),g.jsxs("div",{className:"related-artifact-info",children:[g.jsx("h4",{children:S(B)}),g.jsx("p",{children:B.period})]})]})},B.id))})})})]})},Fg=()=>{const[e,t]=Y.useState(!1);Y.useEffect(()=>{const a=localStorage.getItem("theme"),o=a==="dark"||a===null;t(o),n(o);const d=window.matchMedia("(prefers-color-scheme: dark)"),m=p=>{localStorage.getItem("theme")||(t(p.matches),n(p.matches))};return d.addEventListener("change",m),()=>d.removeEventListener("change",m)},[]);const n=a=>{document.body.classList.toggle("dark",a)},i=()=>{const a=!e;t(a),n(a),localStorage.setItem("theme",a?"dark":"light")};return g.jsx(Ce,{fill:"clear",onClick:i,title:e?"Switch to light mode":"Switch to dark mode",children:g.jsx(ie,{icon:e?L6:S6})})},Vg=()=>{const{i18n:e}=qn(),t=n=>{e.changeLanguage(n),localStorage.setItem("language",n)};return g.jsxs(pc,{value:e.language,onIonChange:n=>t(n.detail.value),interface:"popover",style:{minWidth:"80px"},children:[g.jsx(Wt,{value:"en",children:" EN"}),g.jsx(Wt,{value:"it",children:" IT"}),g.jsx(Wt,{value:"es",children:" ES"}),g.jsx(Wt,{value:"fr",children:" FR"})]})},yA=()=>{const{id:e}=G3(),{t,i18n:n}=qn(),i=Gs(),{toggleFavorite:a,isFavorite:o}=i0(),[d,m]=Y.useState(null),[p,x]=Y.useState(!0),[b,y]=Y.useState(null),[C,S]=Y.useState([]),[N,M]=Y.useState(0),[B,T]=Y.useState(0),[A,_]=Y.useState(!0),D=n.language||"en";Y.useEffect(()=>{const $=setTimeout(()=>{_(!1)},3e3);return()=>clearTimeout($)},[e]),Y.useEffect(()=>{(async()=>{try{const oe=await s0();S(oe)}catch(oe){console.error("Error loading artifacts:",oe)}})()},[]),Y.useEffect(()=>{(async()=>{if(e){x(!0),y(null);try{const oe=await cA(e);oe?m(oe):y("Artifact not found")}catch(oe){console.error("Error loading artifact:",oe),y("Failed to load artifact")}finally{x(!1)}}})()},[e]);const P=()=>C.findIndex($=>$.id===e),G=()=>{const $=P();if($>=0&&$<C.length-1){const oe=C[$+1];i.push("/artifact/".concat(oe.id))}},z=()=>{const $=P();if($>0){const oe=C[$-1];i.push("/artifact/".concat(oe.id))}},k=$=>{M($.targetTouches[0].clientX)},V=$=>{T($.targetTouches[0].clientX)},Z=()=>{if(!N||!B)return;const $=N-B,oe=$>50,H=$<-50;oe&&G(),H&&z(),M(0),T(0)};if(p)return g.jsxs(Zt,{children:[g.jsx(Nt,{children:g.jsxs(Mt,{children:[g.jsx(fn,{slot:"start",children:g.jsx(fa,{defaultHref:"/gallery"})}),g.jsx(kt,{children:t("artifactDetails")}),g.jsxs(fn,{slot:"end",children:[g.jsx(Fg,{}),g.jsx(Vg,{})]})]})}),g.jsx(Vt,{children:g.jsx(xA,{})})]});if(b||!d)return g.jsxs(Zt,{children:[g.jsx(Nt,{children:g.jsxs(Mt,{children:[g.jsx(fn,{slot:"start",children:g.jsx(fa,{defaultHref:"/gallery"})}),g.jsx(kt,{children:"Artifact Not Found"})]})}),g.jsx(Vt,{children:g.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[g.jsx("p",{children:b||"Sorry, this artifact could not be found."}),g.jsx(Ce,{onClick:()=>i.push("/gallery"),children:t("backToGallery")||"Back to Gallery"})]})})]});const ee=d["name_".concat(D)]||d.name_en,q=d["description_".concat(D)]||d.description_en;return g.jsxs(Zt,{children:[g.jsx(Nt,{children:g.jsxs(Mt,{children:[g.jsx(fn,{slot:"start",children:g.jsx(fa,{defaultHref:"/gallery"})}),g.jsx(kt,{children:t("artifactDetails")}),g.jsxs(fn,{slot:"end",children:[g.jsx(Ce,{onClick:()=>a(d.id),children:g.jsx(ie,{icon:o(d.id)?el:yu,color:o(d.id)?"danger":"medium"})}),g.jsx(Ce,{onClick:async()=>{if(navigator.share)try{await navigator.share({title:ee,text:q,url:window.location.href})}catch($){console.log("Error sharing:",$)}},children:g.jsx(ie,{icon:bx})}),g.jsx(Vg,{}),g.jsx(Fg,{})]})]})}),g.jsxs(Vt,{fullscreen:!0,onTouchStart:k,onTouchMove:V,onTouchEnd:Z,children:[g.jsxs("div",{className:"artifact-detail-container",children:[g.jsxs(Ie,{children:[g.jsx(Ve,{children:g.jsx(Ge,{children:ee})}),g.jsx(De,{children:d.type==="image"?g.jsx(wA,{src:d.image_url,alt:ee}):g.jsxs("video",{controls:!0,className:"artifact-detail-video",children:[g.jsx("source",{src:d.image_url,type:"video/mp4"}),"Your browser does not support the video tag."]})})]}),d.audio_guide_url&&g.jsx(mA,{title:ee,audioUrl:d.audio_guide_url,artifactId:d.id}),g.jsxs(Ie,{children:[g.jsx(Ve,{children:g.jsxs(Ge,{children:[g.jsx(ie,{icon:px})," Description"]})}),g.jsx(De,{children:g.jsx("p",{className:"detailed-description",children:q})})]}),g.jsxs(Ie,{children:[g.jsx(Ve,{children:g.jsx(Ge,{children:"Artifact Information"})}),g.jsx(De,{children:g.jsxs("div",{className:"info-section",children:[d.period&&g.jsxs("div",{className:"info-item",children:[g.jsx(ie,{icon:$b,className:"info-icon"}),g.jsxs("div",{children:[g.jsx("strong",{children:"Period:"}),g.jsx("p",{children:d.period})]})]}),d.origin&&g.jsxs("div",{className:"info-item",children:[g.jsx(ie,{icon:x6,className:"info-icon"}),g.jsxs("div",{children:[g.jsx("strong",{children:"Origin:"}),g.jsx("p",{children:d.origin})]})]}),d.material&&g.jsxs("div",{className:"info-item",children:[g.jsx("strong",{children:"Material:"}),g.jsx("p",{children:d.material})]}),d.dimensions&&g.jsxs("div",{className:"info-item",children:[g.jsx("strong",{children:"Dimensions:"}),g.jsx("p",{children:d.dimensions})]}),d.discovered&&g.jsxs("div",{className:"info-item",children:[g.jsx("strong",{children:"Discovered:"}),g.jsx("p",{children:d.discovered})]}),d.condition&&g.jsxs("div",{className:"info-item",children:[g.jsx("strong",{children:"Condition:"}),g.jsx("p",{children:d.condition})]})]})})]}),g.jsx(vA,{currentArtifactId:d.id,category:d.category,period:d.period}),C.length>1&&g.jsxs("div",{className:"navigation-indicators",children:[g.jsxs("div",{className:"nav-button ".concat(P()===0?"disabled":""),onClick:z,style:{cursor:P()===0?"not-allowed":"pointer"},children:[g.jsx(ie,{icon:t6}),g.jsx("span",{children:"Previous"})]}),g.jsxs("div",{style:{fontSize:"12px",color:"var(--ion-color-medium)"},children:[P()+1," / ",C.length]}),g.jsxs("div",{className:"nav-button ".concat(P()===C.length-1?"disabled":""),onClick:G,style:{cursor:P()===C.length-1?"not-allowed":"pointer"},children:[g.jsx("span",{children:"Next"}),g.jsx(ie,{icon:n6})]})]})]}),A&&C.length>1&&g.jsxs("div",{className:"swipe-hint",children:[g.jsx(ie,{icon:P6}),g.jsx("span",{children:"Swipe to navigate"})]})]})]})},bA=()=>{const{t:e}=qn();return g.jsxs(Zt,{children:[g.jsx(Nt,{children:g.jsxs(Mt,{children:[g.jsxs(fn,{slot:"start",children:[g.jsx(es,{}),g.jsx(fa,{defaultHref:"/gallery"})]}),g.jsx(kt,{children:e("help")})]})}),g.jsx(Vt,{fullscreen:!0,className:"help-content",children:g.jsxs("div",{className:"help-container",children:[g.jsxs(Ie,{children:[g.jsx(Ve,{children:g.jsx(Ge,{children:e("helpWelcome")})}),g.jsx(De,{children:g.jsx("p",{children:e("helpIntro")})})]}),g.jsxs(Ie,{children:[g.jsx(Ve,{children:g.jsx(Ge,{children:e("helpFeatures")})}),g.jsx(De,{children:g.jsxs(Ln,{children:[g.jsxs(Se,{children:[g.jsx(ie,{icon:g6,slot:"start",color:"primary"}),g.jsxs(de,{children:[g.jsx("h2",{children:e("helpGalleryTitle")}),g.jsx("p",{children:e("helpGalleryDesc")})]})]}),g.jsxs(Se,{children:[g.jsx(ie,{icon:fx,slot:"start",color:"secondary"}),g.jsxs(de,{children:[g.jsx("h2",{children:e("help3DTitle")}),g.jsx("p",{children:e("help3DDesc")})]})]}),g.jsxs(Se,{children:[g.jsx(ie,{icon:I6,slot:"start",color:"tertiary"}),g.jsxs(de,{children:[g.jsx("h2",{children:e("helpQRTitle")}),g.jsx("p",{children:e("helpQRDesc")})]})]}),g.jsxs(Se,{children:[g.jsx(ie,{icon:e6,slot:"start",color:"success"}),g.jsxs(de,{children:[g.jsx("h2",{children:e("helpARTitle")}),g.jsx("p",{children:e("helpARDesc")})]})]}),g.jsxs(Se,{children:[g.jsx(ie,{icon:l6,slot:"start",color:"warning"}),g.jsxs(de,{children:[g.jsx("h2",{children:e("helpQuizTitle")}),g.jsx("p",{children:e("helpQuizDesc")})]})]}),g.jsxs(Se,{children:[g.jsx(ie,{icon:yu,slot:"start",color:"danger"}),g.jsxs(de,{children:[g.jsx("h2",{children:e("helpFavoritesTitle")}),g.jsx("p",{children:e("helpFavoritesDesc")})]})]}),g.jsxs(Se,{children:[g.jsx(ie,{icon:yx,slot:"start",color:"medium"}),g.jsxs(de,{children:[g.jsx("h2",{children:e("helpSearchTitle")}),g.jsx("p",{children:e("helpSearchDesc")})]})]}),g.jsxs(Se,{children:[g.jsx(ie,{icon:bx,slot:"start",color:"primary"}),g.jsxs(de,{children:[g.jsx("h2",{children:e("helpShareTitle")}),g.jsx("p",{children:e("helpShareDesc")})]})]}),g.jsxs(Se,{children:[g.jsx(ie,{icon:mx,slot:"start",color:"secondary"}),g.jsxs(de,{children:[g.jsx("h2",{children:e("helpLanguageTitle")}),g.jsx("p",{children:e("helpLanguageDesc")})]})]}),g.jsxs(Se,{children:[g.jsx(ie,{icon:Xh,slot:"start",color:"tertiary"}),g.jsxs(de,{children:[g.jsx("h2",{children:e("helpThemeTitle")}),g.jsx("p",{children:e("helpThemeDesc")})]})]})]})})]}),g.jsxs(Ie,{children:[g.jsx(Ve,{children:g.jsx(Ge,{children:e("helpTips")})}),g.jsx(De,{children:g.jsxs("ul",{className:"help-tips-list",children:[g.jsx("li",{children:e("helpTip1")}),g.jsx("li",{children:e("helpTip2")}),g.jsx("li",{children:e("helpTip3")}),g.jsx("li",{children:e("helpTip4")}),g.jsx("li",{children:e("helpTip5")})]})})]})]})})]})},EA=()=>{const{t:e}=qn();return g.jsxs(Zt,{children:[g.jsx(Nt,{children:g.jsxs(Mt,{children:[g.jsxs(fn,{slot:"start",children:[g.jsx(es,{}),g.jsx(fa,{defaultHref:"/gallery"})]}),g.jsx(kt,{children:e("about")})]})}),g.jsx(Vt,{fullscreen:!0,className:"about-content",children:g.jsxs("div",{className:"about-container",children:[g.jsxs(Ie,{className:"about-hero",children:[g.jsxs(Ve,{children:[g.jsx("div",{className:"about-logo",children:""}),g.jsx(Ge,{className:"about-title",children:e("aboutAppName")}),g.jsx("p",{className:"about-version",children:e("aboutVersion")})]}),g.jsx(De,{children:g.jsx("p",{className:"about-description",children:e("aboutDescription")})})]}),g.jsxs(Ie,{children:[g.jsx(Ve,{children:g.jsx(Ge,{children:e("aboutFeatures")})}),g.jsx(De,{children:g.jsxs("div",{className:"features-grid",children:[g.jsxs("div",{className:"feature-item",children:[g.jsx(ie,{icon:c6,color:"primary"}),g.jsx("h3",{children:e("aboutFeature1Title")}),g.jsx("p",{children:e("aboutFeature1Desc")})]}),g.jsxs("div",{className:"feature-item",children:[g.jsx(ie,{icon:fx,color:"secondary"}),g.jsx("h3",{children:e("aboutFeature2Title")}),g.jsx("p",{children:e("aboutFeature2Desc")})]}),g.jsxs("div",{className:"feature-item",children:[g.jsx(ie,{icon:T6,color:"tertiary"}),g.jsx("h3",{children:e("aboutFeature3Title")}),g.jsx("p",{children:e("aboutFeature3Desc")})]}),g.jsxs("div",{className:"feature-item",children:[g.jsx(ie,{icon:i6,color:"success"}),g.jsx("h3",{children:e("aboutFeature4Title")}),g.jsx("p",{children:e("aboutFeature4Desc")})]})]})})]}),g.jsxs(Ie,{children:[g.jsx(Ve,{children:g.jsx(Ge,{children:e("aboutTechnology")})}),g.jsx(De,{children:g.jsxs("div",{className:"tech-stack",children:[g.jsxs(Ti,{color:"primary",children:[g.jsx(ie,{icon:A6}),g.jsx(de,{children:"React 19"})]}),g.jsxs(Ti,{color:"primary",children:[g.jsx(ie,{icon:E6}),g.jsx(de,{children:"Ionic Framework"})]}),g.jsx(Ti,{color:"secondary",children:g.jsx(de,{children:"TypeScript"})}),g.jsx(Ti,{color:"secondary",children:g.jsx(de,{children:"Babylon.js"})}),g.jsx(Ti,{color:"tertiary",children:g.jsx(de,{children:"i18next"})}),g.jsx(Ti,{color:"tertiary",children:g.jsx(de,{children:"Vite"})}),g.jsx(Ti,{color:"success",children:g.jsx(de,{children:"PWA"})}),g.jsx(Ti,{color:"success",children:g.jsx(de,{children:"Supabase"})})]})})]}),g.jsxs(Ie,{children:[g.jsx(Ve,{children:g.jsx(Ge,{children:e("aboutContact")})}),g.jsxs(De,{children:[g.jsx("p",{children:e("aboutContactDesc")}),g.jsxs("div",{className:"contact-info",children:[g.jsxs("p",{children:[g.jsxs("strong",{children:[e("aboutDeveloper"),":"]})," Museum App Team"]}),g.jsxs("p",{children:[g.jsxs("strong",{children:[e("aboutWebsite"),":"]})," https://gfq40.github.io/museum-app/"]}),g.jsxs("p",{children:[g.jsxs("strong",{children:[e("aboutEmail"),":"]})," info@museumapp.example"]})]})]})]}),g.jsx(Ie,{children:g.jsxs(De,{className:"about-footer",children:[g.jsx("p",{children:e("aboutCopyright")}),g.jsx("p",{children:e("aboutLicense")})]})})]})})]})},AA=()=>{const{t:e}=qn(),t=n=>{window.open(n,"_blank")};return g.jsxs(Zt,{children:[g.jsx(Nt,{children:g.jsxs(Mt,{children:[g.jsxs(fn,{slot:"start",children:[g.jsx(es,{}),g.jsx(fa,{defaultHref:"/gallery"})]}),g.jsx(kt,{children:e("credits")})]})}),g.jsx(Vt,{fullscreen:!0,className:"credits-content",children:g.jsxs("div",{className:"credits-container",children:[g.jsxs(Ie,{children:[g.jsx(Ve,{children:g.jsx(Ge,{children:e("creditsThankYou")})}),g.jsx(De,{children:g.jsx("p",{children:e("creditsIntro")})})]}),g.jsxs(Ie,{children:[g.jsx(Ve,{children:g.jsxs(Ge,{children:[g.jsx(ie,{icon:vg})," ",e("creditsLibraries")]})}),g.jsx(De,{children:g.jsxs(Ln,{children:[g.jsxs(Se,{button:!0,onClick:()=>t("https://react.dev/"),children:[g.jsxs(de,{children:[g.jsx("h2",{children:"React"}),g.jsx("p",{children:e("creditsReactDesc")})]}),g.jsx(ie,{icon:$n,slot:"end"})]}),g.jsxs(Se,{button:!0,onClick:()=>t("https://ionicframework.com/"),children:[g.jsxs(de,{children:[g.jsx("h2",{children:"Ionic Framework"}),g.jsx("p",{children:e("creditsIonicDesc")})]}),g.jsx(ie,{icon:$n,slot:"end"})]}),g.jsxs(Se,{button:!0,onClick:()=>t("https://www.babylonjs.com/"),children:[g.jsxs(de,{children:[g.jsx("h2",{children:"Babylon.js"}),g.jsx("p",{children:e("creditsBabylonDesc")})]}),g.jsx(ie,{icon:$n,slot:"end"})]}),g.jsxs(Se,{button:!0,onClick:()=>t("https://www.i18next.com/"),children:[g.jsxs(de,{children:[g.jsx("h2",{children:"i18next"}),g.jsx("p",{children:e("creditsI18nDesc")})]}),g.jsx(ie,{icon:$n,slot:"end"})]}),g.jsxs(Se,{button:!0,onClick:()=>t("https://vitejs.dev/"),children:[g.jsxs(de,{children:[g.jsx("h2",{children:"Vite"}),g.jsx("p",{children:e("creditsViteDesc")})]}),g.jsx(ie,{icon:$n,slot:"end"})]}),g.jsxs(Se,{button:!0,onClick:()=>t("https://supabase.com/"),children:[g.jsxs(de,{children:[g.jsx("h2",{children:"Supabase"}),g.jsx("p",{children:e("creditsSupabaseDesc")})]}),g.jsx(ie,{icon:$n,slot:"end"})]}),g.jsxs(Se,{button:!0,onClick:()=>t("https://github.com/mebjas/html5-qrcode"),children:[g.jsxs(de,{children:[g.jsx("h2",{children:"html5-qrcode"}),g.jsx("p",{children:e("creditsQRDesc")})]}),g.jsx(ie,{icon:$n,slot:"end"})]})]})})]}),g.jsxs(Ie,{children:[g.jsx(Ve,{children:g.jsxs(Ge,{children:[g.jsx(ie,{icon:yg})," ",e("creditsImages")]})}),g.jsxs(De,{children:[g.jsx(Ln,{children:g.jsxs(Se,{button:!0,onClick:()=>t("https://unsplash.com/"),children:[g.jsxs(de,{children:[g.jsx("h2",{children:"Unsplash"}),g.jsx("p",{children:e("creditsUnsplashDesc")})]}),g.jsx(ie,{icon:$n,slot:"end"})]})}),g.jsxs("div",{className:"credits-photographers",children:[g.jsx("p",{children:g.jsxs("strong",{children:[e("creditsPhotographers"),":"]})}),g.jsxs("ul",{children:[g.jsx("li",{children:"Europeana (Ancient Pottery)"}),g.jsx("li",{children:"Birmingham Museums Trust (Historical Artifacts)"}),g.jsx("li",{children:"Europeana (Medieval Manuscript)"}),g.jsx("li",{children:"Europeana (Renaissance Painting)"}),g.jsx("li",{children:"Europeana (Ancient Sculpture)"})]})]})]})]}),g.jsxs(Ie,{children:[g.jsx(Ve,{children:g.jsxs(Ge,{children:[g.jsx(ie,{icon:vg})," ",e("credits3DModels")]})}),g.jsx(De,{children:g.jsxs(Ln,{children:[g.jsxs(Se,{button:!0,onClick:()=>t("https://sketchfab.com/"),children:[g.jsxs(de,{children:[g.jsx("h2",{children:"Sketchfab"}),g.jsx("p",{children:e("creditsSketchfabDesc")})]}),g.jsx(ie,{icon:$n,slot:"end"})]}),g.jsxs(Se,{button:!0,onClick:()=>t("https://www.babylonjs.com/"),children:[g.jsxs(de,{children:[g.jsx("h2",{children:"Babylon.js Playground"}),g.jsx("p",{children:e("creditsBabylonPlaygroundDesc")})]}),g.jsx(ie,{icon:$n,slot:"end"})]})]})})]}),g.jsxs(Ie,{children:[g.jsx(Ve,{children:g.jsxs(Ge,{children:[g.jsx(ie,{icon:_6})," ",e("creditsAudio")]})}),g.jsx(De,{children:g.jsx(Ln,{children:g.jsxs(Se,{button:!0,onClick:()=>t("https://www.soundhelix.com/"),children:[g.jsxs(de,{children:[g.jsx("h2",{children:"SoundHelix"}),g.jsx("p",{children:e("creditsSoundHelixDesc")})]}),g.jsx(ie,{icon:$n,slot:"end"})]})})})]}),g.jsxs(Ie,{children:[g.jsx(Ve,{children:g.jsxs(Ge,{children:[g.jsx(ie,{icon:yg})," ",e("creditsIcons")]})}),g.jsx(De,{children:g.jsx(Ln,{children:g.jsxs(Se,{button:!0,onClick:()=>t("https://ionic.io/ionicons"),children:[g.jsxs(de,{children:[g.jsx("h2",{children:"Ionicons"}),g.jsx("p",{children:e("creditsIoniconsDesc")})]}),g.jsx(ie,{icon:$n,slot:"end"})]})})})]}),g.jsxs(Ie,{children:[g.jsx(Ve,{children:g.jsx(Ge,{children:e("creditsSpecialThanks")})}),g.jsxs(De,{children:[g.jsx("p",{children:e("creditsSpecialThanksDesc")}),g.jsxs("ul",{className:"credits-thanks-list",children:[g.jsx("li",{children:e("creditsThanks1")}),g.jsx("li",{children:e("creditsThanks2")}),g.jsx("li",{children:e("creditsThanks3")}),g.jsx("li",{children:e("creditsThanks4")})]})]})]}),g.jsx(Ie,{children:g.jsx(De,{className:"credits-footer",children:g.jsx("p",{children:e("creditsFooter")})})})]})})]})},SA=()=>g.jsxs(I3,{children:[g.jsxs(Wg,{children:[g.jsx(hn,{exact:!0,path:"/tabs/gallery",children:g.jsx(hA,{})}),g.jsx(hn,{exact:!0,path:"/tabs/artifact/:id",children:g.jsx(yA,{})}),g.jsx(hn,{exact:!0,path:"/tabs/exhibits",children:g.jsx(fA,{})}),g.jsx(hn,{path:"/tabs/ar",children:g.jsx(gA,{})}),g.jsx(hn,{path:"/tabs/quiz",children:g.jsx(pA,{})}),g.jsx(hn,{exact:!0,path:"/tabs/help",children:g.jsx(bA,{})}),g.jsx(hn,{exact:!0,path:"/tabs/about",children:g.jsx(EA,{})}),g.jsx(hn,{exact:!0,path:"/tabs/credits",children:g.jsx(AA,{})}),g.jsx(hn,{exact:!0,path:"/tabs",children:g.jsx(Yg,{to:"/tabs/gallery"})})]}),g.jsxs(D3,{slot:"bottom",children:[g.jsxs(Tl,{tab:"gallery",href:"/tabs/gallery",children:[g.jsx(ie,{"aria-hidden":"true",icon:gx}),g.jsx(de,{children:"Gallery"})]}),g.jsxs(Tl,{tab:"exhibits",href:"/tabs/exhibits",children:[g.jsx(ie,{"aria-hidden":"true",icon:hx}),g.jsx(de,{children:"3D Exhibits"})]}),g.jsxs(Tl,{tab:"ar",href:"/tabs/ar",children:[g.jsx(ie,{"aria-hidden":"true",icon:vx}),g.jsx(de,{children:"AR View"})]}),g.jsxs(Tl,{tab:"quiz",href:"/tabs/quiz",children:[g.jsx(ie,{"aria-hidden":"true",icon:k6}),g.jsx(de,{children:"Quiz"})]})]})]}),CA=()=>{const[e,t]=Y.useState(navigator.onLine),[n,i]=Y.useState(!1);return Y.useEffect(()=>{const a=()=>{t(!0),i(!0)},o=()=>{t(!1),i(!0)};return window.addEventListener("online",a),window.addEventListener("offline",o),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",o)}},[]),g.jsx(g.Fragment,{children:g.jsx(N3,{isOpen:n,onDidDismiss:()=>i(!1),message:e?" Back online! Content will sync automatically.":" You are offline. Cached content is still available.",duration:3e3,color:e?"success":"warning",position:"top"})})},_A=()=>{const{t:e,i18n:t}=qn(),n=Gs(),[i,a]=Tt.useState(document.body.classList.contains("dark")),o=p=>{t.changeLanguage(p)},d=p=>{a(p),document.body.classList.toggle("dark",p),localStorage.setItem("theme",p?"dark":"light")},m=p=>{n.push(p);const x=document.querySelector("ion-menu");x==null||x.close()};return g.jsxs(M3,{contentId:"main-content",type:"overlay",children:[g.jsx(Nt,{children:g.jsx(Mt,{color:"primary",children:g.jsx(kt,{children:e("menu")})})}),g.jsx(Vt,{children:g.jsxs(Ln,{children:[g.jsxs(Gu,{children:[g.jsx(ie,{icon:mx,slot:"start"}),g.jsx(de,{children:e("language")})]}),g.jsx(Se,{children:g.jsxs(pc,{value:t.language,onIonChange:p=>o(p.detail.value),interface:"popover",children:[g.jsx(Wt,{value:"en",children:" English"}),g.jsx(Wt,{value:"it",children:" Italiano"}),g.jsx(Wt,{value:"es",children:" Espaol"}),g.jsx(Wt,{value:"fr",children:" Franais"})]})}),g.jsxs(Gu,{children:[g.jsx(ie,{icon:i?Xh:Eg,slot:"start"}),g.jsx(de,{children:e("theme")})]}),g.jsxs(Se,{children:[g.jsx(ie,{icon:Eg,slot:"start"}),g.jsx(de,{children:e("lightMode")}),g.jsx(k3,{checked:i,onIonChange:p=>d(p.detail.checked),slot:"end"}),g.jsx(ie,{icon:Xh,slot:"end",style:{marginLeft:"8px"}})]}),g.jsx(Gu,{style:{marginTop:"20px"},children:g.jsx(de,{children:e("information")})}),g.jsxs(Se,{button:!0,onClick:()=>m("/tabs/help"),children:[g.jsx(ie,{icon:h6,slot:"start"}),g.jsx(de,{children:e("help")})]}),g.jsxs(Se,{button:!0,onClick:()=>m("/tabs/about"),children:[g.jsx(ie,{icon:p6,slot:"start"}),g.jsx(de,{children:e("about")})]}),g.jsxs(Se,{button:!0,onClick:()=>m("/tabs/credits"),children:[g.jsx(ie,{icon:N6,slot:"start"}),g.jsx(de,{children:e("credits")})]})]})})]})},TA=()=>{const e=Gs(),{currentAudio:t,isPlaying:n,currentTime:i,duration:a,playbackRate:o,pauseAudio:d,resumeAudio:m,stopAudio:p,seekTo:x,skipForward:b,skipBackward:y,setPlaybackRate:C}=dx(),[S,N]=Y.useState(!1),[M,B]=Y.useState(void 0);if(!t)return null;const T=k=>{if(isNaN(k))return"0:00";const V=Math.floor(k/60),Z=Math.floor(k%60);return"".concat(V,":").concat(Z.toString().padStart(2,"0"))},A=()=>{n?d():m()},_=k=>{x(k)},D=k=>{B(k),N(!0)},P=k=>{C(k),N(!1)},G=()=>{e.push("/tabs/artifact/".concat(t.artifactId))},z=[.5,.75,1,1.25,1.5,2];return g.jsxs("div",{className:"mini-player-container",children:[g.jsx(Ie,{className:"mini-player-card",children:g.jsxs(De,{className:"mini-player-content",children:[g.jsxs("div",{className:"mini-player-header",children:[g.jsxs("div",{className:"mini-player-title",onClick:G,children:[g.jsx(ie,{icon:hc,className:"mini-player-icon"}),g.jsx("span",{children:t.title})]}),g.jsx(Ce,{fill:"clear",size:"small",onClick:p,children:g.jsx(ie,{icon:Jo})})]}),g.jsxs("div",{className:"mini-player-progress",children:[g.jsx("span",{className:"time-label",children:T(i)}),g.jsx(j3,{min:0,max:a||100,value:i,onIonChange:k=>_(k.detail.value),className:"progress-range"}),g.jsx("span",{className:"time-label",children:T(a)})]}),g.jsxs("div",{className:"mini-player-controls",children:[g.jsxs(Ce,{fill:"clear",onClick:()=>y(15),children:[g.jsx(ie,{icon:O6}),g.jsx("span",{className:"skip-label",children:"15s"})]}),g.jsx(Ce,{fill:"solid",shape:"round",onClick:A,className:"play-pause-button",children:g.jsx(ie,{icon:n?xx:hc})}),g.jsxs(Ce,{fill:"clear",onClick:()=>b(15),children:[g.jsx("span",{className:"skip-label",children:"15s"}),g.jsx(ie,{icon:R6})]}),g.jsxs(Ce,{fill:"clear",onClick:D,children:[g.jsx(ie,{icon:j6}),g.jsxs("span",{className:"speed-label",children:[o,"x"]})]})]})]})}),g.jsx(B3,{isOpen:S,event:M,onDidDismiss:()=>N(!1),children:g.jsx(Ln,{children:z.map(k=>g.jsxs(Se,{button:!0,onClick:()=>P(k),className:o===k?"speed-selected":"",children:[g.jsxs(de,{children:[k,"x"]}),o===k&&g.jsx(ie,{icon:hc,slot:"end"})]},k))})})]})},OA={en:{translation:{gallery:"Gallery",exhibits3d:"3D Exhibits",arView:"AR View",artifactDetails:"Artifact Details",virtualMuseum:"Virtual Museum",exploreHistory:"Explore History in Your Hands",continueWithGoogle:"Continue with Google",continueWithApple:"Continue with Apple",continueWithEmail:"Continue with Email",continueAsGuest:"Continue as Guest",or:"or",login:"Login",signUp:"Sign Up",email:"Email",password:"Password",pleaseEnterEmailPassword:"Please enter email and password",checkEmailVerification:"Please check your email to verify your account",alreadyHaveAccount:"Already have an account?",dontHaveAccount:"Don't have an account?",back:"Back",welcomeFooter:"Discover ancient artifacts, explore 3D exhibits, and test your knowledge",guestModeActive:"You're browsing as guest",loginToSaveFavorites:"Login to save favorites",loginToTrackProgress:"Login to track your progress",logout:"Logout",skip:"Skip",next:"Next",getStarted:"Get Started",onboardingSlide1Title:"Explore Artifacts",onboardingSlide1Desc:"Browse through a stunning collection of historical artifacts from around the world with high-quality images and detailed information.",onboardingSlide2Title:"3D & AR Viewing",onboardingSlide2Desc:"Experience artifacts in 3D! Rotate, zoom, and view exhibits in augmented reality for an immersive museum experience.",onboardingSlide3Title:"QR Code Scanning",onboardingSlide3Desc:"Scan QR codes at museums to instantly access detailed information about exhibits and artifacts.",onboardingSlide4Title:"Audio Guides",onboardingSlide4Desc:"Listen to expert audio guides that bring artifacts to life with fascinating stories and historical context.",onboardingSlide5Title:"Save Favorites",onboardingSlide5Desc:"Mark your favorite artifacts and create your personal collection for quick access anytime.",onboardingSlide6Title:"Interactive Quizzes",onboardingSlide6Desc:"Test your knowledge with fun quizzes and earn badges as you learn about history and culture.",onboardingSlide7Title:"Multi-Language",onboardingSlide7Desc:"Available in English, Italian, Spanish, and French. Switch languages anytime to enjoy content in your preferred language.",onboardingSlide8Title:"Ready to Explore!",onboardingSlide8Desc:"You're all set! Start your journey through history and discover amazing artifacts from ancient civilizations.",museumGallery:"Museum Gallery",searchArtifacts:"Search artifacts...",all:"All",favorites:" Favorites",images:"Images",videos:"Videos",noArtifactsFound:"No artifacts found matching your search.",ancientPottery:"Ancient Pottery",ancientPotteryDesc:"Ancient pottery from the Bronze Age",historicalArtifacts:"Historical Artifacts",historicalArtifactsDesc:"Collection of historical artifacts",museumTour:"Museum Tour",museumTourDesc:"Virtual tour of the museum",ancientSculpture:"Ancient Sculpture",ancientSculptureDesc:"Classical sculpture from ancient Greece",audioGuide:"Audio Guide",description:"Description",artifactInformation:"Artifact Information",period:"Period",origin:"Origin",material:"Material",dimensions:"Dimensions",discovered:"Discovered",condition:"Condition",relatedArtifacts:"Related Artifacts",interactive3dViewer:"Interactive 3D Viewer",selectExhibit:"Select an exhibit to view in 3D",useMouseToRotate:"Use mouse/touch to rotate and zoom",ancientGlobe:"Ancient Globe",ancientGlobeDesc:"A spherical artifact",stoneCube:"Stone Cube",stoneCubeDesc:"Carved stone cube",columnFragment:"Column Fragment",columnFragmentDesc:"Ancient column piece",skullModel:"Skull Model",skullModelDesc:"3D scanned skull artifact",damagedHelmet:"Damaged Helmet",damagedHelmetDesc:"Battle-worn ancient helmet",augmentedReality:"Augmented Reality",arNotSupported:"AR not supported",arNotSupportedDesc:"Your device does not support WebXR AR.",startAr:"Start AR Experience",requirements:"Requirements",httpsRequired:"HTTPS connection required",arCapableDevice:"AR-capable device (ARCore/ARKit)",cameraPermission:"Camera permission",modernBrowser:"Modern browser with WebXR support",scanArtifactQr:"Scan Artifact QR Code",pointCamera:"Point your camera at the QR code",qrWellLit:"Make sure the QR code is well lit and centered",cancel:"Cancel",audioGuideDesc:"Listen to the audio guide to learn more about this artifact's history, significance, and the story behind its discovery.",backOnline:" Back online! Content will sync automatically.",offline:" You are offline. Cached content is still available.",switchToDark:"Switch to dark mode",switchToLight:"Switch to light mode",museumQuiz:"Museum Quiz",question:"Question",of:"of",score:"Score",submitAnswer:"Submit Answer",nextQuestion:"Next Question",viewResults:"View Results",explanation:"Explanation",quizComplete:"Quiz Complete!",youScored:"You scored",yourBadges:"Your Badges:",tryAgain:"Try Again",perfectScore:" Perfect Score!",excellent:" Excellent!",goodJob:" Good Job!",keepLearning:" Keep Learning!",scholarBadge:" Scholar",expertBadge:" Expert",masterBadge:" Master",q1Question:"What period is the Ancient Pottery from?",q1Option1:"Iron Age",q1Option2:"Bronze Age",q1Option3:"Stone Age",q1Option4:"Medieval Period",q1Explanation:"The Ancient Pottery dates back to the Bronze Age, approximately 3000-1200 BCE.",q2Question:"Where was the Ancient Sculpture discovered?",q2Option1:"Rome",q2Option2:"Athens",q2Option3:"Egypt",q2Option4:"Mesopotamia",q2Explanation:"The Ancient Sculpture is a classical piece from ancient Greece, discovered in Athens.",q3Question:"What material is the Ancient Pottery made from?",q3Option1:"Bronze",q3Option2:"Marble",q3Option3:"Terracotta",q3Option4:"Gold",q3Explanation:"Ancient pottery was typically made from terracotta, a type of fired clay.",q4Question:"Which civilization is known for creating the first museums?",q4Option1:"Romans",q4Option2:"Greeks",q4Option3:"Egyptians",q4Option4:"Chinese",q4Explanation:'The ancient Greeks created the first museums, called "Mouseion" (temples of the Muses).',q5Question:"What is the primary purpose of museum conservation?",q5Option1:"To make artifacts look new",q5Option2:"To preserve artifacts for future generations",q5Option3:"To increase artifact value",q5Option4:"To clean artifacts regularly",q5Explanation:"Conservation aims to preserve artifacts in their current state for future generations to study and enjoy.",menu:"Menu",language:"Language",theme:"Theme",lightMode:"Light Mode",darkMode:"Dark Mode",information:"Information",help:"Help",about:"About",credits:"Credits",helpWelcome:"Welcome to Museum App",helpIntro:"This guide will help you navigate and make the most of all the features available in the Museum App.",helpFeatures:"Features",helpGalleryTitle:"Gallery",helpGalleryDesc:"Browse through our collection of artifacts with search and filter options.",help3DTitle:"3D Exhibits",help3DDesc:"View interactive 3D models of artifacts. Rotate, zoom, and explore from all angles.",helpQRTitle:"QR Scanner",helpQRDesc:"Scan QR codes at the museum to get instant information about artifacts.",helpARTitle:"AR View",helpARDesc:"Experience artifacts in augmented reality using your device camera.",helpQuizTitle:"Quiz",helpQuizDesc:"Test your knowledge about museum artifacts and history.",helpFavoritesTitle:"Favorites",helpFavoritesDesc:"Save your favorite artifacts for quick access later.",helpSearchTitle:"Search & Filter",helpSearchDesc:"Find specific artifacts using search and category filters.",helpShareTitle:"Share",helpShareDesc:"Share interesting artifacts with friends and family.",helpLanguageTitle:"Multi-Language",helpLanguageDesc:"Switch between English, Italian, Spanish, and French.",helpThemeTitle:"Dark Mode",helpThemeDesc:"Toggle between light and dark themes for comfortable viewing.",helpTips:"Tips & Tricks",helpTip1:"Pull down on the Gallery page to refresh content",helpTip2:"Tap the heart icon to add artifacts to your favorites",helpTip3:"Use pinch gestures to zoom in on 3D models",helpTip4:"The app works offline - cached content is always available",helpTip5:"Complete the quiz to earn badges and test your knowledge",aboutAppName:"Museum App",aboutVersion:"Version 1.0.0",aboutDescription:"An interactive museum experience featuring 3D exhibits, AR viewing, multilingual support, and educational quizzes. Explore artifacts from around the world with cutting-edge technology.",aboutFeatures:"Key Features",aboutFeature1Title:"Multilingual",aboutFeature1Desc:"4 languages supported",aboutFeature2Title:"3D & AR",aboutFeature2Desc:"Interactive viewing",aboutFeature3Title:"Mobile First",aboutFeature3Desc:"Optimized for mobile",aboutFeature4Title:"Offline Mode",aboutFeature4Desc:"Works without internet",aboutTechnology:"Built With",aboutContact:"Contact",aboutContactDesc:"Have questions or feedback? We'd love to hear from you!",aboutDeveloper:"Developer",aboutWebsite:"Website",aboutEmail:"Email",aboutCopyright:" 2024 Museum App. All rights reserved.",aboutLicense:"Open source software built with modern web technologies.",creditsThankYou:"Thank You",creditsIntro:"This app was made possible thanks to these amazing open source projects and resources.",creditsLibraries:"Open Source Libraries",creditsReactDesc:"JavaScript library for building user interfaces",creditsIonicDesc:"Mobile-first UI component library",creditsBabylonDesc:"3D rendering engine for the web",creditsI18nDesc:"Internationalization framework",creditsViteDesc:"Next generation frontend tooling",creditsSupabaseDesc:"Open source Firebase alternative",creditsQRDesc:"QR code scanning library",creditsImages:"Images & Media",creditsUnsplashDesc:"Beautiful free images and photos",creditsPhotographers:"Photographers",credits3DModels:"3D Models",creditsSketchfabDesc:"Platform for 3D and AR content",creditsBabylonPlaygroundDesc:"Sample 3D models and scenes",creditsAudio:"Audio",creditsSoundHelixDesc:"Royalty-free music and audio",creditsIcons:"Icons",creditsIoniconsDesc:"Premium designed icons for web and mobile",creditsSpecialThanks:"Special Thanks",creditsSpecialThanksDesc:"Special thanks to everyone who contributed to making this app possible:",creditsThanks1:"The open source community for amazing tools and libraries",creditsThanks2:"Museums and cultural institutions for preserving history",creditsThanks3:"Photographers and 3D artists for sharing their work",creditsThanks4:"You, for using this app and supporting digital museums",creditsFooter:"Made with  for museum enthusiasts everywhere"}},it:{translation:{gallery:"Galleria",exhibits3d:"Mostre 3D",arView:"Vista AR",artifactDetails:"Dettagli Reperto",virtualMuseum:"Museo Virtuale",exploreHistory:"Esplora la Storia nelle Tue Mani",continueWithGoogle:"Continua con Google",continueWithApple:"Continua con Apple",continueWithEmail:"Continua con Email",continueAsGuest:"Continua come Ospite",or:"oppure",login:"Accedi",signUp:"Registrati",email:"Email",password:"Password",pleaseEnterEmailPassword:"Inserisci email e password",checkEmailVerification:"Controlla la tua email per verificare il tuo account",alreadyHaveAccount:"Hai gi un account?",dontHaveAccount:"Non hai un account?",back:"Indietro",welcomeFooter:"Scopri antichi reperti, esplora mostre 3D e metti alla prova le tue conoscenze",guestModeActive:"Stai navigando come ospite",loginToSaveFavorites:"Accedi per salvare i preferiti",loginToTrackProgress:"Accedi per tracciare i tuoi progressi",logout:"Esci",skip:"Salta",next:"Avanti",getStarted:"Inizia",onboardingSlide1Title:"Esplora i Reperti",onboardingSlide1Desc:"Sfoglia una straordinaria collezione di reperti storici da tutto il mondo con immagini di alta qualit e informazioni dettagliate.",onboardingSlide2Title:"Visualizzazione 3D e AR",onboardingSlide2Desc:"Vivi i reperti in 3D! Ruota, ingrandisci e visualizza le mostre in realt aumentata per un'esperienza museale immersiva.",onboardingSlide3Title:"Scansione Codici QR",onboardingSlide3Desc:"Scansiona i codici QR nei musei per accedere istantaneamente a informazioni dettagliate su mostre e reperti.",onboardingSlide4Title:"Guide Audio",onboardingSlide4Desc:"Ascolta guide audio esperte che danno vita ai reperti con storie affascinanti e contesto storico.",onboardingSlide5Title:"Salva i Preferiti",onboardingSlide5Desc:"Segna i tuoi reperti preferiti e crea la tua collezione personale per un accesso rapido in qualsiasi momento.",onboardingSlide6Title:"Quiz Interattivi",onboardingSlide6Desc:"Metti alla prova le tue conoscenze con quiz divertenti e guadagna badge mentre impari storia e cultura.",onboardingSlide7Title:"Multilingua",onboardingSlide7Desc:"Disponibile in inglese, italiano, spagnolo e francese. Cambia lingua in qualsiasi momento per goderti i contenuti nella tua lingua preferita.",onboardingSlide8Title:"Pronto per Esplorare!",onboardingSlide8Desc:"Sei pronto! Inizia il tuo viaggio attraverso la storia e scopri reperti straordinari dalle antiche civilt.",museumGallery:"Galleria del Museo",searchArtifacts:"Cerca reperti...",all:"Tutti",favorites:" Preferiti",images:"Immagini",videos:"Video",noArtifactsFound:"Nessun reperto trovato corrispondente alla tua ricerca.",ancientPottery:"Ceramica Antica",ancientPotteryDesc:"Ceramica antica dell'et del bronzo",historicalArtifacts:"Reperti Storici",historicalArtifactsDesc:"Collezione di reperti storici",museumTour:"Tour del Museo",museumTourDesc:"Tour virtuale del museo",ancientSculpture:"Scultura Antica",ancientSculptureDesc:"Scultura classica dell'antica Grecia",audioGuide:"Guida Audio",description:"Descrizione",artifactInformation:"Informazioni sul Reperto",period:"Periodo",origin:"Origine",material:"Materiale",dimensions:"Dimensioni",discovered:"Scoperto",condition:"Condizione",relatedArtifacts:"Reperti Correlati",interactive3dViewer:"Visualizzatore 3D Interattivo",selectExhibit:"Seleziona una mostra da visualizzare in 3D",useMouseToRotate:"Usa il mouse/tocco per ruotare e ingrandire",ancientGlobe:"Globo Antico",ancientGlobeDesc:"Un artefatto sferico",stoneCube:"Cubo di Pietra",stoneCubeDesc:"Cubo di pietra scolpito",columnFragment:"Frammento di Colonna",columnFragmentDesc:"Pezzo di colonna antica",skullModel:"Modello di Cranio",skullModelDesc:"Cranio scansionato in 3D",damagedHelmet:"Elmo Danneggiato",damagedHelmetDesc:"Elmo antico consumato dalla battaglia",augmentedReality:"Realt Aumentata",arNotSupported:"AR non supportata",arNotSupportedDesc:"Il tuo dispositivo non supporta WebXR AR.",startAr:"Avvia Esperienza AR",requirements:"Requisiti",httpsRequired:"Connessione HTTPS richiesta",arCapableDevice:"Dispositivo compatibile AR (ARCore/ARKit)",cameraPermission:"Permesso fotocamera",modernBrowser:"Browser moderno con supporto WebXR",scanArtifactQr:"Scansiona Codice QR Reperto",pointCamera:"Punta la fotocamera sul codice QR",qrWellLit:"Assicurati che il codice QR sia ben illuminato e centrato",cancel:"Annulla",audioGuideDesc:"Ascolta la guida audio per saperne di pi sulla storia di questo reperto, il suo significato e la storia della sua scoperta.",backOnline:" Sei di nuovo online! Il contenuto si sincronizzer automaticamente.",offline:" Sei offline. Il contenuto memorizzato  ancora disponibile.",switchToDark:"Passa alla modalit scura",switchToLight:"Passa alla modalit chiara",museumQuiz:"Quiz del Museo",question:"Domanda",of:"di",score:"Punteggio",submitAnswer:"Invia Risposta",nextQuestion:"Prossima Domanda",viewResults:"Visualizza Risultati",explanation:"Spiegazione",quizComplete:"Quiz Completato!",youScored:"Hai ottenuto",yourBadges:"I Tuoi Badge:",tryAgain:"Riprova",perfectScore:" Punteggio Perfetto!",excellent:" Eccellente!",goodJob:" Ottimo Lavoro!",keepLearning:" Continua ad Imparare!",scholarBadge:" Studioso",expertBadge:" Esperto",masterBadge:" Maestro",q1Question:"Da quale periodo proviene la Ceramica Antica?",q1Option1:"Et del Ferro",q1Option2:"Et del Bronzo",q1Option3:"Et della Pietra",q1Option4:"Periodo Medievale",q1Explanation:"La Ceramica Antica risale all'Et del Bronzo, circa 3000-1200 a.C.",q2Question:"Dove  stata scoperta la Scultura Antica?",q2Option1:"Roma",q2Option2:"Atene",q2Option3:"Egitto",q2Option4:"Mesopotamia",q2Explanation:"La Scultura Antica  un pezzo classico dell'antica Grecia, scoperto ad Atene.",q3Question:"Di quale materiale  fatta la Ceramica Antica?",q3Option1:"Bronzo",q3Option2:"Marmo",q3Option3:"Terracotta",q3Option4:"Oro",q3Explanation:"La ceramica antica era tipicamente fatta di terracotta, un tipo di argilla cotta.",q4Question:"Quale civilt  nota per aver creato i primi musei?",q4Option1:"Romani",q4Option2:"Greci",q4Option3:"Egiziani",q4Option4:"Cinesi",q4Explanation:'Gli antichi Greci crearono i primi musei, chiamati "Mouseion" (templi delle Muse).',q5Question:"Qual  lo scopo principale della conservazione museale?",q5Option1:"Far sembrare nuovi i reperti",q5Option2:"Preservare i reperti per le generazioni future",q5Option3:"Aumentare il valore dei reperti",q5Option4:"Pulire regolarmente i reperti",q5Explanation:"La conservazione mira a preservare i reperti nel loro stato attuale per le generazioni future da studiare e apprezzare.",menu:"Menu",language:"Lingua",theme:"Tema",lightMode:"Modalit Chiara",darkMode:"Modalit Scura",information:"Informazioni",help:"Aiuto",about:"Info",credits:"Crediti",helpWelcome:"Benvenuto in Museum App",helpIntro:"Questa guida ti aiuter a navigare e sfruttare al meglio tutte le funzionalit disponibili nell'App del Museo.",helpFeatures:"Funzionalit",helpGalleryTitle:"Galleria",helpGalleryDesc:"Sfoglia la nostra collezione di reperti con opzioni di ricerca e filtro.",help3DTitle:"Mostre 3D",help3DDesc:"Visualizza modelli 3D interattivi di reperti. Ruota, ingrandisci ed esplora da tutte le angolazioni.",helpQRTitle:"Scanner QR",helpQRDesc:"Scansiona i codici QR al museo per ottenere informazioni istantanee sui reperti.",helpARTitle:"Vista AR",helpARDesc:"Sperimenta i reperti in realt aumentata usando la fotocamera del tuo dispositivo.",helpQuizTitle:"Quiz",helpQuizDesc:"Metti alla prova le tue conoscenze sui reperti museali e sulla storia.",helpFavoritesTitle:"Preferiti",helpFavoritesDesc:"Salva i tuoi reperti preferiti per un accesso rapido in seguito.",helpSearchTitle:"Ricerca e Filtro",helpSearchDesc:"Trova reperti specifici usando la ricerca e i filtri per categoria.",helpShareTitle:"Condividi",helpShareDesc:"Condividi reperti interessanti con amici e familiari.",helpLanguageTitle:"Multilingua",helpLanguageDesc:"Passa tra inglese, italiano, spagnolo e francese.",helpThemeTitle:"Modalit Scura",helpThemeDesc:"Passa tra temi chiari e scuri per una visualizzazione confortevole.",helpTips:"Suggerimenti e Trucchi",helpTip1:"Trascina verso il basso nella pagina Galleria per aggiornare i contenuti",helpTip2:"Tocca l'icona del cuore per aggiungere reperti ai tuoi preferiti",helpTip3:"Usa i gesti di pizzico per ingrandire i modelli 3D",helpTip4:"L'app funziona offline - i contenuti memorizzati sono sempre disponibili",helpTip5:"Completa il quiz per guadagnare badge e testare le tue conoscenze",aboutAppName:"Museum App",aboutVersion:"Versione 1.0.0",aboutDescription:"Un'esperienza museale interattiva con mostre 3D, visualizzazione AR, supporto multilingue e quiz educativi. Esplora reperti da tutto il mondo con tecnologia all'avanguardia.",aboutFeatures:"Caratteristiche Principali",aboutFeature1Title:"Multilingua",aboutFeature1Desc:"4 lingue supportate",aboutFeature2Title:"3D e AR",aboutFeature2Desc:"Visualizzazione interattiva",aboutFeature3Title:"Mobile First",aboutFeature3Desc:"Ottimizzato per mobile",aboutFeature4Title:"Modalit Offline",aboutFeature4Desc:"Funziona senza internet",aboutTechnology:"Costruito Con",aboutContact:"Contatti",aboutContactDesc:"Hai domande o feedback? Ci piacerebbe sentirti!",aboutDeveloper:"Sviluppatore",aboutWebsite:"Sito Web",aboutEmail:"Email",aboutCopyright:" 2024 Museum App. Tutti i diritti riservati.",aboutLicense:"Software open source costruito con moderne tecnologie web.",creditsThankYou:"Grazie",creditsIntro:"Questa app  stata resa possibile grazie a questi fantastici progetti e risorse open source.",creditsLibraries:"Librerie Open Source",creditsReactDesc:"Libreria JavaScript per costruire interfacce utente",creditsIonicDesc:"Libreria di componenti UI mobile-first",creditsBabylonDesc:"Motore di rendering 3D per il web",creditsI18nDesc:"Framework di internazionalizzazione",creditsViteDesc:"Strumenti frontend di nuova generazione",creditsSupabaseDesc:"Alternativa open source a Firebase",creditsQRDesc:"Libreria per la scansione di codici QR",creditsImages:"Immagini e Media",creditsUnsplashDesc:"Bellissime immagini e foto gratuite",creditsPhotographers:"Fotografi",credits3DModels:"Modelli 3D",creditsSketchfabDesc:"Piattaforma per contenuti 3D e AR",creditsBabylonPlaygroundDesc:"Modelli e scene 3D di esempio",creditsAudio:"Audio",creditsSoundHelixDesc:"Musica e audio royalty-free",creditsIcons:"Icone",creditsIoniconsDesc:"Icone premium progettate per web e mobile",creditsSpecialThanks:"Ringraziamenti Speciali",creditsSpecialThanksDesc:"Un ringraziamento speciale a tutti coloro che hanno contribuito a rendere possibile questa app:",creditsThanks1:"La comunit open source per strumenti e librerie fantastici",creditsThanks2:"Musei e istituzioni culturali per preservare la storia",creditsThanks3:"Fotografi e artisti 3D per condividere il loro lavoro",creditsThanks4:"Tu, per aver usato questa app e supportato i musei digitali",creditsFooter:"Fatto con  per gli appassionati di musei ovunque"}},es:{translation:{gallery:"Galera",exhibits3d:"Exhibiciones 3D",arView:"Vista AR",artifactDetails:"Detalles del Artefacto",virtualMuseum:"Museo Virtual",exploreHistory:"Explora la Historia en Tus Manos",continueWithGoogle:"Continuar con Google",continueWithApple:"Continuar con Apple",continueWithEmail:"Continuar con Email",continueAsGuest:"Continuar como Invitado",or:"o",login:"Iniciar Sesin",signUp:"Registrarse",email:"Email",password:"Contrasea",pleaseEnterEmailPassword:"Por favor ingresa email y contrasea",checkEmailVerification:"Por favor revisa tu email para verificar tu cuenta",alreadyHaveAccount:"Ya tienes una cuenta?",dontHaveAccount:"No tienes una cuenta?",back:"Atrs",welcomeFooter:"Descubre artefactos antiguos, explora exhibiciones 3D y pon a prueba tus conocimientos",guestModeActive:"Ests navegando como invitado",loginToSaveFavorites:"Inicia sesin para guardar favoritos",loginToTrackProgress:"Inicia sesin para rastrear tu progreso",logout:"Cerrar Sesin",skip:"Saltar",next:"Siguiente",getStarted:"Comenzar",onboardingSlide1Title:"Explora Artefactos",onboardingSlide1Desc:"Navega por una impresionante coleccin de artefactos histricos de todo el mundo con imgenes de alta calidad e informacin detallada.",onboardingSlide2Title:"Visualizacin 3D y AR",onboardingSlide2Desc:"Experimenta artefactos en 3D! Rota, ampla y visualiza exhibiciones en realidad aumentada para una experiencia musestica inmersiva.",onboardingSlide3Title:"Escaneo de Cdigos QR",onboardingSlide3Desc:"Escanea cdigos QR en museos para acceder instantneamente a informacin detallada sobre exhibiciones y artefactos.",onboardingSlide4Title:"Guas de Audio",onboardingSlide4Desc:"Escucha guas de audio expertas que dan vida a los artefactos con historias fascinantes y contexto histrico.",onboardingSlide5Title:"Guardar Favoritos",onboardingSlide5Desc:"Marca tus artefactos favoritos y crea tu coleccin personal para acceso rpido en cualquier momento.",onboardingSlide6Title:"Cuestionarios Interactivos",onboardingSlide6Desc:"Pon a prueba tus conocimientos con cuestionarios divertidos y gana insignias mientras aprendes sobre historia y cultura.",onboardingSlide7Title:"Multiidioma",onboardingSlide7Desc:"Disponible en ingls, italiano, espaol y francs. Cambia de idioma en cualquier momento para disfrutar del contenido en tu idioma preferido.",onboardingSlide8Title:"Listo para Explorar!",onboardingSlide8Desc:"Ests listo! Comienza tu viaje a travs de la historia y descubre artefactos increbles de civilizaciones antiguas.",museumGallery:"Galera del Museo",searchArtifacts:"Buscar artefactos...",all:"Todos",favorites:" Favoritos",images:"Imgenes",videos:"Videos",noArtifactsFound:"No se encontraron artefactos que coincidan con tu bsqueda.",ancientPottery:"Cermica Antigua",ancientPotteryDesc:"Cermica antigua de la Edad del Bronce",historicalArtifacts:"Artefactos Histricos",historicalArtifactsDesc:"Coleccin de artefactos histricos",museumTour:"Tour del Museo",museumTourDesc:"Tour virtual del museo",ancientSculpture:"Escultura Antigua",ancientSculptureDesc:"Escultura clsica de la antigua Grecia",audioGuide:"Gua de Audio",description:"Descripcin",artifactInformation:"Informacin del Artefacto",period:"Perodo",origin:"Origen",material:"Material",dimensions:"Dimensiones",discovered:"Descubierto",condition:"Condicin",relatedArtifacts:"Artefactos Relacionados",interactive3dViewer:"Visor 3D Interactivo",selectExhibit:"Selecciona una exhibicin para ver en 3D",useMouseToRotate:"Usa el ratn/tctil para rotar y hacer zoom",ancientGlobe:"Globo Antiguo",ancientGlobeDesc:"Un artefacto esfrico",stoneCube:"Cubo de Piedra",stoneCubeDesc:"Cubo de piedra tallado",columnFragment:"Fragmento de Columna",columnFragmentDesc:"Pieza de columna antigua",skullModel:"Modelo de Crneo",skullModelDesc:"Crneo escaneado en 3D",damagedHelmet:"Casco Daado",damagedHelmetDesc:"Casco antiguo desgastado por la batalla",augmentedReality:"Realidad Aumentada",arNotSupported:"AR no compatible",arNotSupportedDesc:"Tu dispositivo no es compatible con WebXR AR.",startAr:"Iniciar Experiencia AR",requirements:"Requisitos",httpsRequired:"Conexin HTTPS requerida",arCapableDevice:"Dispositivo compatible con AR (ARCore/ARKit)",cameraPermission:"Permiso de cmara",modernBrowser:"Navegador moderno con soporte WebXR",scanArtifactQr:"Escanear Cdigo QR del Artefacto",pointCamera:"Apunta tu cmara al cdigo QR",qrWellLit:"Asegrate de que el cdigo QR est bien iluminado y centrado",cancel:"Cancelar",audioGuideDesc:"Escucha la gua de audio para aprender ms sobre la historia de este artefacto, su significado y la historia detrs de su descubrimiento.",backOnline:" De vuelta en lnea! El contenido se sincronizar automticamente.",offline:" Ests sin conexin. El contenido en cach an est disponible.",switchToDark:"Cambiar a modo oscuro",switchToLight:"Cambiar a modo claro",museumQuiz:"Quiz del Museo",question:"Pregunta",of:"de",score:"Puntuacin",submitAnswer:"Enviar Respuesta",nextQuestion:"Siguiente Pregunta",viewResults:"Ver Resultados",explanation:"Explicacin",quizComplete:"Quiz Completado!",youScored:"Obtuviste",yourBadges:"Tus Insignias:",tryAgain:"Intentar de Nuevo",perfectScore:" Puntuacin Perfecta!",excellent:" Excelente!",goodJob:" Buen Trabajo!",keepLearning:" Sigue Aprendiendo!",scholarBadge:" Erudito",expertBadge:" Experto",masterBadge:" Maestro",q1Question:"De qu perodo es la Cermica Antigua?",q1Option1:"Edad del Hierro",q1Option2:"Edad del Bronce",q1Option3:"Edad de Piedra",q1Option4:"Perodo Medieval",q1Explanation:"La Cermica Antigua se remonta a la Edad del Bronce, aproximadamente 3000-1200 a.C.",q2Question:"Dnde se descubri la Escultura Antigua?",q2Option1:"Roma",q2Option2:"Atenas",q2Option3:"Egipto",q2Option4:"Mesopotamia",q2Explanation:"La Escultura Antigua es una pieza clsica de la antigua Grecia, descubierta en Atenas.",q3Question:"De qu material est hecha la Cermica Antigua?",q3Option1:"Bronce",q3Option2:"Mrmol",q3Option3:"Terracota",q3Option4:"Oro",q3Explanation:"La cermica antigua se haca tpicamente de terracota, un tipo de arcilla cocida.",q4Question:"Qu civilizacin es conocida por crear los primeros museos?",q4Option1:"Romanos",q4Option2:"Griegos",q4Option3:"Egipcios",q4Option4:"Chinos",q4Explanation:'Los antiguos griegos crearon los primeros museos, llamados "Mouseion" (templos de las Musas).',q5Question:"Cul es el propsito principal de la conservacin musestica?",q5Option1:"Hacer que los artefactos parezcan nuevos",q5Option2:"Preservar artefactos para generaciones futuras",q5Option3:"Aumentar el valor de los artefactos",q5Option4:"Limpiar artefactos regularmente",q5Explanation:"La conservacin tiene como objetivo preservar los artefactos en su estado actual para que las generaciones futuras los estudien y disfruten.",menu:"Men",language:"Idioma",theme:"Tema",lightMode:"Modo Claro",darkMode:"Modo Oscuro",information:"Informacin",help:"Ayuda",about:"Acerca de",credits:"Crditos",helpWelcome:"Bienvenido a Museum App",helpIntro:"Esta gua te ayudar a navegar y aprovechar al mximo todas las funciones disponibles en la App del Museo.",helpFeatures:"Caractersticas",helpGalleryTitle:"Galera",helpGalleryDesc:"Explora nuestra coleccin de artefactos con opciones de bsqueda y filtro.",help3DTitle:"Exposiciones 3D",help3DDesc:"Ver modelos 3D interactivos de artefactos. Rotar, ampliar y explorar desde todos los ngulos.",helpQRTitle:"Escner QR",helpQRDesc:"Escanea cdigos QR en el museo para obtener informacin instantnea sobre artefactos.",helpARTitle:"Vista AR",helpARDesc:"Experimenta artefactos en realidad aumentada usando la cmara de tu dispositivo.",helpQuizTitle:"Cuestionario",helpQuizDesc:"Pon a prueba tus conocimientos sobre artefactos musesticos e historia.",helpFavoritesTitle:"Favoritos",helpFavoritesDesc:"Guarda tus artefactos favoritos para acceso rpido ms tarde.",helpSearchTitle:"Buscar y Filtrar",helpSearchDesc:"Encuentra artefactos especficos usando bsqueda y filtros de categora.",helpShareTitle:"Compartir",helpShareDesc:"Comparte artefactos interesantes con amigos y familiares.",helpLanguageTitle:"Multiidioma",helpLanguageDesc:"Cambia entre ingls, italiano, espaol y francs.",helpThemeTitle:"Modo Oscuro",helpThemeDesc:"Alterna entre temas claros y oscuros para una visualizacin cmoda.",helpTips:"Consejos y Trucos",helpTip1:"Desliza hacia abajo en la pgina de Galera para actualizar el contenido",helpTip2:"Toca el cono del corazn para agregar artefactos a tus favoritos",helpTip3:"Usa gestos de pellizco para acercar modelos 3D",helpTip4:"La app funciona sin conexin - el contenido en cach siempre est disponible",helpTip5:"Completa el cuestionario para ganar insignias y probar tus conocimientos",aboutAppName:"Museum App",aboutVersion:"Versin 1.0.0",aboutDescription:"Una experiencia musestica interactiva con exposiciones 3D, visualizacin AR, soporte multiidioma y cuestionarios educativos.",aboutFeatures:"Caractersticas Clave",aboutFeature1Title:"Multiidioma",aboutFeature1Desc:"4 idiomas soportados",aboutFeature2Title:"3D y AR",aboutFeature2Desc:"Visualizacin interactiva",aboutFeature3Title:"Mobile First",aboutFeature3Desc:"Optimizado para mvil",aboutFeature4Title:"Modo Sin Conexin",aboutFeature4Desc:"Funciona sin internet",aboutTechnology:"Construido Con",aboutContact:"Contacto",aboutContactDesc:"Tienes preguntas o comentarios? Nos encantara saber de ti!",aboutDeveloper:"Desarrollador",aboutWebsite:"Sitio Web",aboutEmail:"Correo",aboutCopyright:" 2024 Museum App. Todos los derechos reservados.",aboutLicense:"Software de cdigo abierto construido con tecnologas web modernas.",creditsThankYou:"Gracias",creditsIntro:"Esta app fue posible gracias a estos increbles proyectos y recursos de cdigo abierto.",creditsLibraries:"Bibliotecas de Cdigo Abierto",creditsReactDesc:"Biblioteca JavaScript para construir interfaces de usuario",creditsIonicDesc:"Biblioteca de componentes UI mobile-first",creditsBabylonDesc:"Motor de renderizado 3D para la web",creditsI18nDesc:"Framework de internacionalizacin",creditsViteDesc:"Herramientas frontend de prxima generacin",creditsSupabaseDesc:"Alternativa de cdigo abierto a Firebase",creditsQRDesc:"Biblioteca de escaneo de cdigos QR",creditsImages:"Imgenes y Medios",creditsUnsplashDesc:"Hermosas imgenes y fotos gratuitas",creditsPhotographers:"Fotgrafos",credits3DModels:"Modelos 3D",creditsSketchfabDesc:"Plataforma para contenido 3D y AR",creditsBabylonPlaygroundDesc:"Modelos y escenas 3D de muestra",creditsAudio:"Audio",creditsSoundHelixDesc:"Msica y audio libre de regalas",creditsIcons:"Iconos",creditsIoniconsDesc:"Iconos premium diseados para web y mvil",creditsSpecialThanks:"Agradecimientos Especiales",creditsSpecialThanksDesc:"Agradecimientos especiales a todos los que contribuyeron a hacer posible esta app:",creditsThanks1:"La comunidad de cdigo abierto por herramientas y bibliotecas increbles",creditsThanks2:"Museos e instituciones culturales por preservar la historia",creditsThanks3:"Fotgrafos y artistas 3D por compartir su trabajo",creditsThanks4:"T, por usar esta app y apoyar los museos digitales",creditsFooter:"Hecho con  para entusiastas de museos en todas partes"}},fr:{translation:{gallery:"Galerie",exhibits3d:"Expositions 3D",arView:"Vue AR",artifactDetails:"Dtails de l'Artefact",virtualMuseum:"Muse Virtuel",exploreHistory:"Explorez l'Histoire dans Vos Mains",continueWithGoogle:"Continuer avec Google",continueWithApple:"Continuer avec Apple",continueWithEmail:"Continuer avec Email",continueAsGuest:"Continuer en tant qu'Invit",or:"ou",login:"Connexion",signUp:"S'inscrire",email:"Email",password:"Mot de passe",pleaseEnterEmailPassword:"Veuillez entrer email et mot de passe",checkEmailVerification:"Veuillez vrifier votre email pour vrifier votre compte",alreadyHaveAccount:"Vous avez dj un compte?",dontHaveAccount:"Vous n'avez pas de compte?",back:"Retour",welcomeFooter:"Dcouvrez des artefacts anciens, explorez des expositions 3D et testez vos connaissances",guestModeActive:"Vous naviguez en tant qu'invit",loginToSaveFavorites:"Connectez-vous pour sauvegarder les favoris",loginToTrackProgress:"Connectez-vous pour suivre vos progrs",logout:"Dconnexion",skip:"Passer",next:"Suivant",getStarted:"Commencer",onboardingSlide1Title:"Explorer les Artefacts",onboardingSlide1Desc:"Parcourez une superbe collection d'artefacts historiques du monde entier avec des images de haute qualit et des informations dtailles.",onboardingSlide2Title:"Visualisation 3D et AR",onboardingSlide2Desc:"Dcouvrez les artefacts en 3D! Faites pivoter, zoomez et visualisez les expositions en ralit augmente pour une exprience musale immersive.",onboardingSlide3Title:"Scan de Codes QR",onboardingSlide3Desc:"Scannez les codes QR dans les muses pour accder instantanment  des informations dtailles sur les expositions et les artefacts.",onboardingSlide4Title:"Guides Audio",onboardingSlide4Desc:"coutez des guides audio experts qui donnent vie aux artefacts avec des histoires fascinantes et un contexte historique.",onboardingSlide5Title:"Sauvegarder les Favoris",onboardingSlide5Desc:"Marquez vos artefacts prfrs et crez votre collection personnelle pour un accs rapide  tout moment.",onboardingSlide6Title:"Quiz Interactifs",onboardingSlide6Desc:"Testez vos connaissances avec des quiz amusants et gagnez des badges en apprenant l'histoire et la culture.",onboardingSlide7Title:"Multilingue",onboardingSlide7Desc:"Disponible en anglais, italien, espagnol et franais. Changez de langue  tout moment pour profiter du contenu dans votre langue prfre.",onboardingSlide8Title:"Prt  Explorer!",onboardingSlide8Desc:"Vous tes prt! Commencez votre voyage  travers l'histoire et dcouvrez des artefacts incroyables des civilisations anciennes.",museumGallery:"Galerie du Muse",searchArtifacts:"Rechercher des artefacts...",all:"Tous",favorites:" Favoris",images:"Images",videos:"Vidos",noArtifactsFound:"Aucun artefact trouv correspondant  votre recherche.",ancientPottery:"Poterie Ancienne",ancientPotteryDesc:"Poterie ancienne de l'ge du bronze",historicalArtifacts:"Artefacts Historiques",historicalArtifactsDesc:"Collection d'artefacts historiques",museumTour:"Visite du Muse",museumTourDesc:"Visite virtuelle du muse",ancientSculpture:"Sculpture Ancienne",ancientSculptureDesc:"Sculpture classique de la Grce antique",audioGuide:"Guide Audio",description:"Description",artifactInformation:"Informations sur l'Artefact",period:"Priode",origin:"Origine",material:"Matriau",dimensions:"Dimensions",discovered:"Dcouvert",condition:"tat",relatedArtifacts:"Artefacts Connexes",interactive3dViewer:"Visionneuse 3D Interactive",selectExhibit:"Slectionnez une exposition  voir en 3D",useMouseToRotate:"Utilisez la souris/tactile pour faire pivoter et zoomer",ancientGlobe:"Globe Ancien",ancientGlobeDesc:"Un artefact sphrique",stoneCube:"Cube de Pierre",stoneCubeDesc:"Cube de pierre sculpt",columnFragment:"Fragment de Colonne",columnFragmentDesc:"Morceau de colonne ancienne",skullModel:"Modle de Crne",skullModelDesc:"Crne scann en 3D",damagedHelmet:"Casque Endommag",damagedHelmetDesc:"Casque ancien us par la bataille",augmentedReality:"Ralit Augmente",arNotSupported:"AR non pris en charge",arNotSupportedDesc:"Votre appareil ne prend pas en charge WebXR AR.",startAr:"Dmarrer l'Exprience AR",requirements:"Exigences",httpsRequired:"Connexion HTTPS requise",arCapableDevice:"Appareil compatible AR (ARCore/ARKit)",cameraPermission:"Permission de camra",modernBrowser:"Navigateur moderne avec support WebXR",scanArtifactQr:"Scanner le Code QR de l'Artefact",pointCamera:"Pointez votre camra sur le code QR",qrWellLit:"Assurez-vous que le code QR est bien clair et centr",cancel:"Annuler",audioGuideDesc:"coutez le guide audio pour en savoir plus sur l'histoire de cet artefact, sa signification et l'histoire de sa dcouverte.",backOnline:" De retour en ligne ! Le contenu se synchronisera automatiquement.",offline:" Vous tes hors ligne. Le contenu en cache est toujours disponible.",switchToDark:"Passer en mode sombre",switchToLight:"Passer en mode clair",museumQuiz:"Quiz du Muse",question:"Question",of:"de",score:"Score",submitAnswer:"Soumettre la Rponse",nextQuestion:"Question Suivante",viewResults:"Voir les Rsultats",explanation:"Explication",quizComplete:"Quiz Termin !",youScored:"Vous avez obtenu",yourBadges:"Vos Badges :",tryAgain:"Ressayer",perfectScore:" Score Parfait !",excellent:" Excellent !",goodJob:" Bon Travail !",keepLearning:" Continuez  Apprendre !",scholarBadge:" rudit",expertBadge:" Expert",masterBadge:" Matre",q1Question:"De quelle priode provient la Poterie Ancienne ?",q1Option1:"ge du Fer",q1Option2:"ge du Bronze",q1Option3:"ge de Pierre",q1Option4:"Priode Mdivale",q1Explanation:"La Poterie Ancienne remonte  l'ge du Bronze, environ 3000-1200 avant J.-C.",q2Question:"O la Sculpture Ancienne a-t-elle t dcouverte ?",q2Option1:"Rome",q2Option2:"Athnes",q2Option3:"gypte",q2Option4:"Msopotamie",q2Explanation:"La Sculpture Ancienne est une pice classique de la Grce antique, dcouverte  Athnes.",q3Question:"De quel matriau est faite la Poterie Ancienne ?",q3Option1:"Bronze",q3Option2:"Marbre",q3Option3:"Terre Cuite",q3Option4:"Or",q3Explanation:"La poterie ancienne tait gnralement faite de terre cuite, un type d'argile cuite.",q4Question:"Quelle civilisation est connue pour avoir cr les premiers muses ?",q4Option1:"Romains",q4Option2:"Grecs",q4Option3:"gyptiens",q4Option4:"Chinois",q4Explanation:'Les anciens Grecs ont cr les premiers muses, appels "Mouseion" (temples des Muses).',q5Question:"Quel est le but principal de la conservation musale ?",q5Option1:"Faire paratre les artefacts neufs",q5Option2:"Prserver les artefacts pour les gnrations futures",q5Option3:"Augmenter la valeur des artefacts",q5Option4:"Nettoyer rgulirement les artefacts",q5Explanation:"La conservation vise  prserver les artefacts dans leur tat actuel pour que les gnrations futures puissent les tudier et en profiter.",menu:"Menu",language:"Langue",theme:"Thme",lightMode:"Mode Clair",darkMode:"Mode Sombre",information:"Information",help:"Aide",about:" propos",credits:"Crdits",helpWelcome:"Bienvenue dans Museum App",helpIntro:"Ce guide vous aidera  naviguer et  tirer le meilleur parti de toutes les fonctionnalits disponibles dans l'App du Muse.",helpFeatures:"Fonctionnalits",helpGalleryTitle:"Galerie",helpGalleryDesc:"Parcourez notre collection d'artefacts avec des options de recherche et de filtre.",help3DTitle:"Expositions 3D",help3DDesc:"Visualisez des modles 3D interactifs d'artefacts. Faites pivoter, zoomez et explorez sous tous les angles.",helpQRTitle:"Scanner QR",helpQRDesc:"Scannez les codes QR au muse pour obtenir des informations instantanes sur les artefacts.",helpARTitle:"Vue AR",helpARDesc:"Dcouvrez les artefacts en ralit augmente en utilisant la camra de votre appareil.",helpQuizTitle:"Quiz",helpQuizDesc:"Testez vos connaissances sur les artefacts musaux et l'histoire.",helpFavoritesTitle:"Favoris",helpFavoritesDesc:"Enregistrez vos artefacts prfrs pour un accs rapide ultrieur.",helpSearchTitle:"Recherche et Filtre",helpSearchDesc:"Trouvez des artefacts spcifiques en utilisant la recherche et les filtres de catgorie.",helpShareTitle:"Partager",helpShareDesc:"Partagez des artefacts intressants avec vos amis et votre famille.",helpLanguageTitle:"Multilingue",helpLanguageDesc:"Basculez entre l'anglais, l'italien, l'espagnol et le franais.",helpThemeTitle:"Mode Sombre",helpThemeDesc:"Basculez entre les thmes clairs et sombres pour un affichage confortable.",helpTips:"Conseils et Astuces",helpTip1:"Tirez vers le bas sur la page Galerie pour actualiser le contenu",helpTip2:"Appuyez sur l'icne du cur pour ajouter des artefacts  vos favoris",helpTip3:"Utilisez les gestes de pincement pour zoomer sur les modles 3D",helpTip4:"L'application fonctionne hors ligne - le contenu en cache est toujours disponible",helpTip5:"Compltez le quiz pour gagner des badges et tester vos connaissances",aboutAppName:"Museum App",aboutVersion:"Version 1.0.0",aboutDescription:"Une exprience musale interactive avec des expositions 3D, une visualisation AR, un support multilingue et des quiz ducatifs.",aboutFeatures:"Caractristiques Cls",aboutFeature1Title:"Multilingue",aboutFeature1Desc:"4 langues supportes",aboutFeature2Title:"3D et AR",aboutFeature2Desc:"Visualisation interactive",aboutFeature3Title:"Mobile First",aboutFeature3Desc:"Optimis pour mobile",aboutFeature4Title:"Mode Hors Ligne",aboutFeature4Desc:"Fonctionne sans internet",aboutTechnology:"Construit Avec",aboutContact:"Contact",aboutContactDesc:"Vous avez des questions ou des commentaires? Nous aimerions vous entendre!",aboutDeveloper:"Dveloppeur",aboutWebsite:"Site Web",aboutEmail:"Email",aboutCopyright:" 2024 Museum App. Tous droits rservs.",aboutLicense:"Logiciel open source construit avec des technologies web modernes.",creditsThankYou:"Merci",creditsIntro:"Cette application a t rendue possible grce  ces incroyables projets et ressources open source.",creditsLibraries:"Bibliothques Open Source",creditsReactDesc:"Bibliothque JavaScript pour construire des interfaces utilisateur",creditsIonicDesc:"Bibliothque de composants UI mobile-first",creditsBabylonDesc:"Moteur de rendu 3D pour le web",creditsI18nDesc:"Framework d'internationalisation",creditsViteDesc:"Outils frontend de nouvelle gnration",creditsSupabaseDesc:"Alternative open source  Firebase",creditsQRDesc:"Bibliothque de scan de codes QR",creditsImages:"Images et Mdias",creditsUnsplashDesc:"Belles images et photos gratuites",creditsPhotographers:"Photographes",credits3DModels:"Modles 3D",creditsSketchfabDesc:"Plateforme pour contenu 3D et AR",creditsBabylonPlaygroundDesc:"Modles et scnes 3D d'exemple",creditsAudio:"Audio",creditsSoundHelixDesc:"Musique et audio libres de droits",creditsIcons:"Icnes",creditsIoniconsDesc:"Icnes premium conues pour le web et le mobile",creditsSpecialThanks:"Remerciements Spciaux",creditsSpecialThanksDesc:"Remerciements spciaux  tous ceux qui ont contribu  rendre cette application possible:",creditsThanks1:"La communaut open source pour des outils et bibliothques incroyables",creditsThanks2:"Les muses et institutions culturelles pour prserver l'histoire",creditsThanks3:"Les photographes et artistes 3D pour partager leur travail",creditsThanks4:"Vous, pour utiliser cette application et soutenir les muses numriques",creditsFooter:"Fait avec  pour les passionns de muses partout"}}};H3.use(q3).use(X3).init({resources:OA,fallbackLng:"en",interpolation:{escapeValue:!1}});L3();const RA=()=>(Y.useEffect(()=>{"serviceWorker"in navigator&&window.location.protocol==="https:"&&navigator.serviceWorker.register("/museum-app/sw.js").then(e=>{console.log("Service Worker registered:",e)},e=>{console.log("Service Worker registration failed:",e)})},[]),g.jsx(P3,{children:g.jsx(Yb,{children:g.jsxs(Kb,{children:[g.jsx(CA,{}),g.jsxs(z3,{basename:"/museum-app",children:[g.jsx(_A,{}),g.jsxs(Wg,{id:"main-content",children:[g.jsx(hn,{exact:!0,path:"/onboarding",children:g.jsx(bE,{})}),g.jsx(hn,{exact:!0,path:"/welcome",children:g.jsx(G6,{})}),g.jsx(hn,{exact:!0,path:"/storage-debug",children:g.jsx(kE,{})}),g.jsx(hn,{exact:!0,path:"/admin-setup",children:g.jsx(ME,{})}),g.jsx(hn,{exact:!0,path:"/admin",children:g.jsx(NE,{})}),g.jsx(hn,{path:"/tabs",children:g.jsx(SA,{})}),g.jsx(hn,{exact:!0,path:"/",children:g.jsx(Yg,{to:localStorage.getItem("onboardingCompleted")==="true"?"/welcome":"/onboarding"})})]}),g.jsx(TA,{})]})]})})})),IA=document.getElementById("root"),DA=I4.createRoot(IA);DA.render(g.jsx(Tt.StrictMode,{children:g.jsx(RA,{})}));export{NA as __vite_legacy_guard};
