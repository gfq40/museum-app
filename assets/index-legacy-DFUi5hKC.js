System.register(["./ionic-vendor-legacy-DFjnKVM8.js","./react-vendor-legacy-C-kG-Wxm.js","./i18n-vendor-legacy-BdQ3tcXm.js","./babylon-vendor-legacy-kpcaxKip.js"],function(e,t){"use strict";var r,n,i,o,a,s,l,c,u,d,h,p,f,g,m,w,b,v,y,x,S,E,_,C,A,T,k,I,R,O,N,D,P,M,j,L,B,z,F,U,V,H,G,q,W,$,X,Y,K,Q,Z,J,ee,te,re,ne,ie,oe,ae,se,le,ce,ue,de,he,pe,fe,ge,me,we,be,ve,ye,xe,Se,Ee,_e,Ce,Ae,Te,ke,Ie;return{setters:[e=>{r=e.a,n=e.t,i=e.b,o=e.j,a=e.I,s=e.c,l=e.d,c=e.e,u=e.f,d=e.g,h=e.h,p=e.i,f=e.k,g=e.l,m=e.m,w=e.n,b=e.o,v=e.p,y=e.q,x=e.r,S=e.s,E=e.u,_=e.v,C=e.w,A=e.x,T=e.y,k=e.z,I=e.A,R=e.B,O=e.C,N=e.D,D=e.E,P=e.F,M=e.G,j=e.H,L=e.J,B=e.K,z=e.L,F=e.M,U=e._,V=e.N,H=e.O,G=e.P,q=e.Q,W=e.R,$=e.S,X=e.T,Y=e.U,K=e.V,Q=e.W,Z=e.X,J=e.Y,ee=e.Z,te=e.$,re=e.a0,ne=e.a1,ie=e.a2,oe=e.a3},e=>{ae=e.r,se=e.b,le=e.g,ce=e.u,ue=e.R,de=e.h,he=e.i,pe=e.j,fe=e.c,ge=e.k},e=>{me=e.u,we=e.i,be=e.B,ve=e.a},e=>{ye=e.E,xe=e.S,Se=e.C,Ee=e.A,_e=e.V,Ce=e.H,Ae=e.M,Te=e.a,ke=e.b,Ie=e.W}],execute:function(){var e=document.createElement("style");function Re(e,t){for(var r=0;r<t.length;r++){const n=t[r];if("string"!=typeof n&&!Array.isArray(n))for(const t in n)if("default"!==t&&!(t in e)){const r=Object.getOwnPropertyDescriptor(n,t);r&&Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:()=>n[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}e.textContent='@import"https://fonts.googleapis.com/css2?family=Jost:wght@300;400;500;600;700&display=swap";.welcome-content{--background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);font-family:Jost,sans-serif}.welcome-container{display:flex;flex-direction:column;justify-content:space-between;min-height:100vh;padding:40px 20px 20px;max-width:500px;margin:0 auto}.welcome-header{text-align:center;margin-bottom:40px;animation:fadeInDown .8s ease-out}.logo-container{margin-bottom:30px}.museum-logo{animation:float 3s ease-in-out infinite;display:inline-block;filter:drop-shadow(0 4px 20px rgba(0,0,0,.3))}.app-title{font-size:36px;font-weight:300;font-family:Jost,sans-serif;letter-spacing:3px;color:#fff;margin:10px 0;text-shadow:0 2px 10px rgba(0,0,0,.2);text-transform:uppercase}.app-tagline{font-size:16px;font-weight:300;font-family:Jost,sans-serif;letter-spacing:1px;color:rgba(255,255,255,.9);margin:0}.auth-container{flex:1;display:flex;flex-direction:column;gap:12px;animation:fadeInUp .8s ease-out .2s both}.social-button{--background: white;--color: #333;--border-radius: 12px;--box-shadow: 0 4px 15px rgba(0, 0, 0, .1);height:50px;font-weight:600;text-transform:none;letter-spacing:0}.social-button:hover{--box-shadow: 0 6px 20px rgba(0, 0, 0, .15)}.google-button{--background: white;--color: #333}.apple-button{--background: #000;--color: white}.divider{display:flex;align-items:center;text-align:center;margin:10px 0}.divider:before,.divider:after{content:"";flex:1;border-bottom:1px solid rgba(255,255,255,.3)}.divider span{padding:0 15px;color:rgba(255,255,255,.8);font-size:14px}.email-toggle-button{--border-color: rgba(255, 255, 255, .5);--color: white;--border-radius: 12px;height:50px;font-weight:600;text-transform:none;letter-spacing:0}.auth-card{background:rgba(255,255,255,.95);border-radius:16px;box-shadow:0 8px 32px rgba(0,0,0,.1);backdrop-filter:blur(10px);margin:0}.auth-title{text-align:center;margin:0 0 20px;color:#333;font-size:24px;font-weight:700}.error-text{text-align:center;margin-bottom:15px}.error-text p{margin:0;font-size:14px}.auth-input{--background: #f5f5f5;--border-radius: 12px;margin-bottom:12px;--padding-start: 15px;--padding-end: 15px}.auth-input ion-icon{color:#666;margin-right:10px}.submit-button{--background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);--border-radius: 12px;height:50px;font-weight:600;margin-top:10px;text-transform:none;letter-spacing:0}.auth-switch{display:flex;justify-content:center;align-items:center;margin-top:15px;gap:5px}.auth-switch ion-text{font-size:14px;color:#666}.back-button{display:block;margin:10px auto 0;--color: #666}.guest-mode{text-align:center;margin-top:20px}.guest-button{--color: white;font-size:16px;text-decoration:underline;text-transform:none;letter-spacing:0}.welcome-footer{text-align:center;margin-top:30px;animation:fadeIn 1s ease-out .4s both}.welcome-footer p{color:rgba(255,255,255,.8);font-size:14px;margin:0;line-height:1.5}@keyframes fadeInDown{0%{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}@keyframes fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@media (prefers-color-scheme: dark){.auth-card{background:rgba(30,30,30,.95)}.auth-title{color:#fff}.auth-input{--background: rgba(255, 255, 255, .1);--color: white}.auth-input ion-icon{color:rgba(255,255,255,.7)}.auth-switch ion-text{color:rgba(255,255,255,.7)}.back-button{--color: rgba(255, 255, 255, .7)}}@media (max-width: 576px){.welcome-container{padding:30px 15px 15px}.museum-icon{font-size:60px}.app-title{font-size:28px}.app-tagline{font-size:14px}}.onboarding-slide{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;height:100%;text-align:center}.onboarding-icon-container{width:120px;height:120px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-bottom:32px;box-shadow:0 8px 24px rgba(0,0,0,.15);animation:float 3s ease-in-out infinite}.onboarding-icon{font-size:64px;color:#fff}.onboarding-title{font-size:28px;font-weight:700;margin-bottom:16px;color:var(--ion-color-primary)}.onboarding-description{font-size:16px;line-height:1.6;color:var(--ion-color-medium);max-width:400px;margin:0 auto}@keyframes float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}body.dark .onboarding-icon-container{box-shadow:0 8px 24px rgba(0,0,0,.4)}@media (max-width: 576px){.onboarding-icon-container{width:100px;height:100px}.onboarding-icon{font-size:52px}.onboarding-title{font-size:24px}.onboarding-description{font-size:14px}}:root{--swiper-theme-color: #007aff}:host{position:relative;display:block;margin-left:auto;margin-right:auto;z-index:1}.swiper{margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1;display:block}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;transition-timing-function:var(--swiper-wrapper-transition-timing-function, initial);box-sizing:content-box}.swiper-android .swiper-slide,.swiper-ios .swiper-slide,.swiper-wrapper{transform:translateZ(0)}.swiper-horizontal{touch-action:pan-y}.swiper-vertical{touch-action:pan-x}.swiper-slide{flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform;display:block}.swiper-slide-invisible-blank{visibility:hidden}.swiper-autoheight,.swiper-autoheight .swiper-slide{height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden .swiper-slide{transform:translateZ(0);backface-visibility:hidden}.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d{perspective:1200px}.swiper-3d .swiper-slide,.swiper-3d .swiper-cube-shadow{transform-style:preserve-3d}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode>.swiper-wrapper>.swiper-slide{scroll-snap-align:start start}.swiper-css-mode.swiper-horizontal>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-css-mode.swiper-vertical>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-css-mode.swiper-free-mode>.swiper-wrapper{scroll-snap-type:none}.swiper-css-mode.swiper-free-mode>.swiper-wrapper>.swiper-slide{scroll-snap-align:none}.swiper-css-mode.swiper-centered>.swiper-wrapper:before{content:"";flex-shrink:0;order:9999}.swiper-css-mode.swiper-centered>.swiper-wrapper>.swiper-slide{scroll-snap-align:center center;scroll-snap-stop:always}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper>.swiper-slide:first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper:before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper>.swiper-slide:first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper:before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-3d .swiper-slide-shadow,.swiper-3d .swiper-slide-shadow-left,.swiper-3d .swiper-slide-shadow-right,.swiper-3d .swiper-slide-shadow-top,.swiper-3d .swiper-slide-shadow-bottom{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}.swiper-3d .swiper-slide-shadow{background:rgba(0,0,0,.15)}.swiper-3d .swiper-slide-shadow-left{background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-right{background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-top{background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-bottom{background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-lazy-preloader{width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;box-sizing:border-box;border:4px solid var(--swiper-preloader-color, var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}.swiper:not(.swiper-watch-progress) .swiper-lazy-preloader,.swiper-watch-progress .swiper-slide-visible .swiper-lazy-preloader{animation:swiper-preloader-spin 1s infinite linear}.swiper-lazy-preloader-white{--swiper-preloader-color: #fff}.swiper-lazy-preloader-black{--swiper-preloader-color: #000}@keyframes swiper-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translateZ(0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-pagination-fraction,.swiper-pagination-custom,.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal{bottom:var(--swiper-pagination-bottom, 8px);top:var(--swiper-pagination-top, auto);left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active,.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width, var(--swiper-pagination-bullet-size, 8px));height:var(--swiper-pagination-bullet-height, var(--swiper-pagination-bullet-size, 8px));display:inline-block;border-radius:var(--swiper-pagination-bullet-border-radius, 50%);background:var(--swiper-pagination-bullet-inactive-color, #000);opacity:var(--swiper-pagination-bullet-inactive-opacity, .2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color, var(--swiper-theme-color))}.swiper-vertical>.swiper-pagination-bullets,.swiper-pagination-vertical.swiper-pagination-bullets{right:var(--swiper-pagination-right, 8px);left:var(--swiper-pagination-left, auto);top:50%;transform:translate3d(0,-50%,0)}.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap, 6px) 0;display:block}.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap, 4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translate(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-fraction{color:var(--swiper-pagination-fraction-color, inherit)}.swiper-pagination-progressbar{background:var(--swiper-pagination-progressbar-bg-color, rgba(0, 0, 0, .25));position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color, var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite{width:100%;height:var(--swiper-pagination-progressbar-size, 4px);left:0;top:0}.swiper-vertical>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite{width:var(--swiper-pagination-progressbar-size, 4px);height:100%;left:0;top:0}.swiper-pagination-lock{display:none}.onboarding-content{--background: linear-gradient(135deg, #667eea 0%, #764ba2 100%)}body.dark .onboarding-content{--background: linear-gradient(135deg, #434343 0%, #000000 100%)}.onboarding-container{height:100%;display:flex;flex-direction:column}.onboarding-header{padding:16px 20px;display:flex;justify-content:flex-end;position:absolute;top:0;right:0;z-index:10}.skip-button{--color: white;font-weight:600}.onboarding-slides{flex:1;height:100%;width:100%}.onboarding-slides .swiper-slide{display:flex;align-items:center;justify-content:center;height:auto}.onboarding-footer{padding:20px;background:rgba(255,255,255,.95);backdrop-filter:blur(10px);border-radius:24px 24px 0 0;box-shadow:0 -4px 12px rgba(0,0,0,.1)}body.dark .onboarding-footer{background:rgba(30,30,30,.95);box-shadow:0 -4px 12px rgba(0,0,0,.4)}.get-started-button{--background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);--border-radius: 12px;--padding-top: 16px;--padding-bottom: 16px;font-weight:700;font-size:16px;margin-bottom:8px;text-transform:none}.next-button{--color: var(--ion-color-primary);font-weight:600;text-transform:none}.onboarding-slides .swiper-pagination{bottom:140px!important;position:absolute!important}.onboarding-slides .swiper-pagination-bullet{width:10px;height:10px;background:rgba(255,255,255,.5);opacity:1}.onboarding-slides .swiper-pagination-bullet-active{background:#fff;width:24px;border-radius:5px}@media (max-width: 576px){.onboarding-footer{padding:16px}.get-started-button{--padding-top: 14px;--padding-bottom: 14px;font-size:15px}}.onboarding-slide{animation:slideIn .5s ease-out}@keyframes slideIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.file-upload-container{margin:20px 0}.file-upload-dropzone{border:2px dashed var(--ion-color-medium);border-radius:12px;padding:30px;text-align:center;cursor:pointer;transition:all .3s ease;background:var(--ion-color-light);min-height:200px;display:flex;align-items:center;justify-content:center}.file-upload-dropzone:hover{border-color:var(--ion-color-primary);background:var(--ion-color-light-tint)}.file-upload-dropzone.drag-active{border-color:var(--ion-color-primary);background:var(--ion-color-primary-tint);transform:scale(1.02)}.upload-prompt{width:100%}.upload-prompt ion-icon{font-size:64px;color:var(--ion-color-medium);margin-bottom:10px}.upload-prompt p{margin:10px 0;color:var(--ion-color-dark)}.upload-prompt small{color:var(--ion-color-medium);font-size:.85rem}.upload-status{width:100%}.upload-status ion-spinner{margin-bottom:10px}.upload-status p{margin:10px 0;color:var(--ion-color-dark)}.upload-status small{color:var(--ion-color-medium);font-size:.75rem;word-break:break-all}.upload-preview{position:relative;width:100%;max-width:300px;margin:0 auto}.upload-preview img{width:100%;height:auto;max-height:300px;object-fit:contain;border-radius:8px}.upload-overlay{position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.7);display:flex;flex-direction:column;align-items:center;justify-content:center;opacity:0;transition:opacity .3s ease;border-radius:8px}.upload-preview:hover .upload-overlay{opacity:1}.upload-overlay ion-icon{font-size:48px;margin-bottom:10px}.upload-overlay p{color:#fff;margin:0}.upload-error{margin-top:10px;padding:10px;background:var(--ion-color-danger-tint);color:var(--ion-color-danger-contrast);border-radius:8px;display:flex;align-items:center;gap:8px}.upload-error ion-icon{flex-shrink:0}.login-container{display:flex;justify-content:center;align-items:center;min-height:60vh}.login-container ion-card{max-width:400px;width:100%}.qr-scanner-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.95);z-index:10000;display:flex;align-items:center;justify-content:center;padding:20px}.qr-scanner-container{width:100%;max-width:500px;background:var(--ion-background-color);border-radius:12px;padding:20px;display:flex;flex-direction:column;gap:20px}.qr-scanner-header{display:flex;justify-content:space-between;align-items:center}.qr-scanner-header h2{margin:0;font-size:20px;color:var(--ion-text-color)}.qr-reader{width:100%;border-radius:8px;overflow:hidden;background:#000}.qr-scanner-error{padding:12px;background:rgba(255,0,0,.1);border-radius:8px;text-align:center}.qr-scanner-instructions{text-align:center;color:var(--ion-color-medium)}.scan-icon{font-size:48px;color:var(--ion-color-primary);margin-bottom:12px}.qr-scanner-instructions p{margin:8px 0}.small-text{font-size:14px;opacity:.7}.skeleton-card{margin:10px;overflow:hidden}.skeleton{background:linear-gradient(90deg,var(--ion-color-light) 0%,var(--ion-color-light-shade) 50%,var(--ion-color-light) 100%);background-size:200% 100%;animation:shimmer 1.5s infinite;border-radius:8px}.skeleton-image{width:100%;height:200px;margin-bottom:12px}.skeleton-title{height:24px;width:70%;margin-bottom:12px}.skeleton-text{height:16px;width:100%;margin-bottom:8px}@keyframes shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}@media (prefers-color-scheme: dark){.skeleton{background:linear-gradient(90deg,rgba(255,255,255,.05),rgba(255,255,255,.1),rgba(255,255,255,.05));background-size:200% 100%}}body.dark .skeleton{background:linear-gradient(90deg,rgba(255,255,255,.05),rgba(255,255,255,.1),rgba(255,255,255,.05));background-size:200% 100%}.filter-chips-container{display:flex;align-items:center;gap:12px;padding:12px 16px;background:var(--ion-background-color);border-bottom:1px solid var(--ion-color-light);position:sticky;top:0;z-index:10;overflow-x:auto;-webkit-overflow-scrolling:touch}.filter-chips-scroll{display:flex;gap:8px;flex:1;overflow-x:auto;-webkit-overflow-scrolling:touch;scrollbar-width:none;-ms-overflow-style:none}.filter-chips-scroll::-webkit-scrollbar{display:none}.filter-chip{--background: var(--ion-color-light);--color: var(--ion-color-dark);cursor:pointer;transition:all .2s ease;border:2px solid transparent;font-weight:500;white-space:nowrap;flex-shrink:0}.filter-chip:hover{transform:translateY(-2px);box-shadow:0 4px 8px rgba(0,0,0,.1)}.filter-chip.active{--background: var(--ion-color-primary);--color: white;border-color:var(--ion-color-primary-shade)}.filter-chip ion-icon{font-size:18px;margin-right:4px}.filter-chip.active ion-icon:last-child{margin-left:4px;margin-right:0;font-size:16px}.clear-all-chip{--background: var(--ion-color-danger);--color: white;cursor:pointer;transition:all .2s ease;font-weight:600;white-space:nowrap;flex-shrink:0}.clear-all-chip:hover{transform:scale(1.05);box-shadow:0 4px 12px rgba(var(--ion-color-danger-rgb),.3)}.clear-all-chip ion-icon{font-size:16px;margin-right:4px}.active-filters-badge{display:flex;align-items:center;gap:8px;padding:8px 12px;background:var(--ion-color-primary-tint);border-radius:20px;font-size:12px;color:var(--ion-color-primary);font-weight:600;white-space:nowrap}@media (max-width: 768px){.filter-chips-container{padding:8px 12px}.filter-chip,.clear-all-chip{font-size:13px}.filter-chip ion-icon{font-size:16px}}body.dark .filter-chip{--background: rgba(255, 255, 255, .1);--color: var(--ion-color-light)}body.dark .filter-chip:hover{--background: rgba(255, 255, 255, .15)}.search-results-count{display:flex;align-items:center;gap:8px;padding:12px 16px;background:var(--ion-color-light-tint);border-radius:12px;margin:16px;font-size:14px;color:var(--ion-color-medium)}.search-results-count ion-icon{font-size:20px;color:var(--ion-color-primary)}.search-results-count strong{color:var(--ion-color-primary);font-weight:600}.search-results-empty{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center;min-height:400px}.search-results-empty .empty-icon{font-size:80px;color:var(--ion-color-medium);margin-bottom:20px;opacity:.5}.search-results-empty h3{font-size:24px;font-weight:600;color:var(--ion-text-color);margin:0 0 12px}.search-results-empty p{font-size:16px;color:var(--ion-color-medium);margin:8px 0;line-height:1.5}.search-results-empty p strong{color:var(--ion-color-primary)}.search-results-empty .empty-hint{font-size:14px;font-style:italic;margin-top:16px}@media (max-width: 768px){.search-results-count{margin:12px;padding:10px 14px;font-size:13px}.search-results-empty{padding:40px 20px;min-height:300px}.search-results-empty .empty-icon{font-size:60px}.search-results-empty h3{font-size:20px}.search-results-empty p{font-size:14px}}body.dark .search-results-count{background:rgba(255,255,255,.05)}ion-col{display:flex}ion-card{margin:8px;width:100%;display:flex;flex-direction:column;transition:transform .2s ease,box-shadow .2s ease}.gallery-card:active{transform:scale(.98)}.gallery-card:hover{transform:translateY(-4px);box-shadow:0 8px 16px rgba(0,0,0,.2)}ion-card-header{cursor:pointer;user-select:none;-webkit-tap-highlight-color:transparent}ion-card-content>div{cursor:pointer;-webkit-tap-highlight-color:transparent}ion-card-header{min-height:60px;display:flex;align-items:center}ion-card-content{display:flex;flex-direction:column}.gallery-media{width:100%!important;height:180px!important;object-fit:cover!important;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,.1);display:block}@media (min-width: 768px){.gallery-media{height:200px!important}}@media (min-width: 992px){.gallery-media{height:220px!important}}ion-card-title{font-weight:700;color:var(--ion-color-primary);font-size:1rem}ion-card-header{padding:12px}ion-card-content{padding:12px}.exhibits-container{padding:16px}.babylon-canvas{display:block;outline:none;background:linear-gradient(135deg,#1a1a2e,#16213e)}ion-item[color=primary]{--background: var(--ion-color-primary);--color: var(--ion-color-primary-contrast)}.ar-container{padding:16px}.ar-canvas{display:block;outline:none;background:linear-gradient(135deg,#0a0a1e,#1a1a3e)}ion-card ol{padding-left:20px;line-height:1.8}ion-card ol li{margin-bottom:8px}.quiz-container{max-width:800px;margin:0 auto;padding:20px}.quiz-container ion-card{margin-bottom:20px}.quiz-container ion-item{--padding-start: 0;margin:10px 0}.quiz-container ion-radio{margin-right:12px}.audio-guide-card,.audio-controls-simple{margin-bottom:16px}.play-button-simple{--padding-top: 16px;--padding-bottom: 16px;font-weight:600;font-size:16px}.audio-info{margin-top:16px;padding-top:16px;border-top:1px solid var(--ion-color-light)}.audio-info p{margin:0;color:var(--ion-color-medium);line-height:1.6}.image-zoom-thumbnail{position:relative;cursor:pointer;overflow:hidden;border-radius:12px;transition:transform .2s ease}.image-zoom-thumbnail:hover{transform:scale(1.02)}.image-zoom-thumbnail img{width:100%;height:auto;display:block}.image-zoom-overlay{position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.4);display:flex;flex-direction:column;align-items:center;justify-content:center;opacity:0;transition:opacity .3s ease;color:#fff;font-size:14px;gap:8px}.image-zoom-thumbnail:hover .image-zoom-overlay{opacity:1}.image-zoom-overlay ion-icon{font-size:32px}.image-zoom-modal{--background: rgba(0, 0, 0, .95)}.image-zoom-modal::part(content){--background: rgba(0, 0, 0, .95)}.image-zoom-container{width:100%;height:100%;display:flex;flex-direction:column}.image-zoom-header{position:absolute;top:0;right:0;z-index:10;padding:8px}.image-zoom-header ion-button{--background: rgba(255, 255, 255, .1);--color: white;font-size:24px}.image-zoom-content{flex:1;display:flex;align-items:center;justify-content:center;overflow:hidden;touch-action:none;user-select:none}.image-zoom-content img{max-width:100%;max-height:100%;object-fit:contain;transform-origin:center center}.image-zoom-controls{position:absolute;bottom:20px;left:50%;transform:translate(-50%);display:flex;align-items:center;gap:12px;background:rgba(0,0,0,.7);padding:12px 20px;border-radius:30px;backdrop-filter:blur(10px)}.image-zoom-controls ion-button{--background: rgba(255, 255, 255, .1);--color: white;--border-radius: 50%;width:40px;height:40px;font-size:20px;font-weight:700}.image-zoom-controls ion-button[fill=outline]{--border-color: rgba(255, 255, 255, .3);--border-width: 1px;width:auto;padding:0 16px;border-radius:20px}.image-zoom-controls span{color:#fff;font-size:14px;min-width:50px;text-align:center}@media (max-width: 768px){.image-zoom-overlay span{font-size:12px}.image-zoom-controls{bottom:10px;padding:8px 16px}.image-zoom-controls ion-button{width:36px;height:36px;font-size:18px}}.related-artifacts-card{margin:16px}.related-artifacts-card ion-card-title{font-size:20px;font-weight:600;color:var(--ion-color-primary)}.related-artifact-item{cursor:pointer;transition:transform .2s ease}.related-artifact-item:hover{transform:translateY(-4px)}.related-artifact-image{position:relative;width:100%;aspect-ratio:1;border-radius:12px;overflow:hidden;margin-bottom:8px;background:var(--ion-color-light)}.related-artifact-image img{width:100%;height:100%;object-fit:cover}.related-artifact-image .favorite-button{position:absolute;top:8px;right:8px;background:rgba(0,0,0,.5);border:none;border-radius:50%;width:36px;height:36px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;backdrop-filter:blur(4px);z-index:2}.related-artifact-image .favorite-button:hover{background:rgba(0,0,0,.7);transform:scale(1.1)}.related-artifact-image .favorite-button ion-icon{font-size:20px}.related-artifact-info{padding:4px 0}.related-artifact-info h4{margin:0 0 4px;font-size:14px;font-weight:600;color:var(--ion-text-color);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.related-artifact-info p{margin:0;font-size:12px;color:var(--ion-color-medium);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media (max-width: 768px){.related-artifacts-card{margin:12px}.related-artifact-info h4{font-size:13px}.related-artifact-info p{font-size:11px}}.artifact-detail-container{padding:16px;max-width:1200px;margin:0 auto}.artifact-detail-image,.artifact-detail-video{width:100%;max-height:500px;object-fit:contain;border-radius:8px;background:#000}.detailed-description{line-height:1.8;font-size:16px;color:var(--ion-text-color);text-align:justify}.info-section{display:flex;flex-direction:column;gap:20px}.info-item{display:flex;gap:12px;align-items:flex-start}.info-icon{font-size:24px;color:var(--ion-color-primary);margin-top:4px}.info-item strong{display:block;color:var(--ion-color-primary);margin-bottom:4px;font-size:14px;text-transform:uppercase;letter-spacing:.5px}.info-item p{margin:0;line-height:1.6;color:var(--ion-text-color)}ion-card{margin-bottom:16px}ion-card-title{display:flex;align-items:center;gap:8px}.swipe-hint{position:fixed;bottom:80px;left:50%;transform:translate(-50%);display:flex;gap:8px;padding:8px 16px;background:rgba(0,0,0,.6);backdrop-filter:blur(10px);border-radius:20px;color:#fff;font-size:12px;align-items:center;z-index:100;animation:fadeInOut 3s ease-in-out;pointer-events:none}.swipe-hint ion-icon{font-size:16px}@keyframes fadeInOut{0%,to{opacity:0}10%,90%{opacity:1}}.navigation-indicators{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;margin-top:20px;margin-bottom:80px}.nav-button{display:flex;align-items:center;gap:8px;padding:8px 16px;background:var(--ion-color-light);border-radius:20px;font-size:14px;color:var(--ion-color-medium);transition:all .2s ease}.nav-button:not(.disabled):hover{background:var(--ion-color-primary);color:#fff;transform:scale(1.05)}.nav-button.disabled{opacity:.3;cursor:not-allowed}.nav-button ion-icon{font-size:20px}.help-content{--background: var(--ion-color-light)}.help-container{max-width:800px;margin:0 auto;padding:16px}.help-tips-list{padding-left:20px;line-height:1.8}.help-tips-list li{margin-bottom:12px}body.dark .help-content{--background: var(--ion-background-color)}.about-content{--background: var(--ion-color-light)}.about-container{max-width:800px;margin:0 auto;padding:16px}.about-hero{text-align:center}.about-logo{font-size:80px;margin:20px 0}.about-title{font-size:28px;font-weight:700;margin-bottom:8px}.about-version{color:var(--ion-color-medium);font-size:14px;margin:0}.about-description{font-size:16px;line-height:1.6;color:var(--ion-color-dark);margin-top:16px}.features-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-top:16px}.feature-item{text-align:center;padding:16px}.feature-item ion-icon{font-size:48px;margin-bottom:12px}.feature-item h3{font-size:16px;font-weight:600;margin-bottom:8px}.feature-item p{font-size:14px;color:var(--ion-color-medium);line-height:1.5}.tech-stack{display:flex;flex-wrap:wrap;gap:8px;margin-top:16px}.tech-stack ion-chip{font-weight:500}.contact-info{margin-top:16px;line-height:1.8}.contact-info p{margin:8px 0}.about-footer{text-align:center;color:var(--ion-color-medium);font-size:14px}.about-footer p{margin:8px 0}@media (max-width: 768px){.about-logo{font-size:60px}.about-title{font-size:24px}.features-grid{grid-template-columns:1fr}}body.dark .about-content{--background: var(--ion-background-color)}body.dark .about-description{color:var(--ion-color-light)}.credits-content{--background: var(--ion-color-light)}.credits-container{max-width:800px;margin:0 auto;padding:16px}.credits-photographers{margin-top:16px;padding:12px;background:var(--ion-color-light-tint);border-radius:8px}.credits-photographers ul{margin:8px 0;padding-left:20px}.credits-photographers li{margin:6px 0;line-height:1.6}.credits-thanks-list{margin-top:16px;padding-left:20px;line-height:1.8}.credits-thanks-list li{margin:8px 0}.credits-footer{text-align:center;color:var(--ion-color-medium);font-size:14px;font-style:italic}ion-card-title ion-icon{vertical-align:middle;margin-right:8px}ion-item h2{font-weight:600;margin-bottom:4px}ion-item p{font-size:14px;color:var(--ion-color-medium);white-space:normal}body.dark .credits-content{--background: var(--ion-background-color)}body.dark .credits-photographers{background:var(--ion-color-dark-tint)}ion-menu{--width: 280px}ion-menu ion-list{padding:0}ion-menu ion-list-header{font-weight:600;font-size:14px;text-transform:uppercase;letter-spacing:.5px;padding:16px 16px 8px;margin-top:8px}ion-menu ion-item{--padding-start: 16px;--inner-padding-end: 16px;font-size:16px}ion-menu ion-item ion-icon{margin-right:16px;font-size:24px}ion-menu ion-item:hover{--background: var(--ion-color-light)}body.dark ion-menu ion-item:hover{--background: var(--ion-color-dark-tint)}.mini-player-container{position:fixed;bottom:0;left:0;right:0;z-index:1000;padding:0 8px 8px;pointer-events:none}.mini-player-card{margin:0;box-shadow:0 -4px 12px rgba(0,0,0,.15);border-radius:16px 16px 0 0;pointer-events:auto;background:var(--ion-background-color)}.mini-player-content{padding:12px 16px}.mini-player-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.mini-player-title{display:flex;align-items:center;gap:8px;flex:1;cursor:pointer;font-weight:600;font-size:14px;color:var(--ion-color-primary);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mini-player-title:hover{opacity:.8}.mini-player-icon{font-size:18px;flex-shrink:0}.mini-player-progress{display:flex;align-items:center;gap:8px;margin-bottom:8px}.time-label{font-size:11px;color:var(--ion-color-medium);min-width:35px;text-align:center}.progress-range{flex:1;padding:0;--bar-height: 4px;--knob-size: 16px}.mini-player-controls{display:flex;justify-content:center;align-items:center;gap:8px}.mini-player-controls ion-button{--padding-start: 8px;--padding-end: 8px;margin:0}.play-pause-button{--padding-start: 16px;--padding-end: 16px;--border-radius: 50%;width:48px;height:48px}.play-pause-button ion-icon{font-size:24px}.skip-label{font-size:10px;margin:0 2px}.speed-label{font-size:12px;margin-left:4px;font-weight:600}.speed-selected{--background: var(--ion-color-primary-tint);font-weight:600}body.dark .mini-player-card{box-shadow:0 -4px 12px rgba(0,0,0,.4)}@media (max-width: 576px){.mini-player-controls{gap:4px}.mini-player-controls ion-button{--padding-start: 4px;--padding-end: 4px}.play-pause-button{width:44px;height:44px}}.mini-player-container{animation:slideUp .3s ease-out}@keyframes slideUp{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}:root{--ion-color-primary: #0054e9;--ion-color-primary-rgb: 0, 84, 233;--ion-color-primary-contrast: #fff;--ion-color-primary-contrast-rgb: 255, 255, 255;--ion-color-primary-shade: #004acd;--ion-color-primary-tint: #1a65eb;--ion-color-secondary: #0163aa;--ion-color-secondary-rgb: 1, 99, 170;--ion-color-secondary-contrast: #fff;--ion-color-secondary-contrast-rgb: 255, 255, 255;--ion-color-secondary-shade: #015796;--ion-color-secondary-tint: #1a73b3;--ion-color-tertiary: #6030ff;--ion-color-tertiary-rgb: 96, 48, 255;--ion-color-tertiary-contrast: #fff;--ion-color-tertiary-contrast-rgb: 255, 255, 255;--ion-color-tertiary-shade: #542ae0;--ion-color-tertiary-tint: #7045ff;--ion-color-success: #2dd55b;--ion-color-success-rgb: 45, 213, 91;--ion-color-success-contrast: #000;--ion-color-success-contrast-rgb: 0, 0, 0;--ion-color-success-shade: #28bb50;--ion-color-success-tint: #42d96b;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255, 196, 9;--ion-color-warning-contrast: #000;--ion-color-warning-contrast-rgb: 0, 0, 0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #c5000f;--ion-color-danger-rgb: 197, 0, 15;--ion-color-danger-contrast: #fff;--ion-color-danger-contrast-rgb: 255, 255, 255;--ion-color-danger-shade: #ad000d;--ion-color-danger-tint: #cb1a27;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244, 245, 248;--ion-color-light-contrast: #000;--ion-color-light-contrast-rgb: 0, 0, 0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9;--ion-color-medium: #636469;--ion-color-medium-rgb: 99, 100, 105;--ion-color-medium-contrast: #fff;--ion-color-medium-contrast-rgb: 255, 255, 255;--ion-color-medium-shade: #57585c;--ion-color-medium-tint: #737478;--ion-color-dark: #222428;--ion-color-dark-rgb: 34, 36, 40;--ion-color-dark-contrast: #fff;--ion-color-dark-contrast-rgb: 255, 255, 255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e}html.ios{--ion-default-font: -apple-system, BlinkMacSystemFont, "Helvetica Neue", "Roboto", sans-serif}html.md{--ion-default-font: "Roboto", "Helvetica Neue", sans-serif}html{--ion-dynamic-font: -apple-system-body;--ion-font-family: var(--ion-default-font)}body{background:var(--ion-background-color);color:var(--ion-text-color)}body.backdrop-no-scroll{overflow:hidden}html.ios ion-modal.modal-card ion-header ion-toolbar:first-of-type,html.ios ion-modal.modal-sheet ion-header ion-toolbar:first-of-type,html.ios ion-modal ion-footer ion-toolbar:first-of-type,html.ios ion-footer.modal-footer-moving ion-toolbar:first-of-type{padding-top:6px}html.ios ion-modal.modal-card ion-header ion-toolbar:last-of-type,html.ios ion-modal.modal-sheet ion-header ion-toolbar:last-of-type{padding-bottom:6px}html.ios ion-modal ion-toolbar,html.ios .modal-footer-moving ion-toolbar{padding-right:calc(var(--ion-safe-area-right) + 8px);padding-left:calc(var(--ion-safe-area-left) + 8px)}@media screen and (min-width: 768px){html.ios ion-modal.modal-card:first-of-type{--backdrop-opacity: .18}}ion-modal.modal-default.show-modal~ion-modal.modal-default{--backdrop-opacity: 0;--box-shadow: none}html.ios ion-modal.modal-card .ion-page{border-top-left-radius:var(--border-radius)}.ion-color-primary{--ion-color-base: var(--ion-color-primary, #0054e9) !important;--ion-color-base-rgb: var(--ion-color-primary-rgb, 0, 84, 233) !important;--ion-color-contrast: var(--ion-color-primary-contrast, #fff) !important;--ion-color-contrast-rgb: var(--ion-color-primary-contrast-rgb, 255, 255, 255) !important;--ion-color-shade: var(--ion-color-primary-shade, #004acd) !important;--ion-color-tint: var(--ion-color-primary-tint, #1a65eb) !important}.ion-color-secondary{--ion-color-base: var(--ion-color-secondary, #0163aa) !important;--ion-color-base-rgb: var(--ion-color-secondary-rgb, 1, 99, 170) !important;--ion-color-contrast: var(--ion-color-secondary-contrast, #fff) !important;--ion-color-contrast-rgb: var(--ion-color-secondary-contrast-rgb, 255, 255, 255) !important;--ion-color-shade: var(--ion-color-secondary-shade, #015796) !important;--ion-color-tint: var(--ion-color-secondary-tint, #1a73b3) !important}.ion-color-tertiary{--ion-color-base: var(--ion-color-tertiary, #6030ff) !important;--ion-color-base-rgb: var(--ion-color-tertiary-rgb, 96, 48, 255) !important;--ion-color-contrast: var(--ion-color-tertiary-contrast, #fff) !important;--ion-color-contrast-rgb: var(--ion-color-tertiary-contrast-rgb, 255, 255, 255) !important;--ion-color-shade: var(--ion-color-tertiary-shade, #542ae0) !important;--ion-color-tint: var(--ion-color-tertiary-tint, #7045ff) !important}.ion-color-success{--ion-color-base: var(--ion-color-success, #2dd55b) !important;--ion-color-base-rgb: var(--ion-color-success-rgb, 45, 213, 91) !important;--ion-color-contrast: var(--ion-color-success-contrast, #000) !important;--ion-color-contrast-rgb: var(--ion-color-success-contrast-rgb, 0, 0, 0) !important;--ion-color-shade: var(--ion-color-success-shade, #28bb50) !important;--ion-color-tint: var(--ion-color-success-tint, #42d96b) !important}.ion-color-warning{--ion-color-base: var(--ion-color-warning, #ffc409) !important;--ion-color-base-rgb: var(--ion-color-warning-rgb, 255, 196, 9) !important;--ion-color-contrast: var(--ion-color-warning-contrast, #000) !important;--ion-color-contrast-rgb: var(--ion-color-warning-contrast-rgb, 0, 0, 0) !important;--ion-color-shade: var(--ion-color-warning-shade, #e0ac08) !important;--ion-color-tint: var(--ion-color-warning-tint, #ffca22) !important}.ion-color-danger{--ion-color-base: var(--ion-color-danger, #c5000f) !important;--ion-color-base-rgb: var(--ion-color-danger-rgb, 197, 0, 15) !important;--ion-color-contrast: var(--ion-color-danger-contrast, #fff) !important;--ion-color-contrast-rgb: var(--ion-color-danger-contrast-rgb, 255, 255, 255) !important;--ion-color-shade: var(--ion-color-danger-shade, #ad000d) !important;--ion-color-tint: var(--ion-color-danger-tint, #cb1a27) !important}.ion-color-light{--ion-color-base: var(--ion-color-light, #f4f5f8) !important;--ion-color-base-rgb: var(--ion-color-light-rgb, 244, 245, 248) !important;--ion-color-contrast: var(--ion-color-light-contrast, #000) !important;--ion-color-contrast-rgb: var(--ion-color-light-contrast-rgb, 0, 0, 0) !important;--ion-color-shade: var(--ion-color-light-shade, #d7d8da) !important;--ion-color-tint: var(--ion-color-light-tint, #f5f6f9) !important}.ion-color-medium{--ion-color-base: var(--ion-color-medium, #636469) !important;--ion-color-base-rgb: var(--ion-color-medium-rgb, 99, 100, 105) !important;--ion-color-contrast: var(--ion-color-medium-contrast, #fff) !important;--ion-color-contrast-rgb: var(--ion-color-medium-contrast-rgb, 255, 255, 255) !important;--ion-color-shade: var(--ion-color-medium-shade, #57585c) !important;--ion-color-tint: var(--ion-color-medium-tint, #737478) !important}.ion-color-dark{--ion-color-base: var(--ion-color-dark, #222428) !important;--ion-color-base-rgb: var(--ion-color-dark-rgb, 34, 36, 40) !important;--ion-color-contrast: var(--ion-color-dark-contrast, #fff) !important;--ion-color-contrast-rgb: var(--ion-color-dark-contrast-rgb, 255, 255, 255) !important;--ion-color-shade: var(--ion-color-dark-shade, #1e2023) !important;--ion-color-tint: var(--ion-color-dark-tint, #383a3e) !important}.ion-page{left:0;right:0;top:0;bottom:0;display:flex;position:absolute;flex-direction:column;justify-content:space-between;contain:layout size style;z-index:0}ion-modal>.ion-page{position:relative;contain:layout style;height:100%}.split-pane-visible>.ion-page.split-pane-main{position:relative}ion-route,ion-route-redirect,ion-router,ion-select-option,ion-nav-controller,ion-menu-controller,ion-action-sheet-controller,ion-alert-controller,ion-loading-controller,ion-modal-controller,ion-picker-controller,ion-popover-controller,ion-toast-controller,.ion-page-hidden{display:none!important}.ion-page-invisible{opacity:0}.can-go-back>ion-header ion-back-button{display:block}html.plt-ios.plt-hybrid,html.plt-ios.plt-pwa{--ion-statusbar-padding: 20px}@supports (padding-top: 20px){html{--ion-safe-area-top: var(--ion-statusbar-padding)}}@supports (padding-top: env(safe-area-inset-top)){html{--ion-safe-area-top: env(safe-area-inset-top);--ion-safe-area-bottom: env(safe-area-inset-bottom);--ion-safe-area-left: env(safe-area-inset-left);--ion-safe-area-right: env(safe-area-inset-right)}}ion-card.ion-color .ion-inherit-color,ion-card-header.ion-color .ion-inherit-color{color:inherit}.menu-content{transform:translateZ(0)}.menu-content-open{cursor:pointer;touch-action:manipulation;pointer-events:none;overflow-y:hidden}.menu-content-open ion-content{--overflow: hidden}.menu-content-open .ion-content-scroll-host{overflow:hidden}.ios .menu-content-reveal{box-shadow:-8px 0 42px rgba(0,0,0,.08)}[dir=rtl].ios .menu-content-reveal{box-shadow:8px 0 42px rgba(0,0,0,.08)}.md .menu-content-reveal,.md .menu-content-push{box-shadow:4px 0 16px rgba(0,0,0,.18)}ion-accordion-group.accordion-group-expand-inset>ion-accordion:first-of-type{border-top-left-radius:8px;border-top-right-radius:8px}ion-accordion-group.accordion-group-expand-inset>ion-accordion:last-of-type{border-bottom-left-radius:8px;border-bottom-right-radius:8px}ion-accordion-group>ion-accordion:last-of-type ion-item[slot=header]{--border-width: 0px}ion-accordion.accordion-animated>[slot=header] .ion-accordion-toggle-icon{transition:.3s transform cubic-bezier(.25,.8,.5,1)}@media (prefers-reduced-motion: reduce){ion-accordion .ion-accordion-toggle-icon{transition:none!important}}ion-accordion.accordion-expanding>[slot=header] .ion-accordion-toggle-icon,ion-accordion.accordion-expanded>[slot=header] .ion-accordion-toggle-icon{transform:rotate(180deg)}ion-accordion-group.accordion-group-expand-inset.md>ion-accordion.accordion-previous ion-item[slot=header]{--border-width: 0px;--inner-border-width: 0px}ion-accordion-group.accordion-group-expand-inset.md>ion-accordion.accordion-expanding:first-of-type,ion-accordion-group.accordion-group-expand-inset.md>ion-accordion.accordion-expanded:first-of-type{margin-top:0}ion-input input::-webkit-date-and-time-value{text-align:start}.ion-datetime-button-overlay{--width: fit-content;--height: fit-content}.ion-datetime-button-overlay ion-datetime.datetime-grid{width:320px;min-height:320px}[ion-last-focus],header[tabindex="-1"]:focus,[role=banner][tabindex="-1"]:focus,main[tabindex="-1"]:focus,[role=main][tabindex="-1"]:focus,h1[tabindex="-1"]:focus,[role=heading][aria-level="1"][tabindex="-1"]:focus{outline:none}.popover-viewport:has(>ion-content){overflow:hidden}@supports not selector(:has(> ion-content)){.popover-viewport{overflow:hidden}}audio,canvas,progress,video{vertical-align:baseline}audio:not([controls]){display:none;height:0}b,strong{font-weight:700}img{max-width:100%}hr{height:1px;border-width:0;box-sizing:content-box}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}label,input,select,textarea{font-family:inherit;line-height:normal}textarea{overflow:auto;height:auto;font:inherit;color:inherit}textarea::placeholder{padding-left:2px}form,input,optgroup,select{margin:0;font:inherit;color:inherit}html input[type=button],input[type=reset],input[type=submit]{cursor:pointer;-webkit-appearance:button}a,a div,a span,a ion-icon,a ion-label,button,button div,button span,button ion-icon,button ion-label,.ion-tappable,[tappable],[tappable] div,[tappable] span,[tappable] ion-icon,[tappable] ion-label,input,textarea{touch-action:manipulation}a ion-label,button ion-label{pointer-events:none}button{padding:0;border:0;border-radius:0;font-family:inherit;font-style:inherit;font-variant:inherit;line-height:1;text-transform:none;cursor:pointer;-webkit-appearance:button}[tappable]{cursor:pointer}a[disabled],button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}*{box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}html{width:100%;height:100%;-webkit-text-size-adjust:100%;text-size-adjust:100%}html.ion-ce body{display:block}html.plt-pwa{height:100vh}body{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin:0;padding:0;position:fixed;width:100%;max-width:100%;height:100%;max-height:100%;transform:translateZ(0);text-rendering:optimizeLegibility;overflow:hidden;touch-action:manipulation;-webkit-user-drag:none;-ms-content-zooming:none;word-wrap:break-word;overscroll-behavior-y:none;-webkit-text-size-adjust:none;text-size-adjust:none}html{font-family:var(--ion-font-family)}@supports (-webkit-touch-callout: none){html{font:var(--ion-dynamic-font, 16px var(--ion-font-family))}}a{background-color:transparent;color:var(--ion-color-primary, #0054e9)}h1,h2,h3,h4,h5,h6{margin-top:16px;margin-bottom:10px;font-weight:500;line-height:1.2}h1{margin-top:20px;font-size:1.625rem}h2{margin-top:18px;font-size:1.5rem}h3{font-size:1.375rem}h4{font-size:1.25rem}h5{font-size:1.125rem}h6{font-size:1rem}small{font-size:75%}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}.ion-no-padding{--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;padding:0}.ion-padding{--padding-start: var(--ion-padding, 16px);--padding-end: var(--ion-padding, 16px);--padding-top: var(--ion-padding, 16px);--padding-bottom: var(--ion-padding, 16px);-webkit-padding-start:var(--ion-padding, 16px);padding-inline-start:var(--ion-padding, 16px);-webkit-padding-end:var(--ion-padding, 16px);padding-inline-end:var(--ion-padding, 16px);padding-top:var(--ion-padding, 16px);padding-bottom:var(--ion-padding, 16px)}.ion-padding-top{--padding-top: var(--ion-padding, 16px);padding-top:var(--ion-padding, 16px)}.ion-padding-start{--padding-start: var(--ion-padding, 16px);-webkit-padding-start:var(--ion-padding, 16px);padding-inline-start:var(--ion-padding, 16px)}.ion-padding-end{--padding-end: var(--ion-padding, 16px);-webkit-padding-end:var(--ion-padding, 16px);padding-inline-end:var(--ion-padding, 16px)}.ion-padding-bottom{--padding-bottom: var(--ion-padding, 16px);padding-bottom:var(--ion-padding, 16px)}.ion-padding-vertical{--padding-top: var(--ion-padding, 16px);--padding-bottom: var(--ion-padding, 16px);padding-top:var(--ion-padding, 16px);padding-bottom:var(--ion-padding, 16px)}.ion-padding-horizontal{--padding-start: var(--ion-padding, 16px);--padding-end: var(--ion-padding, 16px);-webkit-padding-start:var(--ion-padding, 16px);padding-inline-start:var(--ion-padding, 16px);-webkit-padding-end:var(--ion-padding, 16px);padding-inline-end:var(--ion-padding, 16px)}.ion-no-margin{--margin-start: 0;--margin-end: 0;--margin-top: 0;--margin-bottom: 0;margin:0}.ion-margin{--margin-start: var(--ion-margin, 16px);--margin-end: var(--ion-margin, 16px);--margin-top: var(--ion-margin, 16px);--margin-bottom: var(--ion-margin, 16px);-webkit-margin-start:var(--ion-margin, 16px);margin-inline-start:var(--ion-margin, 16px);-webkit-margin-end:var(--ion-margin, 16px);margin-inline-end:var(--ion-margin, 16px);margin-top:var(--ion-margin, 16px);margin-bottom:var(--ion-margin, 16px)}.ion-margin-top{--margin-top: var(--ion-margin, 16px);margin-top:var(--ion-margin, 16px)}.ion-margin-start{--margin-start: var(--ion-margin, 16px);-webkit-margin-start:var(--ion-margin, 16px);margin-inline-start:var(--ion-margin, 16px)}.ion-margin-end{--margin-end: var(--ion-margin, 16px);-webkit-margin-end:var(--ion-margin, 16px);margin-inline-end:var(--ion-margin, 16px)}.ion-margin-bottom{--margin-bottom: var(--ion-margin, 16px);margin-bottom:var(--ion-margin, 16px)}.ion-margin-vertical{--margin-top: var(--ion-margin, 16px);--margin-bottom: var(--ion-margin, 16px);margin-top:var(--ion-margin, 16px);margin-bottom:var(--ion-margin, 16px)}.ion-margin-horizontal{--margin-start: var(--ion-margin, 16px);--margin-end: var(--ion-margin, 16px);-webkit-margin-start:var(--ion-margin, 16px);margin-inline-start:var(--ion-margin, 16px);-webkit-margin-end:var(--ion-margin, 16px);margin-inline-end:var(--ion-margin, 16px)}.ion-float-left{float:left!important}.ion-float-right{float:right!important}.ion-float-start{float:left!important}:host-context([dir=rtl]) .ion-float-start{float:right!important}[dir=rtl] .ion-float-start{float:right!important}@supports selector(:dir(rtl)){.ion-float-start:dir(rtl){float:right!important}}.ion-float-end{float:right!important}:host-context([dir=rtl]) .ion-float-end{float:left!important}[dir=rtl] .ion-float-end{float:left!important}@supports selector(:dir(rtl)){.ion-float-end:dir(rtl){float:left!important}}@media (min-width: 576px){.ion-float-sm-left{float:left!important}.ion-float-sm-right{float:right!important}.ion-float-sm-start{float:left!important}:host-context([dir=rtl]) .ion-float-sm-start{float:right!important}[dir=rtl] .ion-float-sm-start{float:right!important}@supports selector(:dir(rtl)){.ion-float-sm-start:dir(rtl){float:right!important}}.ion-float-sm-end{float:right!important}:host-context([dir=rtl]) .ion-float-sm-end{float:left!important}[dir=rtl] .ion-float-sm-end{float:left!important}@supports selector(:dir(rtl)){.ion-float-sm-end:dir(rtl){float:left!important}}}@media (min-width: 768px){.ion-float-md-left{float:left!important}.ion-float-md-right{float:right!important}.ion-float-md-start{float:left!important}:host-context([dir=rtl]) .ion-float-md-start{float:right!important}[dir=rtl] .ion-float-md-start{float:right!important}@supports selector(:dir(rtl)){.ion-float-md-start:dir(rtl){float:right!important}}.ion-float-md-end{float:right!important}:host-context([dir=rtl]) .ion-float-md-end{float:left!important}[dir=rtl] .ion-float-md-end{float:left!important}@supports selector(:dir(rtl)){.ion-float-md-end:dir(rtl){float:left!important}}}@media (min-width: 992px){.ion-float-lg-left{float:left!important}.ion-float-lg-right{float:right!important}.ion-float-lg-start{float:left!important}:host-context([dir=rtl]) .ion-float-lg-start{float:right!important}[dir=rtl] .ion-float-lg-start{float:right!important}@supports selector(:dir(rtl)){.ion-float-lg-start:dir(rtl){float:right!important}}.ion-float-lg-end{float:right!important}:host-context([dir=rtl]) .ion-float-lg-end{float:left!important}[dir=rtl] .ion-float-lg-end{float:left!important}@supports selector(:dir(rtl)){.ion-float-lg-end:dir(rtl){float:left!important}}}@media (min-width: 1200px){.ion-float-xl-left{float:left!important}.ion-float-xl-right{float:right!important}.ion-float-xl-start{float:left!important}:host-context([dir=rtl]) .ion-float-xl-start{float:right!important}[dir=rtl] .ion-float-xl-start{float:right!important}@supports selector(:dir(rtl)){.ion-float-xl-start:dir(rtl){float:right!important}}.ion-float-xl-end{float:right!important}:host-context([dir=rtl]) .ion-float-xl-end{float:left!important}[dir=rtl] .ion-float-xl-end{float:left!important}@supports selector(:dir(rtl)){.ion-float-xl-end:dir(rtl){float:left!important}}}.ion-text-center{text-align:center!important}.ion-text-justify{text-align:justify!important}.ion-text-start{text-align:start!important}.ion-text-end{text-align:end!important}.ion-text-left{text-align:left!important}.ion-text-right{text-align:right!important}.ion-text-nowrap{white-space:nowrap!important}.ion-text-wrap{white-space:normal!important}@media (min-width: 576px){.ion-text-sm-center{text-align:center!important}.ion-text-sm-justify{text-align:justify!important}.ion-text-sm-start{text-align:start!important}.ion-text-sm-end{text-align:end!important}.ion-text-sm-left{text-align:left!important}.ion-text-sm-right{text-align:right!important}.ion-text-sm-nowrap{white-space:nowrap!important}.ion-text-sm-wrap{white-space:normal!important}}@media (min-width: 768px){.ion-text-md-center{text-align:center!important}.ion-text-md-justify{text-align:justify!important}.ion-text-md-start{text-align:start!important}.ion-text-md-end{text-align:end!important}.ion-text-md-left{text-align:left!important}.ion-text-md-right{text-align:right!important}.ion-text-md-nowrap{white-space:nowrap!important}.ion-text-md-wrap{white-space:normal!important}}@media (min-width: 992px){.ion-text-lg-center{text-align:center!important}.ion-text-lg-justify{text-align:justify!important}.ion-text-lg-start{text-align:start!important}.ion-text-lg-end{text-align:end!important}.ion-text-lg-left{text-align:left!important}.ion-text-lg-right{text-align:right!important}.ion-text-lg-nowrap{white-space:nowrap!important}.ion-text-lg-wrap{white-space:normal!important}}@media (min-width: 1200px){.ion-text-xl-center{text-align:center!important}.ion-text-xl-justify{text-align:justify!important}.ion-text-xl-start{text-align:start!important}.ion-text-xl-end{text-align:end!important}.ion-text-xl-left{text-align:left!important}.ion-text-xl-right{text-align:right!important}.ion-text-xl-nowrap{white-space:nowrap!important}.ion-text-xl-wrap{white-space:normal!important}}.ion-text-uppercase{text-transform:uppercase!important}.ion-text-lowercase{text-transform:lowercase!important}.ion-text-capitalize{text-transform:capitalize!important}@media (min-width: 576px){.ion-text-sm-uppercase{text-transform:uppercase!important}.ion-text-sm-lowercase{text-transform:lowercase!important}.ion-text-sm-capitalize{text-transform:capitalize!important}}@media (min-width: 768px){.ion-text-md-uppercase{text-transform:uppercase!important}.ion-text-md-lowercase{text-transform:lowercase!important}.ion-text-md-capitalize{text-transform:capitalize!important}}@media (min-width: 992px){.ion-text-lg-uppercase{text-transform:uppercase!important}.ion-text-lg-lowercase{text-transform:lowercase!important}.ion-text-lg-capitalize{text-transform:capitalize!important}}@media (min-width: 1200px){.ion-text-xl-uppercase{text-transform:uppercase!important}.ion-text-xl-lowercase{text-transform:lowercase!important}.ion-text-xl-capitalize{text-transform:capitalize!important}}.ion-align-content-start{align-content:flex-start!important}.ion-align-content-end{align-content:flex-end!important}.ion-align-content-center{align-content:center!important}.ion-align-content-between{align-content:space-between!important}.ion-align-content-around{align-content:space-around!important}.ion-align-content-stretch{align-content:stretch!important}@media (min-width: 576px){.ion-align-content-sm-start{align-content:flex-start!important}.ion-align-content-sm-end{align-content:flex-end!important}.ion-align-content-sm-center{align-content:center!important}.ion-align-content-sm-between{align-content:space-between!important}.ion-align-content-sm-around{align-content:space-around!important}.ion-align-content-sm-stretch{align-content:stretch!important}}@media (min-width: 768px){.ion-align-content-md-start{align-content:flex-start!important}.ion-align-content-md-end{align-content:flex-end!important}.ion-align-content-md-center{align-content:center!important}.ion-align-content-md-between{align-content:space-between!important}.ion-align-content-md-around{align-content:space-around!important}.ion-align-content-md-stretch{align-content:stretch!important}}@media (min-width: 992px){.ion-align-content-lg-start{align-content:flex-start!important}.ion-align-content-lg-end{align-content:flex-end!important}.ion-align-content-lg-center{align-content:center!important}.ion-align-content-lg-between{align-content:space-between!important}.ion-align-content-lg-around{align-content:space-around!important}.ion-align-content-lg-stretch{align-content:stretch!important}}@media (min-width: 1200px){.ion-align-content-xl-start{align-content:flex-start!important}.ion-align-content-xl-end{align-content:flex-end!important}.ion-align-content-xl-center{align-content:center!important}.ion-align-content-xl-between{align-content:space-between!important}.ion-align-content-xl-around{align-content:space-around!important}.ion-align-content-xl-stretch{align-content:stretch!important}}.ion-align-items-start{align-items:start!important}.ion-align-items-end{align-items:end!important}.ion-align-items-center{align-items:center!important}.ion-align-items-stretch{align-items:stretch!important}.ion-align-items-baseline{align-items:baseline!important}@media (min-width: 576px){.ion-align-items-sm-start{align-items:start!important}.ion-align-items-sm-end{align-items:end!important}.ion-align-items-sm-center{align-items:center!important}.ion-align-items-sm-stretch{align-items:stretch!important}.ion-align-items-sm-baseline{align-items:baseline!important}}@media (min-width: 768px){.ion-align-items-md-start{align-items:start!important}.ion-align-items-md-end{align-items:end!important}.ion-align-items-md-center{align-items:center!important}.ion-align-items-md-stretch{align-items:stretch!important}.ion-align-items-md-baseline{align-items:baseline!important}}@media (min-width: 992px){.ion-align-items-lg-start{align-items:start!important}.ion-align-items-lg-end{align-items:end!important}.ion-align-items-lg-center{align-items:center!important}.ion-align-items-lg-stretch{align-items:stretch!important}.ion-align-items-lg-baseline{align-items:baseline!important}}@media (min-width: 1200px){.ion-align-items-xl-start{align-items:start!important}.ion-align-items-xl-end{align-items:end!important}.ion-align-items-xl-center{align-items:center!important}.ion-align-items-xl-stretch{align-items:stretch!important}.ion-align-items-xl-baseline{align-items:baseline!important}}.ion-align-self-start{align-self:start!important}.ion-align-self-end{align-self:end!important}.ion-align-self-center{align-self:center!important}.ion-align-self-stretch{align-self:stretch!important}.ion-align-self-baseline{align-self:baseline!important}.ion-align-self-auto{align-self:auto!important}@media (min-width: 576px){.ion-align-self-sm-start{align-self:start!important}.ion-align-self-sm-end{align-self:end!important}.ion-align-self-sm-center{align-self:center!important}.ion-align-self-sm-stretch{align-self:stretch!important}.ion-align-self-sm-baseline{align-self:baseline!important}.ion-align-self-sm-auto{align-self:auto!important}}@media (min-width: 768px){.ion-align-self-md-start{align-self:start!important}.ion-align-self-md-end{align-self:end!important}.ion-align-self-md-center{align-self:center!important}.ion-align-self-md-stretch{align-self:stretch!important}.ion-align-self-md-baseline{align-self:baseline!important}.ion-align-self-md-auto{align-self:auto!important}}@media (min-width: 992px){.ion-align-self-lg-start{align-self:start!important}.ion-align-self-lg-end{align-self:end!important}.ion-align-self-lg-center{align-self:center!important}.ion-align-self-lg-stretch{align-self:stretch!important}.ion-align-self-lg-baseline{align-self:baseline!important}.ion-align-self-lg-auto{align-self:auto!important}}@media (min-width: 1200px){.ion-align-self-xl-start{align-self:start!important}.ion-align-self-xl-end{align-self:end!important}.ion-align-self-xl-center{align-self:center!important}.ion-align-self-xl-stretch{align-self:stretch!important}.ion-align-self-xl-baseline{align-self:baseline!important}.ion-align-self-xl-auto{align-self:auto!important}}.ion-justify-content-start{justify-content:flex-start!important}.ion-justify-content-end{justify-content:flex-end!important}.ion-justify-content-center{justify-content:center!important}.ion-justify-content-between{justify-content:space-between!important}.ion-justify-content-around{justify-content:space-around!important}.ion-justify-content-evenly{justify-content:space-evenly!important}@media (min-width: 576px){.ion-justify-content-sm-start{justify-content:flex-start!important}.ion-justify-content-sm-end{justify-content:flex-end!important}.ion-justify-content-sm-center{justify-content:center!important}.ion-justify-content-sm-between{justify-content:space-between!important}.ion-justify-content-sm-around{justify-content:space-around!important}.ion-justify-content-sm-evenly{justify-content:space-evenly!important}}@media (min-width: 768px){.ion-justify-content-md-start{justify-content:flex-start!important}.ion-justify-content-md-end{justify-content:flex-end!important}.ion-justify-content-md-center{justify-content:center!important}.ion-justify-content-md-between{justify-content:space-between!important}.ion-justify-content-md-around{justify-content:space-around!important}.ion-justify-content-md-evenly{justify-content:space-evenly!important}}@media (min-width: 992px){.ion-justify-content-lg-start{justify-content:flex-start!important}.ion-justify-content-lg-end{justify-content:flex-end!important}.ion-justify-content-lg-center{justify-content:center!important}.ion-justify-content-lg-between{justify-content:space-between!important}.ion-justify-content-lg-around{justify-content:space-around!important}.ion-justify-content-lg-evenly{justify-content:space-evenly!important}}@media (min-width: 1200px){.ion-justify-content-xl-start{justify-content:flex-start!important}.ion-justify-content-xl-end{justify-content:flex-end!important}.ion-justify-content-xl-center{justify-content:center!important}.ion-justify-content-xl-between{justify-content:space-between!important}.ion-justify-content-xl-around{justify-content:space-around!important}.ion-justify-content-xl-evenly{justify-content:space-evenly!important}}.ion-flex-row{flex-direction:row!important}.ion-flex-row-reverse{flex-direction:row-reverse!important}.ion-flex-column{flex-direction:column!important}.ion-flex-column-reverse{flex-direction:column-reverse!important}@media (min-width: 576px){.ion-flex-sm-row{flex-direction:row!important}.ion-flex-sm-row-reverse{flex-direction:row-reverse!important}.ion-flex-sm-column{flex-direction:column!important}.ion-flex-sm-column-reverse{flex-direction:column-reverse!important}}@media (min-width: 768px){.ion-flex-md-row{flex-direction:row!important}.ion-flex-md-row-reverse{flex-direction:row-reverse!important}.ion-flex-md-column{flex-direction:column!important}.ion-flex-md-column-reverse{flex-direction:column-reverse!important}}@media (min-width: 992px){.ion-flex-lg-row{flex-direction:row!important}.ion-flex-lg-row-reverse{flex-direction:row-reverse!important}.ion-flex-lg-column{flex-direction:column!important}.ion-flex-lg-column-reverse{flex-direction:column-reverse!important}}@media (min-width: 1200px){.ion-flex-xl-row{flex-direction:row!important}.ion-flex-xl-row-reverse{flex-direction:row-reverse!important}.ion-flex-xl-column{flex-direction:column!important}.ion-flex-xl-column-reverse{flex-direction:column-reverse!important}}.ion-wrap{flex-wrap:wrap!important}.ion-nowrap{flex-wrap:nowrap!important}.ion-wrap-reverse{flex-wrap:wrap-reverse!important}.ion-flex-wrap{flex-wrap:wrap!important}.ion-flex-nowrap{flex-wrap:nowrap!important}.ion-flex-wrap-reverse{flex-wrap:wrap-reverse!important}@media (min-width: 576px){.ion-flex-sm-wrap{flex-wrap:wrap!important}.ion-flex-sm-nowrap{flex-wrap:nowrap!important}.ion-flex-sm-wrap-reverse{flex-wrap:wrap-reverse!important}}@media (min-width: 768px){.ion-flex-md-wrap{flex-wrap:wrap!important}.ion-flex-md-nowrap{flex-wrap:nowrap!important}.ion-flex-md-wrap-reverse{flex-wrap:wrap-reverse!important}}@media (min-width: 992px){.ion-flex-lg-wrap{flex-wrap:wrap!important}.ion-flex-lg-nowrap{flex-wrap:nowrap!important}.ion-flex-lg-wrap-reverse{flex-wrap:wrap-reverse!important}}@media (min-width: 1200px){.ion-flex-xl-wrap{flex-wrap:wrap!important}.ion-flex-xl-nowrap{flex-wrap:nowrap!important}.ion-flex-xl-wrap-reverse{flex-wrap:wrap-reverse!important}}.ion-flex-1{flex:1!important}.ion-flex-auto{flex:auto!important}.ion-flex-initial{flex:initial!important}.ion-flex-none{flex:none!important}@media (min-width: 576px){.ion-flex-sm-1{flex:1!important}.ion-flex-sm-auto{flex:auto!important}.ion-flex-sm-initial{flex:initial!important}.ion-flex-sm-none{flex:none!important}}@media (min-width: 768px){.ion-flex-md-1{flex:1!important}.ion-flex-md-auto{flex:auto!important}.ion-flex-md-initial{flex:initial!important}.ion-flex-md-none{flex:none!important}}@media (min-width: 992px){.ion-flex-lg-1{flex:1!important}.ion-flex-lg-auto{flex:auto!important}.ion-flex-lg-initial{flex:initial!important}.ion-flex-lg-none{flex:none!important}}@media (min-width: 1200px){.ion-flex-xl-1{flex:1!important}.ion-flex-xl-auto{flex:auto!important}.ion-flex-xl-initial{flex:initial!important}.ion-flex-xl-none{flex:none!important}}.ion-flex-grow-0{flex-grow:0!important}.ion-flex-grow-1{flex-grow:1!important}.ion-flex-shrink-0{flex-shrink:0!important}.ion-flex-shrink-1{flex-shrink:1!important}@media (min-width: 576px){.ion-flex-sm-grow-0{flex-grow:0!important}.ion-flex-sm-grow-1{flex-grow:1!important}.ion-flex-sm-shrink-0{flex-shrink:0!important}.ion-flex-sm-shrink-1{flex-shrink:1!important}}@media (min-width: 768px){.ion-flex-md-grow-0{flex-grow:0!important}.ion-flex-md-grow-1{flex-grow:1!important}.ion-flex-md-shrink-0{flex-shrink:0!important}.ion-flex-md-shrink-1{flex-shrink:1!important}}@media (min-width: 992px){.ion-flex-lg-grow-0{flex-grow:0!important}.ion-flex-lg-grow-1{flex-grow:1!important}.ion-flex-lg-shrink-0{flex-shrink:0!important}.ion-flex-lg-shrink-1{flex-shrink:1!important}}@media (min-width: 1200px){.ion-flex-xl-grow-0{flex-grow:0!important}.ion-flex-xl-grow-1{flex-grow:1!important}.ion-flex-xl-shrink-0{flex-shrink:0!important}.ion-flex-xl-shrink-1{flex-shrink:1!important}}.ion-order-first{order:-1!important}.ion-order-0{order:0!important}.ion-order-1{order:1!important}.ion-order-2{order:2!important}.ion-order-3{order:3!important}.ion-order-4{order:4!important}.ion-order-5{order:5!important}.ion-order-6{order:6!important}.ion-order-7{order:7!important}.ion-order-8{order:8!important}.ion-order-9{order:9!important}.ion-order-10{order:10!important}.ion-order-11{order:11!important}.ion-order-12{order:12!important}.ion-order-last{order:13!important}@media (min-width: 576px){.ion-order-sm-first{order:-1!important}.ion-order-sm-0{order:0!important}.ion-order-sm-1{order:1!important}.ion-order-sm-2{order:2!important}.ion-order-sm-3{order:3!important}.ion-order-sm-4{order:4!important}.ion-order-sm-5{order:5!important}.ion-order-sm-6{order:6!important}.ion-order-sm-7{order:7!important}.ion-order-sm-8{order:8!important}.ion-order-sm-9{order:9!important}.ion-order-sm-10{order:10!important}.ion-order-sm-11{order:11!important}.ion-order-sm-12{order:12!important}.ion-order-sm-last{order:13!important}}@media (min-width: 768px){.ion-order-md-first{order:-1!important}.ion-order-md-0{order:0!important}.ion-order-md-1{order:1!important}.ion-order-md-2{order:2!important}.ion-order-md-3{order:3!important}.ion-order-md-4{order:4!important}.ion-order-md-5{order:5!important}.ion-order-md-6{order:6!important}.ion-order-md-7{order:7!important}.ion-order-md-8{order:8!important}.ion-order-md-9{order:9!important}.ion-order-md-10{order:10!important}.ion-order-md-11{order:11!important}.ion-order-md-12{order:12!important}.ion-order-md-last{order:13!important}}@media (min-width: 992px){.ion-order-lg-first{order:-1!important}.ion-order-lg-0{order:0!important}.ion-order-lg-1{order:1!important}.ion-order-lg-2{order:2!important}.ion-order-lg-3{order:3!important}.ion-order-lg-4{order:4!important}.ion-order-lg-5{order:5!important}.ion-order-lg-6{order:6!important}.ion-order-lg-7{order:7!important}.ion-order-lg-8{order:8!important}.ion-order-lg-9{order:9!important}.ion-order-lg-10{order:10!important}.ion-order-lg-11{order:11!important}.ion-order-lg-12{order:12!important}.ion-order-lg-last{order:13!important}}@media (min-width: 1200px){.ion-order-xl-first{order:-1!important}.ion-order-xl-0{order:0!important}.ion-order-xl-1{order:1!important}.ion-order-xl-2{order:2!important}.ion-order-xl-3{order:3!important}.ion-order-xl-4{order:4!important}.ion-order-xl-5{order:5!important}.ion-order-xl-6{order:6!important}.ion-order-xl-7{order:7!important}.ion-order-xl-8{order:8!important}.ion-order-xl-9{order:9!important}.ion-order-xl-10{order:10!important}.ion-order-xl-11{order:11!important}.ion-order-xl-12{order:12!important}.ion-order-xl-last{order:13!important}}.ion-hide,.ion-hide-up,.ion-hide-down{display:none!important}@media (min-width: 576px){.ion-hide-sm-up{display:none!important}}@media (max-width: 575.98px){.ion-hide-sm-down{display:none!important}}@media (min-width: 768px){.ion-hide-md-up{display:none!important}}@media (max-width: 767.98px){.ion-hide-md-down{display:none!important}}@media (min-width: 992px){.ion-hide-lg-up{display:none!important}}@media (max-width: 991.98px){.ion-hide-lg-down{display:none!important}}@media (min-width: 1200px){.ion-hide-xl-up{display:none!important}}@media (max-width: 1199.98px){.ion-hide-xl-down{display:none!important}}.ion-display-none{display:none!important}@media (min-width: 576px){.ion-display-sm-none{display:none!important}}@media (min-width: 768px){.ion-display-md-none{display:none!important}}@media (min-width: 992px){.ion-display-lg-none{display:none!important}}@media (min-width: 1200px){.ion-display-xl-none{display:none!important}}.ion-display-inline{display:inline!important}@media (min-width: 576px){.ion-display-sm-inline{display:inline!important}}@media (min-width: 768px){.ion-display-md-inline{display:inline!important}}@media (min-width: 992px){.ion-display-lg-inline{display:inline!important}}@media (min-width: 1200px){.ion-display-xl-inline{display:inline!important}}.ion-display-inline-block{display:inline-block!important}@media (min-width: 576px){.ion-display-sm-inline-block{display:inline-block!important}}@media (min-width: 768px){.ion-display-md-inline-block{display:inline-block!important}}@media (min-width: 992px){.ion-display-lg-inline-block{display:inline-block!important}}@media (min-width: 1200px){.ion-display-xl-inline-block{display:inline-block!important}}.ion-display-block{display:block!important}@media (min-width: 576px){.ion-display-sm-block{display:block!important}}@media (min-width: 768px){.ion-display-md-block{display:block!important}}@media (min-width: 992px){.ion-display-lg-block{display:block!important}}@media (min-width: 1200px){.ion-display-xl-block{display:block!important}}.ion-display-flex{display:flex!important}@media (min-width: 576px){.ion-display-sm-flex{display:flex!important}}@media (min-width: 768px){.ion-display-md-flex{display:flex!important}}@media (min-width: 992px){.ion-display-lg-flex{display:flex!important}}@media (min-width: 1200px){.ion-display-xl-flex{display:flex!important}}.ion-display-inline-flex{display:inline-flex!important}@media (min-width: 576px){.ion-display-sm-inline-flex{display:inline-flex!important}}@media (min-width: 768px){.ion-display-md-inline-flex{display:inline-flex!important}}@media (min-width: 992px){.ion-display-lg-inline-flex{display:inline-flex!important}}@media (min-width: 1200px){.ion-display-xl-inline-flex{display:inline-flex!important}}.ion-display-grid{display:grid!important}@media (min-width: 576px){.ion-display-sm-grid{display:grid!important}}@media (min-width: 768px){.ion-display-md-grid{display:grid!important}}@media (min-width: 992px){.ion-display-lg-grid{display:grid!important}}@media (min-width: 1200px){.ion-display-xl-grid{display:grid!important}}.ion-display-inline-grid{display:inline-grid!important}@media (min-width: 576px){.ion-display-sm-inline-grid{display:inline-grid!important}}@media (min-width: 768px){.ion-display-md-inline-grid{display:inline-grid!important}}@media (min-width: 992px){.ion-display-lg-inline-grid{display:inline-grid!important}}@media (min-width: 1200px){.ion-display-xl-inline-grid{display:inline-grid!important}}.ion-display-table{display:table!important}@media (min-width: 576px){.ion-display-sm-table{display:table!important}}@media (min-width: 768px){.ion-display-md-table{display:table!important}}@media (min-width: 992px){.ion-display-lg-table{display:table!important}}@media (min-width: 1200px){.ion-display-xl-table{display:table!important}}.ion-display-table-cell{display:table-cell!important}@media (min-width: 576px){.ion-display-sm-table-cell{display:table-cell!important}}@media (min-width: 768px){.ion-display-md-table-cell{display:table-cell!important}}@media (min-width: 992px){.ion-display-lg-table-cell{display:table-cell!important}}@media (min-width: 1200px){.ion-display-xl-table-cell{display:table-cell!important}}.ion-display-table-row{display:table-row!important}@media (min-width: 576px){.ion-display-sm-table-row{display:table-row!important}}@media (min-width: 768px){.ion-display-md-table-row{display:table-row!important}}@media (min-width: 992px){.ion-display-lg-table-row{display:table-row!important}}@media (min-width: 1200px){.ion-display-xl-table-row{display:table-row!important}}.ion-palette-dark{--ion-color-primary: #4d8dff;--ion-color-primary-rgb: 77, 141, 255;--ion-color-primary-contrast: #000;--ion-color-primary-contrast-rgb: 0, 0, 0;--ion-color-primary-shade: #447ce0;--ion-color-primary-tint: #5f98ff;--ion-color-secondary: #46b1ff;--ion-color-secondary-rgb: 70, 177, 255;--ion-color-secondary-contrast: #000;--ion-color-secondary-contrast-rgb: 0, 0, 0;--ion-color-secondary-shade: #3e9ce0;--ion-color-secondary-tint: #59b9ff;--ion-color-tertiary: #8482fb;--ion-color-tertiary-rgb: 132, 130, 251;--ion-color-tertiary-contrast: #000;--ion-color-tertiary-contrast-rgb: 0, 0, 0;--ion-color-tertiary-shade: #7472dd;--ion-color-tertiary-tint: #908ffb;--ion-color-success: #2dd55b;--ion-color-success-rgb: 45, 213, 91;--ion-color-success-contrast: #000;--ion-color-success-contrast-rgb: 0, 0, 0;--ion-color-success-shade: #28bb50;--ion-color-success-tint: #42d96b;--ion-color-warning: #ffce31;--ion-color-warning-rgb: 255, 206, 49;--ion-color-warning-contrast: #000;--ion-color-warning-contrast-rgb: 0, 0, 0;--ion-color-warning-shade: #e0b52b;--ion-color-warning-tint: #ffd346;--ion-color-danger: #f24c58;--ion-color-danger-rgb: 242, 76, 88;--ion-color-danger-contrast: #000;--ion-color-danger-contrast-rgb: 0, 0, 0;--ion-color-danger-shade: #d5434d;--ion-color-danger-tint: #f35e69;--ion-color-light: #222428;--ion-color-light-rgb: 34, 36, 40;--ion-color-light-contrast: #fff;--ion-color-light-contrast-rgb: 255, 255, 255;--ion-color-light-shade: #1e2023;--ion-color-light-tint: #383a3e;--ion-color-medium: #989aa2;--ion-color-medium-rgb: 152, 154, 162;--ion-color-medium-contrast: #000;--ion-color-medium-contrast-rgb: 0, 0, 0;--ion-color-medium-shade: #86888f;--ion-color-medium-tint: #a2a4ab;--ion-color-dark: #f4f5f8;--ion-color-dark-rgb: 244, 245, 248;--ion-color-dark-contrast: #000;--ion-color-dark-contrast-rgb: 0, 0, 0;--ion-color-dark-shade: #d7d8da;--ion-color-dark-tint: #f5f6f9}.ion-palette-dark.ios{--ion-background-color: #000000;--ion-background-color-rgb: 0, 0, 0;--ion-text-color: #ffffff;--ion-text-color-rgb: 255, 255, 255;--ion-background-color-step-50: #0d0d0d;--ion-background-color-step-100: #1a1a1a;--ion-background-color-step-150: #262626;--ion-background-color-step-200: #333333;--ion-background-color-step-250: #404040;--ion-background-color-step-300: #4d4d4d;--ion-background-color-step-350: #595959;--ion-background-color-step-400: #666666;--ion-background-color-step-450: #737373;--ion-background-color-step-500: #808080;--ion-background-color-step-550: #8c8c8c;--ion-background-color-step-600: #999999;--ion-background-color-step-650: #a6a6a6;--ion-background-color-step-700: #b3b3b3;--ion-background-color-step-750: #bfbfbf;--ion-background-color-step-800: #cccccc;--ion-background-color-step-850: #d9d9d9;--ion-background-color-step-900: #e6e6e6;--ion-background-color-step-950: #f2f2f2;--ion-text-color-step-50: #f2f2f2;--ion-text-color-step-100: #e6e6e6;--ion-text-color-step-150: #d9d9d9;--ion-text-color-step-200: #cccccc;--ion-text-color-step-250: #bfbfbf;--ion-text-color-step-300: #b3b3b3;--ion-text-color-step-350: #a6a6a6;--ion-text-color-step-400: #999999;--ion-text-color-step-450: #8c8c8c;--ion-text-color-step-500: #808080;--ion-text-color-step-550: #737373;--ion-text-color-step-600: #666666;--ion-text-color-step-650: #595959;--ion-text-color-step-700: #4d4d4d;--ion-text-color-step-750: #404040;--ion-text-color-step-800: #333333;--ion-text-color-step-850: #262626;--ion-text-color-step-900: #1a1a1a;--ion-text-color-step-950: #0d0d0d;--ion-item-background: #000000;--ion-card-background: #1c1c1d}.ion-palette-dark.ios ion-modal{--ion-background-color: var(--ion-color-step-100, var(--ion-background-color-step-100));--ion-toolbar-background: var(--ion-color-step-150, var(--ion-background-color-step-150));--ion-toolbar-border-color: var(--ion-color-step-250, var(--ion-background-color-step-250))}.ion-palette-dark.md{--ion-background-color: #121212;--ion-background-color-rgb: 18, 18, 18;--ion-text-color: #ffffff;--ion-text-color-rgb: 255, 255, 255;--ion-background-color-step-50: #1e1e1e;--ion-background-color-step-100: #2a2a2a;--ion-background-color-step-150: #363636;--ion-background-color-step-200: #414141;--ion-background-color-step-250: #4d4d4d;--ion-background-color-step-300: #595959;--ion-background-color-step-350: #656565;--ion-background-color-step-400: #717171;--ion-background-color-step-450: #7d7d7d;--ion-background-color-step-500: #898989;--ion-background-color-step-550: #949494;--ion-background-color-step-600: #a0a0a0;--ion-background-color-step-650: #acacac;--ion-background-color-step-700: #b8b8b8;--ion-background-color-step-750: #c4c4c4;--ion-background-color-step-800: #d0d0d0;--ion-background-color-step-850: #dbdbdb;--ion-background-color-step-900: #e7e7e7;--ion-background-color-step-950: #f3f3f3;--ion-text-color-step-50: #f3f3f3;--ion-text-color-step-100: #e7e7e7;--ion-text-color-step-150: #dbdbdb;--ion-text-color-step-200: #d0d0d0;--ion-text-color-step-250: #c4c4c4;--ion-text-color-step-300: #b8b8b8;--ion-text-color-step-350: #acacac;--ion-text-color-step-400: #a0a0a0;--ion-text-color-step-450: #949494;--ion-text-color-step-500: #898989;--ion-text-color-step-550: #7d7d7d;--ion-text-color-step-600: #717171;--ion-text-color-step-650: #656565;--ion-text-color-step-700: #595959;--ion-text-color-step-750: #4d4d4d;--ion-text-color-step-800: #414141;--ion-text-color-step-850: #363636;--ion-text-color-step-900: #2a2a2a;--ion-text-color-step-950: #1e1e1e;--ion-item-background: #1e1e1e;--ion-toolbar-background: #1f1f1f;--ion-tab-bar-background: #1f1f1f;--ion-card-background: #1e1e1e}body.dark{--ion-color-primary: #428cff;--ion-color-primary-rgb: 66, 140, 255;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255, 255, 255;--ion-color-primary-shade: #3a7be0;--ion-color-primary-tint: #5598ff;--ion-color-secondary: #50c8ff;--ion-color-secondary-rgb: 80, 200, 255;--ion-color-secondary-contrast: #ffffff;--ion-color-secondary-contrast-rgb: 255, 255, 255;--ion-color-secondary-shade: #46b0e0;--ion-color-secondary-tint: #62ceff;--ion-color-tertiary: #6a64ff;--ion-color-tertiary-rgb: 106, 100, 255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255, 255, 255;--ion-color-tertiary-shade: #5d58e0;--ion-color-tertiary-tint: #7974ff;--ion-color-success: #2fdf75;--ion-color-success-rgb: 47, 223, 117;--ion-color-success-contrast: #000000;--ion-color-success-contrast-rgb: 0, 0, 0;--ion-color-success-shade: #29c467;--ion-color-success-tint: #44e283;--ion-color-warning: #ffd534;--ion-color-warning-rgb: 255, 213, 52;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0, 0, 0;--ion-color-warning-shade: #e0bb2e;--ion-color-warning-tint: #ffd948;--ion-color-danger: #ff4961;--ion-color-danger-rgb: 255, 73, 97;--ion-color-danger-contrast: #ffffff;--ion-color-danger-contrast-rgb: 255, 255, 255;--ion-color-danger-shade: #e04055;--ion-color-danger-tint: #ff5b71;--ion-color-dark: #f4f5f8;--ion-color-dark-rgb: 244, 245, 248;--ion-color-dark-contrast: #000000;--ion-color-dark-contrast-rgb: 0, 0, 0;--ion-color-dark-shade: #d7d8da;--ion-color-dark-tint: #f5f6f9;--ion-color-medium: #989aa2;--ion-color-medium-rgb: 152, 154, 162;--ion-color-medium-contrast: #000000;--ion-color-medium-contrast-rgb: 0, 0, 0;--ion-color-medium-shade: #86888f;--ion-color-medium-tint: #a2a4ab;--ion-color-light: #222428;--ion-color-light-rgb: 34, 36, 40;--ion-color-light-contrast: #ffffff;--ion-color-light-contrast-rgb: 255, 255, 255;--ion-color-light-shade: #1e2023;--ion-color-light-tint: #383a3e;--ion-background-color: #121212;--ion-background-color-rgb: 18, 18, 18;--ion-text-color: #ffffff;--ion-text-color-rgb: 255, 255, 255;--ion-border-color: #222222;--ion-color-step-50: #1e1e1e;--ion-color-step-100: #2a2a2a;--ion-color-step-150: #363636;--ion-color-step-200: #414141;--ion-color-step-250: #4d4d4d;--ion-color-step-300: #595959;--ion-color-step-350: #656565;--ion-color-step-400: #717171;--ion-color-step-450: #7d7d7d;--ion-color-step-500: #898989;--ion-color-step-550: #949494;--ion-color-step-600: #a0a0a0;--ion-color-step-650: #acacac;--ion-color-step-700: #b8b8b8;--ion-color-step-750: #c4c4c4;--ion-color-step-800: #d0d0d0;--ion-color-step-850: #dbdbdb;--ion-color-step-900: #e7e7e7;--ion-color-step-950: #f3f3f3;--ion-card-background: #1e1e1e;--ion-toolbar-background: #1f1f1f;--ion-toolbar-border-color: #222222;--ion-item-background: #1e1e1e}body{transition:background-color .3s ease,color .3s ease}ion-card,ion-toolbar,ion-item,ion-content{transition:background-color .3s ease,color .3s ease}ion-button{min-height:44px;min-width:44px}ion-fab-button{--size: 56px}ion-item{min-height:48px}@media (max-width: 768px){.gallery-grid{display:grid;grid-template-columns:1fr!important;gap:16px;padding:16px}.gallery-card{width:100%;margin:0}.gallery-card ion-card-header{padding:12px}.gallery-card ion-card-title{font-size:1.1rem}.gallery-card img{height:250px;object-fit:cover}}@media (min-width: 769px) and (max-width: 1024px){.gallery-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:16px;padding:16px}}@media (min-width: 1025px){.gallery-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;padding:20px;max-width:1400px;margin:0 auto}}ion-content{--overflow: auto;-webkit-overflow-scrolling:touch}img{max-width:100%;height:auto;display:block}.image-placeholder{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:loading 1.5s infinite}@keyframes loading{0%{background-position:200% 0}to{background-position:-200% 0}}@media (max-width: 768px){ion-searchbar{--padding-start: 12px;--padding-end: 12px;padding:8px 0}}@media (max-width: 768px){ion-segment{padding:8px 16px}ion-segment-button{min-height:40px;font-size:.9rem}}@media (max-width: 768px){.babylon-canvas{height:300px!important}.exhibits-container{padding:12px}.exhibits-container ion-card{margin:8px 0}}@media (max-width: 768px){.quiz-container{padding:12px}.quiz-container ion-card{margin:8px 0}.quiz-container ion-card-title{font-size:1.1rem}.quiz-container ion-radio-group ion-item{--padding-start: 12px;--padding-end: 12px}}@media (max-width: 768px){.artifact-detail-container{padding:12px}.artifact-detail-container img{height:250px;object-fit:cover;border-radius:8px}.artifact-detail-container ion-card{margin:8px 0}}@media (max-width: 768px){.qr-scanner-modal{--width: 100%;--height: 100%}#qr-reader{width:100%!important}}@media (max-width: 768px){.audio-player{padding:12px}.audio-controls{flex-wrap:wrap;gap:8px}.audio-controls button{min-width:44px;min-height:44px}}@media (max-width: 768px){ion-button{--padding-start: 16px;--padding-end: 16px;margin:4px 0}}ion-fab{position:fixed}@media (max-width: 768px){ion-fab[vertical=bottom][horizontal=end]{bottom:70px;right:16px}}@media (max-width: 768px){ion-tab-bar{height:56px;padding-bottom:env(safe-area-inset-bottom)}ion-tab-button{font-size:.75rem}}@media (max-width: 768px){ion-card{box-shadow:0 2px 8px rgba(0,0,0,.1)}}.skeleton{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:loading 1.5s infinite;border-radius:4px}.skeleton-text{height:16px;margin:8px 0}.skeleton-title{height:24px;width:60%;margin:12px 0}.skeleton-image{height:200px;width:100%;border-radius:8px}ion-refresher{z-index:1}.haptic-feedback{animation:haptic-pulse .3s ease-out}@keyframes haptic-pulse{0%{transform:scale(1)}50%{transform:scale(.95)}to{transform:scale(1)}}.swipe-indicator{position:absolute;top:50%;transform:translateY(-50%);font-size:2rem;opacity:0;transition:opacity .3s;pointer-events:none}.swipe-indicator.left{left:20px}.swipe-indicator.right{right:20px}.swipe-indicator.active{opacity:.5}@media (max-width: 768px){body{font-size:16px}h1{font-size:1.75rem}h2{font-size:1.5rem}h3{font-size:1.25rem}p{line-height:1.6}}@supports (padding: env(safe-area-inset-top)){ion-header{padding-top:env(safe-area-inset-top)}ion-footer{padding-bottom:env(safe-area-inset-bottom)}}\n/*$vite$:1*/',document.head.appendChild(e);var Oe={exports:{}},Ne={},De={exports:{}},Pe={};
/**
       * @license React
       * scheduler.production.js
       *
       * Copyright (c) Meta Platforms, Inc. and affiliates.
       *
       * This source code is licensed under the MIT license found in the
       * LICENSE file in the root directory of this source tree.
       */
!function(e){function t(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,o=e[n];if(!(0<i(o,t)))break e;e[n]=t,e[r]=o,r=n}}function r(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,o=e.length,a=o>>>1;n<a;){var s=2*(n+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,r))c<o&&0>i(u,l)?(e[n]=u,e[c]=r,n=c):(e[n]=l,e[s]=r,n=s);else{if(!(c<o&&0>i(u,r)))break e;e[n]=u,e[c]=r,n=c}}}return t}function i(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,d=null,h=3,p=!1,f=!1,g=!1,m="function"==typeof setTimeout?setTimeout:null,w="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function v(e){for(var i=r(c);null!==i;){if(null===i.callback)n(c);else{if(!(i.startTime<=e))break;n(c),i.sortIndex=i.expirationTime,t(l,i)}i=r(c)}}function y(e){if(g=!1,v(e),!f)if(null!==r(l))f=!0,R();else{var t=r(c);null!==t&&O(y,t.startTime-e)}}var x,S=!1,E=-1,_=5,C=-1;function A(){return!(e.unstable_now()-C<_)}function T(){if(S){var t=e.unstable_now();C=t;var i=!0;try{e:{f=!1,g&&(g=!1,w(E),E=-1),p=!0;var o=h;try{t:{for(v(t),d=r(l);null!==d&&!(d.expirationTime>t&&A());){var a=d.callback;if("function"==typeof a){d.callback=null,h=d.priorityLevel;var s=a(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof s){d.callback=s,v(t),i=!0;break t}d===r(l)&&n(l),v(t)}else n(l);d=r(l)}if(null!==d)i=!0;else{var u=r(c);null!==u&&O(y,u.startTime-t),i=!1}}break e}finally{d=null,h=o,p=!1}i=void 0}}finally{i?x():S=!1}}}if("function"==typeof b)x=function(){b(T)};else if("undefined"!=typeof MessageChannel){var k=new MessageChannel,I=k.port2;k.port1.onmessage=T,x=function(){I.postMessage(null)}}else x=function(){m(T,0)};function R(){S||(S=!0,x())}function O(t,r){E=m(function(){t(e.unstable_now())},r)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){f||p||(f=!0,R())},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},e.unstable_scheduleCallback=function(n,i,o){var a=e.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,n){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return n={id:u++,callback:i,priorityLevel:n,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(n.sortIndex=o,t(c,n),null===r(l)&&n===r(c)&&(g?(w(E),E=-1):g=!0,O(y,o-a))):(n.sortIndex=s,t(l,n),f||p||(f=!0,R())),n},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}}(Pe),De.exports=Pe;var Me=De.exports,je=ae,Le=se;
/**
       * @license React
       * react-dom-client.production.js
       *
       * Copyright (c) Meta Platforms, Inc. and affiliates.
       *
       * This source code is licensed under the MIT license found in the
       * LICENSE file in the root directory of this source tree.
       */function Be(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ze(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var Fe=Symbol.for("react.element"),Ue=Symbol.for("react.transitional.element"),Ve=Symbol.for("react.portal"),He=Symbol.for("react.fragment"),Ge=Symbol.for("react.strict_mode"),qe=Symbol.for("react.profiler"),We=Symbol.for("react.provider"),$e=Symbol.for("react.consumer"),Xe=Symbol.for("react.context"),Ye=Symbol.for("react.forward_ref"),Ke=Symbol.for("react.suspense"),Qe=Symbol.for("react.suspense_list"),Ze=Symbol.for("react.memo"),Je=Symbol.for("react.lazy"),et=Symbol.for("react.offscreen"),tt=Symbol.for("react.memo_cache_sentinel"),rt=Symbol.iterator;function nt(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=rt&&e[rt]||e["@@iterator"])?e:null}var it=Symbol.for("react.client.reference");function ot(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===it?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case He:return"Fragment";case Ve:return"Portal";case qe:return"Profiler";case Ge:return"StrictMode";case Ke:return"Suspense";case Qe:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Xe:return(e.displayName||"Context")+".Provider";case $e:return(e._context.displayName||"Context")+".Consumer";case Ye:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Ze:return null!==(t=e.displayName||null)?t:ot(e.type)||"Memo";case Je:t=e._payload,e=e._init;try{return ot(e(t))}catch(r){}}return null}var at,st,lt=je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct=Object.assign;function ut(e){if(void 0===at)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);at=t&&t[1]||"",st=-1<r.stack.indexOf("\n    at")?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+at+e+st}var dt=!1;function ht(e,t){if(!e||dt)return"";dt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var r=function(){throw Error()};if(Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(i){var n=i}Reflect.construct(e,[],r)}else{try{r.call()}catch(o){n=o}e.call(r.prototype)}}else{try{throw Error()}catch(a){n=a}(r=e())&&"function"==typeof r.catch&&r.catch(function(){})}}catch(s){if(s&&n&&"string"==typeof s.stack)return[s.stack,n.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=n.DetermineComponentFrameRoot(),a=o[0],s=o[1];if(a&&s){var l=a.split("\n"),c=s.split("\n");for(i=n=0;n<l.length&&!l[n].includes("DetermineComponentFrameRoot");)n++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(n===l.length||i===c.length)for(n=l.length-1,i=c.length-1;1<=n&&0<=i&&l[n]!==c[i];)i--;for(;1<=n&&0<=i;n--,i--)if(l[n]!==c[i]){if(1!==n||1!==i)do{if(n--,0>--i||l[n]!==c[i]){var u="\n"+l[n].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=n&&0<=i);break}}}finally{dt=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ut(r):""}function pt(e){switch(e.tag){case 26:case 27:case 5:return ut(e.type);case 16:return ut("Lazy");case 13:return ut("Suspense");case 19:return ut("SuspenseList");case 0:case 15:return e=ht(e.type,!1);case 11:return e=ht(e.type.render,!1);case 1:return e=ht(e.type,!0);default:return""}}function ft(e){try{var t="";do{t+=pt(e),e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}function gt(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function mt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function wt(e){if(gt(e)!==e)throw Error(Be(188))}function bt(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=bt(e)))return t;e=e.sibling}return null}var vt=Array.isArray,yt=Le.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xt={pending:!1,data:null,method:null,action:null},St=[],Et=-1;function _t(e){return{current:e}}function Ct(e){0>Et||(e.current=St[Et],St[Et]=null,Et--)}function At(e,t){Et++,St[Et]=e.current,e.current=t}var Tt=_t(null),kt=_t(null),It=_t(null),Rt=_t(null);function Ot(e,t){switch(At(It,t),At(kt,e),At(Tt,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?kh(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Ih(e=kh(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ct(Tt),At(Tt,t)}function Nt(){Ct(Tt),Ct(kt),Ct(It)}function Dt(e){null!==e.memoizedState&&At(Rt,e);var t=Tt.current,r=Ih(t,e.type);t!==r&&(At(kt,e),At(Tt,r))}function Pt(e){kt.current===e&&(Ct(Tt),Ct(kt)),Rt.current===e&&(Ct(Rt),fp._currentValue=xt)}var Mt=Object.prototype.hasOwnProperty,jt=Me.unstable_scheduleCallback,Lt=Me.unstable_cancelCallback,Bt=Me.unstable_shouldYield,zt=Me.unstable_requestPaint,Ft=Me.unstable_now,Ut=Me.unstable_getCurrentPriorityLevel,Vt=Me.unstable_ImmediatePriority,Ht=Me.unstable_UserBlockingPriority,Gt=Me.unstable_NormalPriority,qt=Me.unstable_LowPriority,Wt=Me.unstable_IdlePriority,$t=Me.log,Xt=Me.unstable_setDisableYieldValue,Yt=null,Kt=null;function Qt(e){if("function"==typeof $t&&Xt(e),Kt&&"function"==typeof Kt.setStrictMode)try{Kt.setStrictMode(Yt,e)}catch(t){}}var Zt=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(Jt(e)/er|0)|0},Jt=Math.log,er=Math.LN2,tr=128,rr=4194304;function nr(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ir(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,a=e.warmLanes;e=0!==e.finishedLanes;var s=134217727&r;return 0!==s?0!==(r=s&~i)?n=nr(r):0!==(o&=s)?n=nr(o):e||0!==(a=s&~a)&&(n=nr(a)):0!==(s=r&~i)?n=nr(s):0!==o?n=nr(o):e||0!==(a=r&~a)&&(n=nr(a)),0===n?0:0!==t&&t!==n&&0===(t&i)&&((i=n&-n)>=(a=t&-t)||32===i&&4194176&a)?t:n}function or(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function ar(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function sr(){var e=tr;return!(4194176&(tr<<=1))&&(tr=128),e}function lr(){var e=rr;return!(62914560&(rr<<=1))&&(rr=4194304),e}function cr(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ur(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function dr(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-Zt(t);e.entangledLanes|=t,e.entanglements[n]=1073741824|e.entanglements[n]|4194218&r}function hr(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Zt(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}function pr(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function fr(){var e=yt.p;return 0!==e?e:void 0===(e=window.event)?32:Ip(e.type)}var gr=Math.random().toString(36).slice(2),mr="__reactFiber$"+gr,wr="__reactProps$"+gr,br="__reactContainer$"+gr,vr="__reactEvents$"+gr,yr="__reactListeners$"+gr,xr="__reactHandles$"+gr,Sr="__reactResources$"+gr,Er="__reactMarker$"+gr;function _r(e){delete e[mr],delete e[wr],delete e[vr],delete e[yr],delete e[xr]}function Cr(e){var t=e[mr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[br]||r[mr]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=Fh(e);null!==e;){if(r=e[mr])return r;e=Fh(e)}return t}r=(e=r).parentNode}return null}function Ar(e){if(e=e[mr]||e[br]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Tr(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(Be(33))}function kr(e){var t=e[Sr];return t||(t=e[Sr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ir(e){e[Er]=!0}var Rr=new Set,Or={};function Nr(e,t){Dr(e,t),Dr(e+"Capture",t)}function Dr(e,t){for(Or[e]=t,e=0;e<t.length;e++)Rr.add(t[e])}var Pr=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Mr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jr={},Lr={};function Br(e,t,r){if(i=t,Mt.call(Lr,i)||!Mt.call(jr,i)&&(Mr.test(i)?Lr[i]=!0:(jr[i]=!0,0)))if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var n=t.toLowerCase().slice(0,5);if("data-"!==n&&"aria-"!==n)return void e.removeAttribute(t)}e.setAttribute(t,""+r)}var i}function zr(e,t,r){if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+r)}}function Fr(e,t,r,n){if(null===n)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(r)}e.setAttributeNS(t,r,""+n)}}function Ur(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Vr(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Hr(e){e._valueTracker||(e._valueTracker=function(e){var t=Vr(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Gr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Vr(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function qr(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var Wr=/[\n"\\]/g;function $r(e){return e.replace(Wr,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Xr(e,t,r,n,i,o,a,s){e.name="",null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+Ur(t)):e.value!==""+Ur(t)&&(e.value=""+Ur(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?Kr(e,a,Ur(t)):null!=r?Kr(e,a,Ur(r)):null!=n&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!=typeof i&&"symbol"!=typeof i),null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?e.name=""+Ur(s):e.removeAttribute("name")}function Yr(e,t,r,n,i,o,a,s){if(null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o&&(e.type=o),null!=t||null!=r){if(("submit"===o||"reset"===o)&&null==t)return;r=null!=r?""+Ur(r):"",t=null!=t?""+Ur(t):r,s||t===e.value||(e.value=t),e.defaultValue=t}n="function"!=typeof(n=null!=n?n:i)&&"symbol"!=typeof n&&!!n,e.checked=s?e.checked:!!n,e.defaultChecked=!!n,null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.name=a)}function Kr(e,t,r){"number"===t&&qr(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Qr(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ur(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Zr(e,t,r){null==t||((t=""+Ur(t))!==e.value&&(e.value=t),null!=r)?e.defaultValue=null!=r?""+Ur(r):"":e.defaultValue!==t&&(e.defaultValue=t)}function Jr(e,t,r,n){if(null==t){if(null!=n){if(null!=r)throw Error(Be(92));if(vt(n)){if(1<n.length)throw Error(Be(93));n=n[0]}r=n}null==r&&(r=""),t=r}r=Ur(t),e.defaultValue=r,(n=e.textContent)===r&&""!==n&&null!==n&&(e.value=n)}function en(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var tn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rn(e,t,r){var n=0===t.indexOf("--");null==r||"boolean"==typeof r||""===r?n?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":n?e.setProperty(t,r):"number"!=typeof r||0===r||tn.has(t)?"float"===t?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function nn(e,t,r){if(null!=t&&"object"!=typeof t)throw Error(Be(62));if(e=e.style,null!=r){for(var n in r)!r.hasOwnProperty(n)||null!=t&&t.hasOwnProperty(n)||(0===n.indexOf("--")?e.setProperty(n,""):"float"===n?e.cssFloat="":e[n]="");for(var i in t)n=t[i],t.hasOwnProperty(i)&&r[i]!==n&&rn(e,i,n)}else for(var o in t)t.hasOwnProperty(o)&&rn(e,o,t[o])}function on(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var an=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ln(e){return sn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var cn=null;function un(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var dn=null,hn=null;function pn(e){var t=Ar(e);if(t&&(e=t.stateNode)){var r=e[wr]||null;e:switch(e=t.stateNode,t.type){case"input":if(Xr(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+$r(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=n[wr]||null;if(!i)throw Error(Be(90));Xr(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<r.length;t++)(n=r[t]).form===e.form&&Gr(n)}break e;case"textarea":Zr(e,r.value,r.defaultValue);break e;case"select":null!=(t=r.value)&&Qr(e,!!r.multiple,t,!1)}}}var fn=!1;function gn(e,t,r){if(fn)return e(t,r);fn=!0;try{return e(t)}finally{if(fn=!1,(null!==dn||null!==hn)&&(md(),dn&&(t=dn,e=hn,hn=dn=null,pn(t),e)))for(t=0;t<e.length;t++)pn(e[t])}}function mn(e,t){var r=e.stateNode;if(null===r)return null;var n=r[wr]||null;if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(Be(231,t,typeof r));return r}var wn=!1;if(Pr)try{var bn={};Object.defineProperty(bn,"passive",{get:function(){wn=!0}}),window.addEventListener("test",bn,bn),window.removeEventListener("test",bn,bn)}catch(jx){wn=!1}var vn=null,yn=null,xn=null;function Sn(){if(xn)return xn;var e,t,r=yn,n=r.length,i="value"in vn?vn.value:vn.textContent,o=i.length;for(e=0;e<n&&r[e]===i[e];e++);var a=n-e;for(t=1;t<=a&&r[n-t]===i[o-t];t++);return xn=i.slice(e,1<t?1-t:void 0)}function En(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function _n(){return!0}function Cn(){return!1}function An(e){function t(t,r,n,i,o){for(var a in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?_n:Cn,this.isPropagationStopped=Cn,this}return ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=_n)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=_n)},persist:function(){},isPersistent:_n}),t}var Tn,kn,In,Rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},On=An(Rn),Nn=ct({},Rn,{view:0,detail:0}),Dn=An(Nn),Pn=ct({},Nn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==In&&(In&&"mousemove"===e.type?(Tn=e.screenX-In.screenX,kn=e.screenY-In.screenY):kn=Tn=0,In=e),Tn)},movementY:function(e){return"movementY"in e?e.movementY:kn}}),Mn=An(Pn),jn=An(ct({},Pn,{dataTransfer:0})),Ln=An(ct({},Nn,{relatedTarget:0})),Bn=An(ct({},Rn,{animationName:0,elapsedTime:0,pseudoElement:0})),zn=An(ct({},Rn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),Fn=An(ct({},Rn,{data:0})),Un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Hn[e])&&!!t[e]}function qn(){return Gn}var Wn=An(ct({},Nn,{key:function(e){if(e.key){var t=Un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=En(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Vn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qn,charCode:function(e){return"keypress"===e.type?En(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?En(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),$n=An(ct({},Pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Xn=An(ct({},Nn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qn})),Yn=An(ct({},Rn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Kn=An(ct({},Pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Qn=An(ct({},Rn,{newState:0,oldState:0})),Zn=[9,13,27,32],Jn=Pr&&"CompositionEvent"in window,ei=null;Pr&&"documentMode"in document&&(ei=document.documentMode);var ti=Pr&&"TextEvent"in window&&!ei,ri=Pr&&(!Jn||ei&&8<ei&&11>=ei),ni=String.fromCharCode(32),ii=!1;function oi(e,t){switch(e){case"keyup":return-1!==Zn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ai(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var si=!1,li={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ci(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!li[e.type]:"textarea"===t}function ui(e,t,r,n){dn?hn?hn.push(n):hn=[n]:dn=n,0<(t=fh(t,"onChange")).length&&(r=new On("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var di=null,hi=null;function pi(e){ah(e,0)}function fi(e){if(Gr(Tr(e)))return e}function gi(e,t){if("change"===e)return t}var mi=!1;if(Pr){var wi;if(Pr){var bi="oninput"in document;if(!bi){var vi=document.createElement("div");vi.setAttribute("oninput","return;"),bi="function"==typeof vi.oninput}wi=bi}else wi=!1;mi=wi&&(!document.documentMode||9<document.documentMode)}function yi(){di&&(di.detachEvent("onpropertychange",xi),hi=di=null)}function xi(e){if("value"===e.propertyName&&fi(hi)){var t=[];ui(t,hi,e,un(e)),gn(pi,t)}}function Si(e,t,r){"focusin"===e?(yi(),hi=r,(di=t).attachEvent("onpropertychange",xi)):"focusout"===e&&yi()}function Ei(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return fi(hi)}function _i(e,t){if("click"===e)return fi(t)}function Ci(e,t){if("input"===e||"change"===e)return fi(t)}var Ai="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Ti(e,t){if(Ai(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Mt.call(t,i)||!Ai(e[i],t[i]))return!1}return!0}function ki(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ii(e,t){var r,n=ki(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ki(n)}}function Ri(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Ri(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Oi(e){for(var t=qr((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var r="string"==typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=qr((e=t.contentWindow).document)}return t}function Ni(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Di(e,t){var r=Oi(t);t=e.focusedElem;var n=e.selectionRange;if(r!==t&&t&&t.ownerDocument&&Ri(t.ownerDocument.documentElement,t)){if(null!==n&&Ni(t))if(e=n.start,void 0===(r=n.end)&&(r=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(r,t.value.length);else if((r=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){r=r.getSelection();var i=t.textContent.length,o=Math.min(n.start,i);n=void 0===n.end?o:Math.min(n.end,i),!r.extend&&o>n&&(i=n,n=o,o=i),i=Ii(t,o);var a=Ii(t,n);i&&a&&(1!==r.rangeCount||r.anchorNode!==i.node||r.anchorOffset!==i.offset||r.focusNode!==a.node||r.focusOffset!==a.offset)&&((e=e.createRange()).setStart(i.node,i.offset),r.removeAllRanges(),o>n?(r.addRange(e),r.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),r.addRange(e)))}for(e=[],r=t;r=r.parentNode;)1===r.nodeType&&e.push({element:r,left:r.scrollLeft,top:r.scrollTop});for("function"==typeof t.focus&&t.focus(),t=0;t<e.length;t++)(r=e[t]).element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Pi=Pr&&"documentMode"in document&&11>=document.documentMode,Mi=null,ji=null,Li=null,Bi=!1;function zi(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;Bi||null==Mi||Mi!==qr(n)||(n="selectionStart"in(n=Mi)&&Ni(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Li&&Ti(Li,n)||(Li=n,0<(n=fh(ji,"onSelect")).length&&(t=new On("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Mi)))}function Fi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ui={animationend:Fi("Animation","AnimationEnd"),animationiteration:Fi("Animation","AnimationIteration"),animationstart:Fi("Animation","AnimationStart"),transitionrun:Fi("Transition","TransitionRun"),transitionstart:Fi("Transition","TransitionStart"),transitioncancel:Fi("Transition","TransitionCancel"),transitionend:Fi("Transition","TransitionEnd")},Vi={},Hi={};function Gi(e){if(Vi[e])return Vi[e];if(!Ui[e])return e;var t,r=Ui[e];for(t in r)if(r.hasOwnProperty(t)&&t in Hi)return Vi[e]=r[t];return e}Pr&&(Hi=document.createElement("div").style,"AnimationEvent"in window||(delete Ui.animationend.animation,delete Ui.animationiteration.animation,delete Ui.animationstart.animation),"TransitionEvent"in window||delete Ui.transitionend.transition);var qi=Gi("animationend"),Wi=Gi("animationiteration"),$i=Gi("animationstart"),Xi=Gi("transitionrun"),Yi=Gi("transitionstart"),Ki=Gi("transitioncancel"),Qi=Gi("transitionend"),Zi=new Map,Ji="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function eo(e,t){Zi.set(e,t),Nr(t,[e])}var to=[],ro=0,no=0;function io(){for(var e=ro,t=no=ro=0;t<e;){var r=to[t];to[t++]=null;var n=to[t];to[t++]=null;var i=to[t];to[t++]=null;var o=to[t];if(to[t++]=null,null!==n&&null!==i){var a=n.pending;null===a?i.next=i:(i.next=a.next,a.next=i),n.pending=i}0!==o&&lo(r,i,o)}}function oo(e,t,r,n){to[ro++]=e,to[ro++]=t,to[ro++]=r,to[ro++]=n,no|=n,e.lanes|=n,null!==(e=e.alternate)&&(e.lanes|=n)}function ao(e,t,r,n){return oo(e,t,r,n),co(e)}function so(e,t){return oo(e,null,null,t),co(e)}function lo(e,t,r){e.lanes|=r;var n=e.alternate;null!==n&&(n.lanes|=r);for(var i=!1,o=e.return;null!==o;)o.childLanes|=r,null!==(n=o.alternate)&&(n.childLanes|=r),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;i&&null!==t&&3===e.tag&&(o=e.stateNode,i=31-Zt(r),null===(e=(o=o.hiddenUpdates)[i])?o[i]=[t]:e.push(t),t.lane=536870912|r)}function co(e){if(50<ad)throw ad=0,sd=null,Error(Be(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var uo={},ho=new WeakMap;function po(e,t){if("object"==typeof e&&null!==e){var r=ho.get(e);return void 0!==r?r:(t={value:e,source:t,stack:ft(t)},ho.set(e,t),t)}return{value:e,source:t,stack:ft(t)}}var fo=[],go=0,mo=null,wo=0,bo=[],vo=0,yo=null,xo=1,So="";function Eo(e,t){fo[go++]=wo,fo[go++]=mo,mo=e,wo=t}function _o(e,t,r){bo[vo++]=xo,bo[vo++]=So,bo[vo++]=yo,yo=e;var n=xo;e=So;var i=32-Zt(n)-1;n&=~(1<<i),r+=1;var o=32-Zt(t)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,xo=1<<32-Zt(t)+i|r<<i|n,So=o+e}else xo=1<<o|r<<i|n,So=e}function Co(e){null!==e.return&&(Eo(e,1),_o(e,1,0))}function Ao(e){for(;e===mo;)mo=fo[--go],fo[go]=null,wo=fo[--go],fo[go]=null;for(;e===yo;)yo=bo[--vo],bo[vo]=null,So=bo[--vo],bo[vo]=null,xo=bo[--vo],bo[vo]=null}var To=null,ko=null,Io=!1,Ro=null,Oo=!1,No=Error(Be(519));function Do(e){throw Bo(po(Error(Be(418,"")),e)),No}function Po(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[mr]=e,t[wr]=n,r){case"dialog":sh("cancel",t),sh("close",t);break;case"iframe":case"object":case"embed":sh("load",t);break;case"video":case"audio":for(r=0;r<ih.length;r++)sh(ih[r],t);break;case"source":sh("error",t);break;case"img":case"image":case"link":sh("error",t),sh("load",t);break;case"details":sh("toggle",t);break;case"input":sh("invalid",t),Yr(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),Hr(t);break;case"select":sh("invalid",t);break;case"textarea":sh("invalid",t),Jr(t,n.value,n.defaultValue,n.children),Hr(t)}"string"!=typeof(r=n.children)&&"number"!=typeof r&&"bigint"!=typeof r||t.textContent===""+r||!0===n.suppressHydrationWarning||yh(t.textContent,r)?(null!=n.popover&&(sh("beforetoggle",t),sh("toggle",t)),null!=n.onScroll&&sh("scroll",t),null!=n.onScrollEnd&&sh("scrollend",t),null!=n.onClick&&(t.onclick=xh),t=!0):t=!1,t||Do(e)}function Mo(e){for(To=e.return;To;)switch(To.tag){case 3:case 27:return void(Oo=!0);case 5:case 13:return void(Oo=!1);default:To=To.return}}function jo(e){if(e!==To)return!1;if(!Io)return Mo(e),Io=!0,!1;var t,r=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Rh(e.type,e.memoizedProps)),t=!t),t&&(r=!0),r&&ko&&Do(e),Mo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(Be(317));e:{for(e=e.nextSibling,r=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===r){ko=zh(e.nextSibling);break e}r--}else"$"!==t&&"$!"!==t&&"$?"!==t||r++;e=e.nextSibling}ko=null}}else ko=To?zh(e.stateNode.nextSibling):null;return!0}function Lo(){ko=To=null,Io=!1}function Bo(e){null===Ro?Ro=[e]:Ro.push(e)}var zo=Error(Be(460)),Fo=Error(Be(474)),Uo={then:function(){}};function Vo(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Ho(){}function Go(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then(Ho,Ho),t=r),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===zo)throw Error(Be(483));throw e;default:if("string"==typeof t.status)t.then(Ho,Ho);else{if(null!==(e=Du)&&100<e.shellSuspendCounter)throw Error(Be(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}},function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===zo)throw Error(Be(483));throw e}throw qo=t,zo}}var qo=null;function Wo(){if(null===qo)throw Error(Be(459));var e=qo;return qo=null,e}var $o=null,Xo=0;function Yo(e){var t=Xo;return Xo+=1,null===$o&&($o=[]),Go($o,e,t)}function Ko(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Qo(e,t){if(t.$$typeof===Fe)throw Error(Be(525));throw e=Object.prototype.toString.call(t),Error(Be(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zo(e){return(0,e._init)(e._payload)}function Jo(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=gu(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=33554434,r):n:(t.flags|=33554434,r):(t.flags|=1048576,r)}function a(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function s(e,t,r,n){return null===t||6!==t.tag?((t=yu(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function l(e,t,r,n){var o=r.type;return o===He?u(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===Je&&Zo(o)===t.type)?(Ko(t=i(t,r.props),r),t.return=e,t):(Ko(t=wu(r.type,r.key,r.props,null,e.mode,n),r),t.return=e,t)}function c(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=xu(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function u(e,t,r,n,o){return null===t||7!==t.tag?((t=bu(r,e.mode,n,o)).return=e,t):((t=i(t,r)).return=e,t)}function d(e,t,r){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=yu(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Ue:return Ko(r=wu(t.type,t.key,t.props,null,e.mode,r),t),r.return=e,r;case Ve:return(t=xu(t,e.mode,r)).return=e,t;case Je:return d(e,t=(0,t._init)(t._payload),r)}if(vt(t)||nt(t))return(t=bu(t,e.mode,r,null)).return=e,t;if("function"==typeof t.then)return d(e,Yo(t),r);if(t.$$typeof===Xe)return d(e,ic(e,t),r);Qo(e,t)}return null}function h(e,t,r,n){var i=null!==t?t.key:null;if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return null!==i?null:s(e,t,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Ue:return r.key===i?l(e,t,r,n):null;case Ve:return r.key===i?c(e,t,r,n):null;case Je:return h(e,t,r=(i=r._init)(r._payload),n)}if(vt(r)||nt(r))return null!==i?null:u(e,t,r,n,null);if("function"==typeof r.then)return h(e,t,Yo(r),n);if(r.$$typeof===Xe)return h(e,t,ic(e,r),n);Qo(e,r)}return null}function p(e,t,r,n,i){if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return s(t,e=e.get(r)||null,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Ue:return l(t,e=e.get(null===n.key?r:n.key)||null,n,i);case Ve:return c(t,e=e.get(null===n.key?r:n.key)||null,n,i);case Je:return p(e,t,r,n=(0,n._init)(n._payload),i)}if(vt(n)||nt(n))return u(t,e=e.get(r)||null,n,i,null);if("function"==typeof n.then)return p(e,t,r,Yo(n),i);if(n.$$typeof===Xe)return p(e,t,r,ic(t,n),i);Qo(t,n)}return null}function f(s,l,c,u){if("object"==typeof c&&null!==c&&c.type===He&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case Ue:e:{for(var g=c.key;null!==l;){if(l.key===g){if((g=c.type)===He){if(7===l.tag){r(s,l.sibling),(u=i(l,c.props.children)).return=s,s=u;break e}}else if(l.elementType===g||"object"==typeof g&&null!==g&&g.$$typeof===Je&&Zo(g)===l.type){r(s,l.sibling),Ko(u=i(l,c.props),c),u.return=s,s=u;break e}r(s,l);break}t(s,l),l=l.sibling}c.type===He?((u=bu(c.props.children,s.mode,u,c.key)).return=s,s=u):(Ko(u=wu(c.type,c.key,c.props,null,s.mode,u),c),u.return=s,s=u)}return a(s);case Ve:e:{for(g=c.key;null!==l;){if(l.key===g){if(4===l.tag&&l.stateNode.containerInfo===c.containerInfo&&l.stateNode.implementation===c.implementation){r(s,l.sibling),(u=i(l,c.children||[])).return=s,s=u;break e}r(s,l);break}t(s,l),l=l.sibling}(u=xu(c,s.mode,u)).return=s,s=u}return a(s);case Je:return f(s,l,c=(g=c._init)(c._payload),u)}if(vt(c))return function(i,a,s,l){for(var c=null,u=null,f=a,g=a=0,m=null;null!==f&&g<s.length;g++){f.index>g?(m=f,f=null):m=f.sibling;var w=h(i,f,s[g],l);if(null===w){null===f&&(f=m);break}e&&f&&null===w.alternate&&t(i,f),a=o(w,a,g),null===u?c=w:u.sibling=w,u=w,f=m}if(g===s.length)return r(i,f),Io&&Eo(i,g),c;if(null===f){for(;g<s.length;g++)null!==(f=d(i,s[g],l))&&(a=o(f,a,g),null===u?c=f:u.sibling=f,u=f);return Io&&Eo(i,g),c}for(f=n(f);g<s.length;g++)null!==(m=p(f,i,g,s[g],l))&&(e&&null!==m.alternate&&f.delete(null===m.key?g:m.key),a=o(m,a,g),null===u?c=m:u.sibling=m,u=m);return e&&f.forEach(function(e){return t(i,e)}),Io&&Eo(i,g),c}(s,l,c,u);if(nt(c)){if("function"!=typeof(g=nt(c)))throw Error(Be(150));return function(i,a,s,l){if(null==s)throw Error(Be(151));for(var c=null,u=null,f=a,g=a=0,m=null,w=s.next();null!==f&&!w.done;g++,w=s.next()){f.index>g?(m=f,f=null):m=f.sibling;var b=h(i,f,w.value,l);if(null===b){null===f&&(f=m);break}e&&f&&null===b.alternate&&t(i,f),a=o(b,a,g),null===u?c=b:u.sibling=b,u=b,f=m}if(w.done)return r(i,f),Io&&Eo(i,g),c;if(null===f){for(;!w.done;g++,w=s.next())null!==(w=d(i,w.value,l))&&(a=o(w,a,g),null===u?c=w:u.sibling=w,u=w);return Io&&Eo(i,g),c}for(f=n(f);!w.done;g++,w=s.next())null!==(w=p(f,i,g,w.value,l))&&(e&&null!==w.alternate&&f.delete(null===w.key?g:w.key),a=o(w,a,g),null===u?c=w:u.sibling=w,u=w);return e&&f.forEach(function(e){return t(i,e)}),Io&&Eo(i,g),c}(s,l,c=g.call(c),u)}if("function"==typeof c.then)return f(s,l,Yo(c),u);if(c.$$typeof===Xe)return f(s,l,ic(s,c),u);Qo(s,c)}return"string"==typeof c&&""!==c||"number"==typeof c||"bigint"==typeof c?(c=""+c,null!==l&&6===l.tag?(r(s,l.sibling),(u=i(l,c)).return=s,s=u):(r(s,l),(u=yu(c,s.mode,u)).return=s,s=u),a(s)):r(s,l)}return function(e,t,r,n){try{Xo=0;var i=f(e,t,r,n);return $o=null,i}catch(a){if(a===zo)throw a;var o=pu(29,a,null,e.mode);return o.lanes=n,o.return=e,o}}}var ea=Jo(!0),ta=Jo(!1),ra=_t(null),na=_t(0);function ia(e,t){At(na,e=Uu),At(ra,t),Uu=e|t.baseLanes}function oa(){At(na,Uu),At(ra,ra.current)}function aa(){Uu=na.current,Ct(ra),Ct(na)}var sa=_t(null),la=null;function ca(e){var t=e.alternate;At(pa,1&pa.current),At(sa,e),null===la&&(null===t||null!==ra.current||null!==t.memoizedState)&&(la=e)}function ua(e){if(22===e.tag){if(At(pa,pa.current),At(sa,e),null===la){var t=e.alternate;null!==t&&null!==t.memoizedState&&(la=e)}}else da()}function da(){At(pa,pa.current),At(sa,sa.current)}function ha(e){Ct(sa),la===e&&(la=null),Ct(pa)}var pa=_t(0);function fa(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ga="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},ma=Me.unstable_scheduleCallback,wa=Me.unstable_NormalPriority,ba={$$typeof:Xe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function va(){return{controller:new ga,data:new Map,refCount:0}}function ya(e){e.refCount--,0===e.refCount&&ma(wa,function(){e.controller.abort()})}var xa=null,Sa=0,Ea=0,_a=null;function Ca(){if(0===--Sa&&null!==xa){null!==_a&&(_a.status="fulfilled");var e=xa;xa=null,Ea=0,_a=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Aa=lt.S;lt.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===xa){var r=xa=[];Sa=0,Ea=Jd(),_a={status:"pending",value:void 0,then:function(e){r.push(e)}}}Sa++,t.then(Ca,Ca)}(0,t),null!==Aa&&Aa(e,t)};var Ta=_t(null);function ka(){var e=Ta.current;return null!==e?e:Du.pooledCache}function Ia(e,t){At(Ta,null===t?Ta.current:t.pool)}function Ra(){var e=ka();return null===e?null:{parent:ba._currentValue,pool:e}}var Oa=0,Na=null,Da=null,Pa=null,Ma=!1,ja=!1,La=!1,Ba=0,za=0,Fa=null,Ua=0;function Va(){throw Error(Be(321))}function Ha(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ai(e[r],t[r]))return!1;return!0}function Ga(e,t,r,n,i,o){return Oa=o,Na=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,lt.H=null===e||null===e.memoizedState?il:ol,La=!1,o=r(n,i),La=!1,ja&&(o=Wa(t,r,n,i)),qa(e),o}function qa(e){lt.H=nl;var t=null!==Da&&null!==Da.next;if(Oa=0,Pa=Da=Na=null,Ma=!1,za=0,Fa=null,t)throw Error(Be(300));null===e||Sl||null!==(e=e.dependencies)&&tc(e)&&(Sl=!0)}function Wa(e,t,r,n){Na=e;var i=0;do{if(ja&&(Fa=null),za=0,ja=!1,25<=i)throw Error(Be(301));if(i+=1,Pa=Da=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}lt.H=al,o=t(r,n)}while(ja);return o}function $a(){var e=lt.H,t=e.useState()[0];return t="function"==typeof t.then?Ja(t):t,e=e.useState()[0],(null!==Da?Da.memoizedState:null)!==e&&(Na.flags|=1024),t}function Xa(){var e=0!==Ba;return Ba=0,e}function Ya(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function Ka(e){if(Ma){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ma=!1}Oa=0,Pa=Da=Na=null,ja=!1,za=Ba=0,Fa=null}function Qa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Pa?Na.memoizedState=Pa=e:Pa=Pa.next=e,Pa}function Za(){if(null===Da){var e=Na.alternate;e=null!==e?e.memoizedState:null}else e=Da.next;var t=null===Pa?Na.memoizedState:Pa.next;if(null!==t)Pa=t,Da=e;else{if(null===e){if(null===Na.alternate)throw Error(Be(467));throw Error(Be(310))}e={memoizedState:(Da=e).memoizedState,baseState:Da.baseState,baseQueue:Da.baseQueue,queue:Da.queue,next:null},null===Pa?Na.memoizedState=Pa=e:Pa=Pa.next=e}return Pa}function Ja(e){var t=za;return za+=1,null===Fa&&(Fa=[]),e=Go(Fa,e,t),t=Na,null===(null===Pa?t.memoizedState:Pa.next)&&(t=t.alternate,lt.H=null===t||null===t.memoizedState?il:ol),e}function es(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Ja(e);if(e.$$typeof===Xe)return nc(e)}throw Error(Be(438,String(e)))}function ts(e){var t=null,r=Na.updateQueue;if(null!==r&&(t=r.memoCache),null==t){var n=Na.alternate;null!==n&&null!==(n=n.updateQueue)&&null!=(n=n.memoCache)&&(t={data:n.data.map(function(e){return e.slice()}),index:0})}if(null==t&&(t={data:[],index:0}),null===r&&(r={lastEffect:null,events:null,stores:null,memoCache:null},Na.updateQueue=r),r.memoCache=t,void 0===(r=t.data[t.index]))for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=tt;return t.index++,r}function rs(e,t){return"function"==typeof t?t(e):t}function ns(e){return is(Za(),Da,e)}function is(e,t,r){var n=e.queue;if(null===n)throw Error(Be(311));n.lastRenderedReducer=r;var i=e.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}t.baseQueue=i=o,n.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var s=a=null,l=null,c=t=i.next,u=!1;do{var d=-536870913&c.lane;if(d!==c.lane?(Mu&d)===d:(Oa&d)===d){var h=c.revertLane;if(0===h)null!==l&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===Ea&&(u=!0);else{if((Oa&h)===h){c=c.next,h===Ea&&(u=!0);continue}d={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===l?(s=l=d,a=o):l=l.next=d,Na.lanes|=h,Hu|=h}d=c.action,La&&r(o,d),o=c.hasEagerState?c.eagerState:r(o,d)}else h={lane:d,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===l?(s=l=h,a=o):l=l.next=h,Na.lanes|=d,Hu|=d;c=c.next}while(null!==c&&c!==t);if(null===l?a=o:l.next=s,!Ai(o,e.memoizedState)&&(Sl=!0,u&&null!==(r=_a)))throw r;e.memoizedState=o,e.baseState=a,e.baseQueue=l,n.lastRenderedState=o}return null===i&&(n.lanes=0),[e.memoizedState,n.dispatch]}function os(e){var t=Za(),r=t.queue;if(null===r)throw Error(Be(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(null!==i){r.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);Ai(o,t.memoizedState)||(Sl=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function as(e,t,r){var n=Na,i=Za(),o=Io;if(o){if(void 0===r)throw Error(Be(407));r=r()}else r=t();var a=!Ai((Da||i).memoizedState,r);if(a&&(i.memoizedState=r,Sl=!0),i=i.queue,Os(cs.bind(null,n,i,e),[e]),i.getSnapshot!==t||a||null!==Pa&&1&Pa.memoizedState.tag){if(n.flags|=2048,As(9,ls.bind(null,n,i,r,t),{destroy:void 0},null),null===Du)throw Error(Be(349));o||60&Oa||ss(n,t,r)}return r}function ss(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=Na.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Na.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function ls(e,t,r,n){t.value=r,t.getSnapshot=n,us(t)&&ds(e)}function cs(e,t,r){return r(function(){us(t)&&ds(e)})}function us(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ai(e,r)}catch(n){return!0}}function ds(e){var t=so(e,2);null!==t&&ud(t,0,2)}function hs(e){var t=Qa();if("function"==typeof e){var r=e;if(e=r(),La){Qt(!0);try{r()}finally{Qt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:e},t}function ps(e,t,r,n){return e.baseState=r,is(e,Da,"function"==typeof n?n:rs)}function fs(e,t,r,n,i){if(el(e))throw Error(Be(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==lt.T?r(!0):o.isTransition=!1,n(o),null===(r=t.pending)?(o.next=t.pending=o,gs(t,o)):(o.next=r.next,t.pending=r.next=o)}}function gs(e,t){var r=t.action,n=t.payload,i=e.state;if(t.isTransition){var o=lt.T,a={};lt.T=a;try{var s=r(i,n),l=lt.S;null!==l&&l(a,s),ms(e,t,s)}catch(c){bs(e,t,c)}finally{lt.T=o}}else try{ms(e,t,o=r(i,n))}catch(u){bs(e,t,u)}}function ms(e,t,r){null!==r&&"object"==typeof r&&"function"==typeof r.then?r.then(function(r){ws(e,t,r)},function(r){return bs(e,t,r)}):ws(e,t,r)}function ws(e,t,r){t.status="fulfilled",t.value=r,vs(t),e.state=r,null!==(t=e.pending)&&((r=t.next)===t?e.pending=null:(r=r.next,t.next=r,gs(e,r)))}function bs(e,t,r){var n=e.pending;if(e.pending=null,null!==n){n=n.next;do{t.status="rejected",t.reason=r,vs(t),t=t.next}while(t!==n)}e.action=null}function vs(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ys(e,t){return t}function xs(e,t){if(Io){var r=Du.formState;if(null!==r){e:{var n=Na;if(Io){if(ko){t:{for(var i=ko,o=Oo;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=zh(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){ko=zh(i.nextSibling),n="F!"===i.data;break e}}Do(n)}n=!1}n&&(t=r[0])}}return(r=Qa()).memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:t},r.queue=n,r=Qs.bind(null,Na,n),n.dispatch=r,n=hs(!1),o=Js.bind(null,Na,!1,n.queue),i={state:t,dispatch:null,action:e,pending:null},(n=Qa()).queue=i,r=fs.bind(null,Na,i,o,r),i.dispatch=r,n.memoizedState=e,[t,r,!1]}function Ss(e){return Es(Za(),Da,e)}function Es(e,t,r){t=is(e,t,ys)[0],e=ns(rs)[0],t="object"==typeof t&&null!==t&&"function"==typeof t.then?Ja(t):t;var n=Za(),i=n.queue,o=i.dispatch;return r!==n.memoizedState&&(Na.flags|=2048,As(9,_s.bind(null,i,r),{destroy:void 0},null)),[t,o,e]}function _s(e,t){e.action=t}function Cs(e){var t=Za(),r=Da;if(null!==r)return Es(t,r,e);Za(),t=t.memoizedState;var n=(r=Za()).queue.dispatch;return r.memoizedState=e,[t,n,!1]}function As(e,t,r,n){return e={tag:e,create:t,inst:r,deps:n,next:null},null===(t=Na.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Na.updateQueue=t),null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Ts(){return Za().memoizedState}function ks(e,t,r,n){var i=Qa();Na.flags|=e,i.memoizedState=As(1|t,r,{destroy:void 0},void 0===n?null:n)}function Is(e,t,r,n){var i=Za();n=void 0===n?null:n;var o=i.memoizedState.inst;null!==Da&&null!==n&&Ha(n,Da.memoizedState.deps)?i.memoizedState=As(t,r,o,n):(Na.flags|=e,i.memoizedState=As(1|t,r,o,n))}function Rs(e,t){ks(8390656,8,e,t)}function Os(e,t){Is(2048,8,e,t)}function Ns(e,t){return Is(4,2,e,t)}function Ds(e,t){return Is(4,4,e,t)}function Ps(e,t){if("function"==typeof t){e=e();var r=t(e);return function(){"function"==typeof r?r():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Ms(e,t,r){r=null!=r?r.concat([e]):null,Is(4,4,Ps.bind(null,t,e),r)}function js(){}function Ls(e,t){var r=Za();t=void 0===t?null:t;var n=r.memoizedState;return null!==t&&Ha(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Bs(e,t){var r=Za();t=void 0===t?null:t;var n=r.memoizedState;if(null!==t&&Ha(t,n[1]))return n[0];if(n=e(),La){Qt(!0);try{e()}finally{Qt(!1)}}return r.memoizedState=[n,t],n}function zs(e,t,r){return void 0===r||1073741824&Oa?e.memoizedState=t:(e.memoizedState=r,e=cd(),Na.lanes|=e,Hu|=e,r)}function Fs(e,t,r,n){return Ai(r,t)?r:null!==ra.current?(e=zs(e,r,n),Ai(e,t)||(Sl=!0),e):42&Oa?(e=cd(),Na.lanes|=e,Hu|=e,t):(Sl=!0,e.memoizedState=r)}function Us(e,t,r,n,i){var o=yt.p;yt.p=0!==o&&8>o?o:8;var a,s,l,c=lt.T,u={};lt.T=u,Js(e,!1,t,r);try{var d=i(),h=lt.S;null!==h&&h(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then?Zs(e,t,(a=n,s=[],l={status:"pending",value:null,reason:null,then:function(e){s.push(e)}},d.then(function(){l.status="fulfilled",l.value=a;for(var e=0;e<s.length;e++)(0,s[e])(a)},function(e){for(l.status="rejected",l.reason=e,e=0;e<s.length;e++)(0,s[e])(void 0)}),l),ld()):Zs(e,t,n,ld())}catch(p){Zs(e,t,{then:function(){},status:"rejected",reason:p},ld())}finally{yt.p=o,lt.T=c}}function Vs(){}function Hs(e,t,r,n){if(5!==e.tag)throw Error(Be(476));var i=Gs(e).queue;Us(e,i,t,xt,null===r?Vs:function(){return qs(e),r(n)})}function Gs(e){var t=e.memoizedState;if(null!==t)return t;var r={};return(t={memoizedState:xt,baseState:xt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:xt},next:null}).next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:r},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function qs(e){Zs(e,Gs(e).next.queue,{},ld())}function Ws(){return nc(fp)}function $s(){return Za().memoizedState}function Xs(){return Za().memoizedState}function Ys(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var r=ld(),n=uc(t,e=cc(r),r);return null!==n&&(ud(n,0,r),dc(n,t,r)),t={cache:va()},void(e.payload=t)}t=t.return}}function Ks(e,t,r){var n=ld();r={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},el(e)?tl(t,r):null!==(r=ao(e,t,r,n))&&(ud(r,0,n),rl(r,t,n))}function Qs(e,t,r){Zs(e,t,r,ld())}function Zs(e,t,r,n){var i={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(el(e))tl(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,r);if(i.hasEagerState=!0,i.eagerState=s,Ai(s,a))return oo(e,t,i,0),null===Du&&io(),!1}catch(l){}if(null!==(r=ao(e,t,i,n)))return ud(r,0,n),rl(r,t,n),!0}return!1}function Js(e,t,r,n){if(n={lane:2,revertLane:Jd(),action:n,hasEagerState:!1,eagerState:null,next:null},el(e)){if(t)throw Error(Be(479))}else null!==(t=ao(e,r,n,2))&&ud(t,0,2)}function el(e){var t=e.alternate;return e===Na||null!==t&&t===Na}function tl(e,t){ja=Ma=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function rl(e,t,r){if(4194176&r){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,hr(e,r)}}var nl={readContext:nc,use:es,useCallback:Va,useContext:Va,useEffect:Va,useImperativeHandle:Va,useLayoutEffect:Va,useInsertionEffect:Va,useMemo:Va,useReducer:Va,useRef:Va,useState:Va,useDebugValue:Va,useDeferredValue:Va,useTransition:Va,useSyncExternalStore:Va,useId:Va};nl.useCacheRefresh=Va,nl.useMemoCache=Va,nl.useHostTransitionStatus=Va,nl.useFormState=Va,nl.useActionState=Va,nl.useOptimistic=Va;var il={readContext:nc,use:es,useCallback:function(e,t){return Qa().memoizedState=[e,void 0===t?null:t],e},useContext:nc,useEffect:Rs,useImperativeHandle:function(e,t,r){r=null!=r?r.concat([e]):null,ks(4194308,4,Ps.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ks(4194308,4,e,t)},useInsertionEffect:function(e,t){ks(4,2,e,t)},useMemo:function(e,t){var r=Qa();t=void 0===t?null:t;var n=e();if(La){Qt(!0);try{e()}finally{Qt(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=Qa();if(void 0!==r){var i=r(t);if(La){Qt(!0);try{r(t)}finally{Qt(!1)}}}else i=t;return n.memoizedState=n.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},n.queue=e,e=e.dispatch=Ks.bind(null,Na,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Qa().memoizedState=e},useState:function(e){var t=(e=hs(e)).queue,r=Qs.bind(null,Na,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:js,useDeferredValue:function(e,t){return zs(Qa(),e,t)},useTransition:function(){var e=hs(!1);return e=Us.bind(null,Na,e.queue,!0,!1),Qa().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=Na,i=Qa();if(Io){if(void 0===r)throw Error(Be(407));r=r()}else{if(r=t(),null===Du)throw Error(Be(349));60&Mu||ss(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,Rs(cs.bind(null,n,o,e),[e]),n.flags|=2048,As(9,ls.bind(null,n,o,r,t),{destroy:void 0},null),r},useId:function(){var e=Qa(),t=Du.identifierPrefix;if(Io){var r=So;t=":"+t+"R"+(r=(xo&~(1<<32-Zt(xo)-1)).toString(32)+r),0<(r=Ba++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=Ua++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return Qa().memoizedState=Ys.bind(null,Na)}};il.useMemoCache=ts,il.useHostTransitionStatus=Ws,il.useFormState=xs,il.useActionState=xs,il.useOptimistic=function(e){var t=Qa();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=Js.bind(null,Na,!0,r),r.dispatch=t,[e,t]};var ol={readContext:nc,use:es,useCallback:Ls,useContext:nc,useEffect:Os,useImperativeHandle:Ms,useInsertionEffect:Ns,useLayoutEffect:Ds,useMemo:Bs,useReducer:ns,useRef:Ts,useState:function(){return ns(rs)},useDebugValue:js,useDeferredValue:function(e,t){return Fs(Za(),Da.memoizedState,e,t)},useTransition:function(){var e=ns(rs)[0],t=Za().memoizedState;return["boolean"==typeof e?e:Ja(e),t]},useSyncExternalStore:as,useId:$s};ol.useCacheRefresh=Xs,ol.useMemoCache=ts,ol.useHostTransitionStatus=Ws,ol.useFormState=Ss,ol.useActionState=Ss,ol.useOptimistic=function(e,t){return ps(Za(),0,e,t)};var al={readContext:nc,use:es,useCallback:Ls,useContext:nc,useEffect:Os,useImperativeHandle:Ms,useInsertionEffect:Ns,useLayoutEffect:Ds,useMemo:Bs,useReducer:os,useRef:Ts,useState:function(){return os(rs)},useDebugValue:js,useDeferredValue:function(e,t){var r=Za();return null===Da?zs(r,e,t):Fs(r,Da.memoizedState,e,t)},useTransition:function(){var e=os(rs)[0],t=Za().memoizedState;return["boolean"==typeof e?e:Ja(e),t]},useSyncExternalStore:as,useId:$s};function sl(e,t,r,n){r=null==(r=r(n,t=e.memoizedState))?t:ct({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}al.useCacheRefresh=Xs,al.useMemoCache=ts,al.useHostTransitionStatus=Ws,al.useFormState=Cs,al.useActionState=Cs,al.useOptimistic=function(e,t){var r=Za();return null!==Da?ps(r,0,e,t):(r.baseState=e,[e,r.queue.dispatch])};var ll={isMounted:function(e){return!!(e=e._reactInternals)&&gt(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ld(),i=cc(n);i.payload=t,null!=r&&(i.callback=r),null!==(t=uc(e,i,n))&&(ud(t,0,n),dc(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ld(),i=cc(n);i.tag=1,i.payload=t,null!=r&&(i.callback=r),null!==(t=uc(e,i,n))&&(ud(t,0,n),dc(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ld(),n=cc(r);n.tag=2,null!=t&&(n.callback=t),null!==(t=uc(e,n,r))&&(ud(t,0,r),dc(t,e,r))}};function cl(e,t,r,n,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&Ti(r,n)&&Ti(i,o))}function ul(e,t,r,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ll.enqueueReplaceState(t,t.state,null)}function dl(e,t){var r=t;if("ref"in t)for(var n in r={},t)"ref"!==n&&(r[n]=t[n]);if(e=e.defaultProps)for(var i in r===t&&(r=ct({},r)),e)void 0===r[i]&&(r[i]=e[i]);return r}var hl="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function pl(e){hl(e)}function fl(e){console.error(e)}function gl(e){hl(e)}function ml(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function wl(e,t,r){try{(0,e.onCaughtError)(r.value,{componentStack:r.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function bl(e,t,r){return(r=cc(r)).tag=3,r.payload={element:null},r.callback=function(){ml(e,t)},r}function vl(e){return(e=cc(e)).tag=3,e}function yl(e,t,r,n){var i=r.type.getDerivedStateFromError;if("function"==typeof i){var o=n.value;e.payload=function(){return i(o)},e.callback=function(){wl(t,r,n)}}var a=r.stateNode;null!==a&&"function"==typeof a.componentDidCatch&&(e.callback=function(){wl(t,r,n),"function"!=typeof i&&(null===ed?ed=new Set([this]):ed.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})})}var xl=Error(Be(461)),Sl=!1;function El(e,t,r,n){t.child=null===e?ta(t,null,r,n):ea(t,e.child,r,n)}function _l(e,t,r,n,i){r=r.render;var o=t.ref;if("ref"in n){var a={};for(var s in n)"ref"!==s&&(a[s]=n[s])}else a=n;return rc(t),n=Ga(e,t,r,a,o,i),s=Xa(),null===e||Sl?(Io&&s&&Co(t),t.flags|=1,El(e,t,n,i),t.child):(Ya(e,t,i),Gl(e,t,i))}function Cl(e,t,r,n,i){if(null===e){var o=r.type;return"function"!=typeof o||fu(o)||void 0!==o.defaultProps||null!==r.compare?((e=wu(r.type,null,n,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Al(e,t,o,n,i))}if(o=e.child,!ql(e,i)){var a=o.memoizedProps;if((r=null!==(r=r.compare)?r:Ti)(a,n)&&e.ref===t.ref)return Gl(e,t,i)}return t.flags|=1,(e=gu(o,n)).ref=t.ref,e.return=t,t.child=e}function Al(e,t,r,n,i){if(null!==e){var o=e.memoizedProps;if(Ti(o,n)&&e.ref===t.ref){if(Sl=!1,t.pendingProps=n=o,!ql(e,i))return t.lanes=e.lanes,Gl(e,t,i);131072&e.flags&&(Sl=!0)}}return Rl(e,t,r,n,i)}function Tl(e,t,r){var n=t.pendingProps,i=n.children,o=!!(2&t.stateNode._pendingVisibility),a=null!==e?e.memoizedState:null;if(Il(e,t),"hidden"===n.mode||o){if(128&t.flags){if(n=null!==a?a.baseLanes|r:r,null!==e){for(i=t.child=e.child,o=0;null!==i;)o=o|i.lanes|i.childLanes,i=i.sibling;t.childLanes=o&~n}else t.childLanes=0,t.child=null;return kl(e,t,n,r)}if(!(536870912&r))return t.lanes=t.childLanes=536870912,kl(e,t,null!==a?a.baseLanes|r:r,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ia(0,null!==a?a.cachePool:null),null!==a?ia(t,a):oa(),ua(t)}else null!==a?(Ia(0,a.cachePool),ia(t,a),da(),t.memoizedState=null):(null!==e&&Ia(0,null),oa(),da());return El(e,t,i,r),t.child}function kl(e,t,r,n){var i=ka();return i=null===i?null:{parent:ba._currentValue,pool:i},t.memoizedState={baseLanes:r,cachePool:i},null!==e&&Ia(0,null),oa(),ua(t),null!==e&&ec(e,t,n,!0),null}function Il(e,t){var r=t.ref;if(null===r)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!=typeof r&&"object"!=typeof r)throw Error(Be(284));null!==e&&e.ref===r||(t.flags|=2097664)}}function Rl(e,t,r,n,i){return rc(t),r=Ga(e,t,r,n,void 0,i),n=Xa(),null===e||Sl?(Io&&n&&Co(t),t.flags|=1,El(e,t,r,i),t.child):(Ya(e,t,i),Gl(e,t,i))}function Ol(e,t,r,n,i,o){return rc(t),t.updateQueue=null,r=Wa(t,n,r,i),qa(e),n=Xa(),null===e||Sl?(Io&&n&&Co(t),t.flags|=1,El(e,t,r,o),t.child):(Ya(e,t,o),Gl(e,t,o))}function Nl(e,t,r,n,i){if(rc(t),null===t.stateNode){var o=uo,a=r.contextType;"object"==typeof a&&null!==a&&(o=nc(a)),o=new r(n,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=ll,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=n,o.state=t.memoizedState,o.refs={},sc(t),a=r.contextType,o.context="object"==typeof a&&null!==a?nc(a):uo,o.state=t.memoizedState,"function"==typeof(a=r.getDerivedStateFromProps)&&(sl(t,r,a,n),o.state=t.memoizedState),"function"==typeof r.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(a=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),a!==o.state&&ll.enqueueReplaceState(o,o.state,null),gc(t,n,o,i),fc(),o.state=t.memoizedState),"function"==typeof o.componentDidMount&&(t.flags|=4194308),n=!0}else if(null===e){o=t.stateNode;var s=t.memoizedProps,l=dl(r,s);o.props=l;var c=o.context,u=r.contextType;a=uo,"object"==typeof u&&null!==u&&(a=nc(u));var d=r.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof o.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s||c!==a)&&ul(t,o,n,a),ac=!1;var h=t.memoizedState;o.state=h,gc(t,n,o,i),fc(),c=t.memoizedState,s||h!==c||ac?("function"==typeof d&&(sl(t,r,d,n),c=t.memoizedState),(l=ac||cl(t,r,l,n,h,c,a))?(u||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=a,n=l):("function"==typeof o.componentDidMount&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,lc(e,t),u=dl(r,a=t.memoizedProps),o.props=u,d=t.pendingProps,h=o.context,c=r.contextType,l=uo,"object"==typeof c&&null!==c&&(l=nc(c)),(c="function"==typeof(s=r.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==d||h!==l)&&ul(t,o,n,l),ac=!1,h=t.memoizedState,o.state=h,gc(t,n,o,i),fc();var p=t.memoizedState;a!==d||h!==p||ac||null!==e&&null!==e.dependencies&&tc(e.dependencies)?("function"==typeof s&&(sl(t,r,s,n),p=t.memoizedState),(u=ac||cl(t,r,u,n,h,p,l)||null!==e&&null!==e.dependencies&&tc(e.dependencies))?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(n,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=l,n=u):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return o=n,Il(e,t),n=!!(128&t.flags),o||n?(o=t.stateNode,r=n&&"function"!=typeof r.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&n?(t.child=ea(t,e.child,null,i),t.child=ea(t,null,r,i)):El(e,t,r,i),t.memoizedState=o.state,e=t.child):e=Gl(e,t,i),e}function Dl(e,t,r,n){return Lo(),t.flags|=256,El(e,t,r,n),t.child}var Pl={dehydrated:null,treeContext:null,retryLane:0};function Ml(e){return{baseLanes:e,cachePool:Ra()}}function jl(e,t,r){return e=null!==e?e.childLanes&~r:0,t&&(e|=Wu),e}function Ll(e,t,r){var n,i=t.pendingProps,o=!1,a=!!(128&t.flags);if((n=a)||(n=(null===e||null!==e.memoizedState)&&!!(2&pa.current)),n&&(o=!0,t.flags&=-129),n=!!(32&t.flags),t.flags&=-33,null===e){if(Io){if(o?ca(t):da(),Io){var s,l=ko;if(s=l){e:{for(s=l,l=Oo;8!==s.nodeType;){if(!l){l=null;break e}if(null===(s=zh(s.nextSibling))){l=null;break e}}l=s}null!==l?(t.memoizedState={dehydrated:l,treeContext:null!==yo?{id:xo,overflow:So}:null,retryLane:536870912},(s=pu(18,null,null,0)).stateNode=l,s.return=t,t.child=s,To=t,ko=null,s=!0):s=!1}s||Do(t)}if(null!==(l=t.memoizedState)&&null!==(l=l.dehydrated))return"$!"===l.data?t.lanes=16:t.lanes=536870912,null;ha(t)}return l=i.children,i=i.fallback,o?(da(),l=zl({mode:"hidden",children:l},o=t.mode),i=bu(i,o,r,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(o=t.child).memoizedState=Ml(r),o.childLanes=jl(e,n,r),t.memoizedState=Pl,i):(ca(t),Bl(t,l))}if(null!==(s=e.memoizedState)&&null!==(l=s.dehydrated)){if(a)256&t.flags?(ca(t),t.flags&=-257,t=Fl(e,t,r)):null!==t.memoizedState?(da(),t.child=e.child,t.flags|=128,t=null):(da(),o=i.fallback,l=t.mode,i=zl({mode:"visible",children:i.children},l),(o=bu(o,l,r,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,ea(t,e.child,null,r),(i=t.child).memoizedState=Ml(r),i.childLanes=jl(e,n,r),t.memoizedState=Pl,t=o);else if(ca(t),"$!"===l.data){if(n=l.nextSibling&&l.nextSibling.dataset)var c=n.dgst;n=c,(i=Error(Be(419))).stack="",i.digest=n,Bo({value:i,source:null,stack:null}),t=Fl(e,t,r)}else if(Sl||ec(e,t,r,!1),n=0!==(r&e.childLanes),Sl||n){if(null!==(n=Du)){if(42&(i=r&-r))i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(0!==(i=0!==(i&(n.suspendedLanes|r))?0:i)&&i!==s.retryLane)throw s.retryLane=i,so(e,i),ud(n,0,i),xl}"$?"===l.data||Sd(),t=Fl(e,t,r)}else"$?"===l.data?(t.flags|=128,t.child=e.child,t=zd.bind(null,e),l._reactRetry=t,t=null):(e=s.treeContext,ko=zh(l.nextSibling),To=t,Io=!0,Ro=null,Oo=!1,null!==e&&(bo[vo++]=xo,bo[vo++]=So,bo[vo++]=yo,xo=e.id,So=e.overflow,yo=t),(t=Bl(t,i.children)).flags|=4096);return t}return o?(da(),o=i.fallback,l=t.mode,c=(s=e.child).sibling,(i=gu(s,{mode:"hidden",children:i.children})).subtreeFlags=31457280&s.subtreeFlags,null!==c?o=gu(c,o):(o=bu(o,l,r,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,null===(l=e.child.memoizedState)?l=Ml(r):(null!==(s=l.cachePool)?(c=ba._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=Ra(),l={baseLanes:l.baseLanes|r,cachePool:s}),o.memoizedState=l,o.childLanes=jl(e,n,r),t.memoizedState=Pl,i):(ca(t),e=(r=e.child).sibling,(r=gu(r,{mode:"visible",children:i.children})).return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r)}function Bl(e,t){return(t=zl({mode:"visible",children:t},e.mode)).return=e,e.child=t}function zl(e,t){return vu(e,t,0,null)}function Fl(e,t,r){return ea(t,e.child,null,r),(e=Bl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ul(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Zl(e.return,t,r)}function Vl(e,t,r,n,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function Hl(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(El(e,t,n.children,r),2&(n=pa.current))n=1&n|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ul(e,r,t);else if(19===e.tag)Ul(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(At(pa,n),i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===fa(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Vl(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===fa(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Vl(t,!0,r,null,o);break;case"together":Vl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gl(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Hu|=t.lanes,0===(r&t.childLanes)){if(null===e)return null;if(ec(e,t,r,!1),0===(r&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(Be(153));if(null!==t.child){for(r=gu(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=gu(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function ql(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!tc(e))}function Wl(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps)Sl=!0;else{if(!(ql(e,r)||128&t.flags))return Sl=!1,function(e,t,r){switch(t.tag){case 3:Ot(t,t.stateNode.containerInfo),Kl(0,ba,e.memoizedState.cache),Lo();break;case 27:case 5:Dt(t);break;case 4:Ot(t,t.stateNode.containerInfo);break;case 10:Kl(0,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(null!==n)return null!==n.dehydrated?(ca(t),t.flags|=128,null):0!==(r&t.child.childLanes)?Ll(e,t,r):(ca(t),null!==(e=Gl(e,t,r))?e.sibling:null);ca(t);break;case 19:var i=!!(128&e.flags);if((n=0!==(r&t.childLanes))||(ec(e,t,r,!1),n=0!==(r&t.childLanes)),i){if(n)return Hl(e,t,r);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),At(pa,pa.current),n)break;return null;case 22:case 23:return t.lanes=0,Tl(e,t,r);case 24:Kl(0,ba,e.memoizedState.cache)}return Gl(e,t,r)}(e,t,r);Sl=!!(131072&e.flags)}else Sl=!1,Io&&1048576&t.flags&&_o(t,wo,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,i=n._init;if(n=i(n._payload),t.type=n,"function"!=typeof n){if(null!=n){if((i=n.$$typeof)===Ye){t.tag=11,t=_l(null,t,n,e,r);break e}if(i===Ze){t.tag=14,t=Cl(null,t,n,e,r);break e}}throw t=ot(n)||n,Error(Be(306,t,""))}fu(n)?(e=dl(n,e),t.tag=1,t=Nl(null,t,n,e,r)):(t.tag=0,t=Rl(null,t,n,e,r))}return t;case 0:return Rl(e,t,t.type,t.pendingProps,r);case 1:return Nl(e,t,n=t.type,i=dl(n,t.pendingProps),r);case 3:e:{if(Ot(t,t.stateNode.containerInfo),null===e)throw Error(Be(387));var o=t.pendingProps;n=(i=t.memoizedState).element,lc(e,t),gc(t,o,null,r);var a=t.memoizedState;if(o=a.cache,Kl(0,ba,o),o!==i.cache&&Jl(t,[ba],r,!0),fc(),o=a.element,i.isDehydrated){if(i={element:o,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Dl(e,t,o,r);break e}if(o!==n){Bo(n=po(Error(Be(424)),t)),t=Dl(e,t,o,r);break e}for(ko=zh(t.stateNode.containerInfo.firstChild),To=t,Io=!0,Ro=null,Oo=!0,r=ta(t,null,o,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(Lo(),o===n){t=Gl(e,t,r);break e}El(e,t,o,r)}t=t.child}return t;case 26:return Il(e,t),null===e?(r=Xh(t.type,null,t.pendingProps,null))?t.memoizedState=r:Io||(r=t.type,e=t.pendingProps,(n=Th(It.current).createElement(r))[mr]=t,n[wr]=e,_h(n,r,e),Ir(n),t.stateNode=n):t.memoizedState=Xh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Dt(t),null===e&&Io&&(n=t.stateNode=Uh(t.type,t.pendingProps,It.current),To=t,Oo=!0,ko=zh(n.firstChild)),n=t.pendingProps.children,null!==e||Io?El(e,t,n,r):t.child=ea(t,null,n,r),Il(e,t),t.child;case 5:return null===e&&Io&&((i=n=ko)&&(n=function(e,t,r,n){for(;1===e.nodeType;){var i=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(n){if(!e[Er])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=zh(e.nextSibling)))break}return null}(n,t.type,t.pendingProps,Oo),null!==n?(t.stateNode=n,To=t,ko=zh(n.firstChild),Oo=!1,i=!0):i=!1),i||Do(t)),Dt(t),i=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,n=o.children,Rh(i,o)?n=null:null!==a&&Rh(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=Ga(e,t,$a,null,null,r),fp._currentValue=i),Il(e,t),El(e,t,n,r),t.child;case 6:return null===e&&Io&&((e=r=ko)&&(r=function(e,t,r){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!r)return null;if(null===(e=zh(e.nextSibling)))return null}return e}(r,t.pendingProps,Oo),null!==r?(t.stateNode=r,To=t,ko=null,e=!0):e=!1),e||Do(t)),null;case 13:return Ll(e,t,r);case 4:return Ot(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=ea(t,null,n,r):El(e,t,n,r),t.child;case 11:return _l(e,t,t.type,t.pendingProps,r);case 7:return El(e,t,t.pendingProps,r),t.child;case 8:case 12:return El(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,Kl(0,t.type,n.value),El(e,t,n.children,r),t.child;case 9:return i=t.type._context,n=t.pendingProps.children,rc(t),n=n(i=nc(i)),t.flags|=1,El(e,t,n,r),t.child;case 14:return Cl(e,t,t.type,t.pendingProps,r);case 15:return Al(e,t,t.type,t.pendingProps,r);case 19:return Hl(e,t,r);case 22:return Tl(e,t,r);case 24:return rc(t),n=nc(ba),null===e?(null===(i=ka())&&(i=Du,o=va(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=r),i=o),t.memoizedState={parent:n,cache:i},sc(t),Kl(0,ba,i)):(0!==(e.lanes&r)&&(lc(e,t),gc(t,null,null,r),fc()),i=e.memoizedState,o=t.memoizedState,i.parent!==n?(i={parent:n,cache:n},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Kl(0,ba,n)):(n=o.cache,Kl(0,ba,n),n!==i.cache&&Jl(t,[ba],r,!0))),El(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(Be(156,t.tag))}var $l=_t(null),Xl=null,Yl=null;function Kl(e,t,r){At($l,t._currentValue),t._currentValue=r}function Ql(e){e._currentValue=$l.current,Ct($l)}function Zl(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Jl(e,t,r,n){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var a=i.child;o=o.firstContext;e:for(;null!==o;){var s=o;o=i;for(var l=0;l<t.length;l++)if(s.context===t[l]){o.lanes|=r,null!==(s=o.alternate)&&(s.lanes|=r),Zl(o.return,r,e),n||(a=null);break e}o=s.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(Be(341));a.lanes|=r,null!==(o=a.alternate)&&(o.lanes|=r),Zl(a,r,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function ec(e,t,r,n){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(524288&i.flags)o=!0;else if(262144&i.flags)break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(Be(387));if(null!==(a=a.memoizedProps)){var s=i.type;Ai(i.pendingProps.value,a.value)||(null!==e?e.push(s):e=[s])}}else if(i===Rt.current){if(null===(a=i.alternate))throw Error(Be(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(fp):e=[fp])}i=i.return}null!==e&&Jl(t,e,r,n),t.flags|=262144}function tc(e){for(e=e.firstContext;null!==e;){if(!Ai(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function rc(e){Xl=e,Yl=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function nc(e){return oc(Xl,e)}function ic(e,t){return null===Xl&&rc(e),oc(e,t)}function oc(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},null===Yl){if(null===e)throw Error(Be(308));Yl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Yl=Yl.next=t;return r}var ac=!1;function sc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function cc(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function uc(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,2&Nu){var i=n.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),n.pending=t,t=co(e),lo(e,null,r),t}return oo(e,n,t,r),co(e)}function dc(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,4194176&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,hr(e,r)}}function hc(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,o=null;if(null!==(r=r.firstBaseUpdate)){do{var a={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};null===o?i=o=a:o=o.next=a,r=r.next}while(null!==r);null===o?i=o=t:o=o.next=t}else i=o=t;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,callbacks:n.callbacks},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var pc=!1;function fc(){if(pc&&null!==_a)throw _a}function gc(e,t,r,n){pc=!1;var i=e.updateQueue;ac=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&(s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l)}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=-536870913&s.lane,p=h!==s.lane;if(p?(Mu&h)===h:(n&h)===h){0!==h&&h===Ea&&(pc=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var f=e,g=s;h=t;var m=r;switch(g.tag){case 1:if("function"==typeof(f=g.payload)){d=f.call(m,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(h="function"==typeof(f=g.payload)?f.call(m,d,h):f))break e;d=ct({},d,h);break e;case 2:ac=!0}}null!==(h=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[h]:p.push(h))}else p={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(p=s).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===o&&(i.shared.lanes=0),Hu|=a,e.lanes=a,e.memoizedState=d}}function mc(e,t){if("function"!=typeof e)throw Error(Be(191,e));e.call(t)}function wc(e,t){var r=e.callbacks;if(null!==r)for(e.callbacks=null,e=0;e<r.length;e++)mc(r[e],t)}function bc(e,t){try{var r=t.updateQueue,n=null!==r?r.lastEffect:null;if(null!==n){var i=n.next;r=i;do{if((r.tag&e)===e){n=void 0;var o=r.create,a=r.inst;n=o(),a.destroy=n}r=r.next}while(r!==i)}}catch(s){Md(t,t.return,s)}}function vc(e,t,r){try{var n=t.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var o=i.next;n=o;do{if((n.tag&e)===e){var a=n.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,i=t;var l=r;try{s()}catch(c){Md(i,l,c)}}}n=n.next}while(n!==o)}}catch(c){Md(t,t.return,c)}}function yc(e){var t=e.updateQueue;if(null!==t){var r=e.stateNode;try{wc(t,r)}catch(n){Md(e,e.return,n)}}}function xc(e,t,r){r.props=dl(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){Md(e,t,n)}}function Sc(e,t){try{var r=e.ref;if(null!==r){var n=e.stateNode;switch(e.tag){case 26:case 27:case 5:var i=n;break;default:i=n}"function"==typeof r?e.refCleanup=r(i):r.current=i}}catch(o){Md(e,t,o)}}function Ec(e,t){var r=e.ref,n=e.refCleanup;if(null!==r)if("function"==typeof n)try{n()}catch(i){Md(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof r)try{r(null)}catch(o){Md(e,t,o)}else r.current=null}function _c(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(i){Md(e,e.return,i)}}function Cc(e,t,r){try{var n=e.stateNode;!function(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,a=null,s=null,l=null,c=null,u=null;for(p in r){var d=r[p];if(r.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":l=d;default:n.hasOwnProperty(p)||Sh(e,t,p,null,n,d)}}for(var h in n){var p=n[h];if(d=r[h],n.hasOwnProperty(h)&&(null!=p||null!=d))switch(h){case"type":o=p;break;case"name":i=p;break;case"checked":c=p;break;case"defaultChecked":u=p;break;case"value":a=p;break;case"defaultValue":s=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(Be(137,t));break;default:p!==d&&Sh(e,t,h,p,n,d)}}return void Xr(e,a,s,l,c,u,o,i);case"select":for(o in p=a=s=h=null,r)if(l=r[o],r.hasOwnProperty(o)&&null!=l)switch(o){case"value":break;case"multiple":p=l;default:n.hasOwnProperty(o)||Sh(e,t,o,null,n,l)}for(i in n)if(o=n[i],l=r[i],n.hasOwnProperty(i)&&(null!=o||null!=l))switch(i){case"value":h=o;break;case"defaultValue":s=o;break;case"multiple":a=o;default:o!==l&&Sh(e,t,i,o,n,l)}return t=s,r=a,n=p,void(null!=h?Qr(e,!!r,h,!1):!!n!=!!r&&(null!=t?Qr(e,!!r,t,!0):Qr(e,!!r,r?[]:"",!1)));case"textarea":for(s in p=h=null,r)if(i=r[s],r.hasOwnProperty(s)&&null!=i&&!n.hasOwnProperty(s))switch(s){case"value":case"children":break;default:Sh(e,t,s,null,n,i)}for(a in n)if(i=n[a],o=r[a],n.hasOwnProperty(a)&&(null!=i||null!=o))switch(a){case"value":h=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(Be(91));break;default:i!==o&&Sh(e,t,a,i,n,o)}return void Zr(e,h,p);case"option":for(var f in r)h=r[f],r.hasOwnProperty(f)&&null!=h&&!n.hasOwnProperty(f)&&("selected"===f?e.selected=!1:Sh(e,t,f,null,n,h));for(l in n)h=n[l],p=r[l],!n.hasOwnProperty(l)||h===p||null==h&&null==p||("selected"===l?e.selected=h&&"function"!=typeof h&&"symbol"!=typeof h:Sh(e,t,l,h,n,p));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in r)h=r[g],r.hasOwnProperty(g)&&null!=h&&!n.hasOwnProperty(g)&&Sh(e,t,g,null,n,h);for(c in n)if(h=n[c],p=r[c],n.hasOwnProperty(c)&&h!==p&&(null!=h||null!=p))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(Be(137,t));break;default:Sh(e,t,c,h,n,p)}return;default:if(on(t)){for(var m in r)h=r[m],r.hasOwnProperty(m)&&void 0!==h&&!n.hasOwnProperty(m)&&Eh(e,t,m,void 0,n,h);for(u in n)h=n[u],p=r[u],!n.hasOwnProperty(u)||h===p||void 0===h&&void 0===p||Eh(e,t,u,h,n,p);return}}for(var w in r)h=r[w],r.hasOwnProperty(w)&&null!=h&&!n.hasOwnProperty(w)&&Sh(e,t,w,null,n,h);for(d in n)h=n[d],p=r[d],!n.hasOwnProperty(d)||h===p||null==h&&null==p||Sh(e,t,d,h,n,p)}(n,e.type,r,t),n[wr]=t}catch(i){Md(e,e.return,i)}}function Ac(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Tc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Ac(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function kc(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!=(r=r._reactRootContainer)||null!==t.onclick||(t.onclick=xh));else if(4!==n&&27!==n&&null!==(e=e.child))for(kc(e,t,r),e=e.sibling;null!==e;)kc(e,t,r),e=e.sibling}function Ic(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&27!==n&&null!==(e=e.child))for(Ic(e,t,r),e=e.sibling;null!==e;)Ic(e,t,r),e=e.sibling}var Rc=!1,Oc=!1,Nc=!1,Dc="function"==typeof WeakSet?WeakSet:Set,Pc=null,Mc=!1;function jc(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:Yc(e,r),4&n&&bc(5,r);break;case 1:if(Yc(e,r),4&n)if(e=r.stateNode,null===t)try{e.componentDidMount()}catch(s){Md(r,r.return,s)}else{var i=dl(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){Md(r,r.return,l)}}64&n&&yc(r),512&n&&Sc(r,r.return);break;case 3:if(Yc(e,r),64&n&&null!==(n=r.updateQueue)){if(e=null,null!==r.child)switch(r.child.tag){case 27:case 5:case 1:e=r.child.stateNode}try{wc(n,e)}catch(s){Md(r,r.return,s)}}break;case 26:Yc(e,r),512&n&&Sc(r,r.return);break;case 27:case 5:Yc(e,r),null===t&&4&n&&_c(r),512&n&&Sc(r,r.return);break;case 12:default:Yc(e,r);break;case 13:Yc(e,r),4&n&&Vc(e,r);break;case 22:if(!(i=null!==r.memoizedState||Rc)){t=null!==t&&null!==t.memoizedState||Oc;var o=Rc,a=Oc;Rc=i,(Oc=t)&&!a?Qc(e,r,!!(8772&r.subtreeFlags)):Yc(e,r),Rc=o,Oc=a}512&n&&("manual"===r.memoizedProps.mode?Sc(r,r.return):Ec(r,r.return))}}function Lc(e){var t=e.alternate;null!==t&&(e.alternate=null,Lc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&_r(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Bc=null,zc=!1;function Fc(e,t,r){for(r=r.child;null!==r;)Uc(e,t,r),r=r.sibling}function Uc(e,t,r){if(Kt&&"function"==typeof Kt.onCommitFiberUnmount)try{Kt.onCommitFiberUnmount(Yt,r)}catch(a){}switch(r.tag){case 26:Oc||Ec(r,t),Fc(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode).parentNode.removeChild(r);break;case 27:Oc||Ec(r,t);var n=Bc,i=zc;for(Bc=r.stateNode,Fc(e,t,r),t=(r=r.stateNode).attributes;t.length;)r.removeAttributeNode(t[0]);_r(r),Bc=n,zc=i;break;case 5:Oc||Ec(r,t);case 6:i=Bc;var o=zc;if(Bc=null,Fc(e,t,r),zc=o,null!==(Bc=i))if(zc)try{e=Bc,n=r.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)}catch(s){Md(r,t,s)}else try{Bc.removeChild(r.stateNode)}catch(s){Md(r,t,s)}break;case 18:null!==Bc&&(zc?(t=Bc,r=r.stateNode,8===t.nodeType?Lh(t.parentNode,r):1===t.nodeType&&Lh(t,r),$p(t)):Lh(Bc,r.stateNode));break;case 4:n=Bc,i=zc,Bc=r.stateNode.containerInfo,zc=!0,Fc(e,t,r),Bc=n,zc=i;break;case 0:case 11:case 14:case 15:Oc||vc(2,r,t),Oc||vc(4,r,t),Fc(e,t,r);break;case 1:Oc||(Ec(r,t),"function"==typeof(n=r.stateNode).componentWillUnmount&&xc(r,t,n)),Fc(e,t,r);break;case 21:Fc(e,t,r);break;case 22:Oc||Ec(r,t),Oc=(n=Oc)||null!==r.memoizedState,Fc(e,t,r),Oc=n;break;default:Fc(e,t,r)}}function Vc(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{$p(e)}catch(r){Md(t,t.return,r)}}function Hc(e,t){var r=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Dc),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Dc),t;default:throw Error(Be(435,e.tag))}}(e);t.forEach(function(t){var n=Fd.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}function Gc(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var i=r[n],o=e,a=t,s=a;e:for(;null!==s;){switch(s.tag){case 27:case 5:Bc=s.stateNode,zc=!1;break e;case 3:case 4:Bc=s.stateNode.containerInfo,zc=!0;break e}s=s.return}if(null===Bc)throw Error(Be(160));Uc(o,a,i),Bc=null,zc=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Wc(t,e),t=t.sibling}var qc=null;function Wc(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Gc(t,e),$c(e),4&n&&(vc(3,e,e.return),bc(3,e),vc(5,e,e.return));break;case 1:Gc(t,e),$c(e),512&n&&(Oc||null===r||Ec(r,r.return)),64&n&&Rc&&null!==(e=e.updateQueue)&&null!==(n=e.callbacks)&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===r?n:r.concat(n));break;case 26:var i=qc;if(Gc(t,e),$c(e),512&n&&(Oc||null===r||Ec(r,r.return)),4&n){var o=null!==r?r.memoizedState:null;if(n=e.memoizedState,null===r)if(null===n)if(null===e.stateNode){e:{n=e.type,r=e.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":(!(o=i.getElementsByTagName("title")[0])||o[Er]||o[mr]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(n),i.head.insertBefore(o,i.querySelector("head > title"))),_h(o,n,r),o[mr]=e,Ir(o),n=o;break e;case"link":var a=op("link","href",i).get(n+(r.href||""));if(a)for(var s=0;s<a.length;s++)if((o=a[s]).getAttribute("href")===(null==r.href?null:r.href)&&o.getAttribute("rel")===(null==r.rel?null:r.rel)&&o.getAttribute("title")===(null==r.title?null:r.title)&&o.getAttribute("crossorigin")===(null==r.crossOrigin?null:r.crossOrigin)){a.splice(s,1);break t}_h(o=i.createElement(n),n,r),i.head.appendChild(o);break;case"meta":if(a=op("meta","content",i).get(n+(r.content||"")))for(s=0;s<a.length;s++)if((o=a[s]).getAttribute("content")===(null==r.content?null:""+r.content)&&o.getAttribute("name")===(null==r.name?null:r.name)&&o.getAttribute("property")===(null==r.property?null:r.property)&&o.getAttribute("http-equiv")===(null==r.httpEquiv?null:r.httpEquiv)&&o.getAttribute("charset")===(null==r.charSet?null:r.charSet)){a.splice(s,1);break t}_h(o=i.createElement(n),n,r),i.head.appendChild(o);break;default:throw Error(Be(468,n))}o[mr]=e,Ir(o),n=o}e.stateNode=n}else ap(i,e.type,e.stateNode);else e.stateNode=ep(i,n,e.memoizedProps);else o!==n?(null===o?null!==r.stateNode&&(r=r.stateNode).parentNode.removeChild(r):o.count--,null===n?ap(i,e.type,e.stateNode):ep(i,n,e.memoizedProps)):null===n&&null!==e.stateNode&&Cc(e,e.memoizedProps,r.memoizedProps)}break;case 27:if(4&n&&null===e.alternate){i=e.stateNode,o=e.memoizedProps;try{for(var l=i.firstChild;l;){var c=l.nextSibling,u=l.nodeName;l[Er]||"HEAD"===u||"BODY"===u||"SCRIPT"===u||"STYLE"===u||"LINK"===u&&"stylesheet"===l.rel.toLowerCase()||i.removeChild(l),l=c}for(var d=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);_h(i,d,o),i[mr]=e,i[wr]=o}catch(f){Md(e,e.return,f)}}case 5:if(Gc(t,e),$c(e),512&n&&(Oc||null===r||Ec(r,r.return)),32&e.flags){i=e.stateNode;try{en(i,"")}catch(f){Md(e,e.return,f)}}4&n&&null!=e.stateNode&&Cc(e,i=e.memoizedProps,null!==r?r.memoizedProps:i),1024&n&&(Nc=!0);break;case 6:if(Gc(t,e),$c(e),4&n){if(null===e.stateNode)throw Error(Be(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(f){Md(e,e.return,f)}}break;case 3:if(ip=null,i=qc,qc=Gh(t.containerInfo),Gc(t,e),qc=i,$c(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{$p(t.containerInfo)}catch(f){Md(e,e.return,f)}Nc&&(Nc=!1,Xc(e));break;case 4:n=qc,qc=Gh(e.stateNode.containerInfo),Gc(t,e),$c(e),qc=n;break;case 12:Gc(t,e),$c(e);break;case 13:Gc(t,e),$c(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==r&&null!==r.memoizedState)&&(Qu=Ft()),4&n&&null!==(n=e.updateQueue)&&(e.updateQueue=null,Hc(e,n));break;case 22:if(512&n&&(Oc||null===r||Ec(r,r.return)),l=null!==e.memoizedState,c=null!==r&&null!==r.memoizedState,Rc=(u=Rc)||l,Oc=(d=Oc)||c,Gc(t,e),Oc=d,Rc=u,$c(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&n&&(t._visibility=l?-2&t._visibility:1|t._visibility,l&&(t=Rc||Oc,null===r||c||t||Kc(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(r=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===r){c=r=t;try{if(i=c.stateNode,l)"function"==typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{a=c.stateNode;var p=null!=(s=c.memoizedProps.style)&&s.hasOwnProperty("display")?s.display:null;a.style.display=null==p||"boolean"==typeof p?"":(""+p).trim()}}catch(f){Md(c,c.return,f)}}}else if(6===t.tag){if(null===r){c=t;try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(f){Md(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}4&n&&null!==(n=e.updateQueue)&&null!==(r=n.retryQueue)&&(n.retryQueue=null,Hc(e,r));break;case 19:Gc(t,e),$c(e),4&n&&null!==(n=e.updateQueue)&&(e.updateQueue=null,Hc(e,n));break;case 21:break;default:Gc(t,e),$c(e)}}function $c(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var r=e.return;null!==r;){if(Ac(r)){var n=r;break e}r=r.return}throw Error(Be(160))}switch(n.tag){case 27:var i=n.stateNode;Ic(e,Tc(e),i);break;case 5:var o=n.stateNode;32&n.flags&&(en(o,""),n.flags&=-33),Ic(e,Tc(e),o);break;case 3:case 4:var a=n.stateNode.containerInfo;kc(e,Tc(e),a);break;default:throw Error(Be(161))}}}catch(s){Md(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Xc(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Xc(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Yc(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)jc(e,t.alternate,t),t=t.sibling}function Kc(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vc(4,t,t.return),Kc(t);break;case 1:Ec(t,t.return);var r=t.stateNode;"function"==typeof r.componentWillUnmount&&xc(t,t.return,r),Kc(t);break;case 26:case 27:case 5:Ec(t,t.return),Kc(t);break;case 22:Ec(t,t.return),null===t.memoizedState&&Kc(t);break;default:Kc(t)}e=e.sibling}}function Qc(e,t,r){for(r=r&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var n=t.alternate,i=e,o=t,a=o.flags;switch(o.tag){case 0:case 11:case 15:Qc(i,o,r),bc(4,o);break;case 1:if(Qc(i,o,r),"function"==typeof(i=(n=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){Md(n,n.return,c)}if(null!==(i=(n=o).updateQueue)){var s=n.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)mc(l[i],s)}catch(c){Md(n,n.return,c)}}r&&64&a&&yc(o),Sc(o,o.return);break;case 26:case 27:case 5:Qc(i,o,r),r&&null===n&&4&a&&_c(o),Sc(o,o.return);break;case 12:default:Qc(i,o,r);break;case 13:Qc(i,o,r),r&&4&a&&Vc(i,o);break;case 22:null===o.memoizedState&&Qc(i,o,r),Sc(o,o.return)}t=t.sibling}}function Zc(e,t){var r=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==r&&(null!=e&&e.refCount++,null!=r&&ya(r))}function Jc(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&ya(e))}function eu(e,t,r,n){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)tu(e,t,r,n),t=t.sibling}function tu(e,t,r,n){var i=t.flags;switch(t.tag){case 0:case 11:case 15:eu(e,t,r,n),2048&i&&bc(9,t);break;case 3:eu(e,t,r,n),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&ya(e)));break;case 12:if(2048&i){eu(e,t,r,n),e=t.stateNode;try{var o=t.memoizedProps,a=o.id,s=o.onPostCommit;"function"==typeof s&&s(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Md(t,t.return,l)}}else eu(e,t,r,n);break;case 23:break;case 22:o=t.stateNode,null!==t.memoizedState?4&o._visibility?eu(e,t,r,n):nu(e,t):4&o._visibility?eu(e,t,r,n):(o._visibility|=4,ru(e,t,r,n,!!(10256&t.subtreeFlags))),2048&i&&Zc(t.alternate,t);break;case 24:eu(e,t,r,n),2048&i&&Jc(t.alternate,t);break;default:eu(e,t,r,n)}}function ru(e,t,r,n,i){for(i=i&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,a=t,s=r,l=n,c=a.flags;switch(a.tag){case 0:case 11:case 15:ru(o,a,s,l,i),bc(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?4&u._visibility?ru(o,a,s,l,i):nu(o,a):(u._visibility|=4,ru(o,a,s,l,i)),i&&2048&c&&Zc(a.alternate,a);break;case 24:ru(o,a,s,l,i),i&&2048&c&&Jc(a.alternate,a);break;default:ru(o,a,s,l,i)}t=t.sibling}}function nu(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var r=e,n=t,i=n.flags;switch(n.tag){case 22:nu(r,n),2048&i&&Zc(n.alternate,n);break;case 24:nu(r,n),2048&i&&Jc(n.alternate,n);break;default:nu(r,n)}t=t.sibling}}var iu=8192;function ou(e){if(e.subtreeFlags&iu)for(e=e.child;null!==e;)au(e),e=e.sibling}function au(e){switch(e.tag){case 26:ou(e),e.flags&iu&&null!==e.memoizedState&&function(e,t,r){if(null===lp)throw Error(Be(475));var n=lp;if(!("stylesheet"!==t.type||"string"==typeof r.media&&!1===matchMedia(r.media).matches||4&t.state.loading)){if(null===t.instance){var i=Yh(r.href),o=e.querySelector(Kh(i));if(o)return null!==(e=o._p)&&"object"==typeof e&&"function"==typeof e.then&&(n.count++,n=up.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=o,void Ir(o);o=e.ownerDocument||e,r=Qh(r),(i=Vh.get(i))&&rp(r,i),Ir(o=o.createElement("link"));var a=o;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),_h(o,"link",r),t.instance=o}null===n.stylesheets&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(n.count++,t=up.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}(qc,e.memoizedState,e.memoizedProps);break;case 5:default:ou(e);break;case 3:case 4:var t=qc;qc=Gh(e.stateNode.containerInfo),ou(e),qc=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=iu,iu=16777216,ou(e),iu=t):ou(e))}}function su(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function lu(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];Pc=n,du(n,e)}su(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)cu(e),e=e.sibling}function cu(e){switch(e.tag){case 0:case 11:case 15:lu(e),2048&e.flags&&vc(9,e,e.return);break;case 3:case 12:default:lu(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,uu(e)):lu(e)}}function uu(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];Pc=n,du(n,e)}su(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vc(8,t,t.return),uu(t);break;case 22:4&(r=t.stateNode)._visibility&&(r._visibility&=-5,uu(t));break;default:uu(t)}e=e.sibling}}function du(e,t){for(;null!==Pc;){var r=Pc;switch(r.tag){case 0:case 11:case 15:vc(8,r,t);break;case 23:case 22:if(null!==r.memoizedState&&null!==r.memoizedState.cachePool){var n=r.memoizedState.cachePool.pool;null!=n&&n.refCount++}break;case 24:ya(r.memoizedState.cache)}if(null!==(n=r.child))n.return=r,Pc=n;else e:for(r=e;null!==Pc;){var i=(n=Pc).sibling,o=n.return;if(Lc(n),n===r){Pc=null;break e}if(null!==i){i.return=o,Pc=i;break e}Pc=o}}}function hu(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pu(e,t,r,n){return new hu(e,t,r,n)}function fu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function gu(e,t){var r=e.alternate;return null===r?((r=pu(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=31457280&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function mu(e,t){e.flags&=31457282;var r=e.alternate;return null===r?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function wu(e,t,r,n,i,o){var a=0;if(n=e,"function"==typeof e)fu(e)&&(a=1);else if("string"==typeof e)a=function(e,t,r){if(1===r||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,r,Tt.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case He:return bu(r.children,i,o,t);case Ge:a=8,i|=24;break;case qe:return(e=pu(12,r,t,2|i)).elementType=qe,e.lanes=o,e;case Ke:return(e=pu(13,r,t,i)).elementType=Ke,e.lanes=o,e;case Qe:return(e=pu(19,r,t,i)).elementType=Qe,e.lanes=o,e;case et:return vu(r,i,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case We:case Xe:a=10;break e;case $e:a=9;break e;case Ye:a=11;break e;case Ze:a=14;break e;case Je:a=16,n=null;break e}a=29,r=Error(Be(130,null===e?"null":typeof e,"")),n=null}return(t=pu(a,r,t,i)).elementType=e,t.type=n,t.lanes=o,t}function bu(e,t,r,n){return(e=pu(7,e,n,t)).lanes=r,e}function vu(e,t,r,n){(e=pu(22,e,n,t)).elementType=et,e.lanes=r;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=i._current;if(null===e)throw Error(Be(456));if(!(2&i._pendingVisibility)){var t=so(e,2);null!==t&&(i._pendingVisibility|=2,ud(t,0,2))}},attach:function(){var e=i._current;if(null===e)throw Error(Be(456));if(2&i._pendingVisibility){var t=so(e,2);null!==t&&(i._pendingVisibility&=-3,ud(t,0,2))}}};return e.stateNode=i,e}function yu(e,t,r){return(e=pu(6,e,null,t)).lanes=r,e}function xu(e,t,r){return(t=pu(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Su(e){e.flags|=4}function Eu(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!sp(t)){if(null!==(t=sa.current)&&((4194176&Mu)===Mu?null!==la:(62914560&Mu)!==Mu&&!(536870912&Mu)||t!==la))throw qo=Uo,Fo;e.flags|=8192}}function _u(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?lr():536870912,e.lanes|=t,$u|=t)}function Cu(e,t){if(!Io)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Au(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=31457280&i.subtreeFlags,n|=31457280&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Tu(e,t,r){var n=t.pendingProps;switch(Ao(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Au(t),null;case 3:return r=t.stateNode,n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ql(ba),Nt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(jo(t)?Su(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==Ro&&(hd(Ro),Ro=null))),Au(t),null;case 26:return r=t.memoizedState,null===e?(Su(t),null!==r?(Au(t),Eu(t,r)):(Au(t),t.flags&=-16777217)):r?r!==e.memoizedState?(Su(t),Au(t),Eu(t,r)):(Au(t),t.flags&=-16777217):(e.memoizedProps!==n&&Su(t),Au(t),t.flags&=-16777217),null;case 27:Pt(t),r=It.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==n&&Su(t);else{if(!n){if(null===t.stateNode)throw Error(Be(166));return Au(t),null}e=Tt.current,jo(t)?Po(t):(e=Uh(i,n,r),t.stateNode=e,Su(t))}return Au(t),null;case 5:if(Pt(t),r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&Su(t);else{if(!n){if(null===t.stateNode)throw Error(Be(166));return Au(t),null}if(e=Tt.current,jo(t))Po(t);else{switch(i=Th(It.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof n.is?i.createElement("select",{is:n.is}):i.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e="string"==typeof n.is?i.createElement(r,{is:n.is}):i.createElement(r)}}e[mr]=t,e[wr]=n;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(_h(e,r,n),r){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Su(t)}}return Au(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==n&&Su(t);else{if("string"!=typeof n&&null===t.stateNode)throw Error(Be(166));if(e=It.current,jo(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,null!==(i=To))switch(i.tag){case 27:case 5:n=i.memoizedProps}e[mr]=t,(e=!!(e.nodeValue===r||null!==n&&!0===n.suppressHydrationWarning||yh(e.nodeValue,r)))||Do(t)}else(e=Th(e).createTextNode(n))[mr]=t,t.stateNode=e}return Au(t),null;case 13:if(n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=jo(t),null!==n&&null!==n.dehydrated){if(null===e){if(!i)throw Error(Be(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(Be(317));i[mr]=t}else Lo(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Au(t),i=!1}else null!==Ro&&(hd(Ro),Ro=null),i=!0;if(!i)return 256&t.flags?(ha(t),t):(ha(t),null)}if(ha(t),128&t.flags)return t.lanes=r,t;if(r=null!==n,e=null!==e&&null!==e.memoizedState,r){i=null,null!==(n=t.child).alternate&&null!==n.alternate.memoizedState&&null!==n.alternate.memoizedState.cachePool&&(i=n.alternate.memoizedState.cachePool.pool);var o=null;null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(o=n.memoizedState.cachePool.pool),o!==i&&(n.flags|=2048)}return r!==e&&r&&(t.child.flags|=8192),_u(t,t.updateQueue),Au(t),null;case 4:return Nt(),null===e&&uh(t.stateNode.containerInfo),Au(t),null;case 10:return Ql(t.type),Au(t),null;case 19:if(Ct(pa),null===(i=t.memoizedState))return Au(t),null;if(n=!!(128&t.flags),null===(o=i.rendering))if(n)Cu(i,!1);else{if(0!==Vu||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(o=fa(e))){for(t.flags|=128,Cu(i,!1),e=o.updateQueue,t.updateQueue=e,_u(t,e),t.subtreeFlags=0,e=r,r=t.child;null!==r;)mu(r,e),r=r.sibling;return At(pa,1&pa.current|2),t.child}e=e.sibling}null!==i.tail&&Ft()>Zu&&(t.flags|=128,n=!0,Cu(i,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=fa(o))){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,_u(t,e),Cu(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!Io)return Au(t),null}else 2*Ft()-i.renderingStartTime>Zu&&536870912!==r&&(t.flags|=128,n=!0,Cu(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ft(),t.sibling=null,e=pa.current,At(pa,n?1&e|2:1&e),t):(Au(t),null);case 22:case 23:return ha(t),aa(),n=null!==t.memoizedState,null!==e?null!==e.memoizedState!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?!!(536870912&r)&&!(128&t.flags)&&(Au(t),6&t.subtreeFlags&&(t.flags|=8192)):Au(t),null!==(r=t.updateQueue)&&_u(t,r.retryQueue),r=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),n=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),null!==e&&Ct(Ta),null;case 24:return r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ql(ba),Au(t),null;case 25:return null}throw Error(Be(156,t.tag))}function ku(e,t){switch(Ao(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ql(ba),Nt(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Pt(t),null;case 13:if(ha(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(Be(340));Lo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ct(pa),null;case 4:return Nt(),null;case 10:return Ql(t.type),null;case 22:case 23:return ha(t),aa(),null!==e&&Ct(Ta),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ql(ba),null;default:return null}}function Iu(e,t){switch(Ao(t),t.tag){case 3:Ql(ba),Nt();break;case 26:case 27:case 5:Pt(t);break;case 4:Nt();break;case 13:ha(t);break;case 19:Ct(pa);break;case 10:Ql(t.type);break;case 22:case 23:ha(t),aa(),null!==e&&Ct(Ta);break;case 24:Ql(ba)}}var Ru={getCacheForType:function(e){var t=nc(ba),r=t.data.get(e);return void 0===r&&(r=e(),t.data.set(e,r)),r}},Ou="function"==typeof WeakMap?WeakMap:Map,Nu=0,Du=null,Pu=null,Mu=0,ju=0,Lu=null,Bu=!1,zu=!1,Fu=!1,Uu=0,Vu=0,Hu=0,Gu=0,qu=0,Wu=0,$u=0,Xu=null,Yu=null,Ku=!1,Qu=0,Zu=1/0,Ju=null,ed=null,td=!1,rd=null,nd=0,id=0,od=null,ad=0,sd=null;function ld(){return 2&Nu&&0!==Mu?Mu&-Mu:null!==lt.T?0!==Ea?Ea:Jd():fr()}function cd(){0===Wu&&(Wu=536870912&Mu&&!Io?536870912:sr());var e=sa.current;return null!==e&&(e.flags|=32),Wu}function ud(e,t,r){(e===Du&&2===ju||null!==e.cancelPendingCommit)&&(bd(e,0),gd(e,Mu,Wu,!1)),ur(e,r),2&Nu&&e===Du||(e===Du&&(!(2&Nu)&&(Gu|=r),4===Vu&&gd(e,Mu,Wu,!1)),$d(e))}function dd(e,t,r){if(6&Nu)throw Error(Be(327));for(var n=!r&&!(60&t)&&0===(t&e.expiredLanes)||or(e,t),i=n?function(e,t){var r=Nu;Nu|=2;var n=yd(),i=xd();Du!==e||Mu!==t?(Ju=null,Zu=Ft()+500,bd(e,t)):zu=or(e,t);e:for(;;)try{if(0!==ju&&null!==Pu){t=Pu;var o=Lu;t:switch(ju){case 1:ju=0,Lu=null,kd(e,t,o,1);break;case 2:if(Vo(o)){ju=0,Lu=null,Td(t);break}t=function(){2===ju&&Du===e&&(ju=7),$d(e)},o.then(t,t);break e;case 3:ju=7;break e;case 4:ju=5;break e;case 7:Vo(o)?(ju=0,Lu=null,Td(t)):(ju=0,Lu=null,kd(e,t,o,7));break;case 5:var a=null;switch(Pu.tag){case 26:a=Pu.memoizedState;case 5:case 27:var s=Pu;if(!a||sp(a)){ju=0,Lu=null;var l=s.sibling;if(null!==l)Pu=l;else{var c=s.return;null!==c?(Pu=c,Id(c)):Pu=null}break t}}ju=0,Lu=null,kd(e,t,o,5);break;case 6:ju=0,Lu=null,kd(e,t,o,6);break;case 8:wd(),Vu=6;break e;default:throw Error(Be(462))}}Cd();break}catch(u){vd(e,u)}return Yl=Xl=null,lt.H=n,lt.A=i,Nu=r,null!==Pu?0:(Du=null,Mu=0,io(),Vu)}(e,t):Ed(e,t,!0),o=n;;){if(0===i){zu&&!n&&gd(e,t,0,!1);break}if(6===i)gd(e,t,0,!Bu);else{if(r=e.current.alternate,o&&!fd(r)){i=Ed(e,t,!1),o=!1;continue}if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=0!=(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var s=e;i=Xu;var l=s.current.memoizedState.isDehydrated;if(l&&(bd(s,a).flags|=256),2!==(a=Ed(s,a,!1))){if(Fu&&!l){s.errorRecoveryDisabledLanes|=o,Gu|=o,i=4;break e}o=Yu,Yu=i,null!==o&&hd(o)}i=a}if(o=!1,2!==i)continue}}if(1===i){bd(e,0),gd(e,t,0,!0);break}e:{switch(n=e,i){case 0:case 1:throw Error(Be(345));case 4:if((4194176&t)===t){gd(n,t,Wu,!Bu);break e}break;case 2:Yu=null;break;case 3:case 5:break;default:throw Error(Be(329))}if(n.finishedWork=r,n.finishedLanes=t,(62914560&t)===t&&10<(o=Qu+300-Ft())){if(gd(n,t,Wu,!Bu),0!==ir(n,0))break e;n.timeoutHandle=Nh(pd.bind(null,n,r,Yu,Ju,Ku,t,Wu,Gu,$u,Bu,2,-0,0),o)}else pd(n,r,Yu,Ju,Ku,t,Wu,Gu,$u,Bu,0,-0,0)}}break}$d(e)}function hd(e){null===Yu?Yu=e:Yu.push.apply(Yu,e)}function pd(e,t,r,n,i,o,a,s,l,c,u,d,h){var p=t.subtreeFlags;if((8192&p||!(16785408&~p))&&(lp={stylesheets:null,count:0,unsuspend:cp},au(t),null!==(t=function(){if(null===lp)throw Error(Be(475));var e=lp;return e.stylesheets&&0===e.count&&hp(e,e.stylesheets),0<e.count?function(t){var r=setTimeout(function(){if(e.stylesheets&&hp(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(r)}}:null}())))return e.cancelPendingCommit=t(Od.bind(null,e,r,n,i,a,s,l,1,d,h)),void gd(e,o,a,!c);Od(e,r,n,i,a,s,l)}function fd(e){for(var t=e;;){var r=t.tag;if((0===r||11===r||15===r)&&16384&t.flags&&null!==(r=t.updateQueue)&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!Ai(o(),i))return!1}catch(a){return!1}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gd(e,t,r,n){t&=~qu,t&=~Gu,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var i=t;0<i;){var o=31-Zt(i),a=1<<o;n[o]=-1,i&=~a}0!==r&&dr(e,r,t)}function md(){return!!(6&Nu)||(Xd(0),!1)}function wd(){if(null!==Pu){if(0===ju)var e=Pu.return;else Yl=Xl=null,Ka(e=Pu),$o=null,Xo=0,e=Pu;for(;null!==e;)Iu(e.alternate,e),e=e.return;Pu=null}}function bd(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,Dh(r)),null!==(r=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,r()),wd(),Du=e,Pu=r=gu(e.current,null),Mu=t,ju=0,Lu=null,Bu=!1,zu=or(e,t),Fu=!1,$u=Wu=qu=Gu=Hu=Vu=0,Yu=Xu=null,Ku=!1,8&t&&(t|=32&t);var n=e.entangledLanes;if(0!==n)for(e=e.entanglements,n&=t;0<n;){var i=31-Zt(n),o=1<<i;t|=e[i],n&=~o}return Uu=t,io(),r}function vd(e,t){Na=null,lt.H=nl,t===zo?(t=Wo(),ju=3):t===Fo?(t=Wo(),ju=4):ju=t===xl?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,Lu=t,null===Pu&&(Vu=1,ml(e,po(t,e.current)))}function yd(){var e=lt.H;return lt.H=nl,null===e?nl:e}function xd(){var e=lt.A;return lt.A=Ru,e}function Sd(){Vu=4,Bu||(4194176&Mu)!==Mu&&null!==sa.current||(zu=!0),!(134217727&Hu)&&!(134217727&Gu)||null===Du||gd(Du,Mu,Wu,!1)}function Ed(e,t,r){var n=Nu;Nu|=2;var i=yd(),o=xd();Du===e&&Mu===t||(Ju=null,bd(e,t)),t=!1;var a=Vu;e:for(;;)try{if(0!==ju&&null!==Pu){var s=Pu,l=Lu;switch(ju){case 8:wd(),a=6;break e;case 3:case 2:case 6:null===sa.current&&(t=!0);var c=ju;if(ju=0,Lu=null,kd(e,s,l,c),r&&zu){a=0;break e}break;default:c=ju,ju=0,Lu=null,kd(e,s,l,c)}}_d(),a=Vu;break}catch(u){vd(e,u)}return t&&e.shellSuspendCounter++,Yl=Xl=null,Nu=n,lt.H=i,lt.A=o,null===Pu&&(Du=null,Mu=0,io()),a}function _d(){for(;null!==Pu;)Ad(Pu)}function Cd(){for(;null!==Pu&&!Bt();)Ad(Pu)}function Ad(e){var t=Wl(e.alternate,e,Uu);e.memoizedProps=e.pendingProps,null===t?Id(e):Pu=t}function Td(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Ol(r,t,t.pendingProps,t.type,void 0,Mu);break;case 11:t=Ol(r,t,t.pendingProps,t.type.render,t.ref,Mu);break;case 5:Ka(t);default:Iu(r,t),t=Wl(r,t=Pu=mu(t,Uu),Uu)}e.memoizedProps=e.pendingProps,null===t?Id(e):Pu=t}function kd(e,t,r,n){Yl=Xl=null,Ka(t),$o=null,Xo=0;var i=t.return;try{if(function(e,t,r,n,i){if(r.flags|=32768,null!==n&&"object"==typeof n&&"function"==typeof n.then){if(null!==(t=r.alternate)&&ec(t,r,i,!0),null!==(r=sa.current)){switch(r.tag){case 13:return null===la?Sd():null===r.alternate&&0===Vu&&(Vu=3),r.flags&=-257,r.flags|=65536,r.lanes=i,n===Uo?r.flags|=16384:(null===(t=r.updateQueue)?r.updateQueue=new Set([n]):t.add(n),jd(e,n,i)),!1;case 22:return r.flags|=65536,n===Uo?r.flags|=16384:(null===(t=r.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):null===(r=t.retryQueue)?t.retryQueue=new Set([n]):r.add(n),jd(e,n,i)),!1}throw Error(Be(435,r.tag))}return jd(e,n,i),Sd(),!1}if(Io)return null!==(t=sa.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,n!==No&&Bo(po(e=Error(Be(422),{cause:n}),r))):(n!==No&&Bo(po(t=Error(Be(423),{cause:n}),r)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,n=po(n,r),hc(e,i=bl(e.stateNode,n,i)),4!==Vu&&(Vu=2)),!1;var o=Error(Be(520),{cause:n});if(o=po(o,r),null===Xu?Xu=[o]:Xu.push(o),4!==Vu&&(Vu=2),null===t)return!0;n=po(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=i&-i,r.lanes|=e,hc(r,e=bl(r.stateNode,n,e)),!1;case 1:if(t=r.type,o=r.stateNode,!(128&r.flags||"function"!=typeof t.getDerivedStateFromError&&(null===o||"function"!=typeof o.componentDidCatch||null!==ed&&ed.has(o))))return r.flags|=65536,i&=-i,r.lanes|=i,yl(i=vl(i),e,r,n),hc(r,i),!1}r=r.return}while(null!==r);return!1}(e,i,t,r,Mu))return Vu=1,ml(e,po(r,e.current)),void(Pu=null)}catch(o){if(null!==i)throw Pu=i,o;return Vu=1,ml(e,po(r,e.current)),void(Pu=null)}32768&t.flags?(Io||1===n?e=!0:zu||536870912&Mu?e=!1:(Bu=e=!0,(2===n||3===n||6===n)&&null!==(n=sa.current)&&13===n.tag&&(n.flags|=16384)),Rd(t,e)):Id(t)}function Id(e){var t=e;do{if(32768&t.flags)return void Rd(t,Bu);e=t.return;var r=Tu(t.alternate,t,Uu);if(null!==r)return void(Pu=r);if(null!==(t=t.sibling))return void(Pu=t);Pu=t=e}while(null!==t);0===Vu&&(Vu=5)}function Rd(e,t){do{var r=ku(e.alternate,e);if(null!==r)return r.flags&=32767,void(Pu=r);if(null!==(r=e.return)&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&null!==(e=e.sibling))return void(Pu=e);Pu=e=r}while(null!==e);Vu=6,Pu=null}function Od(e,t,r,n,i,o,a,s,l,c){var u=lt.T,d=yt.p;try{yt.p=2,lt.T=null,function(e,t,r,n,i,o,a,s){do{Dd()}while(null!==rd);if(6&Nu)throw Error(Be(327));var l=e.finishedWork;if(n=e.finishedLanes,null===l)return null;if(e.finishedWork=null,e.finishedLanes=0,l===e.current)throw Error(Be(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var c=l.lanes|l.childLanes;if(function(e,t,r,n,i,o){var a=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(r=a&~r;0<r;){var u=31-Zt(r),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}r&=~d}0!==n&&dr(e,n,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(a&~t))}(e,n,c|=no,o,a,s),e===Du&&(Pu=Du=null,Mu=0),!(10256&l.subtreeFlags)&&!(10256&l.flags)||td||(td=!0,id=c,od=r,jt(Gt,function(){return Dd(),null})),r=!!(15990&l.flags),15990&l.subtreeFlags||r?(r=lt.T,lt.T=null,o=yt.p,yt.p=2,a=Nu,Nu|=4,function(e,t){if(e=e.containerInfo,Ch=Sp,Ni(e=Oi(e))){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(g){r=null;break e}var a=0,s=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==r||0!==i&&3!==d.nodeType||(s=a+i),d!==o||0!==n&&3!==d.nodeType||(l=a+n),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++c===i&&(s=a),h===o&&++u===n&&(l=a),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}r=-1===s||-1===l?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ah={focusedElem:e,selectionRange:r},Sp=!1,Pc=t;null!==Pc;)if(e=(t=Pc).child,1028&t.subtreeFlags&&null!==e)e.return=t,Pc=e;else for(;null!==Pc;){switch(o=(t=Pc).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==o){e=void 0,r=t,i=o.memoizedProps,o=o.memoizedState,n=r.stateNode;try{var f=dl(r.type,i,(r.elementType,r.type));e=n.getSnapshotBeforeUpdate(f,o),n.__reactInternalSnapshotBeforeUpdate=e}catch(m){Md(r,r.return,m)}}break;case 3:if(1024&e)if(9===(r=(e=t.stateNode.containerInfo).nodeType))Bh(e);else if(1===r)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Bh(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(Be(163))}if(null!==(e=t.sibling)){e.return=t.return,Pc=e;break}Pc=t.return}f=Mc,Mc=!1}(e,l),Wc(l,e),Di(Ah,e.containerInfo),Sp=!!Ch,Ah=Ch=null,e.current=l,jc(e,l.alternate,l),zt(),Nu=a,yt.p=o,lt.T=r):e.current=l,td?(td=!1,rd=e,nd=n):Nd(e,c),0===(c=e.pendingLanes)&&(ed=null),function(e){if(Kt&&"function"==typeof Kt.onCommitFiberRoot)try{Kt.onCommitFiberRoot(Yt,e,void 0,!(128&~e.current.flags))}catch(t){}}(l.stateNode),$d(e),null!==t)for(i=e.onRecoverableError,l=0;l<t.length;l++)c=t[l],i(c.value,{componentStack:c.stack});!!(3&nd)&&Dd(),c=e.pendingLanes,4194218&n&&42&c?e===sd?ad++:(ad=0,sd=e):ad=0,Xd(0)}(e,t,r,n,d,i,o,a)}finally{lt.T=u,yt.p=d}}function Nd(e,t){0===(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,ya(t))}function Dd(){if(null!==rd){var e=rd,t=id;id=0;var r=pr(nd),n=lt.T,i=yt.p;try{if(yt.p=32>r?32:r,lt.T=null,null===rd)var o=!1;else{r=od,od=null;var a=rd,s=nd;if(rd=null,nd=0,6&Nu)throw Error(Be(331));var l=Nu;if(Nu|=4,cu(a.current),tu(a,a.current,s,r),Nu=l,Xd(0),Kt&&"function"==typeof Kt.onPostCommitFiberRoot)try{Kt.onPostCommitFiberRoot(Yt,a)}catch(c){}o=!0}return o}finally{yt.p=i,lt.T=n,Nd(e,t)}}return!1}function Pd(e,t,r){t=po(r,t),null!==(e=uc(e,t=bl(e.stateNode,t,2),2))&&(ur(e,2),$d(e))}function Md(e,t,r){if(3===e.tag)Pd(e,e,r);else for(;null!==t;){if(3===t.tag){Pd(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===ed||!ed.has(n))){e=po(r,e),null!==(n=uc(t,r=vl(2),2))&&(yl(r,n,t,e),ur(n,2),$d(n));break}}t=t.return}}function jd(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new Ou;var i=new Set;n.set(t,i)}else void 0===(i=n.get(t))&&(i=new Set,n.set(t,i));i.has(r)||(Fu=!0,i.add(r),e=Ld.bind(null,e,t,r),t.then(e,e))}function Ld(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Du===e&&(Mu&r)===r&&(4===Vu||3===Vu&&(62914560&Mu)===Mu&&300>Ft()-Qu?!(2&Nu)&&bd(e,0):qu|=r,$u===Mu&&($u=0)),$d(e)}function Bd(e,t){0===t&&(t=lr()),null!==(e=so(e,t))&&(ur(e,t),$d(e))}function zd(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Bd(e,r)}function Fd(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;null!==i&&(r=i.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(Be(314))}null!==n&&n.delete(t),Bd(e,r)}var Ud=null,Vd=null,Hd=!1,Gd=!1,qd=!1,Wd=0;function $d(e){var t;e!==Vd&&null===e.next&&(null===Vd?Ud=Vd=e:Vd=Vd.next=e),Gd=!0,Hd||(Hd=!0,t=Yd,Mh(function(){6&Nu?jt(Vt,t):t()}))}function Xd(e,t){if(!qd&&Gd){qd=!0;do{for(var r=!1,n=Ud;null!==n;){if(0!==e){var i=n.pendingLanes;if(0===i)var o=0;else{var a=n.suspendedLanes,s=n.pingedLanes;o=(1<<31-Zt(42|e)+1)-1,o=201326677&(o&=i&~(a&~s))?201326677&o|1:o?2|o:0}0!==o&&(r=!0,Zd(n,o))}else o=Mu,!(3&(o=ir(n,n===Du?o:0)))||or(n,o)||(r=!0,Zd(n,o));n=n.next}}while(r);qd=!1}}function Yd(){Gd=Hd=!1;var e,t=0;0!==Wd&&(((e=window.event)&&"popstate"===e.type?e!==Oh&&(Oh=e,!0):(Oh=null,!1))&&(t=Wd),Wd=0);for(var r=Ft(),n=null,i=Ud;null!==i;){var o=i.next,a=Kd(i,r);0===a?(i.next=null,null===n?Ud=o:n.next=o,null===o&&(Vd=n)):(n=i,(0!==t||3&a)&&(Gd=!0)),i=o}Xd(t)}function Kd(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var a=31-Zt(o),s=1<<a,l=i[a];-1===l?0!==(s&r)&&0===(s&n)||(i[a]=ar(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}if(r=Mu,r=ir(e,e===(t=Du)?r:0),n=e.callbackNode,0===r||e===t&&2===ju||null!==e.cancelPendingCommit)return null!==n&&null!==n&&Lt(n),e.callbackNode=null,e.callbackPriority=0;if(!(3&r)||or(e,r)){if((t=r&-r)===e.callbackPriority)return t;switch(null!==n&&Lt(n),pr(r)){case 2:case 8:r=Ht;break;case 32:default:r=Gt;break;case 268435456:r=Wt}return n=Qd.bind(null,e),r=jt(r,n),e.callbackPriority=t,e.callbackNode=r,t}return null!==n&&null!==n&&Lt(n),e.callbackPriority=2,e.callbackNode=null,2}function Qd(e,t){var r=e.callbackNode;if(Dd()&&e.callbackNode!==r)return null;var n=Mu;return 0===(n=ir(e,e===Du?n:0))?null:(dd(e,n,t),Kd(e,Ft()),null!=e.callbackNode&&e.callbackNode===r?Qd.bind(null,e):null)}function Zd(e,t){if(Dd())return null;dd(e,t,!0)}function Jd(){return 0===Wd&&(Wd=sr()),Wd}function eh(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:ln(""+e)}function th(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}for(var rh=0;rh<Ji.length;rh++){var nh=Ji[rh];eo(nh.toLowerCase(),"on"+(nh[0].toUpperCase()+nh.slice(1)))}eo(qi,"onAnimationEnd"),eo(Wi,"onAnimationIteration"),eo($i,"onAnimationStart"),eo("dblclick","onDoubleClick"),eo("focusin","onFocus"),eo("focusout","onBlur"),eo(Xi,"onTransitionRun"),eo(Yi,"onTransitionStart"),eo(Ki,"onTransitionCancel"),eo(Qi,"onTransitionEnd"),Dr("onMouseEnter",["mouseout","mouseover"]),Dr("onMouseLeave",["mouseout","mouseover"]),Dr("onPointerEnter",["pointerout","pointerover"]),Dr("onPointerLeave",["pointerout","pointerover"]),Nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ih="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ih));function ah(e,t){t=!!(4&t);for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var s=n[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=c;try{o(i)}catch(u){hl(u)}i.currentTarget=null,o=l}else for(a=0;a<n.length;a++){if(l=(s=n[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=c;try{o(i)}catch(u){hl(u)}i.currentTarget=null,o=l}}}}function sh(e,t){var r=t[vr];void 0===r&&(r=t[vr]=new Set);var n=e+"__bubble";r.has(n)||(dh(t,e,2,!1),r.add(n))}function lh(e,t,r){var n=0;t&&(n|=4),dh(r,e,n,t)}var ch="_reactListening"+Math.random().toString(36).slice(2);function uh(e){if(!e[ch]){e[ch]=!0,Rr.forEach(function(t){"selectionchange"!==t&&(oh.has(t)||lh(t,!1,e),lh(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[ch]||(t[ch]=!0,lh("selectionchange",!1,t))}}function dh(e,t,r,n){switch(Ip(t)){case 2:var i=Ep;break;case 8:i=_p;break;default:i=Cp}r=i.bind(null,t,r,e),i=void 0,!wn||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),n?void 0!==i?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):void 0!==i?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function hh(e,t,r,n,i){var o=n;if(!(1&t||2&t||null===n))e:for(;;){if(null===n)return;var a=n.tag;if(3===a||4===a){var s=n.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=n.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Cr(s)))return;if(5===(l=a.tag)||6===l||26===l||27===l){n=o=a;continue e}s=s.parentNode}}n=n.return}gn(function(){var n=o,i=un(r),a=[];e:{var s=Zi.get(e);if(void 0!==s){var l=On,c=e;switch(e){case"keypress":if(0===En(r))break e;case"keydown":case"keyup":l=Wn;break;case"focusin":c="focus",l=Ln;break;case"focusout":c="blur",l=Ln;break;case"beforeblur":case"afterblur":l=Ln;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=Mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=jn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Xn;break;case qi:case Wi:case $i:l=Bn;break;case Qi:l=Yn;break;case"scroll":case"scrollend":l=Dn;break;case"wheel":l=Kn;break;case"copy":case"cut":case"paste":l=zn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=$n;break;case"toggle":case"beforetoggle":l=Qn}var u=!!(4&t),d=!u&&("scroll"===e||"scrollend"===e),h=u?null!==s?s+"Capture":null:s;u=[];for(var p,f=n;null!==f;){var g=f;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===h||null!=(g=mn(f,h))&&u.push(ph(f,g,p)),d)break;f=f.return}0<u.length&&(s=new l(s,c,null,r,i),a.push({event:s,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||r===cn||!(c=r.relatedTarget||r.fromElement)||!Cr(c)&&!c[br])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?Cr(c):null)&&(d=gt(c),u=c.tag,c!==d||5!==u&&27!==u&&6!==u)&&(c=null)):(l=null,c=n),l!==c)){if(u=Mn,g="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=$n,g="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?s:Tr(l),p=null==c?s:Tr(c),(s=new u(g,f+"leave",l,r,i)).target=d,s.relatedTarget=p,g=null,Cr(i)===n&&((u=new u(h,f+"enter",c,r,i)).target=p,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,f=0,p=u=l;p;p=gh(p))f++;for(p=0,g=h;g;g=gh(g))p++;for(;0<f-p;)u=gh(u),f--;for(;0<p-f;)h=gh(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=gh(u),h=gh(h)}u=null}else u=null;null!==l&&mh(a,s,l,u,!1),null!==c&&null!==d&&mh(a,d,c,u,!0)}if("select"===(l=(s=n?Tr(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=gi;else if(ci(s))if(mi)m=Ci;else{m=Ei;var w=Si}else!(l=s.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?n&&on(n.elementType)&&(m=gi):m=_i;switch(m&&(m=m(e,n))?ui(a,m,r,i):(w&&w(e,s,n),"focusout"===e&&n&&"number"===s.type&&null!=n.memoizedProps.value&&Kr(s,"number",s.value)),w=n?Tr(n):window,e){case"focusin":(ci(w)||"true"===w.contentEditable)&&(Mi=w,ji=n,Li=null);break;case"focusout":Li=ji=Mi=null;break;case"mousedown":Bi=!0;break;case"contextmenu":case"mouseup":case"dragend":Bi=!1,zi(a,r,i);break;case"selectionchange":if(Pi)break;case"keydown":case"keyup":zi(a,r,i)}var b;if(Jn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else si?oi(e,r)&&(v="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(v="onCompositionStart");v&&(ri&&"ko"!==r.locale&&(si||"onCompositionStart"!==v?"onCompositionEnd"===v&&si&&(b=Sn()):(yn="value"in(vn=i)?vn.value:vn.textContent,si=!0)),0<(w=fh(n,v)).length&&(v=new Fn(v,e,null,r,i),a.push({event:v,listeners:w}),(b||null!==(b=ai(r)))&&(v.data=b))),(b=ti?function(e,t){switch(e){case"compositionend":return ai(t);case"keypress":return 32!==t.which?null:(ii=!0,ni);case"textInput":return(e=t.data)===ni&&ii?null:e;default:return null}}(e,r):function(e,t){if(si)return"compositionend"===e||!Jn&&oi(e,t)?(e=Sn(),xn=yn=vn=null,si=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ri&&"ko"!==t.locale?null:t.data}}(e,r))&&0<(v=fh(n,"onBeforeInput")).length&&(w=new Fn("onBeforeInput","beforeinput",null,r,i),a.push({event:w,listeners:v}),w.data=b),function(e,t,r,n,i){if("submit"===t&&r&&r.stateNode===i){var o=eh((i[wr]||null).action),a=n.submitter;a&&null!==(t=(t=a[wr]||null)?eh(t.formAction):a.getAttribute("formAction"))&&(o=t,a=null);var s=new On("action","action",null,n,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(0!==Wd){var e=a?th(i,a):new FormData(i);Hs(r,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"==typeof o&&(s.preventDefault(),e=a?th(i,a):new FormData(i),Hs(r,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(a,e,n,r,i)}ah(a,t)})}function ph(e,t,r){return{instance:e,listener:t,currentTarget:r}}function fh(e,t){for(var r=t+"Capture",n=[];null!==e;){var i=e,o=i.stateNode;5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=mn(e,r))&&n.unshift(ph(e,i,o)),null!=(i=mn(e,t))&&n.push(ph(e,i,o))),e=e.return}return n}function gh(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function mh(e,t,r,n,i){for(var o=t._reactName,a=[];null!==r&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===n)break;5!==s&&26!==s&&27!==s||null===c||(l=c,i?null!=(c=mn(r,o))&&a.unshift(ph(r,c,l)):i||null!=(c=mn(r,o))&&a.push(ph(r,c,l))),r=r.return}0!==a.length&&e.push({event:t,listeners:a})}var wh=/\r\n?/g,bh=/\u0000|\uFFFD/g;function vh(e){return("string"==typeof e?e:""+e).replace(wh,"\n").replace(bh,"")}function yh(e,t){return t=vh(t),vh(e)===t}function xh(){}function Sh(e,t,r,n,i,o){switch(r){case"children":"string"==typeof n?"body"===t||"textarea"===t&&""===n||en(e,n):("number"==typeof n||"bigint"==typeof n)&&"body"!==t&&en(e,""+n);break;case"className":zr(e,"class",n);break;case"tabIndex":zr(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":zr(e,r,n);break;case"style":nn(e,n,o);break;case"data":if("object"!==t){zr(e,"data",n);break}case"src":case"href":if(""===n&&("a"!==t||"href"!==r)){e.removeAttribute(r);break}if(null==n||"function"==typeof n||"symbol"==typeof n||"boolean"==typeof n){e.removeAttribute(r);break}n=ln(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if("function"==typeof n){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof o&&("formAction"===r?("input"!==t&&Sh(e,t,"name",i.name,i,null),Sh(e,t,"formEncType",i.formEncType,i,null),Sh(e,t,"formMethod",i.formMethod,i,null),Sh(e,t,"formTarget",i.formTarget,i,null)):(Sh(e,t,"encType",i.encType,i,null),Sh(e,t,"method",i.method,i,null),Sh(e,t,"target",i.target,i,null))),null==n||"symbol"==typeof n||"boolean"==typeof n){e.removeAttribute(r);break}n=ln(""+n),e.setAttribute(r,n);break;case"onClick":null!=n&&(e.onclick=xh);break;case"onScroll":null!=n&&sh("scroll",e);break;case"onScrollEnd":null!=n&&sh("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!=typeof n||!("__html"in n))throw Error(Be(61));if(null!=(r=n.__html)){if(null!=i.children)throw Error(Be(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&"function"!=typeof n&&"symbol"!=typeof n;break;case"muted":e.muted=n&&"function"!=typeof n&&"symbol"!=typeof n;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==n||"function"==typeof n||"boolean"==typeof n||"symbol"==typeof n){e.removeAttribute("xlink:href");break}r=ln(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=n&&"function"!=typeof n&&"symbol"!=typeof n?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!=typeof n&&"symbol"!=typeof n?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":!0===n?e.setAttribute(r,""):!1!==n&&null!=n&&"function"!=typeof n&&"symbol"!=typeof n?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":null!=n&&"function"!=typeof n&&"symbol"!=typeof n&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":null==n||"function"==typeof n||"symbol"==typeof n||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":sh("beforetoggle",e),sh("toggle",e),Br(e,"popover",n);break;case"xlinkActuate":Fr(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Fr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Fr(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Fr(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Fr(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Fr(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Fr(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Fr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Fr(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Br(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])&&Br(e,r=an.get(r)||r,n)}}function Eh(e,t,r,n,i,o){switch(r){case"style":nn(e,n,o);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!=typeof n||!("__html"in n))throw Error(Be(61));if(null!=(r=n.__html)){if(null!=i.children)throw Error(Be(60));e.innerHTML=r}}break;case"children":"string"==typeof n?en(e,n):("number"==typeof n||"bigint"==typeof n)&&en(e,""+n);break;case"onScroll":null!=n&&sh("scroll",e);break;case"onScrollEnd":null!=n&&sh("scrollend",e);break;case"onClick":null!=n&&(e.onclick=xh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Or.hasOwnProperty(r)||("o"!==r[0]||"n"!==r[1]||(i=r.endsWith("Capture"),t=r.slice(2,i?r.length-7:void 0),"function"==typeof(o=null!=(o=e[wr]||null)?o[r]:null)&&e.removeEventListener(t,o,i),"function"!=typeof n)?r in e?e[r]=n:!0===n?e.setAttribute(r,""):Br(e,r,n):("function"!=typeof o&&null!==o&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,i)))}}function _h(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":sh("error",e),sh("load",e);var n,i=!1,o=!1;for(n in r)if(r.hasOwnProperty(n)){var a=r[n];if(null!=a)switch(n){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Be(137,t));default:Sh(e,t,n,a,r,null)}}return o&&Sh(e,t,"srcSet",r.srcSet,r,null),void(i&&Sh(e,t,"src",r.src,r,null));case"input":sh("invalid",e);var s=n=a=o=null,l=null,c=null;for(i in r)if(r.hasOwnProperty(i)){var u=r[i];if(null!=u)switch(i){case"name":o=u;break;case"type":a=u;break;case"checked":l=u;break;case"defaultChecked":c=u;break;case"value":n=u;break;case"defaultValue":s=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(Be(137,t));break;default:Sh(e,t,i,u,r,null)}}return Yr(e,n,s,l,c,a,o,!1),void Hr(e);case"select":for(o in sh("invalid",e),i=a=n=null,r)if(r.hasOwnProperty(o)&&null!=(s=r[o]))switch(o){case"value":n=s;break;case"defaultValue":a=s;break;case"multiple":i=s;default:Sh(e,t,o,s,r,null)}return t=n,r=a,e.multiple=!!i,void(null!=t?Qr(e,!!i,t,!1):null!=r&&Qr(e,!!i,r,!0));case"textarea":for(a in sh("invalid",e),n=o=i=null,r)if(r.hasOwnProperty(a)&&null!=(s=r[a]))switch(a){case"value":i=s;break;case"defaultValue":o=s;break;case"children":n=s;break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(Be(91));break;default:Sh(e,t,a,s,r,null)}return Jr(e,i,o,n),void Hr(e);case"option":for(l in r)r.hasOwnProperty(l)&&null!=(i=r[l])&&("selected"===l?e.selected=i&&"function"!=typeof i&&"symbol"!=typeof i:Sh(e,t,l,i,r,null));return;case"dialog":sh("cancel",e),sh("close",e);break;case"iframe":case"object":sh("load",e);break;case"video":case"audio":for(i=0;i<ih.length;i++)sh(ih[i],e);break;case"image":sh("error",e),sh("load",e);break;case"details":sh("toggle",e);break;case"embed":case"source":case"link":sh("error",e),sh("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in r)if(r.hasOwnProperty(c)&&null!=(i=r[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(Be(137,t));default:Sh(e,t,c,i,r,null)}return;default:if(on(t)){for(u in r)r.hasOwnProperty(u)&&void 0!==(i=r[u])&&Eh(e,t,u,i,r,void 0);return}}for(s in r)r.hasOwnProperty(s)&&null!=(i=r[s])&&Sh(e,t,s,i,r,null)}var Ch=null,Ah=null;function Th(e){return 9===e.nodeType?e:e.ownerDocument}function kh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ih(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Rh(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Oh=null,Nh="function"==typeof setTimeout?setTimeout:void 0,Dh="function"==typeof clearTimeout?clearTimeout:void 0,Ph="function"==typeof Promise?Promise:void 0,Mh="function"==typeof queueMicrotask?queueMicrotask:void 0!==Ph?function(e){return Ph.resolve(null).then(e).catch(jh)}:Nh;function jh(e){setTimeout(function(){throw e})}function Lh(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&8===i.nodeType)if("/$"===(r=i.data)){if(0===n)return e.removeChild(i),void $p(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=i}while(r);$p(t)}function Bh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Bh(r),_r(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===r.rel.toLowerCase())continue}e.removeChild(r)}}function zh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function Fh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}function Uh(e,t,r){switch(t=Th(r),e){case"html":if(!(e=t.documentElement))throw Error(Be(452));return e;case"head":if(!(e=t.head))throw Error(Be(453));return e;case"body":if(!(e=t.body))throw Error(Be(454));return e;default:throw Error(Be(451))}}var Vh=new Map,Hh=new Set;function Gh(e){return"function"==typeof e.getRootNode?e.getRootNode():e.ownerDocument}var qh=yt.d;yt.d={f:function(){var e=qh.f(),t=md();return e||t},r:function(e){var t=Ar(e);null!==t&&5===t.tag&&"form"===t.type?qs(t):qh.r(e)},D:function(e){qh.D(e),$h("dns-prefetch",e,null)},C:function(e,t){qh.C(e,t),$h("preconnect",e,t)},L:function(e,t,r){qh.L(e,t,r);var n=Wh;if(n&&e&&t){var i='link[rel="preload"][as="'+$r(t)+'"]';"image"===t&&r&&r.imageSrcSet?(i+='[imagesrcset="'+$r(r.imageSrcSet)+'"]',"string"==typeof r.imageSizes&&(i+='[imagesizes="'+$r(r.imageSizes)+'"]')):i+='[href="'+$r(e)+'"]';var o=i;switch(t){case"style":o=Yh(e);break;case"script":o=Zh(e)}Vh.has(o)||(e=ct({rel:"preload",href:"image"===t&&r&&r.imageSrcSet?void 0:e,as:t},r),Vh.set(o,e),null!==n.querySelector(i)||"style"===t&&n.querySelector(Kh(o))||"script"===t&&n.querySelector(Jh(o))||(_h(t=n.createElement("link"),"link",e),Ir(t),n.head.appendChild(t)))}},m:function(e,t){qh.m(e,t);var r=Wh;if(r&&e){var n=t&&"string"==typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+$r(n)+'"][href="'+$r(e)+'"]',o=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Zh(e)}if(!Vh.has(o)&&(e=ct({rel:"modulepreload",href:e},t),Vh.set(o,e),null===r.querySelector(i))){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Jh(o)))return}_h(n=r.createElement("link"),"link",e),Ir(n),r.head.appendChild(n)}}},X:function(e,t){qh.X(e,t);var r=Wh;if(r&&e){var n=kr(r).hoistableScripts,i=Zh(e),o=n.get(i);o||((o=r.querySelector(Jh(i)))||(e=ct({src:e,async:!0},t),(t=Vh.get(i))&&np(e,t),Ir(o=r.createElement("script")),_h(o,"link",e),r.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},n.set(i,o))}},S:function(e,t,r){qh.S(e,t,r);var n=Wh;if(n&&e){var i=kr(n).hoistableStyles,o=Yh(e);t=t||"default";var a=i.get(o);if(!a){var s={loading:0,preload:null};if(a=n.querySelector(Kh(o)))s.loading=5;else{e=ct({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Vh.get(o))&&rp(e,r);var l=a=n.createElement("link");Ir(l),_h(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,tp(a,t,n)}a={type:"stylesheet",instance:a,count:1,state:s},i.set(o,a)}}},M:function(e,t){qh.M(e,t);var r=Wh;if(r&&e){var n=kr(r).hoistableScripts,i=Zh(e),o=n.get(i);o||((o=r.querySelector(Jh(i)))||(e=ct({src:e,async:!0,type:"module"},t),(t=Vh.get(i))&&np(e,t),Ir(o=r.createElement("script")),_h(o,"link",e),r.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},n.set(i,o))}}};var Wh="undefined"==typeof document?null:document;function $h(e,t,r){var n=Wh;if(n&&"string"==typeof t&&t){var i=$r(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"==typeof r&&(i+='[crossorigin="'+r+'"]'),Hh.has(i)||(Hh.add(i),e={rel:e,crossOrigin:r,href:t},null===n.querySelector(i)&&(_h(t=n.createElement("link"),"link",e),Ir(t),n.head.appendChild(t)))}}function Xh(e,t,r,n){var i,o,a,s,l=(l=It.current)?Gh(l):null;if(!l)throw Error(Be(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof r.precedence&&"string"==typeof r.href?(t=Yh(r.href),(n=(r=kr(l).hoistableStyles).get(t))||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===r.rel&&"string"==typeof r.href&&"string"==typeof r.precedence){e=Yh(r.href);var c=kr(l).hoistableStyles,u=c.get(e);if(u||(l=l.ownerDocument||l,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,u),(c=l.querySelector(Kh(e)))&&!c._p&&(u.instance=c,u.state.loading=5),Vh.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Vh.set(e,r),c||(i=l,o=e,a=r,s=u.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?s.loading=1:(o=i.createElement("link"),s.preload=o,o.addEventListener("load",function(){return s.loading|=1}),o.addEventListener("error",function(){return s.loading|=2}),_h(o,"link",a),Ir(o),i.head.appendChild(o))))),t&&null===n)throw Error(Be(528,""));return u}if(t&&null!==n)throw Error(Be(529,""));return null;case"script":return t=r.async,"string"==typeof(r=r.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Zh(r),(n=(r=kr(l).hoistableScripts).get(t))||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(Be(444,e))}}function Yh(e){return'href="'+$r(e)+'"'}function Kh(e){return'link[rel="stylesheet"]['+e+"]"}function Qh(e){return ct({},e,{"data-precedence":e.precedence,precedence:null})}function Zh(e){return'[src="'+$r(e)+'"]'}function Jh(e){return"script[async]"+e}function ep(e,t,r){if(t.count++,null===t.instance)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+$r(r.href)+'"]');if(n)return t.instance=n,Ir(n),n;var i=ct({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return Ir(n=(e.ownerDocument||e).createElement("style")),_h(n,"style",i),tp(n,r.precedence,e),t.instance=n;case"stylesheet":i=Yh(r.href);var o=e.querySelector(Kh(i));if(o)return t.state.loading|=4,t.instance=o,Ir(o),o;n=Qh(r),(i=Vh.get(i))&&rp(n,i),Ir(o=(e.ownerDocument||e).createElement("link"));var a=o;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),_h(o,"link",n),t.state.loading|=4,tp(o,r.precedence,e),t.instance=o;case"script":return o=Zh(r.src),(i=e.querySelector(Jh(o)))?(t.instance=i,Ir(i),i):(n=r,(i=Vh.get(o))&&np(n=ct({},r),i),Ir(i=(e=e.ownerDocument||e).createElement("script")),_h(i,"link",n),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(Be(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(n=t.instance,t.state.loading|=4,tp(n,r.precedence,e));return t.instance}function tp(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,o=i,a=0;a<n.length;a++){var s=n[a];if(s.dataset.precedence===t)o=s;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===r.nodeType?r.head:r).insertBefore(e,t.firstChild)}function rp(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function np(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var ip=null;function op(e,t,r){if(null===ip){var n=new Map,i=ip=new Map;i.set(r,n)}else(n=(i=ip).get(r))||(n=new Map,i.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),i=0;i<r.length;i++){var o=r[i];if(!(o[Er]||o[mr]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var a=o.getAttribute(t)||"";a=e+a;var s=n.get(a);s?s.push(o):n.set(a,[o])}}return n}function ap(e,t,r){(e=e.ownerDocument||e).head.insertBefore(r,"title"===t?e.querySelector("head > title"):null)}function sp(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var lp=null;function cp(){}function up(){if(this.count--,0===this.count)if(this.stylesheets)hp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var dp=null;function hp(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,dp=new Map,t.forEach(pp,e),dp=null,up.call(e))}function pp(e,t){if(!(4&t.state.loading)){var r=dp.get(e);if(r)var n=r.get(null);else{r=new Map,dp.set(e,r);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var a=i[o];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(r.set(a.dataset.precedence,a),n=a)}n&&r.set(null,n)}a=(i=t.instance).getAttribute("data-precedence"),(o=r.get(a)||n)===n&&r.set(null,i),r.set(a,i),this.count++,n=up.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var fp={$$typeof:Xe,Provider:null,Consumer:null,_currentValue:xt,_currentValue2:xt,_threadCount:0};function gp(e,t,r,n,i,o,a,s){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cr(0),this.hiddenUpdates=cr(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function mp(e,t,r,n,i,o,a,s,l,c,u,d){return e=new gp(e,t,r,a,s,l,c,d),t=1,!0===o&&(t|=24),o=pu(3,null,null,t),e.current=o,o.stateNode=e,(t=va()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:n,isDehydrated:r,cache:t},sc(o),e}function wp(e){return e?e=uo:uo}function bp(e,t,r,n,i,o){i=wp(i),null===n.context?n.context=i:n.pendingContext=i,(n=cc(t)).payload={element:r},null!==(o=void 0===o?null:o)&&(n.callback=o),null!==(r=uc(e,n,t))&&(ud(r,0,t),dc(r,e,t))}function vp(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function yp(e,t){vp(e,t),(e=e.alternate)&&vp(e,t)}function xp(e){if(13===e.tag){var t=so(e,67108864);null!==t&&ud(t,0,67108864),yp(e,67108864)}}var Sp=!0;function Ep(e,t,r,n){var i=lt.T;lt.T=null;var o=yt.p;try{yt.p=2,Cp(e,t,r,n)}finally{yt.p=o,lt.T=i}}function _p(e,t,r,n){var i=lt.T;lt.T=null;var o=yt.p;try{yt.p=8,Cp(e,t,r,n)}finally{yt.p=o,lt.T=i}}function Cp(e,t,r,n){if(Sp){var i=Ap(n);if(null===i)hh(e,t,n,Tp,r),Bp(e,n);else if(function(e,t,r,n,i){switch(t){case"focusin":return Op=zp(Op,e,t,r,n,i),!0;case"dragenter":return Np=zp(Np,e,t,r,n,i),!0;case"mouseover":return Dp=zp(Dp,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return Pp.set(o,zp(Pp.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Mp.set(o,zp(Mp.get(o)||null,e,t,r,n,i)),!0}return!1}(i,e,t,r,n))n.stopPropagation();else if(Bp(e,n),4&t&&-1<Lp.indexOf(e)){for(;null!==i;){var o=Ar(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var a=nr(o.pendingLanes);if(0!==a){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-Zt(a);s.entanglements[1]|=l,a&=~l}$d(o),!(6&Nu)&&(Zu=Ft()+500,Xd(0))}}break;case 13:null!==(s=so(o,2))&&ud(s,0,2),md(),yp(o,2)}if(null===(o=Ap(n))&&hh(e,t,n,Tp,r),o===i)break;i=o}null!==i&&n.stopPropagation()}else hh(e,t,n,null,r)}}function Ap(e){return kp(e=un(e))}var Tp=null;function kp(e){if(Tp=null,null!==(e=Cr(e))){var t=gt(e);if(null===t)e=null;else{var r=t.tag;if(13===r){if(null!==(e=mt(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Tp=e,null}function Ip(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ut()){case Vt:return 2;case Ht:return 8;case Gt:case qt:return 32;case Wt:return 268435456;default:return 32}default:return 32}}var Rp=!1,Op=null,Np=null,Dp=null,Pp=new Map,Mp=new Map,jp=[],Lp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bp(e,t){switch(e){case"focusin":case"focusout":Op=null;break;case"dragenter":case"dragleave":Np=null;break;case"mouseover":case"mouseout":Dp=null;break;case"pointerover":case"pointerout":Pp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mp.delete(t.pointerId)}}function zp(e,t,r,n,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},null!==t&&null!==(t=Ar(t))&&xp(t),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Fp(e){var t=Cr(e.target);if(null!==t){var r=gt(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=mt(r)))return e.blockedOn=t,void function(e,t){var r=yt.p;try{return yt.p=e,t()}finally{yt.p=r}}(e.priority,function(){if(13===r.tag){var e=ld(),t=so(r,e);null!==t&&ud(t,0,e),yp(r,e)}})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Up(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ap(e.nativeEvent);if(null!==r)return null!==(t=Ar(r))&&xp(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);cn=n,r.target.dispatchEvent(n),cn=null,t.shift()}return!0}function Vp(e,t,r){Up(e)&&r.delete(t)}function Hp(){Rp=!1,null!==Op&&Up(Op)&&(Op=null),null!==Np&&Up(Np)&&(Np=null),null!==Dp&&Up(Dp)&&(Dp=null),Pp.forEach(Vp),Mp.forEach(Vp)}function Gp(e,t){e.blockedOn===t&&(e.blockedOn=null,Rp||(Rp=!0,Me.unstable_scheduleCallback(Me.unstable_NormalPriority,Hp)))}var qp=null;function Wp(e){qp!==e&&(qp=e,Me.unstable_scheduleCallback(Me.unstable_NormalPriority,function(){qp===e&&(qp=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],i=e[t+2];if("function"!=typeof n){if(null===kp(n||r))continue;break}var o=Ar(r);null!==o&&(e.splice(t,3),t-=3,Hs(o,{pending:!0,data:i,method:r.method,action:n},n,i))}}))}function $p(e){function t(t){return Gp(t,e)}null!==Op&&Gp(Op,e),null!==Np&&Gp(Np,e),null!==Dp&&Gp(Dp,e),Pp.forEach(t),Mp.forEach(t);for(var r=0;r<jp.length;r++){var n=jp[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<jp.length&&null===(r=jp[0]).blockedOn;)Fp(r),null===r.blockedOn&&jp.shift();if(null!=(r=(e.ownerDocument||e).$$reactFormReplay))for(n=0;n<r.length;n+=3){var i=r[n],o=r[n+1],a=i[wr]||null;if("function"==typeof o)a||Wp(r);else if(a){var s=null;if(o&&o.hasAttribute("formAction")){if(i=o,a=o[wr]||null)s=a.formAction;else if(null!==kp(i))continue}else s=a.action;"function"==typeof s?r[n+1]=s:(r.splice(n,3),n-=3),Wp(r)}}}function Xp(e){this._internalRoot=e}function Yp(e){this._internalRoot=e}Yp.prototype.render=Xp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(Be(409));bp(t.current,ld(),e,t,null,null)},Yp.prototype.unmount=Xp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&Dd(),bp(e.current,2,null,e,null,null),md(),t[br]=null}},Yp.prototype.unstable_scheduleHydration=function(e){if(e){var t=fr();e={blockedOn:null,target:e,priority:t};for(var r=0;r<jp.length&&0!==t&&t<jp[r].priority;r++);jp.splice(r,0,e),0===r&&Fp(e)}};var Kp=je.version;if("19.0.0"!==Kp)throw Error(Be(527,Kp,"19.0.0"));yt.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(Be(188));throw e=Object.keys(e).join(","),Error(Be(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=gt(e)))throw Error(Be(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(n=i.return)){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return wt(i),e;if(o===n)return wt(i),t;o=o.sibling}throw Error(Be(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,s=i.child;s;){if(s===r){a=!0,r=i,n=o;break}if(s===n){a=!0,n=i,r=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===r){a=!0,r=o,n=i;break}if(s===n){a=!0,n=o,r=i;break}s=s.sibling}if(!a)throw Error(Be(189))}}if(r.alternate!==n)throw Error(Be(190))}if(3!==r.tag)throw Error(Be(188));return r.stateNode.current===r?e:t}(t),e=null===(e=null!==e?bt(e):null)?null:e.stateNode};var Qp={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:lt,findFiberByHostInstance:Cr,reconcilerVersion:"19.0.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Zp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zp.isDisabled&&Zp.supportsFiber)try{Yt=Zp.inject(Qp),Kt=Zp}catch(Lx){}}Ne.createRoot=function(e,t){if(!ze(e))throw Error(Be(299));var r=!1,n="",i=pl,o=fl,a=gl;return null!=t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(a=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=mp(e,1,!1,null,0,r,n,i,o,a,0,null),e[br]=t.current,uh(8===e.nodeType?e.parentNode:e),new Xp(t)},Ne.hydrateRoot=function(e,t,r){if(!ze(e))throw Error(Be(299));var n=!1,i="",o=pl,a=fl,s=gl,l=null;return null!=r&&(!0===r.unstable_strictMode&&(n=!0),void 0!==r.identifierPrefix&&(i=r.identifierPrefix),void 0!==r.onUncaughtError&&(o=r.onUncaughtError),void 0!==r.onCaughtError&&(a=r.onCaughtError),void 0!==r.onRecoverableError&&(s=r.onRecoverableError),void 0!==r.unstable_transitionCallbacks&&r.unstable_transitionCallbacks,void 0!==r.formState&&(l=r.formState)),(t=mp(e,1,!0,t,0,n,i,o,a,s,0,l)).context=wp(null),r=t.current,(i=cc(n=ld())).callback=null,uc(r,i,n),t.current.lanes=n,ur(t,n),$d(t),e[br]=t.current,uh(e),new Yp(t)},Ne.version="19.0.0",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(Lx){console.error(Lx)}}(),Oe.exports=Ne;var Jp,ef=Oe.exports;class tf extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class rf extends tf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class nf extends tf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class of extends tf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(Jp||(Jp={}));class af{constructor(e,{headers:t={},customFetch:r,region:n=Jp.Any}={}){this.url=e,this.headers=t,this.region=n,this.fetch=(e=>e?(...t)=>e(...t):(...e)=>fetch(...e))(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return r(this,arguments,void 0,function*(e,t={}){var r;let n,i;try{const{headers:o,method:a,body:s,signal:l,timeout:c}=t;let u={},{region:d}=t;d||(d=this.region);const h=new URL(`${this.url}/${e}`);let p;d&&"any"!==d&&(u["x-region"]=d,h.searchParams.set("forceFunctionRegion",d)),s&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?"undefined"!=typeof Blob&&s instanceof Blob||s instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",p=s):"string"==typeof s?(u["Content-Type"]="text/plain",p=s):"undefined"!=typeof FormData&&s instanceof FormData?p=s:(u["Content-Type"]="application/json",p=JSON.stringify(s)):p=s;let f=l;c&&(i=new AbortController,n=setTimeout(()=>i.abort(),c),l?(f=i.signal,l.addEventListener("abort",()=>i.abort())):f=i.signal);const g=yield this.fetch(h.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),o),body:p,signal:f}).catch(e=>{throw new rf(e)}),m=g.headers.get("x-relay-error");if(m&&"true"===m)throw new nf(g);if(!g.ok)throw new of(g);let w,b=(null!==(r=g.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return w="application/json"===b?yield g.json():"application/octet-stream"===b||"application/pdf"===b?yield g.blob():"text/event-stream"===b?g:"multipart/form-data"===b?yield g.formData():yield g.text(),{data:w,error:null,response:g}}catch(o){return{data:null,error:o,response:o instanceof of||o instanceof nf?o.context:void 0}}finally{n&&clearTimeout(n)}})}}var sf={};const lf=le(n);var cf,uf,df,hf,pf,ff,gf={},mf={},wf={},bf={},vf={},yf={};function xf(){if(cf)return yf;cf=1,Object.defineProperty(yf,"__esModule",{value:!0});class e extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}return yf.default=e,yf}function Sf(){if(uf)return vf;uf=1,Object.defineProperty(vf,"__esModule",{value:!0});const e=lf.__importDefault(xf());return vf.default=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(r=e.isMaybeSingle)&&void 0!==r&&r,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(t,r){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async t=>{var r,n,i,o;let a=null,s=null,l=null,c=t.status,u=t.statusText;if(t.ok){if("HEAD"!==this.method){const e=await t.text();""===e||(s="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null===(r=this.headers.get("Accept"))||void 0===r?void 0:r.includes("application/vnd.pgrst.plan+text"))?e:JSON.parse(e))}const e=null===(n=this.headers.get("Prefer"))||void 0===n?void 0:n.match(/count=(exact|planned|estimated)/),o=null===(i=t.headers.get("content-range"))||void 0===i?void 0:i.split("/");e&&o&&o.length>1&&(l=parseInt(o[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,c=406,u="Not Acceptable"):s=1===s.length?s[0]:null)}else{const r=await t.text();try{a=JSON.parse(r),Array.isArray(a)&&404===t.status&&(s=[],a=null,c=200,u="OK")}catch(d){404===t.status&&""===r?(c=204,u="No Content"):a={message:r}}if(a&&this.isMaybeSingle&&(null===(o=null==a?void 0:a.details)||void 0===o?void 0:o.includes("0 rows"))&&(a=null,c=200,u="OK"),a&&this.shouldThrowOnError)throw new e.default(a)}return{error:a,data:s,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(n=n.catch(e=>{var t,r,n,i,o,a;let s="";const l=null==e?void 0:e.cause;if(l){const o=null!==(t=null==l?void 0:l.message)&&void 0!==t?t:"",a=null!==(r=null==l?void 0:l.code)&&void 0!==r?r:"";s=`${null!==(n=null==e?void 0:e.name)&&void 0!==n?n:"FetchError"}: ${null==e?void 0:e.message}`,s+=`\n\nCaused by: ${null!==(i=null==l?void 0:l.name)&&void 0!==i?i:"Error"}: ${o}`,a&&(s+=` (${a})`),(null==l?void 0:l.stack)&&(s+=`\n${l.stack}`)}else s=null!==(o=null==e?void 0:e.stack)&&void 0!==o?o:"";return{error:{message:`${null!==(a=null==e?void 0:e.name)&&void 0!==a?a:"FetchError"}: ${null==e?void 0:e.message}`,details:s,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),n.then(t,r)}returns(){return this}overrideTypes(){return this}},vf}function Ef(){if(df)return bf;df=1,Object.defineProperty(bf,"__esModule",{value:!0});const e=lf.__importDefault(Sf());class t extends e.default{select(e){let t=!1;const r=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const i=void 0===n?"offset":`${n}.offset`,o=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const s=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=null!==(a=this.headers.get("Accept"))&&void 0!==a?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${l}"; options=${s};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}}return bf.default=t,bf}function _f(){if(hf)return wf;hf=1,Object.defineProperty(wf,"__esModule",{value:!0});const e=lf.__importDefault(Ef()),t=new RegExp("[,()]");class r extends e.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,r){const n=Array.from(new Set(r)).map(e=>"string"==typeof e&&t.test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";"plain"===n?i="pl":"phrase"===n?i="ph":"websearch"===n&&(i="w");const o=void 0===r?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}}return wf.default=r,wf}function Cf(){if(pf)return mf;pf=1,Object.defineProperty(mf,"__esModule",{value:!0});const e=lf.__importDefault(_f());return mf.default=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(t,r){const{head:n=!1,count:i}=null!=r?r:{},o=n?"HEAD":"GET";let a=!1;const s=(null!=t?t:"*").split("").map(e=>/\s/.test(e)&&!a?"":('"'===e&&(a=!a),e)).join("");return this.url.searchParams.set("select",s),i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var i;if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const e=t.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(e.length>0){const t=[...new Set(e)].map(e=>`"${e}"`);this.url.searchParams.set("columns",t.join(","))}}return new e.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:o=!0}={}){var a;if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),void 0!==r&&this.url.searchParams.set("on_conflict",r),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const e=t.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(e.length>0){const t=[...new Set(e)].map(e=>`"${e}"`);this.url.searchParams.set("columns",t.join(","))}}return new e.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:null!==(a=this.fetch)&&void 0!==a?a:fetch})}update(t,{count:r}={}){var n;return r&&this.headers.append("Prefer",`count=${r}`),new e.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}delete({count:t}={}){var r;return t&&this.headers.append("Prefer",`count=${t}`),new e.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}},mf}Object.defineProperty(sf,"__esModule",{value:!0});var Af=sf.PostgrestError=sf.PostgrestBuilder=sf.PostgrestTransformBuilder=sf.PostgrestFilterBuilder=sf.PostgrestQueryBuilder=sf.PostgrestClient=void 0;const Tf=lf,kf=Tf.__importDefault(function(){if(ff)return gf;ff=1,Object.defineProperty(gf,"__esModule",{value:!0});const e=lf,t=e.__importDefault(Cf()),r=e.__importDefault(_f());class n{constructor(e,{headers:t={},schema:r,fetch:n}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=n}from(e){if(!e||"string"!=typeof e||""===e.trim())throw new Error("Invalid relation name: relation must be a non-empty string.");const r=new URL(`${this.url}/${e}`);return new t.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new n(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:n=!1,get:i=!1,count:o}={}){var a;let s;const l=new URL(`${this.url}/rpc/${e}`);let c;n||i?(s=n?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{l.searchParams.append(e,t)})):(s="POST",c=t);const u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new r.default({method:s,url:l,headers:u,schema:this.schemaName,body:c,fetch:null!==(a=this.fetch)&&void 0!==a?a:fetch})}}return gf.default=n,gf}());var If=sf.PostgrestClient=kf.default;const Rf=Tf.__importDefault(Cf());var Of=sf.PostgrestQueryBuilder=Rf.default;const Nf=Tf.__importDefault(_f());var Df=sf.PostgrestFilterBuilder=Nf.default;const Pf=Tf.__importDefault(Ef());var Mf=sf.PostgrestTransformBuilder=Pf.default;const jf=Tf.__importDefault(Sf());var Lf=sf.PostgrestBuilder=jf.default;const Bf=Tf.__importDefault(xf());Af=sf.PostgrestError=Bf.default;var zf=sf.default={PostgrestClient:kf.default,PostgrestQueryBuilder:Rf.default,PostgrestFilterBuilder:Nf.default,PostgrestTransformBuilder:Pf.default,PostgrestBuilder:jf.default,PostgrestError:Bf.default};const Ff=Re({__proto__:null,get PostgrestBuilder(){return Lf},get PostgrestClient(){return If},get PostgrestError(){return Af},get PostgrestFilterBuilder(){return Df},get PostgrestQueryBuilder(){return Of},get PostgrestTransformBuilder(){return Mf},default:zf},[sf]),{PostgrestClient:Uf,PostgrestQueryBuilder:Vf,PostgrestFilterBuilder:Hf,PostgrestTransformBuilder:Gf,PostgrestBuilder:qf,PostgrestError:Wf}=zf||Ff;class $f{constructor(){}static detectEnvironment(){var e;if("undefined"!=typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!=typeof global&&void 0!==global.WebSocket)return{type:"native",constructor:global.WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocketPair&&void 0===globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!=typeof globalThis&&globalThis.EdgeRuntime||"undefined"!=typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!=typeof process){const e=process.versions;if(e&&e.node){const t=e.node,r=parseInt(t.replace(/^v/,"").split(".")[0]);return r>=22?void 0!==globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`\n\nSuggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(Hg){return!1}}}const Xf="1.0.0",Yf=Xf,Kf=1e4;var Qf,Zf,Jf,eg,tg,rg;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(Qf||(Qf={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(Zf||(Zf={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(Jf||(Jf={})),function(e){e.websocket="websocket"}(eg||(eg={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(tg||(tg={}));class ng{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&"string"==typeof e.payload.event)return t(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer(null===(t=e.payload)||void 0===t?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r,n,i;const o=e.topic,a=null!==(t=e.ref)&&void 0!==t?t:"",s=null!==(r=e.join_ref)&&void 0!==r?r:"",l=e.payload.event,c=null!==(i=null===(n=e.payload)||void 0===n?void 0:n.payload)&&void 0!==i?i:new ArrayBuffer(0),u=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+a.length+o.length+l.length,d=new ArrayBuffer(this.HEADER_LENGTH+u);let h=new DataView(d),p=0;h.setUint8(p++,this.KINDS.userBroadcastPush),h.setUint8(p++,s.length),h.setUint8(p++,a.length),h.setUint8(p++,o.length),h.setUint8(p++,l.length),h.setUint8(p++,this.BINARY_ENCODING),Array.from(s,e=>h.setUint8(p++,e.charCodeAt(0))),Array.from(a,e=>h.setUint8(p++,e.charCodeAt(0))),Array.from(o,e=>h.setUint8(p++,e.charCodeAt(0))),Array.from(l,e=>h.setUint8(p++,e.charCodeAt(0)));var f=new Uint8Array(d.byteLength+c.byteLength);return f.set(new Uint8Array(d),0),f.set(new Uint8Array(c),d.byteLength),f.buffer}_encodeJsonUserBroadcastPush(e){var t,r,n,i;const o=e.topic,a=null!==(t=e.ref)&&void 0!==t?t:"",s=null!==(r=e.join_ref)&&void 0!==r?r:"",l=e.payload.event,c=null!==(i=null===(n=e.payload)||void 0===n?void 0:n.payload)&&void 0!==i?i:{},u=(new TextEncoder).encode(JSON.stringify(c)).buffer,d=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+a.length+o.length+l.length,h=new ArrayBuffer(this.HEADER_LENGTH+d);let p=new DataView(h),f=0;p.setUint8(f++,this.KINDS.userBroadcastPush),p.setUint8(f++,s.length),p.setUint8(f++,a.length),p.setUint8(f++,o.length),p.setUint8(f++,l.length),p.setUint8(f++,this.JSON_ENCODING),Array.from(s,e=>p.setUint8(f++,e.charCodeAt(0))),Array.from(a,e=>p.setUint8(f++,e.charCodeAt(0))),Array.from(o,e=>p.setUint8(f++,e.charCodeAt(0))),Array.from(l,e=>p.setUint8(f++,e.charCodeAt(0)));var g=new Uint8Array(h.byteLength+u.byteLength);return g.set(new Uint8Array(h),0),g.set(new Uint8Array(u),h.byteLength),g.buffer}decode(e,t){if(this._isArrayBuffer(e))return t(this._binaryDecode(e));if("string"==typeof e){const r=JSON.parse(e),[n,i,o,a,s]=r;return t({join_ref:n,ref:i,topic:o,event:a,payload:s})}return t({})}_binaryDecode(e){const t=new DataView(e),r=t.getUint8(0),n=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,n)}_decodeUserBroadcast(e,t,r){const n=t.getUint8(1),i=t.getUint8(2),o=t.getUint8(3),a=t.getUint8(4);let s=this.HEADER_LENGTH+4;const l=r.decode(e.slice(s,s+n));s+=n;const c=r.decode(e.slice(s,s+i));s+=i;const u=r.decode(e.slice(s,s+o));s+=o;const d=e.slice(s,e.byteLength),h=a===this.JSON_ENCODING?JSON.parse(r.decode(d)):d,p={type:this.BROADCAST_EVENT,event:c,payload:h};return o>0&&(p.meta=JSON.parse(u)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||"ArrayBuffer"===(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)}}class ig{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(rg||(rg={}));const og=(e,t,r={})=>{var n;const i=null!==(n=r.skipTypes)&&void 0!==n?n:[];return t?Object.keys(t).reduce((r,n)=>(r[n]=ag(n,e,t,i),r),{}):{}},ag=(e,t,r,n)=>{const i=t.find(t=>t.name===e),o=null==i?void 0:i.type,a=r[e];return o&&!n.includes(o)?sg(o,a):lg(a)},sg=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return hg(t,r)}switch(e){case rg.bool:return cg(t);case rg.float4:case rg.float8:case rg.int2:case rg.int4:case rg.int8:case rg.numeric:case rg.oid:return ug(t);case rg.json:case rg.jsonb:return dg(t);case rg.timestamp:return pg(t);case rg.abstime:case rg.date:case rg.daterange:case rg.int4range:case rg.int8range:case rg.money:case rg.reltime:case rg.text:case rg.time:case rg.timestamptz:case rg.timetz:case rg.tsrange:case rg.tstzrange:default:return lg(t)}},lg=e=>e,cg=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ug=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},dg=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},hg=(e,t)=>{if("string"!=typeof e)return e;const r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){let n;const o=e.slice(1,r);try{n=JSON.parse("["+o+"]")}catch(i){n=o?o.split(","):[]}return n.map(e=>sg(t,e))}return e},pg=e=>"string"==typeof e?e.replace(" ","T"):e,fg=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===t.pathname||"/"===t.pathname?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class gg{constructor(e,t,r={},n=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var mg,wg,bg,vg;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(mg||(mg={}));class yg{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yg.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=yg.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],n()}),this.channel._on(r.diff,{},e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=yg.syncDiff(this.state,e,t,r),n())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,n){const i=this.cloneDeep(e),o=this.transformState(t),a={},s={};return this.map(i,(e,t)=>{o[e]||(s[e]=t)}),this.map(o,(e,t)=>{const r=i[e];if(r){const n=t.map(e=>e.presence_ref),i=r.map(e=>e.presence_ref),o=t.filter(e=>i.indexOf(e.presence_ref)<0),l=r.filter(e=>n.indexOf(e.presence_ref)<0);o.length>0&&(a[e]=o),l.length>0&&(s[e]=l)}else a[e]=t}),this.syncDiff(i,{joins:a,leaves:s},r,n)}static syncDiff(e,t,r,n){const{joins:i,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(t,n)=>{var i;const o=null!==(i=e[t])&&void 0!==i?i:[];if(e[t]=this.cloneDeep(n),o.length>0){const r=e[t].map(e=>e.presence_ref),n=o.filter(e=>r.indexOf(e.presence_ref)<0);e[t].unshift(...n)}r(t,o,n)}),this.map(o,(t,r)=>{let i=e[t];if(!i)return;const o=r.map(e=>e.presence_ref);i=i.filter(e=>o.indexOf(e.presence_ref)<0),e[t]=i,n(t,i,r),0===i.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const n=e[r];return t[r]="metas"in n?n.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(wg||(wg={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(bg||(bg={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(vg||(vg={}));class xg{constructor(e,t={config:{}},r){var n,i;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Zf.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new gg(this,Jf.join,this.params,this.timeout),this.rejoinTimer=new ig(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Zf.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Zf.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=Zf.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Zf.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=Zf.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jf.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new yg(this),this.broadcastEndpointURL=fg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null===(i=null===(n=this.params.config)||void 0===n?void 0:n.broadcast)||void 0===i?void 0:i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Zf.closed){const{config:{broadcast:o,presence:a,private:s}}=this.params,l=null!==(n=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(e=>e.filter))&&void 0!==n?n:[],c=!!this.bindings[bg.PRESENCE]&&this.bindings[bg.PRESENCE].length>0||!0===(null===(i=this.params.config.presence)||void 0===i?void 0:i.enabled),u={},d={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:l,private:s};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(t=>null==e?void 0:e(vg.CHANNEL_ERROR,t)),this._onClose(()=>null==e?void 0:e(vg.CLOSED)),this.updateJoinPayload(Object.assign({config:d},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:t})=>{var r;if(this.socket.setAuth(),void 0!==t){const n=this.bindings.postgres_changes,i=null!==(r=null==n?void 0:n.length)&&void 0!==r?r:0,o=[];for(let r=0;r<i;r++){const i=n[r],{filter:{event:a,schema:s,table:l,filter:c}}=i,u=t&&t[r];if(!u||u.event!==a||u.schema!==s||u.table!==l||u.filter!==c)return this.unsubscribe(),this.state=Zf.errored,void(null==e||e(vg.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));o.push(Object.assign(Object.assign({},i),{id:u.id}))}return this.bindings.postgres_changes=o,void(e&&e(vg.SUBSCRIBED))}null==e||e(vg.SUBSCRIBED)}).receive("error",t=>{this.state=Zf.errored,null==e||e(vg.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null==e||e(vg.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===Zf.joined&&e===bg.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}async httpSend(e,t,r={}){var n;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(null==t)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(n=r.timeout)&&void 0!==n?n:this.timeout);if(202===a.status)return{success:!0};let s=a.statusText;try{const e=await a.json();s=e.error||e.message||s}catch(l){}return Promise.reject(new Error(s))}async send(e,t={}){var r,n;if(this._canPush()||"broadcast"!==e.type)return new Promise(r=>{var n,i,o;const a=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(o=null===(i=null===(n=this.params)||void 0===n?void 0:n.config)||void 0===i?void 0:i.broadcast)||void 0===o?void 0:o.ack)||r("ok"),a.receive("ok",()=>r("ok")),a.receive("error",()=>r("error")),a.receive("timeout",()=>r("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=e,s={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,s,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return await(null===(n=e.body)||void 0===n?void 0:n.cancel()),e.ok?"ok":"error"}catch(i){return"AbortError"===i.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Zf.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jf.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new gg(this,Jf.leave,{},e),r.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{null==r||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Zf.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(i),o}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new gg(this,e,t,r);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:s,leave:l,join:c}=Jf;if(r&&[a,s,l,c].indexOf(o)>=0&&r!==this._joinRef())return;let u=this._onMessage(o,t,r);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?null===(n=this.bindings.postgres_changes)||void 0===n||n.filter(e=>{var t,r,n;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(n=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===n?void 0:n.toLocaleLowerCase())===o}).map(e=>e.callback(u,r)):null===(i=this.bindings[o])||void 0===i||i.filter(e=>{var r,n,i,a,s,l;if(["broadcast","presence","postgres_changes"].includes(o)){if("id"in e){const o=e.id,a=null===(r=e.filter)||void 0===r?void 0:r.event;return o&&(null===(n=t.ids)||void 0===n?void 0:n.includes(o))&&("*"===a||(null==a?void 0:a.toLocaleLowerCase())===(null===(i=t.data)||void 0===i?void 0:i.type.toLocaleLowerCase()))}{const r=null===(s=null===(a=null==e?void 0:e.filter)||void 0===a?void 0:a.event)||void 0===s?void 0:s.toLocaleLowerCase();return"*"===r||r===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===o}).map(e=>{if("object"==typeof u&&"ids"in u){const e=u.data,{schema:t,table:r,commit_timestamp:n,type:i,errors:o}=e,a={schema:t,table:r,commit_timestamp:n,eventType:i,new:{},old:{},errors:o};u=Object.assign(Object.assign({},a),this._getPayloadRecords(e))}e.callback(u,r)})}_isClosed(){return this.state===Zf.closed}_isJoined(){return this.state===Zf.joined}_isJoining(){return this.state===Zf.joining}_isLeaving(){return this.state===Zf.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const n=e.toLocaleLowerCase(),i={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(e=>{var n;return!((null===(n=e.type)||void 0===n?void 0:n.toLocaleLowerCase())===r&&xg.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Jf.close,{},e)}_onError(e){this._on(Jf.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Zf.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=og(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=og(e.columns,e.old_record)),t}}const Sg=()=>{},Eg=25e3,_g=10,Cg=100,Ag=[1e3,2e3,5e3,1e4];class Tg{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Kf,this.transport=null,this.heartbeatIntervalMs=Eg,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sg,this.ref=0,this.reconnectTimer=null,this.vsn=Yf,this.logger=Sg,this.conn=null,this.sendBuffer=[],this.serializer=new ng,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),!(null===(r=null==t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${eg.websocket}`,this.httpEndpoint=fg(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$f.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error(`${t}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`);throw new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},"function"==typeof this.conn.close&&(e?this.conn.close(e,null!=t?t:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Qf.connecting:return tg.Connecting;case Qf.open:return tg.Open;case Qf.closing:return tg.Closing;default:return tg.Closed}}isConnected(){return this.connectionState()===tg.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e,t={config:{}}){const r=`realtime:${e}`,n=this.getChannels().find(e=>e.topic===r);if(n)return n;{const r=new xg(`realtime:${e}`,t,this);return this.channels.push(r),r}}push(e){const{topic:t,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(jx){this.log("error","error in heartbeat callback",jx)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},Cg)}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(jx){this.log("error","error in heartbeat callback",jx)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(jx){this.log("error","error in heartbeat callback",jx)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event)try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error")}catch(jx){this.log("error","error in heartbeat callback",jx)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:r,payload:n,ref:i}=e,o=i?`(${i})`:"",a=n.status||"";this.log("receive",`${a} ${t} ${r} ${o}`.trim(),n),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,n,i)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Qf.open||this.conn.readyState===Qf.connecting)try{this.conn.close()}catch(jx){this.log("error","Error closing connection",jx)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Jf.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?";return`${e}${r}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e,t=!1){this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;t=e||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{const r={access_token:t,version:"realtime-js/2.84.0"};t&&e.updateJoinPayload(r),e.joinedOnce&&e._isJoined()&&e._push(Jf.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(jx){this.log("error",`error in ${e} callback`,jx)}})}catch(jx){this.log("error",`error triggering ${e} callbacks`,jx)}}_setupReconnectionTimer(){this.reconnectTimer=new ig(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_g)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,n,i,o,a,s,l,c,u,d,h;switch(this.transport=null!==(t=null==e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(r=null==e?void 0:e.timeout)&&void 0!==r?r:Kf,this.heartbeatIntervalMs=null!==(n=null==e?void 0:e.heartbeatIntervalMs)&&void 0!==n?n:Eg,this.worker=null!==(i=null==e?void 0:e.worker)&&void 0!==i&&i,this.accessToken=null!==(o=null==e?void 0:e.accessToken)&&void 0!==o?o:null,this.heartbeatCallback=null!==(a=null==e?void 0:e.heartbeatCallback)&&void 0!==a?a:Sg,this.vsn=null!==(s=null==e?void 0:e.vsn)&&void 0!==s?s:Yf,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.logger)&&(this.logger=e.logger),((null==e?void 0:e.logLevel)||(null==e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(l=null==e?void 0:e.reconnectAfterMs)&&void 0!==l?l:e=>Ag[e-1]||1e4,this.vsn){case Xf:this.encode=null!==(c=null==e?void 0:e.encode)&&void 0!==c?c:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(u=null==e?void 0:e.decode)&&void 0!==u?u:(e,t)=>t(JSON.parse(e));break;case"2.0.0":this.encode=null!==(d=null==e?void 0:e.encode)&&void 0!==d?d:this.serializer.encode.bind(this.serializer),this.decode=null!==(h=null==e?void 0:e.decode)&&void 0!==h?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null==e?void 0:e.workerUrl}}}class kg extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ig(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class Rg extends kg{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Og extends kg{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const Ng=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),Dg=e=>{if(Array.isArray(e))return e.map(e=>Dg(e));if("function"==typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([e,r])=>{const n=e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[n]=Dg(r)}),t},Pg=e=>{var t;return e.msg||e.message||e.error_description||("string"==typeof e.error?e.error:null===(t=e.error)||void 0===t?void 0:t.message)||JSON.stringify(e)},Mg=(e,t,n)=>r(void 0,void 0,void 0,function*(){const r=yield Response;e instanceof r&&!(null==n?void 0:n.noResolveJson)?e.json().then(r=>{const n=e.status||500,i=(null==r?void 0:r.statusCode)||n+"";t(new Rg(Pg(r),n,i))}).catch(e=>{t(new Og(Pg(e),e))}):t(new Og(Pg(e),e))}),jg=(e,t,r,n)=>{const i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"!==e&&n?((e=>{if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)})(n)?(i.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,(null==t?void 0:t.duplex)&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r)):i};function Lg(e,t,n,i,o,a){return r(this,void 0,void 0,function*(){return new Promise((r,s)=>{e(n,jg(t,i,o,a)).then(e=>{if(!e.ok)throw e;return(null==i?void 0:i.noResolveJson)?e:e.json()}).then(e=>r(e)).catch(e=>Mg(e,s,i))})})}function Bg(e,t,n,i){return r(this,void 0,void 0,function*(){return Lg(e,"GET",t,n,i)})}function zg(e,t,n,i,o){return r(this,void 0,void 0,function*(){return Lg(e,"POST",t,i,o,n)})}function Fg(e,t,n,i,o){return r(this,void 0,void 0,function*(){return Lg(e,"PUT",t,i,o,n)})}function Ug(e,t,n,i,o){return r(this,void 0,void 0,function*(){return Lg(e,"DELETE",t,i,o,n)})}class Vg{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return r(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ig(e))return{data:null,error:e};throw e}})}}var Hg;class Gg{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Hg]="BlobDownloadBuilder",this.promise=null}asStream(){return new Vg(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return r(this,void 0,void 0,function*(){try{const e=yield this.downloadFn();return{data:yield e.blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ig(e))return{data:null,error:e};throw e}})}}Hg=Symbol.toStringTag;const qg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class $g{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Ng(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,n,i){return r(this,void 0,void 0,function*(){try{let r;const o=Object.assign(Object.assign({},Wg),i);let a=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(o.upsert)});const s=o.metadata;"undefined"!=typeof Blob&&n instanceof Blob?(r=new FormData,r.append("cacheControl",o.cacheControl),s&&r.append("metadata",this.encodeMetadata(s)),r.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(r=n,r.has("cacheControl")||r.append("cacheControl",o.cacheControl),s&&!r.has("metadata")&&r.append("metadata",this.encodeMetadata(s))):(r=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,s&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(s))),("undefined"!=typeof ReadableStream&&r instanceof ReadableStream||r&&"object"==typeof r&&"pipe"in r&&"function"==typeof r.pipe)&&!o.duplex&&(o.duplex="half")),(null==i?void 0:i.headers)&&(a=Object.assign(Object.assign({},a),i.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield("PUT"==e?Fg:zg)(this.fetch,`${this.url}/object/${c}`,r,Object.assign({headers:a},(null==o?void 0:o.duplex)?{duplex:o.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ig(r))return{data:null,error:r};throw r}})}upload(e,t,n){return r(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,i){return r(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(e),o=this._getFinalPath(r),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:Wg.upsert},i),o=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});return"undefined"!=typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,o["cache-control"]=`max-age=${t.cacheControl}`,o["content-type"]=t.contentType),{data:{path:r,fullPath:(yield Fg(this.fetch,a.toString(),e,{headers:o})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ig(s))return{data:null,error:s};throw s}})}createSignedUploadUrl(e,t){return r(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);(null==t?void 0:t.upsert)&&(n["x-upsert"]="true");const i=yield zg(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new kg("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ig(r))return{data:null,error:r};throw r}})}update(e,t,n){return r(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return r(this,void 0,void 0,function*(){try{return{data:yield zg(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ig(r))return{data:null,error:r};throw r}})}copy(e,t,n){return r(this,void 0,void 0,function*(){try{return{data:{path:(yield zg(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ig(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,n){return r(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield zg(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null==n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const o=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ig(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,n){return r(this,void 0,void 0,function*(){try{const r=yield zg(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${i}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ig(r))return{data:null,error:r};throw r}})}download(e,t){const r=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",n=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),i=n?`?${n}`:"",o=this._getFinalPath(e);return new Gg(()=>Bg(this.fetch,`${this.url}/${r}/${o}${i}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(e){return r(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield Bg(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Dg(e),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ig(r))return{data:null,error:r};throw r}})}exists(e){return r(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,i){return r(this,void 0,void 0,function*(){return Lg(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ig(n)&&n instanceof Og){const e=n.originalError;if([400,404].includes(null==e?void 0:e.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],i=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==i&&n.push(i);const o=void 0!==(null==t?void 0:t.transform)?"render/image":"object",a=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==a&&n.push(a);let s=n.join("&");return""!==s&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${s}`)}}}remove(e){return r(this,void 0,void 0,function*(){try{return{data:yield Ug(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ig(t))return{data:null,error:t};throw t}})}list(e,t,n){return r(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},qg),t),{prefix:e||""});return{data:yield zg(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ig(r))return{data:null,error:r};throw r}})}listV2(e,t){return r(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield zg(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ig(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Xg="2.84.0",Yg={"X-Client-Info":`storage-js/${Xg}`};class Kg{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const i=new URL(e);(null==n?void 0:n.useNewHostname)&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yg),t),this.fetch=Ng(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return r(this,void 0,void 0,function*(){try{const t=this.listBucketOptionsToQueryString(e);return{data:yield Bg(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ig(t))return{data:null,error:t};throw t}})}getBucket(e){return r(this,void 0,void 0,function*(){try{return{data:yield Bg(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ig(t))return{data:null,error:t};throw t}})}createBucket(e){return r(this,arguments,void 0,function*(e,t={public:!1}){try{return{data:yield zg(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ig(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return r(this,void 0,void 0,function*(){try{return{data:yield Fg(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ig(r))return{data:null,error:r};throw r}})}emptyBucket(e){return r(this,void 0,void 0,function*(){try{return{data:yield zg(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ig(t))return{data:null,error:t};throw t}})}deleteBucket(e){return r(this,void 0,void 0,function*(){try{return{data:yield Ug(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ig(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}class Qg{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yg),t),this.fetch=Ng(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return r(this,void 0,void 0,function*(){try{return{data:yield zg(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ig(t))return{data:null,error:t};throw t}})}listBuckets(e){return r(this,void 0,void 0,function*(){try{const t=new URLSearchParams;void 0!==(null==e?void 0:e.limit)&&t.set("limit",e.limit.toString()),void 0!==(null==e?void 0:e.offset)&&t.set("offset",e.offset.toString()),(null==e?void 0:e.sortColumn)&&t.set("sortColumn",e.sortColumn),(null==e?void 0:e.sortOrder)&&t.set("sortOrder",e.sortOrder),(null==e?void 0:e.search)&&t.set("search",e.search);const r=t.toString(),n=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Bg(this.fetch,n,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ig(t))return{data:null,error:t};throw t}})}deleteBucket(e){return r(this,void 0,void 0,function*(){try{return{data:yield Ug(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ig(t))return{data:null,error:t};throw t}})}}const Zg={"X-Client-Info":`storage-js/${Xg}`,"Content-Type":"application/json"};class Jg extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function em(e){return"object"==typeof e&&null!==e&&"__isStorageVectorsError"in e}class tm extends Jg{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class rm extends Jg{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var nm;!function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"}(nm||(nm={}));const im=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),om=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),am=(e,t,r,n)=>{const i={method:e,headers:(null==t?void 0:t.headers)||{}};return n?((e=>{if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)})(n)?(i.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function sm(e,t,n,i,o,a){return r(this,void 0,void 0,function*(){return new Promise((s,l)=>{e(n,am(t,i,o,a)).then(e=>{if(!e.ok)throw e;if(null==i?void 0:i.noResolveJson)return e;const t=e.headers.get("content-type");return t&&t.includes("application/json")?e.json():{}}).then(e=>s(e)).catch(e=>((e,t,n)=>r(void 0,void 0,void 0,function*(){if(e&&"object"==typeof e&&"status"in e&&"ok"in e&&"number"==typeof e.status&&!(null==n?void 0:n.noResolveJson)){const r=e.status||500,n=e;if("function"==typeof n.json)n.json().then(e=>{const n=(null==e?void 0:e.statusCode)||(null==e?void 0:e.code)||r+"";t(new tm(om(e),r,n))}).catch(()=>{const e=r+"",i=n.statusText||`HTTP ${r} error`;t(new tm(i,r,e))});else{const e=r+"",i=n.statusText||`HTTP ${r} error`;t(new tm(i,r,e))}}else t(new rm(om(e),e))}))(e,l,i))})})}function lm(e,t,n,i,o){return r(this,void 0,void 0,function*(){return sm(e,"POST",t,i,o,n)})}class cm{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Zg),t),this.fetch=im(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return r(this,void 0,void 0,function*(){try{return{data:(yield lm(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(em(t))return{data:null,error:t};throw t}})}getIndex(e,t){return r(this,void 0,void 0,function*(){try{return{data:yield lm(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(em(r))return{data:null,error:r};throw r}})}listIndexes(e){return r(this,void 0,void 0,function*(){try{return{data:yield lm(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(em(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return r(this,void 0,void 0,function*(){try{return{data:(yield lm(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(em(r))return{data:null,error:r};throw r}})}}class um{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Zg),t),this.fetch=im(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return r(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield lm(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(em(t))return{data:null,error:t};throw t}})}getVectors(e){return r(this,void 0,void 0,function*(){try{return{data:yield lm(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(em(t))return{data:null,error:t};throw t}})}listVectors(e){return r(this,void 0,void 0,function*(){try{if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error("segmentIndex must be between 0 and "+(e.segmentCount-1))}return{data:yield lm(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(em(t))return{data:null,error:t};throw t}})}queryVectors(e){return r(this,void 0,void 0,function*(){try{return{data:yield lm(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(em(t))return{data:null,error:t};throw t}})}deleteVectors(e){return r(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield lm(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(em(t))return{data:null,error:t};throw t}})}}class dm{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Zg),t),this.fetch=im(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return r(this,void 0,void 0,function*(){try{return{data:(yield lm(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(em(t))return{data:null,error:t};throw t}})}getBucket(e){return r(this,void 0,void 0,function*(){try{return{data:yield lm(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(em(t))return{data:null,error:t};throw t}})}listBuckets(){return r(this,arguments,void 0,function*(e={}){try{return{data:yield lm(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(em(t))return{data:null,error:t};throw t}})}deleteBucket(e){return r(this,void 0,void 0,function*(){try{return{data:(yield lm(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(em(t))return{data:null,error:t};throw t}})}}class hm extends dm{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new pm(this.url,this.headers,e,this.fetch)}}class pm extends cm{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return r(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return r(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return r(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return r(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new fm(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class fm extends um{constructor(e,t,r,n,i){super(e,t,i),this.vectorBucketName=r,this.indexName=n}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return r(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return r(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return r(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return r(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return r(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class gm extends Kg{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new $g(this.url,this.headers,e,this.fetch)}get vectors(){return new hm(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Qg(this.url+"/iceberg",this.headers,this.fetch)}}let mm="";mm="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const wm={headers:{"X-Client-Info":`supabase-js-${mm}/2.84.0`}},bm={schema:"public"},vm={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ym={},xm=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),Sm=(e,t,r)=>{const n=xm(r),i=Headers;return async(r,o)=>{var a;const s=null!==(a=await t())&&void 0!==a?a:e;let l=new i(null==o?void 0:o.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${s}`),n(r,Object.assign(Object.assign({},o),{headers:l}))}},Em="2.84.0",_m=3e4,Cm=9e4,Am={"X-Client-Info":`gotrue-js/${Em}`},Tm="X-Supabase-Api-Version",km={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Im=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Rm extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function Om(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class Nm extends Rm{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class Dm extends Rm{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Pm extends Rm{constructor(e,t,r,n){super(e,r,n),this.name=t,this.status=r}}class Mm extends Pm{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class jm extends Pm{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Lm extends Pm{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Bm extends Pm{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zm extends Pm{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fm extends Pm{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Um(e){return Om(e)&&"AuthRetryableFetchError"===e.name}class Vm extends Pm{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Hm extends Pm{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qm=" \t\n\r=".split(""),Wm=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<qm.length;t+=1)e[qm[t].charCodeAt(0)]=-2;for(let t=0;t<Gm.length;t+=1)e[Gm[t].charCodeAt(0)]=t;return e})();function $m(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(Gm[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(Gm[e]),t.queuedBits-=6}}function Xm(e,t,r){const n=Wm[e];if(!(n>-1)){if(-2===n)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Ym(e){const t=[],r=e=>{t.push(String.fromCodePoint(e))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return void r(e);for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,n,r)};for(let a=0;a<e.length;a+=1)Xm(e.charCodeAt(a),i,o);return t.join("")}function Km(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function Qm(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};for(let i=0;i<e.length;i+=1)Xm(e.charCodeAt(i),r,n);return new Uint8Array(t)}function Zm(e){const t=[];return function(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const t=1024*(n-55296)&65535;n=65536+(e.charCodeAt(r+1)-56320&65535|t),r+=1}Km(n,t)}}(e,e=>t.push(e)),new Uint8Array(t)}function Jm(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};return e.forEach(e=>$m(e,r,n)),$m(null,r,n),t.join("")}const ew=()=>"undefined"!=typeof window&&"undefined"!=typeof document,tw={tested:!1,writable:!1},rw=()=>{if(!ew())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(jx){return!1}if(tw.tested)return tw.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),tw.tested=!0,tw.writable=!0}catch(jx){tw.tested=!0,tw.writable=!1}return tw.writable},nw=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),iw=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ow=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(Hg){return r}},aw=async(e,t)=>{await e.removeItem(t)};class sw{constructor(){this.promise=new sw.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function lw(e){const t=e.split(".");if(3!==t.length)throw new Hm("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Im.test(t[r]))throw new Hm("JWT not in base64url format");return{header:JSON.parse(Ym(t[0])),payload:JSON.parse(Ym(t[1])),signature:Qm(t[2]),raw:{header:t[0],payload:t[1]}}}function cw(e){return("0"+e.toString(16)).substr(-2)}async function uw(e){if("undefined"==typeof crypto||void 0===crypto.subtle||"undefined"==typeof TextEncoder)return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(r);return Array.from(n).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function dw(e,t,r=!1){const n=function(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let n=0;n<56;n++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,cw).join("")}();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await iw(e,`${t}-code-verifier`,i);const o=await uw(n);return[o,n===o?"plain":"s256"]}sw.promiseConstructor=Promise;const hw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,pw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fw(e){if(!pw.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gw(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"==typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function mw(e){return JSON.parse(JSON.stringify(e))}const ww=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bw=[502,503,504];async function vw(e){var t,r;if(!("object"==typeof(r=e)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"==typeof r.json))throw new Fm(ww(e),0);if(bw.includes(e.status))throw new Fm(ww(e),e.status);let n,i;try{n=await e.json()}catch(jx){throw new Dm(ww(jx),jx)}const o=function(e){const t=e.headers.get(Tm);if(!t)return null;if(!t.match(hw))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(jx){return null}}(e);if(o&&o.getTime()>=km.timestamp&&"object"==typeof n&&n&&"string"==typeof n.code?i=n.code:"object"==typeof n&&n&&"string"==typeof n.error_code&&(i=n.error_code),i){if("weak_password"===i)throw new Vm(ww(n),e.status,(null===(t=n.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===i)throw new Mm}else if("object"==typeof n&&n&&"object"==typeof n.weak_password&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new Vm(ww(n),e.status,n.weak_password.reasons);throw new Nm(ww(n),e.status||500,i)}async function yw(e,t,r,n){var i;const o=Object.assign({},null==n?void 0:n.headers);o[Tm]||(o[Tm]=km.name),(null==n?void 0:n.jwt)&&(o.Authorization=`Bearer ${n.jwt}`);const a=null!==(i=null==n?void 0:n.query)&&void 0!==i?i:{};(null==n?void 0:n.redirectTo)&&(a.redirect_to=n.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await async function(e,t,r,n,i,o){const a=((e,t,r,n)=>{const i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))})(t,n,i,o);let s;try{s=await e(r,Object.assign({},a))}catch(jx){throw console.error(jx),new Fm(ww(jx),0)}if(s.ok||await vw(s),null==n?void 0:n.noResolveJson)return s;try{return await s.json()}catch(jx){await vw(jx)}}(e,t,r+s,{headers:o,noResolveJson:null==n?void 0:n.noResolveJson},{},null==n?void 0:n.body);return(null==n?void 0:n.xform)?null==n?void 0:n.xform(l):{data:Object.assign({},l),error:null}}function xw(e){var t;let r=null;var n;return function(e){return e.access_token&&e.refresh_token&&e.expires_in}(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(n=e.expires_in,Math.round(Date.now()/1e3)+n))),{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Sw(e){const t=xw(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function Ew(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function _w(e){return{data:e,error:null}}function Cw(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:a}=e,s=i(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:a},user:Object.assign({},s)},error:null}}function Aw(e){return e}const Tw=["global","local","others"];class kw{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=nw(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=Tw[0]){if(Tw.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Tw.join(", ")}`);try{return await yw(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Om(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await yw(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ew})}catch(r){if(Om(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=i(e,["options"]),n=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(n.new_email=null==r?void 0:r.newEmail,delete n.newEmail),await yw(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Cw,redirectTo:null==t?void 0:t.redirectTo})}catch(t){if(Om(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await yw(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ew})}catch(t){if(Om(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,n,i,o,a,s;try{const l={nextPage:null,lastPage:0,total:0},c=await yw(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(i=null===(n=null==e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==i?i:""},xform:Aw});if(c.error)throw c.error;const u=await c.json(),d=null!==(o=c.headers.get("x-total-count"))&&void 0!==o?o:0,h=null!==(s=null===(a=c.headers.get("link"))||void 0===a?void 0:a.split(","))&&void 0!==s?s:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(Om(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){fw(e);try{return await yw(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ew})}catch(t){if(Om(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){fw(e);try{return await yw(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Ew})}catch(r){if(Om(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){fw(e);try{return await yw(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Ew})}catch(r){if(Om(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){fw(e.userId);try{const{data:t,error:r}=await yw(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(t){if(Om(t))return{data:null,error:t};throw t}}async _deleteFactor(e){fw(e.userId),fw(e.id);try{return{data:await yw(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Om(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,n,i,o,a,s;try{const l={nextPage:null,lastPage:0,total:0},c=await yw(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(i=null===(n=null==e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==i?i:""},xform:Aw});if(c.error)throw c.error;const u=await c.json(),d=null!==(o=c.headers.get("x-total-count"))&&void 0!==o?o:0,h=null!==(s=null===(a=c.headers.get("link"))||void 0===a?void 0:a.split(","))&&void 0!==s?s:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(Om(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await yw(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(Om(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await yw(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(Om(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await yw(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(r){if(Om(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await yw(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(Om(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await yw(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(Om(t))return{data:null,error:t};throw t}}}function Iw(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Rw=!!(globalThis&&rw()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Ow extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Nw extends Ow{}async function Dw(e,t,r){Rw&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Rw&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async n=>{if(!n){if(0===t)throw Rw&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Nw(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Rw)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(jx){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",jx)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}Rw&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{Rw&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}))}function Pw(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Mw(e){const t=(new TextEncoder).encode(e);return"0x"+Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")}class jw extends Error{constructor({message:e,code:t,cause:r,name:n}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=null!==(i=null!=n?n:r instanceof Error?r.name:void 0)&&void 0!==i?i:"Unknown Error",this.code=t}}class Lw extends jw{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function Bw({error:e,options:t}){var r,n,i;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new jw({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("ConstraintError"===e.name){if(!0===(null===(r=o.authenticatorSelection)||void 0===r?void 0:r.requireResidentKey))return new jw({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if("conditional"===t.mediation&&"required"===(null===(n=o.authenticatorSelection)||void 0===n?void 0:n.userVerification))return new jw({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if("required"===(null===(i=o.authenticatorSelection)||void 0===i?void 0:i.userVerification))return new jw({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if("InvalidStateError"===e.name)return new jw({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if("NotAllowedError"===e.name)return new jw({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("NotSupportedError"===e.name)return 0===o.pubKeyCredParams.filter(e=>"public-key"===e.type).length?new jw({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new jw({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if("SecurityError"===e.name){const t=window.location.hostname;if(!qw(t))return new jw({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(o.rp.id!==t)return new jw({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("TypeError"===e.name){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new jw({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if("UnknownError"===e.name)return new jw({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new jw({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function zw({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new jw({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if("NotAllowedError"===e.name)return new jw({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("SecurityError"===e.name){const t=window.location.hostname;if(!qw(t))return new jw({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(r.rpId!==t)return new jw({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("UnknownError"===e.name)return new jw({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new jw({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}const Fw=new class{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function Uw(e){if(!e)throw new Error("Credential creation options are required");if("undefined"!=typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,o=i(e,["challenge","user","excludeCredentials"]),a=Qm(t).buffer,s=Object.assign(Object.assign({},r),{id:Qm(r.id).buffer}),l=Object.assign(Object.assign({},o),{challenge:a,user:s});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let e=0;e<n.length;e++){const t=n[e];l.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:Qm(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return l}function Vw(e){if(!e)throw new Error("Credential request options are required");if("undefined"!=typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=i(e,["challenge","allowCredentials"]),o=Qm(t).buffer,a=Object.assign(Object.assign({},n),{challenge:o});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let e=0;e<r.length;e++){const t=r[e];a.allowCredentials[e]=Object.assign(Object.assign({},t),{id:Qm(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return a}function Hw(e){var t;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Jm(new Uint8Array(e.response.attestationObject)),clientDataJSON:Jm(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:null!==(t=r.authenticatorAttachment)&&void 0!==t?t:void 0}}function Gw(e){var t;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Jm(new Uint8Array(i.authenticatorData)),clientDataJSON:Jm(new Uint8Array(i.clientDataJSON)),signature:Jm(new Uint8Array(i.signature)),userHandle:i.userHandle?Jm(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:null!==(t=r.authenticatorAttachment)&&void 0!==t?t:void 0}}function qw(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Ww(){var e,t;return!!(ew()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null===(e=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===e?void 0:e.create)&&"function"==typeof(null===(t=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===t?void 0:t.get))}const $w={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Xw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Yw(...e){const t=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),r=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),n={};for(const i of e)if(i)for(const e in i){const o=i[e];if(void 0!==o)if(Array.isArray(o))n[e]=o;else if(r(o))n[e]=o;else if(t(o)){const r=n[e];t(r)?n[e]=Yw(r,o):n[e]=Yw(o)}else n[e]=o}return n}class Kw{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:n},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!o)return{data:null,error:a};const s=null!=n?n:Fw.createNewAbortSignal();if("create"===o.webauthn.type){const{user:e}=o.webauthn.credential_options.publicKey;e.name||(e.name=`${e.id}:${r}`),e.displayName||(e.displayName=e.name)}switch(o.webauthn.type){case"create":{const t=function(e,t){return Yw($w,e,t||{})}(o.webauthn.credential_options.publicKey,null==i?void 0:i.create),{data:r,error:n}=await async function(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Lw("Browser returned unexpected credential type",t)}:{data:null,error:new Lw("Empty credential response",t)}}catch(Lx){return{data:null,error:Bw({error:Lx,options:e})}}}({publicKey:t,signal:s});return r?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:r}},error:null}:{data:null,error:n}}case"request":{const t=function(e,t){return Yw(Xw,e,t||{})}(o.webauthn.credential_options.publicKey,null==i?void 0:i.request),{data:r,error:n}=await async function(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Lw("Browser returned unexpected credential type",t)}:{data:null,error:new Lw("Empty credential response",t)}}catch(Lx){return{data:null,error:zw({error:Lx,options:e})}}}(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:t,signal:s}));return r?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:r}},error:null}:{data:null,error:n}}}}catch(o){return Om(o)?{data:null,error:o}:{data:null,error:new Dm("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t=("undefined"!=typeof window?window.location.hostname:void 0),rpOrigins:r=("undefined"!=typeof window?[window.location.origin]:void 0),signal:n}={}},i){if(!t)return{data:null,error:new Rm("rpId is required for WebAuthn authentication")};try{if(!Ww())return{data:null,error:new Dm("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:n},{request:i});if(!o)return{data:null,error:a};const{webauthn:s}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:s.type,rpId:t,rpOrigins:r,credential_response:s.credential_response}})}catch(o){return Om(o)?{data:null,error:o}:{data:null,error:new Dm("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:t=("undefined"!=typeof window?window.location.hostname:void 0),rpOrigins:r=("undefined"!=typeof window?[window.location.origin]:void 0),signal:n}={}},i){if(!t)return{data:null,error:new Rm("rpId is required for WebAuthn registration")};try{if(!Ww())return{data:null,error:new Dm("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(t=>{var r;return null===(r=t.data)||void 0===r?void 0:r.all.find(t=>"webauthn"===t.factor_type&&t.friendly_name===e&&"unverified"!==t.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null==e?void 0:e.id}):void 0),{data:null,error:a};const{data:s,error:l}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:n},{create:i});return s?this._verify({factorId:o.id,challengeId:s.challengeId,webauthn:{rpId:t,rpOrigins:r,type:s.webauthn.type,credential_response:s.webauthn.credential_response}}):{data:null,error:l}}catch(o){return Om(o)?{data:null,error:o}:{data:null,error:new Dm("Unexpected error in register",o)}}}}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(jx){"undefined"!=typeof self&&(self.globalThis=self)}}();const Qw={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Am,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Zw(e,t,r){return await r()}const Jw={};class eb{get jwks(){var e,t;return null!==(t=null===(e=Jw[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){Jw[this.storageKey]=Object.assign(Object.assign({},Jw[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=Jw[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Jw[this.storageKey]=Object.assign(Object.assign({},Jw[this.storageKey]),{cachedAt:e})}constructor(e){var t,r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Qw),e);if(this.storageKey=i.storageKey,this.instanceID=null!==(t=eb.nextInstanceID[this.storageKey])&&void 0!==t?t:0,eb.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,"function"==typeof i.debug&&(this.logger=i.debug),this.instanceID>0&&ew()){const e=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(e),this.logDebugMessages&&console.trace(e)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new kw({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=nw(i.fetch),this.lock=i.lock||Zw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:ew()&&(null===(r=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===r?void 0:r.locks)?this.lock=Dw:this.lock=Zw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Kw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:rw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Iw(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Iw(this.memoryStorage)),ew()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(jx){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",jx)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Em}) ${(new Date).toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t={},r="none";if(ew()&&(t=function(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(jx){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}(window.location.href),this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce")),ew()&&this.detectSessionInUrl&&"none"!==r){const{data:n,error:i}=await this._getSessionFromURL(t,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),function(e){return Om(e)&&"AuthImplicitGrantRedirectError"===e.name}(i)){const t=null===(e=i.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{"recovery"===a?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Om(t)?this._returnResult({error:t}):this._returnResult({error:new Dm("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,n;try{const i=await yw(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(r=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(n=null==e?void 0:e.options)||void 0===n?void 0:n.captchaToken}},xform:xw}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const s=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",s)),this._returnResult({data:{user:l,session:s},error:null})}catch(i){if(Om(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var t,r,n;try{let i;if("email"in e){const{email:r,password:n,options:o}=e;let a=null,s=null;"pkce"===this.flowType&&([a,s]=await dw(this.storage,this.storageKey)),i=await yw(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==o?void 0:o.emailRedirectTo,body:{email:r,password:n,data:null!==(t=null==o?void 0:o.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken},code_challenge:a,code_challenge_method:s},xform:xw})}else{if(!("phone"in e))throw new Lm("You must provide either an email or phone number and a password");{const{phone:t,password:o,options:a}=e;i=await yw(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:o,data:null!==(r=null==a?void 0:a.data)&&void 0!==r?r:{},channel:null!==(n=null==a?void 0:a.channel)&&void 0!==n?n:"sms",gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:xw})}}const{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const s=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",s)),this._returnResult({data:{user:l,session:s},error:null})}catch(i){if(Om(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:n,options:i}=e;t=await yw(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:Sw})}else{if(!("phone"in e))throw new Lm("You must provide either an email or phone number and a password");{const{phone:r,password:n,options:i}=e;t=await yw(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:Sw})}}const{data:r,error:n}=t;if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!r||!r.session||!r.user){const e=new jm;return this._returnResult({data:{user:null,session:null},error:e})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(t){if(Om(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:null===(i=e.options)||void 0===i?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,n,i,o,a,s,l,c,u,d;let h,p;if("message"in e)h=e.message,p=e.signature;else{const{chain:u,wallet:d,statement:f,options:g}=e;let m;if(ew())if("object"==typeof d)m=d;else{const e=window;if(!("ethereum"in e)||"object"!=typeof e.ethereum||!("request"in e.ethereum)||"function"!=typeof e.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");m=e.ethereum}else{if("object"!=typeof d||!(null==g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");m=d}const w=new URL(null!==(t=null==g?void 0:g.url)&&void 0!==t?t:window.location.href),b=await m.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!b||0===b.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const v=Pw(b[0]);let y=null===(r=null==g?void 0:g.signInWithEthereum)||void 0===r?void 0:r.chainId;if(!y){const e=await m.request({method:"eth_chainId"});y=parseInt(e,16)}h=function(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:c,scheme:u,uri:d,version:h}=e;if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==h)throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(null===(t=e.statement)||void 0===t?void 0:t.includes("\n"))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`);const p=`${u?`${u}://${n}`:n} wants you to sign in with your Ethereum account:\n${Pw(e.address)}\n\n${e.statement?`${e.statement}\n`:""}`;let f=`URI: ${d}\nVersion: ${h}\nChain ID: ${r}${a?`\nNonce: ${a}`:""}\nIssued At: ${o.toISOString()}`;if(i&&(f+=`\nExpiration Time: ${i.toISOString()}`),s&&(f+=`\nNot Before: ${s.toISOString()}`),l&&(f+=`\nRequest ID: ${l}`),c){let e="\nResources:";for(const t of c){if(!t||"string"!=typeof t)throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${t}`);e+=`\n- ${t}`}f+=e}return`${p}\n${f}`}({domain:w.host,address:v,statement:f,uri:w.href,version:"1",chainId:y,nonce:null===(n=null==g?void 0:g.signInWithEthereum)||void 0===n?void 0:n.nonce,issuedAt:null!==(o=null===(i=null==g?void 0:g.signInWithEthereum)||void 0===i?void 0:i.issuedAt)&&void 0!==o?o:new Date,expirationTime:null===(a=null==g?void 0:g.signInWithEthereum)||void 0===a?void 0:a.expirationTime,notBefore:null===(s=null==g?void 0:g.signInWithEthereum)||void 0===s?void 0:s.notBefore,requestId:null===(l=null==g?void 0:g.signInWithEthereum)||void 0===l?void 0:l.requestId,resources:null===(c=null==g?void 0:g.signInWithEthereum)||void 0===c?void 0:c.resources}),p=await m.request({method:"personal_sign",params:[Mw(h),v]})}try{const{data:t,error:r}=await yw(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:p},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(d=e.options)||void 0===d?void 0:d.captchaToken}}:null),xform:xw});if(r)throw r;if(!t||!t.session||!t.user){const e=new jm;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:r})}catch(f){if(Om(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signInWithSolana(e){var t,r,n,i,o,a,s,l,c,u,d,h;let p,f;if("message"in e)p=e.message,f=e.signature;else{const{chain:d,wallet:h,statement:g,options:m}=e;let w;if(ew())if("object"==typeof h)w=h;else{const e=window;if(!("solana"in e)||"object"!=typeof e.solana||!("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");w=e.solana}else{if("object"!=typeof h||!(null==m?void 0:m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=h}const b=new URL(null!==(t=null==m?void 0:m.url)&&void 0!==t?t:window.location.href);if("signIn"in w&&w.signIn){const e=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null==m?void 0:m.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),g?{statement:g}:null));let t;if(Array.isArray(e)&&e[0]&&"object"==typeof e[0])t=e[0];else{if(!(e&&"object"==typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"==typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");p="string"==typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),f=t.signature}else{if(!("signMessage"in w&&"function"==typeof w.signMessage&&"publicKey"in w&&"object"==typeof w&&w.publicKey&&"toBase58"in w.publicKey&&"function"==typeof w.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${b.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${null!==(n=null===(r=null==m?void 0:m.signInWithSolana)||void 0===r?void 0:r.issuedAt)&&void 0!==n?n:(new Date).toISOString()}`,...(null===(i=null==m?void 0:m.signInWithSolana)||void 0===i?void 0:i.notBefore)?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...(null===(o=null==m?void 0:m.signInWithSolana)||void 0===o?void 0:o.expirationTime)?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...(null===(a=null==m?void 0:m.signInWithSolana)||void 0===a?void 0:a.chainId)?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...(null===(s=null==m?void 0:m.signInWithSolana)||void 0===s?void 0:s.nonce)?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...(null===(l=null==m?void 0:m.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...(null===(u=null===(c=null==m?void 0:m.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...m.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");const e=await w.signMessage((new TextEncoder).encode(p),"utf8");if(!(e&&e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");f=e}}try{const{data:t,error:r}=await yw(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:Jm(f)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:xw});if(r)throw r;if(!t||!t.session||!t.user){const e=new jm;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:r})}catch(g){if(Om(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(e){const t=await ow(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(null!=t?t:"").split("/");try{const{data:t,error:i}=await yw(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:xw});if(await aw(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!t||!t.session||!t.user){const e=new jm;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign(Object.assign({},t),{redirectType:null!=n?n:null}),error:i})}catch(i){if(Om(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:t,provider:r,token:n,access_token:i,nonce:o}=e,a=await yw(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:xw}),{data:s,error:l}=a;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s||!s.session||!s.user){const e=new jm;return this._returnResult({data:{user:null,session:null},error:e})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:s,error:l})}catch(t){if(Om(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,r,n,i,o;try{if("email"in e){const{email:n,options:i}=e;let o=null,a=null;"pkce"===this.flowType&&([o,a]=await dw(this.storage,this.storageKey));const{error:s}=await yw(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:n,data:null!==(t=null==i?void 0:i.data)&&void 0!==t?t:{},create_user:null===(r=null==i?void 0:i.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:o,code_challenge_method:a},redirectTo:null==i?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}if("phone"in e){const{phone:t,options:r}=e,{data:a,error:s}=await yw(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(n=null==r?void 0:r.data)&&void 0!==n?n:{},create_user:null===(i=null==r?void 0:r.shouldCreateUser)||void 0===i||i,gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},channel:null!==(o=null==r?void 0:r.channel)&&void 0!==o?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null==a?void 0:a.message_id},error:s})}throw new Lm("You must provide either an email or phone number.")}catch(a){if(Om(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var t,r;try{let n,i;"options"in e&&(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo,i=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:o,error:a}=await yw(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:xw});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const s=o.session,l=o.user;return(null==s?void 0:s.access_token)&&(await this._saveSession(s),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",s)),this._returnResult({data:{user:l,session:s},error:null})}catch(n){if(Om(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithSSO(e){var t,r,n,i,o;try{let a=null,s=null;"pkce"===this.flowType&&([a,s]=await dw(this.storage,this.storageKey));const l=await yw(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(n=null==e?void 0:e.options)||void 0===n?void 0:n.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:_w});return(null===(i=l.data)||void 0===i?void 0:i.url)&&ew()&&!(null===(o=e.options)||void 0===o?void 0:o.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(a){if(Om(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Mm;const{error:n}=await yw(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:n})})}catch(e){if(Om(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await yw(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},redirectTo:null==i?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await yw(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null==o?void 0:o.message_id},error:a})}throw new Lm("You must provide either an email or phone number and a type")}catch(t){if(Om(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(jx){}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(jx){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await ow(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&1e3*e.expires_at-Date.now()<Cm;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const t=await ow(this.userStorage,this.storageKey+"-user");(null==t?void 0:t.user)?e.user=t.user:e.user=gw()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const t={value:this.suppressGetSessionWarning};e.user=function(e,t){return new Proxy(e,{get:(e,r,n)=>{if("__isInsecureUserWarningProxy"===r)return!0;if("symbol"==typeof r){const t=r.toString();if("Symbol(Symbol.toPrimitive)"===t||"Symbol(Symbol.toStringTag)"===t||"Symbol(util.inspect.custom)"===t||"Symbol(nodejs.util.inspect.custom)"===t)return Reflect.get(e,r,n)}return t.value||"string"!=typeof r||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(e,r,n)}})}(e.user,t),t.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:n},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await yw(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ew}):await this._useSession(async e=>{var t,r,n;const{data:i,error:o}=e;if(o)throw o;return(null===(t=i.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await yw(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(n=null===(r=i.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0,xform:Ew}):{data:{user:null},error:new Mm}})}catch(t){if(Om(t))return function(e){return Om(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await aw(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new Mm;const o=n.session;let a=null,s=null;"pkce"===this.flowType&&null!=e.email&&([a,s]=await dw(this.storage,this.storageKey));const{data:l,error:c}=await yw(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:s}),jwt:o.access_token,xform:Ew});if(c)throw c;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(Om(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Mm;const t=Date.now()/1e3;let r=t,n=!0,i=null;const{payload:o}=lw(e.access_token);if(o.exp&&(r=o.exp,n=r<=t),n){const{data:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!t)return{data:{user:null,session:null},error:null};i=t}else{const{data:n,error:o}=await this._getUser(e.access_token);if(o)throw o;i={access_token:e.access_token,refresh_token:e.refresh_token,user:n.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(t){if(Om(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:n,error:i}=t;if(i)throw i;e=null!==(r=n.session)&&void 0!==r?r:void 0}if(!(null==e?void 0:e.refresh_token))throw new Mm;const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(Om(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!ew())throw new Bm("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Bm(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new zm("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Bm("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new zm("No code detected.");const{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;const n=new URL(window.location.href);return n.searchParams.delete("code"),window.history.replaceState(window.history.state,"",n.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:s,token_type:l}=e;if(!(i&&a&&o&&l))throw new Bm("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(a);let d=c+u;s&&(d=parseInt(s));const h=d-c;1e3*h<=_m&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${u}s`);const p=d-u;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,d,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,d,c);const{data:f,error:g}=await this._getUser(i);if(g)throw g;const m={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:u,expires_at:d,refresh_token:o,token_type:l,user:f.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:m,redirectType:e.type},error:null})}catch(r){if(Om(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ow(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:n,error:i}=t;if(i)return this._returnResult({error:i});const o=null===(r=n.session)||void 0===r?void 0:r.access_token;if(o){const{error:t}=await this.admin.signOut(o,e);if(t&&(!function(e){return Om(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return this._returnResult({error:t})}return"others"!==e&&(await this._removeSession(),await aw(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=Symbol("auth-callback"),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,n;try{const{data:{session:n},error:i}=t;if(i)throw i;await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(Lx){await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",Lx),console.error(Lx)}})}async resetPasswordForEmail(e,t={}){let r=null,n=null;"pkce"===this.flowType&&([r,n]=await dw(this.storage,this.storageKey,!0));try{return await yw(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(Om(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null})}catch(t){if(Om(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:r,error:n}=await this._useSession(async t=>{var r,n,i,o,a;const{data:s,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(i=e.options)||void 0===i?void 0:i.queryParams,skipBrowserRedirect:!0});return await yw(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(a=null===(o=s.session)||void 0===o?void 0:o.access_token)&&void 0!==a?a:void 0})});if(n)throw n;return ew()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null==r?void 0:r.url),this._returnResult({data:{provider:e.provider,url:null==r?void 0:r.url},error:null})}catch(r){if(Om(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{const{error:n,data:{session:i}}=t;if(n)throw n;const{options:o,provider:a,token:s,access_token:l,nonce:c}=e,u=await yw(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:null!==(r=null==i?void 0:i.access_token)&&void 0!==r?r:void 0,body:{provider:a,id_token:s,access_token:l,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:xw}),{data:d,error:h}=u;return h?this._returnResult({data:{user:null,session:null},error:h}):d&&d.session&&d.user?(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:h})):this._returnResult({data:{user:null,session:null},error:new jm})}catch(n){if(Om(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,n;const{data:i,error:o}=t;if(o)throw o;return await yw(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(n=null===(r=i.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0})})}catch(t){if(Om(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await(r=async r=>(r>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await yw(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:xw})),n=(e,t)=>{const r=200*Math.pow(2,e);return t&&Um(t)&&Date.now()+r-i<_m},new Promise((e,t)=>{(async()=>{for(let i=0;i<1/0;i++)try{const t=await r(i);if(!n(i,null,t))return void e(t)}catch(jx){if(!n(i,jx))return void t(jx)}})()}))}catch(i){if(this._debug(t,"error",i),Om(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(t,"end")}var r,n}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),ew()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await ow(this.storage,this.storageKey);if(i&&this.userStorage){let t=await ow(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:i.user},await iw(this.userStorage,this.storageKey+"-user",t)),i.user=null!==(e=null==t?void 0:t.user)&&void 0!==e?e:gw()}else if(i&&!i.user&&!i.user){const e=await ow(this.storage,this.storageKey+"-user");e&&(null==e?void 0:e.user)?(i.user=e.user,await aw(this.storage,this.storageKey+"-user"),await iw(this.storage,this.storageKey,i)):i.user=gw()}if(this._debug(r,"session from storage",i),!this._isValidSession(i))return this._debug(r,"session is not valid"),void(null!==i&&await this._removeSession());const o=1e3*(null!==(t=i.expires_at)&&void 0!==t?t:1/0)-Date.now()<Cm;if(this._debug(r,`session has${o?"":" not"} expired with margin of 90000s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:e}=await this._callRefreshToken(i.refresh_token);e&&(console.error(e),Um(e)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(i.user&&!0===i.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(i.access_token);!t&&(null==e?void 0:e.user)?(i.user=e.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(n){console.error("Error getting user data:",n),this._debug(r,"error getting user data, skipping SIGNED_IN notification",n)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(Lx){return this._debug(r,"error",Lx),void console.error(Lx)}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Mm;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new sw;const{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new Mm;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const n={data:t.session,error:null};return this.refreshingDeferred.resolve(n),n}catch(i){if(this._debug(n,"error",i),Om(i)){const e={data:null,error:i};return Um(i)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const n=[],i=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(jx){n.push(jx)}});if(await Promise.all(i),n.length>0){for(let e=0;e<n.length;e+=1)console.error(n[e]);throw n[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!r&&t.user&&await iw(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const n=mw(e);await iw(this.storage,this.storageKey,n)}else{const e=mw(t);await iw(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await aw(this.storage,this.storageKey),await aw(this.storage,this.storageKey+"-code-verifier"),await aw(this.storage,this.storageKey+"-user"),this.userStorage&&await aw(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ew()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(jx){console.error("removing visibilitychange callback failed",jx)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),_m);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const n=Math.floor((1e3*r.expires_at-e)/_m);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),n<=3&&await this._callRefreshToken(r.refresh_token)})}catch(jx){console.error("Auto refresh tick failed with error. This is likely a transient error.",jx)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(jx){if(!(jx.isAcquireTimeout||jx instanceof Ow))throw jx;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ew()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const n=[`provider=${encodeURIComponent(t)}`];if((null==r?void 0:r.redirectTo)&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(null==r?void 0:r.scopes)&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){const[e,t]=await dw(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});n.push(r.toString())}if(null==r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);n.push(e.toString())}return(null==r?void 0:r.skipBrowserRedirect)&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:n,error:i}=t;return i?this._returnResult({data:null,error:i}):await yw(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token})})}catch(t){if(Om(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,n;const{data:i,error:o}=t;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:s,error:l}=await yw(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:null===(r=null==i?void 0:i.session)||void 0===r?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):("totp"===e.factorType&&"totp"===s.type&&(null===(n=null==s?void 0:s.totp)||void 0===n?void 0:n.qr_code)&&(s.totp.qr_code=`data:image/svg+xml;utf-8,${s.totp.qr_code}`),this._returnResult({data:s,error:null}))})}catch(t){if(Om(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:i}=t;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?Hw(e.webauthn.credential_response):Gw(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:s}=await yw(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token});return s?this._returnResult({data:null,error:s}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:s}))})}catch(t){if(Om(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:i}=t;if(i)return this._returnResult({data:null,error:i});const o=await yw(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if("webauthn"!==a.type)return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Uw(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Vw(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(Om(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n={all:[],phone:[],totp:[],webauthn:[]};for(const i of null!==(e=null==t?void 0:t.factors)&&void 0!==e?e:[])n.all.push(i),"verified"===i.status&&n[i.factor_type].push(i);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:r},error:n}=await this.getSession();if(n)return this._returnResult({data:null,error:n});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=lw(r.access_token);let o=null;i.aal&&(o=i.aal);let a=o;return(null!==(t=null===(e=r.user.factors)||void 0===e?void 0:e.filter(e=>"verified"===e.status))&&void 0!==t?t:[]).length>0&&(a="aal2"),{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:i.amr||[]},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await yw(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new Mm})})}catch(t){if(Om(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new Mm});const o=await yw(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"approve"},xform:e=>({data:e,error:null})});return o.data&&o.data.redirect_url&&ew()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Om(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new Mm});const o=await yw(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"deny"},xform:e=>({data:e,error:null})});return o.data&&o.data.redirect_url&&ew()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Om(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;return r?this._returnResult({data:null,error:r}):t?await yw(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new Mm})})}catch(e){if(Om(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await yw(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new Mm})})}catch(t){if(Om(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(t=>t.kid===e);if(r)return r;const n=Date.now();if(r=this.jwks.keys.find(t=>t.kid===e),r&&this.jwks_cached_at+6e5>n)return r;const{data:i,error:o}=await yw(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return i.keys&&0!==i.keys.length?(this.jwks=i,this.jwks_cached_at=n,r=i.keys.find(t=>t.kid===e),r||null):null}async getClaims(e,t={}){try{let r=e;if(!r){const{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});r=e.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:s}}=lw(r);(null==t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(i.exp);const l=n.alg&&!n.alg.startsWith("HS")&&n.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(n.kid,(null==t?void 0:t.keys)?{keys:t.keys}:null==t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(r);if(e)throw e;return{data:{claims:i,header:n,signature:o},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(n.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!(await crypto.subtle.verify(c,u,o,Zm(`${a}.${s}`))))throw new Hm("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(Om(r))return this._returnResult({data:null,error:r});throw r}}}eb.nextInstanceID={};const tb=eb;class rb extends tb{constructor(e){super(e)}}class nb{constructor(e,t,r){var n,i,o;this.supabaseUrl=e,this.supabaseKey=t;const a=function(e){const t=null==e?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL((r=t).endsWith("/")?r:r+"/")}catch(n){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}var r}(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const s=`sb-${a.hostname.split(".")[0]}-auth-token`,l=function(e,t){var r,n;const{db:i,auth:o,realtime:a,global:s}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),a),storage:{},global:Object.assign(Object.assign(Object.assign({},d),s),{headers:Object.assign(Object.assign({},null!==(r=null==d?void 0:d.headers)&&void 0!==r?r:{}),null!==(n=null==s?void 0:s.headers)&&void 0!==n?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!=r?r:{},{db:bm,realtime:ym,auth:Object.assign(Object.assign({},vm),{storageKey:s}),global:wm});this.storageKey=null!==(n=l.auth.storageKey)&&void 0!==n?n:"",this.headers=null!==(i=l.global.headers)&&void 0!==i?i:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(o=l.auth)&&void 0!==o?o:{},this.headers,l.global.fetch),this.fetch=Sm(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(e=>this.realtime.setAuth(e)).catch(e=>console.warn("Failed to set initial Realtime auth token:",e)),this.rest=new Uf(new URL("rest/v1",a).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new gm(this.storageUrl.href,this.headers,this.fetch,null==r?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new af(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return null!==(t=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:o,flowType:a,lock:s,debug:l,throwOnError:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rb({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,flowType:a,lock:s,debug:l,throwOnError:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new Tg(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=r,this.realtime.setAuth(r))}}(function(){if("undefined"!=typeof window)return!1;if("undefined"==typeof process)return!1;const e=process.version;if(null==e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18})()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ib=((e,t,r)=>new nb(e,t,r))("https://qlhvvhballsotkknrpgk.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFsaHZ2aGJhbGxzb3Rra25ycGdrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM2NTUzODEsImV4cCI6MjA3OTIzMTM4MX0.v7z5VCHX2OY99a_ViYRThGIQLo2eqjpYxNgQfo5afCo"),ob=()=>null!==ib,ab=ae.createContext(void 0),sb=({children:e})=>{const[t,r]=ae.useState(null),[n,i]=ae.useState(null),[a,s]=ae.useState(!0),[l,c]=ae.useState(!1);ae.useEffect(()=>{var e;if("true"===localStorage.getItem("guestMode"))return c(!0),void s(!1);null==ib||ib.auth.getSession().then(({data:{session:e}})=>{var t;i(e),r(null!==(t=null==e?void 0:e.user)&&void 0!==t?t:null),s(!1)});const{data:{subscription:t}}=null!==(e=null==ib?void 0:ib.auth.onAuthStateChange((e,t)=>{var n;i(t),r(null!==(n=null==t?void 0:t.user)&&void 0!==n?n:null),c(!1),localStorage.removeItem("guestMode"),s(!1)}))&&void 0!==e?e:{data:{subscription:null}};return()=>null==t?void 0:t.unsubscribe()},[]);const u={user:t,session:n,loading:a,isGuest:l,signUp:async(e,t)=>{if(!ib)return{error:{message:"Supabase not configured"}};const{error:r}=await ib.auth.signUp({email:e,password:t});return{error:r}},signIn:async(e,t)=>{if(!ib)return{error:{message:"Supabase not configured"}};const{error:r}=await ib.auth.signInWithPassword({email:e,password:t});return{error:r}},signInWithGoogle:async()=>{if(!ib)return{error:{message:"Supabase not configured"}};const{error:e}=await ib.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/museum-app/`}});return{error:e}},signInWithApple:async()=>{if(!ib)return{error:{message:"Supabase not configured"}};const{error:e}=await ib.auth.signInWithOAuth({provider:"apple",options:{redirectTo:`${window.location.origin}/museum-app/`}});return{error:e}},signOut:async()=>{ib&&(await ib.auth.signOut(),c(!1),localStorage.removeItem("guestMode"))},continueAsGuest:()=>{c(!0),localStorage.setItem("guestMode","true")}};return o.jsx(ab.Provider,{value:u,children:e})},lb=ae.createContext(void 0),cb=({children:e})=>{const[t,r]=ae.useState(null),[n,i]=ae.useState(!1),[a,s]=ae.useState(0),[l,c]=ae.useState(0),[u,d]=ae.useState(1),h=ae.useRef(null);ae.useEffect(()=>{h.current=new Audio;const e=h.current,t=()=>{s(e.currentTime)},r=()=>{c(e.duration)},n=()=>{i(!1),s(0)},o=()=>{i(!0)},a=()=>{i(!1)};return e.addEventListener("timeupdate",t),e.addEventListener("durationchange",r),e.addEventListener("ended",n),e.addEventListener("play",o),e.addEventListener("pause",a),()=>{e.removeEventListener("timeupdate",t),e.removeEventListener("durationchange",r),e.removeEventListener("ended",n),e.removeEventListener("play",o),e.removeEventListener("pause",a),e.pause()}},[]);const p=e=>{h.current&&(h.current.currentTime=e,s(e))},f={currentAudio:t,isPlaying:n,currentTime:a,duration:l,playbackRate:u,playAudio:(e,n,i)=>{if(!h.current)return;const o=h.current;(null==t?void 0:t.url)!==e?(o.src=e,o.playbackRate=u,o.play(),r({url:e,title:n,artifactId:i}),s(0)):o.play()},pauseAudio:()=>{h.current&&h.current.pause()},resumeAudio:()=>{h.current&&t&&h.current.play()},stopAudio:()=>{h.current&&(h.current.pause(),h.current.currentTime=0,r(null),i(!1),s(0))},seekTo:p,skipForward:e=>{if(!h.current)return;const t=Math.min(h.current.currentTime+e,l);p(t)},skipBackward:e=>{if(!h.current)return;const t=Math.max(h.current.currentTime-e,0);p(t)},setPlaybackRate:e=>{h.current&&(h.current.playbackRate=e,d(e))}};return o.jsx(lb.Provider,{value:f,children:e})},ub=()=>{const e=ae.useContext(lb);if(void 0===e)throw new Error("useAudioPlayer must be used within an AudioPlayerProvider");return e},db="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm108.25 138.29l-134.4 160a16 16 0 01-12 5.71h-.27a16 16 0 01-11.89-5.3l-57.6-64a16 16 0 1123.78-21.4l45.29 50.32 122.59-145.91a16 16 0 0124.5 20.58z'/></svg>",hb="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",pb="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",fb="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M473.66 210c-14-10.38-31.2-18-49.36-22.11a16.11 16.11 0 01-12.19-12.22c-7.8-34.75-24.59-64.55-49.27-87.13C334.15 62.25 296.21 47.79 256 47.79c-35.35 0-68 11.08-94.37 32.05a150.07 150.07 0 00-42.06 53 16 16 0 01-11.31 8.87c-26.75 5.4-50.9 16.87-69.34 33.12C13.46 197.33 0 227.24 0 261.39c0 34.52 14.49 66 40.79 88.76 25.12 21.69 58.94 33.64 95.21 33.64h104V230.42l-36.69 36.69a16 16 0 01-23.16-.56c-5.8-6.37-5.24-16.3.85-22.39l63.69-63.68a16 16 0 0122.62 0L331 244.14c6.28 6.29 6.64 16.6.39 22.91a16 16 0 01-22.68.06L272 230.42v153.37h124c31.34 0 59.91-8.8 80.45-24.77 23.26-18.1 35.55-44 35.55-74.83 0-29.94-13.26-55.61-38.34-74.19zM240 448.21a16 16 0 1032 0v-64.42h-32z'/></svg>",gb="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M160 368L32 256l128-112M352 368l128-112-128-112M304 96l-96 320' class='ionicon-fill-none ionicon-stroke-width'/></svg>",mb="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M440.9 136.3a4 4 0 000-6.91L288.16 40.65a64.14 64.14 0 00-64.33 0L71.12 129.39a4 4 0 000 6.91L254 243.88a4 4 0 004.06 0zM54 163.51a4 4 0 00-6 3.49v173.89a48 48 0 0023.84 41.39L234 479.51a4 4 0 006-3.46V274.3a4 4 0 00-2-3.46zM272 275v201a4 4 0 006 3.46l162.15-97.23A48 48 0 00464 340.89V167a4 4 0 00-6-3.45l-184 108a4 4 0 00-2 3.45z'/></svg>",wb="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 341.37V170.61A32 32 0 00432.11 143l-152-88.46a47.94 47.94 0 00-48.24 0L79.89 143A32 32 0 0064 170.61v170.76A32 32 0 0079.89 369l152 88.46a48 48 0 0048.24 0l152-88.46A32 32 0 00448 341.37z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M69 153.99l187 110 187-110M256 463.99v-200' class='ionicon-fill-none ionicon-stroke-width'/></svg>",bb="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 448a32 32 0 01-18-5.57c-78.59-53.35-112.62-89.93-131.39-112.8-40-48.75-59.15-98.8-58.61-153C48.63 114.52 98.46 64 159.08 64c44.08 0 74.61 24.83 92.39 45.51a6 6 0 009.06 0C278.31 88.81 308.84 64 352.92 64c60.62 0 110.45 50.52 111.08 112.64.54 54.21-18.63 104.26-58.61 153-18.77 22.87-52.8 59.45-131.39 112.8a32 32 0 01-18 5.56z'/></svg>",vb="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M352.92 80C288 80 256 144 256 144s-32-64-96.92-64c-52.76 0-94.54 44.14-95.08 96.81-1.1 109.33 86.73 187.08 183 252.42a16 16 0 0018 0c96.26-65.34 184.09-143.09 183-252.42-.54-52.67-42.32-96.81-95.08-96.81z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",yb="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='48' y='80' width='416' height='352' rx='48' ry='48' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='336' cy='176' r='32' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M304 335.79l-90.66-90.49a32 32 0 00-43.87-1.3L48 352M224 432l123.34-123.34a32 32 0 0143.11-2L464 368' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",xb="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M450.29 112H142c-34 0-62 27.51-62 61.33v245.34c0 33.82 28 61.33 62 61.33h308c34 0 62-26.18 62-60V173.33c0-33.82-27.68-61.33-61.71-61.33zm-77.15 61.34a46 46 0 11-46.28 46 46.19 46.19 0 0146.28-46.01zm-231.55 276c-17 0-29.86-13.75-29.86-30.66v-64.83l90.46-80.79a46.54 46.54 0 0163.44 1.83L328.27 337l-113 112.33zM480 418.67a30.67 30.67 0 01-30.71 30.66H259L376.08 333a46.24 46.24 0 0159.44-.16L480 370.59z'/><path d='M384 32H64A64 64 0 000 96v256a64.11 64.11 0 0048 62V152a72 72 0 0172-72h326a64.11 64.11 0 00-62-48z'/></svg>",Sb="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 56C145.72 56 56 145.72 56 256s89.72 200 200 200 200-89.72 200-200S366.28 56 256 56zm0 82a26 26 0 11-26 26 26 26 0 0126-26zm48 226h-88a16 16 0 010-32h28v-88h-16a16 16 0 010-32h32a16 16 0 0116 16v104h28a16 16 0 010 32z'/></svg>",Eb="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M48 112h288M192 64v48M272 448l96-224 96 224M301.5 384h133M281.3 112S257 206 199 277 80 384 80 384' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 336s-35-27-72-75-56-85-56-85' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",_b="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M208 352h-64a96 96 0 010-192h64M304 160h64a96 96 0 010 192h-64M163.29 256h187.42' stroke-linecap='round' stroke-linejoin='round' stroke-width='36' class='ionicon-fill-none'/></svg>",Cb="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M424 80H88a56.06 56.06 0 00-56 56v240a56.06 56.06 0 0056 56h336a56.06 56.06 0 0056-56V136a56.06 56.06 0 00-56-56zm-14.18 92.63l-144 112a16 16 0 01-19.64 0l-144-112a16 16 0 1119.64-25.26L256 251.73l134.18-104.36a16 16 0 0119.64 25.26z'/></svg>",Ab="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M160 136c0-30.62 4.51-61.61 16-88C99.57 81.27 48 159.32 48 248c0 119.29 96.71 216 216 216 88.68 0 166.73-51.57 200-128-26.39 11.49-57.38 16-88 16-119.29 0-216-96.71-216-216z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Tb="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M208 432h-48a16 16 0 01-16-16V96a16 16 0 0116-16h48a16 16 0 0116 16v320a16 16 0 01-16 16zM352 432h-48a16 16 0 01-16-16V96a16 16 0 0116-16h48a16 16 0 0116 16v320a16 16 0 01-16 16z'/></svg>",kb="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M133 440a35.37 35.37 0 01-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37 7.46-27.53 19.46-34.33a35.13 35.13 0 0135.77.45l247.85 148.36a36 36 0 010 61l-247.89 148.4A35.5 35.5 0 01133 440z'/></svg>",Ib="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='336' y='336' width='80' height='80' rx='8' ry='8'/><rect x='272' y='272' width='64' height='64' rx='8' ry='8'/><rect x='416' y='416' width='64' height='64' rx='8' ry='8'/><rect x='432' y='272' width='48' height='48' rx='8' ry='8'/><rect x='272' y='432' width='48' height='48' rx='8' ry='8'/><path d='M448 32H304a32 32 0 00-32 32v144a32 32 0 0032 32h144a32 32 0 0032-32V64a32 32 0 00-32-32zm-32 136a8 8 0 01-8 8h-64a8 8 0 01-8-8v-64a8 8 0 018-8h64a8 8 0 018 8zM208 32H64a32 32 0 00-32 32v144a32 32 0 0032 32h144a32 32 0 0032-32V64a32 32 0 00-32-32zm-32 136a8 8 0 01-8 8h-64a8 8 0 01-8-8v-64a8 8 0 018-8h64a8 8 0 018 8zM208 272H64a32 32 0 00-32 32v144a32 32 0 0032 32h144a32 32 0 0032-32V304a32 32 0 00-32-32zm-32 136a8 8 0 01-8 8h-64a8 8 0 01-8-8v-64a8 8 0 018-8h64a8 8 0 018 8z'/></svg>",Rb="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M342 444h46a56 56 0 0056-56v-46M444 170v-46a56 56 0 00-56-56h-46M170 444h-46a56 56 0 01-56-56v-46M68 170v-46a56 56 0 0156-56h46' stroke-linecap='round' stroke-linejoin='round' stroke-width='44' class='ionicon-fill-none'/></svg>",Ob="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M338.29 338.29L448 448' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Nb="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M336 192h40a40 40 0 0140 40v192a40 40 0 01-40 40H136a40 40 0 01-40-40V232a40 40 0 0140-40h40M336 128l-80-80-80 80M256 321V48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Db="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-miterlimit='10' d='M256 48v48M256 416v48M403.08 108.92l-33.94 33.94M142.86 369.14l-33.94 33.94M464 256h-48M96 256H48M403.08 403.08l-33.94-33.94M142.86 142.86l-33.94-33.94' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='256' cy='256' r='80' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Pb=()=>{const{t:e}=me(),t=ce(),{signIn:r,signUp:n,signInWithGoogle:i,signInWithApple:m,continueAsGuest:w}=(()=>{const e=ae.useContext(ab);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e})(),[b,v]=ae.useState(!1),[y,x]=ae.useState(!1),[S,E]=ae.useState(""),[_,C]=ae.useState(""),[A,T]=ae.useState(!1),[k,I]=ae.useState(!1),[R,O]=ae.useState("");return o.jsx(a,{children:o.jsx(s,{fullscreen:!0,className:"welcome-content",children:o.jsxs("div",{className:"welcome-container",children:[o.jsxs("div",{className:"welcome-header",children:[o.jsx("div",{className:"logo-container",children:o.jsxs("svg",{className:"museum-logo",width:"120",height:"120",viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("polyline",{points:"25,50 60,18 95,50",stroke:"rgba(255, 255, 255, 0.95)",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),o.jsx("polyline",{points:"32,44 60,25 88,44",stroke:"rgba(255, 255, 255, 0.95)",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),o.jsx("line",{x1:"35",y1:"55",x2:"35",y2:"85",stroke:"rgba(255, 255, 255, 0.95)",strokeWidth:"3",strokeLinecap:"round"}),o.jsx("line",{x1:"60",y1:"55",x2:"60",y2:"95",stroke:"rgba(255, 255, 255, 0.95)",strokeWidth:"3",strokeLinecap:"round"}),o.jsx("line",{x1:"85",y1:"55",x2:"85",y2:"85",stroke:"rgba(255, 255, 255, 0.95)",strokeWidth:"3",strokeLinecap:"round"}),o.jsx("line",{x1:"25",y1:"100",x2:"95",y2:"100",stroke:"rgba(255, 255, 255, 0.95)",strokeWidth:"3",strokeLinecap:"round"})]})}),o.jsx("h1",{className:"app-title",children:e("virtualMuseum")||"Virtual Museum"}),o.jsx("p",{className:"app-tagline",children:e("exploreHistory")||"Explore History in Your Hands"})]}),o.jsxs("div",{className:"auth-container",children:[b?o.jsx(o.Fragment,{children:o.jsx(u,{className:"auth-card",children:o.jsxs(d,{children:[o.jsx("h2",{className:"auth-title",children:y?e("signUp")||"Sign Up":e("login")||"Login"}),R&&o.jsx(h,{color:"danger",className:"error-text",children:o.jsx("p",{children:R})}),o.jsxs(p,{lines:"none",className:"auth-input",children:[o.jsx(c,{icon:Cb,slot:"start"}),o.jsx(f,{type:"email",placeholder:e("email")||"Email",value:S,onIonInput:e=>E(e.detail.value)})]}),o.jsxs(p,{lines:"none",className:"auth-input",children:[o.jsx(c,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M368 192h-16v-80a96 96 0 10-192 0v80h-16a64.07 64.07 0 00-64 64v176a64.07 64.07 0 0064 64h224a64.07 64.07 0 0064-64V256a64.07 64.07 0 00-64-64zm-48 0H192v-80a64 64 0 11128 0z'/></svg>",slot:"start"}),o.jsx(f,{type:A?"text":"password",placeholder:e("password")||"Password",value:_,onIonInput:e=>C(e.detail.value)}),o.jsx(c,{icon:A?"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M432 448a15.92 15.92 0 01-11.31-4.69l-352-352a16 16 0 0122.62-22.62l352 352A16 16 0 01432 448zM248 315.85l-51.79-51.79a2 2 0 00-3.39 1.69 64.11 64.11 0 0053.49 53.49 2 2 0 001.69-3.39zM264 196.15L315.87 248a2 2 0 003.4-1.69 64.13 64.13 0 00-53.55-53.55 2 2 0 00-1.72 3.39z'/><path d='M491 273.36a32.2 32.2 0 00-.1-34.76c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.68 96a226.54 226.54 0 00-71.82 11.79 4 4 0 00-1.56 6.63l47.24 47.24a4 4 0 003.82 1.05 96 96 0 01116 116 4 4 0 001.05 3.81l67.95 68a4 4 0 005.4.24 343.81 343.81 0 0067.24-77.4zM256 352a96 96 0 01-93.3-118.63 4 4 0 00-1.05-3.81l-66.84-66.87a4 4 0 00-5.41-.23c-24.39 20.81-47 46.13-67.67 75.72a31.92 31.92 0 00-.64 35.54c26.41 41.33 60.39 76.14 98.28 100.65C162.06 402 207.92 416 255.68 416a238.22 238.22 0 0072.64-11.55 4 4 0 001.61-6.64l-47.47-47.46a4 4 0 00-3.81-1.05A96 96 0 01256 352z'/></svg>":"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='64'/><path d='M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96c-42.52 0-84.33 12.15-124.27 36.11-40.73 24.43-77.63 60.12-109.68 106.07a31.92 31.92 0 00-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416c46.71 0 93.81-14.43 136.2-41.72 38.46-24.77 72.72-59.66 99.08-100.92a32.2 32.2 0 00-.1-34.76zM256 352a96 96 0 1196-96 96.11 96.11 0 01-96 96z'/></svg>",slot:"end",onClick:()=>T(!A),style:{cursor:"pointer"}})]}),o.jsx(l,{expand:"block",onClick:async()=>{if(!S||!_)return void O(e("pleaseEnterEmailPassword")||"Please enter email and password");I(!0),O("");const{error:i}=y?await n(S,_):await r(S,_);i?(O(i.message),I(!1)):y?(O(e("checkEmailVerification")||"Please check your email to verify your account"),I(!1)):t.push("/tabs/gallery")},disabled:k,className:"submit-button",children:k?o.jsx(g,{name:"crescent"}):y?e("signUp")||"Sign Up":e("login")||"Login"}),o.jsxs("div",{className:"auth-switch",children:[o.jsx(h,{children:y?e("alreadyHaveAccount")||"Already have an account?":e("dontHaveAccount")||"Don't have an account?"}),o.jsx(l,{fill:"clear",size:"small",onClick:()=>{x(!y),O("")},children:y?e("login")||"Login":e("signUp")||"Sign Up"})]}),o.jsx(l,{fill:"clear",size:"small",onClick:()=>v(!1),className:"back-button",children:e("back")||"Back"})]})})}):o.jsxs(o.Fragment,{children:[o.jsxs(l,{expand:"block",className:"social-button google-button",onClick:async()=>{I(!0),O("");const{error:e}=await i();e&&(O(e.message),I(!1))},disabled:k,children:[o.jsx(c,{slot:"start",icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M473.16 221.48l-2.26-9.59H262.46v88.22H387c-12.93 61.4-72.93 93.72-121.94 93.72-35.66 0-73.25-15-98.13-39.11a140.08 140.08 0 01-41.8-98.88c0-37.16 16.7-74.33 41-98.78s61-38.13 97.49-38.13c41.79 0 71.74 22.19 82.94 32.31l62.69-62.36C390.86 72.72 340.34 32 261.6 32c-60.75 0-119 23.27-161.58 65.71C58 139.5 36.25 199.93 36.25 256s20.58 113.48 61.3 155.6c43.51 44.92 105.13 68.4 168.58 68.4 57.73 0 112.45-22.62 151.45-63.66 38.34-40.4 58.17-96.3 58.17-154.9 0-24.67-2.48-39.32-2.59-39.96z'/></svg>"}),e("continueWithGoogle")||"Continue with Google"]}),o.jsxs(l,{expand:"block",className:"social-button apple-button",onClick:async()=>{I(!0),O("");const{error:e}=await m();e&&(O(e.message),I(!1))},disabled:k,children:[o.jsx(c,{slot:"start",icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M349.13 136.86c-40.32 0-57.36 19.24-85.44 19.24-28.79 0-50.75-19.1-85.69-19.1-34.2 0-70.67 20.88-93.83 56.45-32.52 50.16-27 144.63 25.67 225.11 18.84 28.81 44 61.12 77 61.47h.6c28.68 0 37.2-18.78 76.67-19h.6c38.88 0 46.68 18.89 75.24 18.89h.6c33-.35 59.51-36.15 78.35-64.85 13.56-20.64 18.6-31 29-54.35-76.19-28.92-88.43-136.93-13.08-178.34-23-28.8-55.32-45.48-85.79-45.48z'/><path d='M340.25 32c-24 1.63-52 16.91-68.4 36.86-14.88 18.08-27.12 44.9-22.32 70.91h1.92c25.56 0 51.72-15.39 67-35.11 14.72-18.77 25.88-45.37 21.8-72.66z'/></svg>"}),e("continueWithApple")||"Continue with Apple"]}),o.jsx("div",{className:"divider",children:o.jsx("span",{children:e("or")||"or"})}),o.jsxs(l,{expand:"block",fill:"outline",className:"email-toggle-button",onClick:()=>v(!0),children:[o.jsx(c,{slot:"start",icon:Cb}),e("continueWithEmail")||"Continue with Email"]})]}),o.jsx("div",{className:"guest-mode",children:o.jsx(l,{fill:"clear",onClick:()=>{w(),t.push("/tabs/gallery")},className:"guest-button",children:e("continueAsGuest")||"Continue as Guest"})})]}),o.jsx("div",{className:"welcome-footer",children:o.jsx("p",{children:e("welcomeFooter")||"Discover ancient artifacts, explore 3D exhibits, and test your knowledge"})})]})})})};function Mb(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function jb(e={},t={}){const r=["__proto__","constructor","prototype"];Object.keys(t).filter(e=>r.indexOf(e)<0).forEach(r=>{void 0===e[r]?e[r]=t[r]:Mb(t[r])&&Mb(e[r])&&Object.keys(t[r]).length>0&&jb(e[r],t[r])})}const Lb={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Bb(){const e="undefined"!=typeof document?document:{};return jb(e,Lb),e}const zb={document:Lb,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function Fb(){const e="undefined"!=typeof window?window:{};return jb(e,zb),e}function Ub(e,t=0){return setTimeout(e,t)}function Vb(){return Date.now()}function Hb(e,t="x"){const r=Fb();let n,i,o;const a=function(e){const t=Fb();let r;return t.getComputedStyle&&(r=t.getComputedStyle(e,null)),!r&&e.currentStyle&&(r=e.currentStyle),r||(r=e.style),r}(e);return r.WebKitCSSMatrix?(i=a.transform||a.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(e=>e.replace(",",".")).join(", ")),o=new r.WebKitCSSMatrix("none"===i?"":i)):(o=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=o.toString().split(",")),"x"===t&&(i=r.WebKitCSSMatrix?o.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(i=r.WebKitCSSMatrix?o.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),i||0}function Gb(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function qb(e){return"undefined"!=typeof window&&void 0!==window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function Wb(...e){const t=Object(e[0]),r=["__proto__","constructor","prototype"];for(let n=1;n<e.length;n+=1){const i=e[n];if(null!=i&&!qb(i)){const e=Object.keys(Object(i)).filter(e=>r.indexOf(e)<0);for(let r=0,n=e.length;r<n;r+=1){const n=e[r],o=Object.getOwnPropertyDescriptor(i,n);void 0!==o&&o.enumerable&&(Gb(t[n])&&Gb(i[n])?i[n].__swiper__?t[n]=i[n]:Wb(t[n],i[n]):!Gb(t[n])&&Gb(i[n])?(t[n]={},i[n].__swiper__?t[n]=i[n]:Wb(t[n],i[n])):t[n]=i[n])}}}return t}function $b(e,t,r){e.style.setProperty(t,r)}function Xb({swiper:e,targetPosition:t,side:r}){const n=Fb(),i=-e.translate;let o,a=null;const s=e.params.speed;e.wrapperEl.style.scrollSnapType="none",n.cancelAnimationFrame(e.cssModeFrameID);const l=t>i?"next":"prev",c=(e,t)=>"next"===l&&e>=t||"prev"===l&&e<=t,u=()=>{o=(new Date).getTime(),null===a&&(a=o);const l=Math.max(Math.min((o-a)/s,1),0),d=.5-Math.cos(l*Math.PI)/2;let h=i+d*(t-i);if(c(h,t)&&(h=t),e.wrapperEl.scrollTo({[r]:h}),c(h,t))return e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:h})}),void n.cancelAnimationFrame(e.cssModeFrameID);e.cssModeFrameID=n.requestAnimationFrame(u)};u()}function Yb(e,t=""){const r=Fb(),n=[...e.children];return r.HTMLSlotElement&&e instanceof HTMLSlotElement&&n.push(...e.assignedElements()),t?n.filter(e=>e.matches(t)):n}function Kb(e){try{return void console.warn(e)}catch(Lx){}}function Qb(e,t=[]){const r=document.createElement(e);return r.classList.add(...Array.isArray(t)?t:function(e=""){return e.trim().split(" ").filter(e=>!!e.trim())}(t)),r}function Zb(e,t){return Fb().getComputedStyle(e,null).getPropertyValue(t)}function Jb(e){let t,r=e;if(r){for(t=0;null!==(r=r.previousSibling);)1===r.nodeType&&(t+=1);return t}}function ev(e,t){const r=[];let n=e.parentElement;for(;n;)t?n.matches(t)&&r.push(n):r.push(n),n=n.parentElement;return r}function tv(e,t,r){const n=Fb();return e["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(n.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(n.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-left":"margin-bottom"))}function rv(e){return(Array.isArray(e)?e:[e]).filter(e=>!!e)}function nv(e,t=""){"undefined"!=typeof trustedTypes?e.innerHTML=trustedTypes.createPolicy("html",{createHTML:e=>e}).createHTML(t):e.innerHTML=t}let iv,ov,av;function sv(){return iv||(iv=function(){const e=Fb(),t=Bb();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}()),iv}function lv(e={}){return ov||(ov=function({userAgent:e}={}){const t=sv(),r=Fb(),n=r.navigator.platform,i=e||r.navigator.userAgent,o={ios:!1,android:!1},a=r.screen.width,s=r.screen.height,l=i.match(/(Android);?[\s\/]+([\d.]+)?/);let c=i.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const u=i.match(/(iPod)(.*OS\s([\d_]+))?/),d=!c&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h="Win32"===n;let p="MacIntel"===n;return!c&&p&&t.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${a}x${s}`)>=0&&(c=i.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),p=!1),l&&!h&&(o.os="android",o.android=!0),(c||d||u)&&(o.os="ios",o.ios=!0),o}(e)),ov}function cv(){return av||(av=function(){const e=Fb(),t=lv();let r=!1;function n(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}if(n()){const t=String(e.navigator.userAgent);if(t.includes("Version/")){const[e,n]=t.split("Version/")[1].split(" ")[0].split(".").map(e=>Number(e));r=e<16||16===e&&n<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),o=n();return{isSafari:r||o,needPerspectiveFix:r,need3dFix:o||i&&t.ios,isWebView:i}}()),av}var uv={on(e,t,r){const n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!=typeof t)return n;const i=r?"unshift":"push";return e.split(" ").forEach(e=>{n.eventsListeners[e]||(n.eventsListeners[e]=[]),n.eventsListeners[e][i](t)}),n},once(e,t,r){const n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!=typeof t)return n;function i(...r){n.off(e,i),i.__emitterProxy&&delete i.__emitterProxy,t.apply(n,r)}return i.__emitterProxy=t,n.on(e,i,r)},onAny(e,t){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!=typeof e)return r;const n=t?"unshift":"push";return r.eventsAnyListeners.indexOf(e)<0&&r.eventsAnyListeners[n](e),r},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;const r=t.eventsAnyListeners.indexOf(e);return r>=0&&t.eventsAnyListeners.splice(r,1),t},off(e,t){const r=this;return!r.eventsListeners||r.destroyed?r:r.eventsListeners?(e.split(" ").forEach(e=>{void 0===t?r.eventsListeners[e]=[]:r.eventsListeners[e]&&r.eventsListeners[e].forEach((n,i)=>{(n===t||n.__emitterProxy&&n.__emitterProxy===t)&&r.eventsListeners[e].splice(i,1)})}),r):r},emit(...e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsListeners)return t;let r,n,i;return"string"==typeof e[0]||Array.isArray(e[0])?(r=e[0],n=e.slice(1,e.length),i=t):(r=e[0].events,n=e[0].data,i=e[0].context||t),n.unshift(i),(Array.isArray(r)?r:r.split(" ")).forEach(e=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(t=>{t.apply(i,[e,...n])}),t.eventsListeners&&t.eventsListeners[e]&&t.eventsListeners[e].forEach(e=>{e.apply(i,n)})}),t}};const dv=(e,t,r)=>{t&&!e.classList.contains(r)?e.classList.add(r):!t&&e.classList.contains(r)&&e.classList.remove(r)},hv=(e,t,r)=>{t&&!e.classList.contains(r)?e.classList.add(r):!t&&e.classList.contains(r)&&e.classList.remove(r)},pv=(e,t)=>{if(!e||e.destroyed||!e.params)return;const r=t.closest(e.isElement?"swiper-slide":`.${e.params.slideClass}`);if(r){let t=r.querySelector(`.${e.params.lazyPreloaderClass}`);!t&&e.isElement&&(r.shadowRoot?t=r.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(t=r.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),t&&t.remove())})),t&&t.remove()}},fv=(e,t)=>{if(!e.slides[t])return;const r=e.slides[t].querySelector('[loading="lazy"]');r&&r.removeAttribute("loading")},gv=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const r=e.slides.length;if(!r||!t||t<0)return;t=Math.min(t,r);const n="auto"===e.params.slidesPerView?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),i=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const r=i,o=[r-t];return o.push(...Array.from({length:t}).map((e,t)=>r+n+t)),void e.slides.forEach((t,r)=>{o.includes(t.column)&&fv(e,r)})}const o=i+n-1;if(e.params.rewind||e.params.loop)for(let a=i-t;a<=o+t;a+=1){const t=(a%r+r)%r;(t<i||t>o)&&fv(e,t)}else for(let a=Math.max(i-t,0);a<=Math.min(o+t,r-1);a+=1)a!==i&&(a>o||a<i)&&fv(e,a)};var mv={updateSize:function(){const e=this;let t,r;const n=e.el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:n.clientWidth,r=void 0!==e.params.height&&null!==e.params.height?e.params.height:n.clientHeight,0===t&&e.isHorizontal()||0===r&&e.isVertical()||(t=t-parseInt(Zb(n,"padding-left")||0,10)-parseInt(Zb(n,"padding-right")||0,10),r=r-parseInt(Zb(n,"padding-top")||0,10)-parseInt(Zb(n,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(r)&&(r=0),Object.assign(e,{width:t,height:r,size:e.isHorizontal()?t:r}))},updateSlides:function(){const e=this;function t(t,r){return parseFloat(t.getPropertyValue(e.getDirectionLabel(r))||0)}const r=e.params,{wrapperEl:n,slidesEl:i,rtlTranslate:o,wrongRTL:a}=e,s=e.virtual&&r.virtual.enabled,l=s?e.virtual.slides.length:e.slides.length,c=Yb(i,`.${e.params.slideClass}, swiper-slide`),u=s?e.virtual.slides.length:c.length;let d=[];const h=[],p=[];let f=r.slidesOffsetBefore;"function"==typeof f&&(f=r.slidesOffsetBefore.call(e));let g=r.slidesOffsetAfter;"function"==typeof g&&(g=r.slidesOffsetAfter.call(e));const m=e.snapGrid.length,w=e.slidesGrid.length,b=e.size-f-g;let v=r.spaceBetween,y=-f,x=0,S=0;if(void 0===b)return;"string"==typeof v&&v.indexOf("%")>=0?v=parseFloat(v.replace("%",""))/100*b:"string"==typeof v&&(v=parseFloat(v)),e.virtualSize=-v-f-g,c.forEach(e=>{o?e.style.marginLeft="":e.style.marginRight="",e.style.marginBottom="",e.style.marginTop=""}),r.centeredSlides&&r.cssMode&&($b(n,"--swiper-centered-offset-before",""),$b(n,"--swiper-centered-offset-after",""));const E=r.grid&&r.grid.rows>1&&e.grid;let _;E?e.grid.initSlides(c):e.grid&&e.grid.unsetSlides();const C="auto"===r.slidesPerView&&r.breakpoints&&Object.keys(r.breakpoints).filter(e=>void 0!==r.breakpoints[e].slidesPerView).length>0;for(let A=0;A<u;A+=1){_=0;const n=c[A];if(!n||(E&&e.grid.updateSlide(A,n,c),"none"!==Zb(n,"display"))){if(s&&"auto"===r.slidesPerView)r.virtual.slidesPerViewAutoSlideSize&&(_=r.virtual.slidesPerViewAutoSlideSize),_&&n&&(r.roundLengths&&(_=Math.floor(_)),n.style[e.getDirectionLabel("width")]=`${_}px`);else if("auto"===r.slidesPerView){C&&(n.style[e.getDirectionLabel("width")]="");const i=getComputedStyle(n),o=n.style.transform,a=n.style.webkitTransform;if(o&&(n.style.transform="none"),a&&(n.style.webkitTransform="none"),r.roundLengths)_=e.isHorizontal()?tv(n,"width"):tv(n,"height");else{const e=t(i,"width"),r=t(i,"padding-left"),o=t(i,"padding-right"),a=t(i,"margin-left"),s=t(i,"margin-right"),l=i.getPropertyValue("box-sizing");if(l&&"border-box"===l)_=e+a+s;else{const{clientWidth:t,offsetWidth:i}=n;_=e+r+o+a+s+(i-t)}}o&&(n.style.transform=o),a&&(n.style.webkitTransform=a),r.roundLengths&&(_=Math.floor(_))}else _=(b-(r.slidesPerView-1)*v)/r.slidesPerView,r.roundLengths&&(_=Math.floor(_)),n&&(n.style[e.getDirectionLabel("width")]=`${_}px`);n&&(n.swiperSlideSize=_),p.push(_),r.centeredSlides?(y=y+_/2+x/2+v,0===x&&0!==A&&(y=y-b/2-v),0===A&&(y=y-b/2-v),Math.abs(y)<.001&&(y=0),r.roundLengths&&(y=Math.floor(y)),S%r.slidesPerGroup===0&&d.push(y),h.push(y)):(r.roundLengths&&(y=Math.floor(y)),(S-Math.min(e.params.slidesPerGroupSkip,S))%e.params.slidesPerGroup===0&&d.push(y),h.push(y),y=y+_+v),e.virtualSize+=_+v,x=_,S+=1}}if(e.virtualSize=Math.max(e.virtualSize,b)+g,o&&a&&("slide"===r.effect||"coverflow"===r.effect)&&(n.style.width=`${e.virtualSize+v}px`),r.setWrapperSize&&(n.style[e.getDirectionLabel("width")]=`${e.virtualSize+v}px`),E&&e.grid.updateWrapperSize(_,d),!r.centeredSlides){const t=[];for(let n=0;n<d.length;n+=1){let i=d[n];r.roundLengths&&(i=Math.floor(i)),d[n]<=e.virtualSize-b&&t.push(i)}d=t,Math.floor(e.virtualSize-b)-Math.floor(d[d.length-1])>1&&d.push(e.virtualSize-b)}if(s&&r.loop){const t=p[0]+v;if(r.slidesPerGroup>1){const n=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/r.slidesPerGroup),i=t*r.slidesPerGroup;for(let e=0;e<n;e+=1)d.push(d[d.length-1]+i)}for(let n=0;n<e.virtual.slidesBefore+e.virtual.slidesAfter;n+=1)1===r.slidesPerGroup&&d.push(d[d.length-1]+t),h.push(h[h.length-1]+t),e.virtualSize+=t}if(0===d.length&&(d=[0]),0!==v){const t=e.isHorizontal()&&o?"marginLeft":e.getDirectionLabel("marginRight");c.filter((e,t)=>!(r.cssMode&&!r.loop)||t!==c.length-1).forEach(e=>{e.style[t]=`${v}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let e=0;p.forEach(t=>{e+=t+(v||0)}),e-=v;const t=e>b?e-b:0;d=d.map(e=>e<=0?-f:e>t?t+g:e)}if(r.centerInsufficientSlides){let e=0;p.forEach(t=>{e+=t+(v||0)}),e-=v;const t=(f||0)+(g||0);if(e+t<b){const r=(b-e-t)/2;d.forEach((e,t)=>{d[t]=e-r}),h.forEach((e,t)=>{h[t]=e+r})}}if(Object.assign(e,{slides:c,snapGrid:d,slidesGrid:h,slidesSizesGrid:p}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){$b(n,"--swiper-centered-offset-before",-d[0]+"px"),$b(n,"--swiper-centered-offset-after",e.size/2-p[p.length-1]/2+"px");const t=-e.snapGrid[0],r=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(e=>e+t),e.slidesGrid=e.slidesGrid.map(e=>e+r)}if(u!==l&&e.emit("slidesLengthChange"),d.length!==m&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),h.length!==w&&e.emit("slidesGridLengthChange"),r.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!(s||r.cssMode||"slide"!==r.effect&&"fade"!==r.effect)){const t=`${r.containerModifierClass}backface-hidden`,n=e.el.classList.contains(t);u<=r.maxBackfaceHiddenSlides?n||e.el.classList.add(t):n&&e.el.classList.remove(t)}},updateAutoHeight:function(e){const t=this,r=[],n=t.virtual&&t.params.virtual.enabled;let i,o=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const a=e=>n?t.slides[t.getSlideIndexByData(e)]:t.slides[e];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(e=>{r.push(e)});else for(i=0;i<Math.ceil(t.params.slidesPerView);i+=1){const e=t.activeIndex+i;if(e>t.slides.length&&!n)break;r.push(a(e))}else r.push(a(t.activeIndex));for(i=0;i<r.length;i+=1)if(void 0!==r[i]){const e=r[i].offsetHeight;o=e>o?e:o}(o||0===o)&&(t.wrapperEl.style.height=`${o}px`)},updateSlidesOffset:function(){const e=this,t=e.slides,r=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let n=0;n<t.length;n+=1)t[n].swiperSlideOffset=(e.isHorizontal()?t[n].offsetLeft:t[n].offsetTop)-r-e.cssOverflowAdjustment()},updateSlidesProgress:function(e=this&&this.translate||0){const t=this,r=t.params,{slides:n,rtlTranslate:i,snapGrid:o}=t;if(0===n.length)return;void 0===n[0].swiperSlideOffset&&t.updateSlidesOffset();let a=-e;i&&(a=e),t.visibleSlidesIndexes=[],t.visibleSlides=[];let s=r.spaceBetween;"string"==typeof s&&s.indexOf("%")>=0?s=parseFloat(s.replace("%",""))/100*t.size:"string"==typeof s&&(s=parseFloat(s));for(let l=0;l<n.length;l+=1){const e=n[l];let c=e.swiperSlideOffset;r.cssMode&&r.centeredSlides&&(c-=n[0].swiperSlideOffset);const u=(a+(r.centeredSlides?t.minTranslate():0)-c)/(e.swiperSlideSize+s),d=(a-o[0]+(r.centeredSlides?t.minTranslate():0)-c)/(e.swiperSlideSize+s),h=-(a-c),p=h+t.slidesSizesGrid[l],f=h>=0&&h<=t.size-t.slidesSizesGrid[l],g=h>=0&&h<t.size-1||p>1&&p<=t.size||h<=0&&p>=t.size;g&&(t.visibleSlides.push(e),t.visibleSlidesIndexes.push(l)),dv(e,g,r.slideVisibleClass),dv(e,f,r.slideFullyVisibleClass),e.progress=i?-u:u,e.originalProgress=i?-d:d}},updateProgress:function(e){const t=this;if(void 0===e){const r=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*r||0}const r=t.params,n=t.maxTranslate()-t.minTranslate();let{progress:i,isBeginning:o,isEnd:a,progressLoop:s}=t;const l=o,c=a;if(0===n)i=0,o=!0,a=!0;else{i=(e-t.minTranslate())/n;const r=Math.abs(e-t.minTranslate())<1,s=Math.abs(e-t.maxTranslate())<1;o=r||i<=0,a=s||i>=1,r&&(i=0),s&&(i=1)}if(r.loop){const r=t.getSlideIndexByData(0),n=t.getSlideIndexByData(t.slides.length-1),i=t.slidesGrid[r],o=t.slidesGrid[n],a=t.slidesGrid[t.slidesGrid.length-1],l=Math.abs(e);s=l>=i?(l-i)/a:(l+a-o)/a,s>1&&(s-=1)}Object.assign(t,{progress:i,progressLoop:s,isBeginning:o,isEnd:a}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&t.updateSlidesProgress(e),o&&!l&&t.emit("reachBeginning toEdge"),a&&!c&&t.emit("reachEnd toEdge"),(l&&!o||c&&!a)&&t.emit("fromEdge"),t.emit("progress",i)},updateSlidesClasses:function(){const e=this,{slides:t,params:r,slidesEl:n,activeIndex:i}=e,o=e.virtual&&r.virtual.enabled,a=e.grid&&r.grid&&r.grid.rows>1,s=e=>Yb(n,`.${r.slideClass}${e}, swiper-slide${e}`)[0];let l,c,u;if(o)if(r.loop){let t=i-e.virtual.slidesBefore;t<0&&(t=e.virtual.slides.length+t),t>=e.virtual.slides.length&&(t-=e.virtual.slides.length),l=s(`[data-swiper-slide-index="${t}"]`)}else l=s(`[data-swiper-slide-index="${i}"]`);else a?(l=t.find(e=>e.column===i),u=t.find(e=>e.column===i+1),c=t.find(e=>e.column===i-1)):l=t[i];l&&(a||(u=function(e,t){const r=[];for(;e.nextElementSibling;){const n=e.nextElementSibling;t?n.matches(t)&&r.push(n):r.push(n),e=n}return r}(l,`.${r.slideClass}, swiper-slide`)[0],r.loop&&!u&&(u=t[0]),c=function(e,t){const r=[];for(;e.previousElementSibling;){const n=e.previousElementSibling;t?n.matches(t)&&r.push(n):r.push(n),e=n}return r}(l,`.${r.slideClass}, swiper-slide`)[0],r.loop&&0===!c&&(c=t[t.length-1]))),t.forEach(e=>{hv(e,e===l,r.slideActiveClass),hv(e,e===u,r.slideNextClass),hv(e,e===c,r.slidePrevClass)}),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,r=t.rtlTranslate?t.translate:-t.translate,{snapGrid:n,params:i,activeIndex:o,realIndex:a,snapIndex:s}=t;let l,c=e;const u=e=>{let r=e-t.virtual.slidesBefore;return r<0&&(r=t.virtual.slides.length+r),r>=t.virtual.slides.length&&(r-=t.virtual.slides.length),r};if(void 0===c&&(c=function(e){const{slidesGrid:t,params:r}=e,n=e.rtlTranslate?e.translate:-e.translate;let i;for(let o=0;o<t.length;o+=1)void 0!==t[o+1]?n>=t[o]&&n<t[o+1]-(t[o+1]-t[o])/2?i=o:n>=t[o]&&n<t[o+1]&&(i=o+1):n>=t[o]&&(i=o);return r.normalizeSlideIndex&&(i<0||void 0===i)&&(i=0),i}(t)),n.indexOf(r)>=0)l=n.indexOf(r);else{const e=Math.min(i.slidesPerGroupSkip,c);l=e+Math.floor((c-e)/i.slidesPerGroup)}if(l>=n.length&&(l=n.length-1),c===o&&!t.params.loop)return void(l!==s&&(t.snapIndex=l,t.emit("snapIndexChange")));if(c===o&&t.params.loop&&t.virtual&&t.params.virtual.enabled)return void(t.realIndex=u(c));const d=t.grid&&i.grid&&i.grid.rows>1;let h;if(t.virtual&&i.virtual.enabled&&i.loop)h=u(c);else if(d){const e=t.slides.find(e=>e.column===c);let r=parseInt(e.getAttribute("data-swiper-slide-index"),10);Number.isNaN(r)&&(r=Math.max(t.slides.indexOf(e),0)),h=Math.floor(r/i.grid.rows)}else if(t.slides[c]){const e=t.slides[c].getAttribute("data-swiper-slide-index");h=e?parseInt(e,10):c}else h=c;Object.assign(t,{previousSnapIndex:s,snapIndex:l,previousRealIndex:a,realIndex:h,previousIndex:o,activeIndex:c}),t.initialized&&gv(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(a!==h&&t.emit("realIndexChange"),t.emit("slideChange"))},updateClickedSlide:function(e,t){const r=this,n=r.params;let i=e.closest(`.${n.slideClass}, swiper-slide`);!i&&r.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach(e=>{!i&&e.matches&&e.matches(`.${n.slideClass}, swiper-slide`)&&(i=e)});let o,a=!1;if(i)for(let s=0;s<r.slides.length;s+=1)if(r.slides[s]===i){a=!0,o=s;break}if(!i||!a)return r.clickedSlide=void 0,void(r.clickedIndex=void 0);r.clickedSlide=i,r.virtual&&r.params.virtual.enabled?r.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):r.clickedIndex=o,n.slideToClickedSlide&&void 0!==r.clickedIndex&&r.clickedIndex!==r.activeIndex&&r.slideToClickedSlide()}},wv={getTranslate:function(e=(this.isHorizontal()?"x":"y")){const{params:t,rtlTranslate:r,translate:n,wrapperEl:i}=this;if(t.virtualTranslate)return r?-n:n;if(t.cssMode)return n;let o=Hb(i,e);return o+=this.cssOverflowAdjustment(),r&&(o=-o),o||0},setTranslate:function(e,t){const r=this,{rtlTranslate:n,params:i,wrapperEl:o,progress:a}=r;let s,l=0,c=0;r.isHorizontal()?l=n?-e:e:c=e,i.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),r.previousTranslate=r.translate,r.translate=r.isHorizontal()?l:c,i.cssMode?o[r.isHorizontal()?"scrollLeft":"scrollTop"]=r.isHorizontal()?-l:-c:i.virtualTranslate||(r.isHorizontal()?l-=r.cssOverflowAdjustment():c-=r.cssOverflowAdjustment(),o.style.transform=`translate3d(${l}px, ${c}px, 0px)`);const u=r.maxTranslate()-r.minTranslate();s=0===u?0:(e-r.minTranslate())/u,s!==a&&r.updateProgress(e),r.emit("setTranslate",r.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e=0,t=this.params.speed,r=!0,n=!0,i){const o=this,{params:a,wrapperEl:s}=o;if(o.animating&&a.preventInteractionOnTransition)return!1;const l=o.minTranslate(),c=o.maxTranslate();let u;if(u=n&&e>l?l:n&&e<c?c:e,o.updateProgress(u),a.cssMode){const e=o.isHorizontal();if(0===t)s[e?"scrollLeft":"scrollTop"]=-u;else{if(!o.support.smoothScroll)return Xb({swiper:o,targetPosition:-u,side:e?"left":"top"}),!0;s.scrollTo({[e?"left":"top"]:-u,behavior:"smooth"})}return!0}return 0===t?(o.setTransition(0),o.setTranslate(u),r&&(o.emit("beforeTransitionStart",t,i),o.emit("transitionEnd"))):(o.setTransition(t),o.setTranslate(u),r&&(o.emit("beforeTransitionStart",t,i),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(e){o&&!o.destroyed&&e.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,r&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}};function bv({swiper:e,runCallbacks:t,direction:r,step:n}){const{activeIndex:i,previousIndex:o}=e;let a=r;a||(a=i>o?"next":i<o?"prev":"reset"),e.emit(`transition${n}`),t&&"reset"===a?e.emit(`slideResetTransition${n}`):t&&i!==o&&(e.emit(`slideChangeTransition${n}`),"next"===a?e.emit(`slideNextTransition${n}`):e.emit(`slidePrevTransition${n}`))}var vv={slideTo:function(e=0,t,r=!0,n,i){"string"==typeof e&&(e=parseInt(e,10));const o=this;let a=e;a<0&&(a=0);const{params:s,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:h,wrapperEl:p,enabled:f}=o;if(!f&&!n&&!i||o.destroyed||o.animating&&s.preventInteractionOnTransition)return!1;void 0===t&&(t=o.params.speed);const g=Math.min(o.params.slidesPerGroupSkip,a);let m=g+Math.floor((a-g)/o.params.slidesPerGroup);m>=l.length&&(m=l.length-1);const w=-l[m];if(s.normalizeSlideIndex)for(let x=0;x<c.length;x+=1){const e=-Math.floor(100*w),t=Math.floor(100*c[x]),r=Math.floor(100*c[x+1]);void 0!==c[x+1]?e>=t&&e<r-(r-t)/2?a=x:e>=t&&e<r&&(a=x+1):e>=t&&(a=x)}if(o.initialized&&a!==d){if(!o.allowSlideNext&&(h?w>o.translate&&w>o.minTranslate():w<o.translate&&w<o.minTranslate()))return!1;if(!o.allowSlidePrev&&w>o.translate&&w>o.maxTranslate()&&(d||0)!==a)return!1}let b;a!==(u||0)&&r&&o.emit("beforeSlideChangeStart"),o.updateProgress(w),b=a>d?"next":a<d?"prev":"reset";const v=o.virtual&&o.params.virtual.enabled;if((!v||!i)&&(h&&-w===o.translate||!h&&w===o.translate))return o.updateActiveIndex(a),s.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),"slide"!==s.effect&&o.setTranslate(w),"reset"!==b&&(o.transitionStart(r,b),o.transitionEnd(r,b)),!1;if(s.cssMode){const e=o.isHorizontal(),r=h?w:-w;if(0===t)v&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),v&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[e?"scrollLeft":"scrollTop"]=r})):p[e?"scrollLeft":"scrollTop"]=r,v&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return Xb({swiper:o,targetPosition:r,side:e?"left":"top"}),!0;p.scrollTo({[e?"left":"top"]:r,behavior:"smooth"})}return!0}const y=cv().isSafari;return v&&!i&&y&&o.isElement&&o.virtual.update(!1,!1,a),o.setTransition(t),o.setTranslate(w),o.updateActiveIndex(a),o.updateSlidesClasses(),o.emit("beforeTransitionStart",t,n),o.transitionStart(r,b),0===t?o.transitionEnd(r,b):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(e){o&&!o.destroyed&&e.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(r,b))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e=0,t,r=!0,n){"string"==typeof e&&(e=parseInt(e,10));const i=this;if(i.destroyed)return;void 0===t&&(t=i.params.speed);const o=i.grid&&i.params.grid&&i.params.grid.rows>1;let a=e;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)a+=i.virtual.slidesBefore;else{let e;if(o){const t=a*i.params.grid.rows;e=i.slides.find(e=>1*e.getAttribute("data-swiper-slide-index")===t).column}else e=i.getSlideIndexByData(a);const t=o?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:r,slidesOffsetBefore:s,slidesOffsetAfter:l}=i.params,c=r||!!s||!!l;let u=i.params.slidesPerView;"auto"===u?u=i.slidesPerViewDynamic():(u=Math.ceil(parseFloat(i.params.slidesPerView,10)),c&&u%2==0&&(u+=1));let d=t-e<u;if(c&&(d=d||e<Math.ceil(u/2)),n&&c&&"auto"!==i.params.slidesPerView&&!o&&(d=!1),d){const r=c?e<i.activeIndex?"prev":"next":e-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:r,slideTo:!0,activeSlideIndex:"next"===r?e+1:e-t+1,slideRealIndex:"next"===r?i.realIndex:void 0})}if(o){const e=a*i.params.grid.rows;a=i.slides.find(t=>1*t.getAttribute("data-swiper-slide-index")===e).column}else a=i.getSlideIndexByData(a)}return requestAnimationFrame(()=>{i.slideTo(a,t,r,n)}),i},slideNext:function(e,t=!0,r){const n=this,{enabled:i,params:o,animating:a}=n;if(!i||n.destroyed)return n;void 0===e&&(e=n.params.speed);let s=o.slidesPerGroup;"auto"===o.slidesPerView&&1===o.slidesPerGroup&&o.slidesPerGroupAuto&&(s=Math.max(n.slidesPerViewDynamic("current",!0),1));const l=n.activeIndex<o.slidesPerGroupSkip?1:s,c=n.virtual&&o.virtual.enabled;if(o.loop){if(a&&!c&&o.loopPreventsSliding)return!1;if(n.loopFix({direction:"next"}),n._clientLeft=n.wrapperEl.clientLeft,n.activeIndex===n.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{n.slideTo(n.activeIndex+l,e,t,r)}),!0}return o.rewind&&n.isEnd?n.slideTo(0,e,t,r):n.slideTo(n.activeIndex+l,e,t,r)},slidePrev:function(e,t=!0,r){const n=this,{params:i,snapGrid:o,slidesGrid:a,rtlTranslate:s,enabled:l,animating:c}=n;if(!l||n.destroyed)return n;void 0===e&&(e=n.params.speed);const u=n.virtual&&i.virtual.enabled;if(i.loop){if(c&&!u&&i.loopPreventsSliding)return!1;n.loopFix({direction:"prev"}),n._clientLeft=n.wrapperEl.clientLeft}function d(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const h=d(s?n.translate:-n.translate),p=o.map(e=>d(e)),f=i.freeMode&&i.freeMode.enabled;let g=o[p.indexOf(h)-1];if(void 0===g&&(i.cssMode||f)){let e;o.forEach((t,r)=>{h>=t&&(e=r)}),void 0!==e&&(g=f?o[e]:o[e>0?e-1:e])}let m=0;if(void 0!==g&&(m=a.indexOf(g),m<0&&(m=n.activeIndex-1),"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(m=m-n.slidesPerViewDynamic("previous",!0)+1,m=Math.max(m,0))),i.rewind&&n.isBeginning){const i=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(i,e,t,r)}return i.loop&&0===n.activeIndex&&i.cssMode?(requestAnimationFrame(()=>{n.slideTo(m,e,t,r)}),!0):n.slideTo(m,e,t,r)},slideReset:function(e,t=!0,r){const n=this;if(!n.destroyed)return void 0===e&&(e=n.params.speed),n.slideTo(n.activeIndex,e,t,r)},slideToClosest:function(e,t=!0,r,n=.5){const i=this;if(i.destroyed)return;void 0===e&&(e=i.params.speed);let o=i.activeIndex;const a=Math.min(i.params.slidesPerGroupSkip,o),s=a+Math.floor((o-a)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[s]){const e=i.snapGrid[s];l-e>(i.snapGrid[s+1]-e)*n&&(o+=i.params.slidesPerGroup)}else{const e=i.snapGrid[s-1];l-e<=(i.snapGrid[s]-e)*n&&(o-=i.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,i.slidesGrid.length-1),i.slideTo(o,e,t,r)},slideToClickedSlide:function(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:r}=e,n="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let i,o=e.getSlideIndexWhenGrid(e.clickedIndex);const a=e.isElement?"swiper-slide":`.${t.slideClass}`,s=e.grid&&e.params.grid&&e.params.grid.rows>1;if(t.loop){if(e.animating)return;i=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?e.slideToLoop(i):o>(s?(e.slides.length-n)/2-(e.params.grid.rows-1):e.slides.length-n)?(e.loopFix(),o=e.getSlideIndex(Yb(r,`${a}[data-swiper-slide-index="${i}"]`)[0]),Ub(()=>{e.slideTo(o)})):e.slideTo(o)}else e.slideTo(o)}},yv={loopCreate:function(e,t){const r=this,{params:n,slidesEl:i}=r;if(!n.loop||r.virtual&&r.params.virtual.enabled)return;const o=()=>{Yb(i,`.${n.slideClass}, swiper-slide`).forEach((e,t)=>{e.setAttribute("data-swiper-slide-index",t)})},a=r.grid&&n.grid&&n.grid.rows>1;n.loopAddBlankSlides&&(n.slidesPerGroup>1||a)&&(()=>{const e=Yb(i,`.${n.slideBlankClass}`);e.forEach(e=>{e.remove()}),e.length>0&&(r.recalcSlides(),r.updateSlides())})();const s=n.slidesPerGroup*(a?n.grid.rows:1),l=r.slides.length%s!==0,c=a&&r.slides.length%n.grid.rows!==0,u=e=>{for(let t=0;t<e;t+=1){const e=r.isElement?Qb("swiper-slide",[n.slideBlankClass]):Qb("div",[n.slideClass,n.slideBlankClass]);r.slidesEl.append(e)}};l?(n.loopAddBlankSlides?(u(s-r.slides.length%s),r.recalcSlides(),r.updateSlides()):Kb("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),o()):c?(n.loopAddBlankSlides?(u(n.grid.rows-r.slides.length%n.grid.rows),r.recalcSlides(),r.updateSlides()):Kb("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),o()):o();const d=n.centeredSlides||!!n.slidesOffsetBefore||!!n.slidesOffsetAfter;r.loopFix({slideRealIndex:e,direction:d?void 0:"next",initial:t})},loopFix:function({slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:n,activeSlideIndex:i,initial:o,byController:a,byMousewheel:s}={}){const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:d,slidesEl:h,params:p}=l,{centeredSlides:f,slidesOffsetBefore:g,slidesOffsetAfter:m,initialSlide:w}=p,b=f||!!g||!!m;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&p.virtual.enabled)return t&&(b||0!==l.snapIndex?b&&l.snapIndex<p.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0):l.slideTo(l.virtual.slides.length,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=d,void l.emit("loopFix");let v=p.slidesPerView;"auto"===v?v=l.slidesPerViewDynamic():(v=Math.ceil(parseFloat(p.slidesPerView,10)),b&&v%2==0&&(v+=1));const y=p.slidesPerGroupAuto?v:p.slidesPerGroup;let x=b?Math.max(y,Math.ceil(v/2)):y;x%y!==0&&(x+=y-x%y),x+=p.loopAdditionalSlides,l.loopedSlides=x;const S=l.grid&&p.grid&&p.grid.rows>1;c.length<v+x||"cards"===l.params.effect&&c.length<v+2*x?Kb("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):S&&"row"===p.grid.fill&&Kb("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const E=[],_=[],C=S?Math.ceil(c.length/p.grid.rows):c.length,A=o&&C-w<v&&!b;let T=A?w:l.activeIndex;void 0===i?i=l.getSlideIndex(c.find(e=>e.classList.contains(p.slideActiveClass))):T=i;const k="next"===r||!r,I="prev"===r||!r;let R=0,O=0;const N=(S?c[i].column:i)+(b&&void 0===n?-v/2+.5:0);if(N<x){R=Math.max(x-N,y);for(let e=0;e<x-N;e+=1){const t=e-Math.floor(e/C)*C;if(S){const e=C-t-1;for(let t=c.length-1;t>=0;t-=1)c[t].column===e&&E.push(t)}else E.push(C-t-1)}}else if(N+v>C-x){O=Math.max(N-(C-2*x),y),A&&(O=Math.max(O,v-C+w+1));for(let e=0;e<O;e+=1){const t=e-Math.floor(e/C)*C;S?c.forEach((e,r)=>{e.column===t&&_.push(r)}):_.push(t)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),"cards"===l.params.effect&&c.length<v+2*x&&(_.includes(i)&&_.splice(_.indexOf(i),1),E.includes(i)&&E.splice(E.indexOf(i),1)),I&&E.forEach(e=>{c[e].swiperLoopMoveDOM=!0,h.prepend(c[e]),c[e].swiperLoopMoveDOM=!1}),k&&_.forEach(e=>{c[e].swiperLoopMoveDOM=!0,h.append(c[e]),c[e].swiperLoopMoveDOM=!1}),l.recalcSlides(),"auto"===p.slidesPerView?l.updateSlides():S&&(E.length>0&&I||_.length>0&&k)&&l.slides.forEach((e,t)=>{l.grid.updateSlide(t,e,l.slides)}),p.watchSlidesProgress&&l.updateSlidesOffset(),t)if(E.length>0&&I){if(void 0===e){const e=l.slidesGrid[T],t=l.slidesGrid[T+R]-e;s?l.setTranslate(l.translate-t):(l.slideTo(T+Math.ceil(R),0,!1,!0),n&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-t,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-t))}else if(n){const e=S?E.length/p.grid.rows:E.length;l.slideTo(l.activeIndex+e,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(_.length>0&&k)if(void 0===e){const e=l.slidesGrid[T],t=l.slidesGrid[T-O]-e;s?l.setTranslate(l.translate-t):(l.slideTo(T-O,0,!1,!0),n&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-t,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-t))}else{const e=S?_.length/p.grid.rows:_.length;l.slideTo(l.activeIndex-e,0,!1,!0)}if(l.allowSlidePrev=u,l.allowSlideNext=d,l.controller&&l.controller.control&&!a){const o={slideRealIndex:e,direction:r,setTranslate:n,activeSlideIndex:i,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(e=>{!e.destroyed&&e.params.loop&&e.loopFix({...o,slideTo:e.params.slidesPerView===p.slidesPerView&&t})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...o,slideTo:l.controller.control.params.slidesPerView===p.slidesPerView&&t})}l.emit("loopFix")},loopDestroy:function(){const e=this,{params:t,slidesEl:r}=e;if(!t.loop||!r||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const n=[];e.slides.forEach(e=>{const t=void 0===e.swiperSlideIndex?1*e.getAttribute("data-swiper-slide-index"):e.swiperSlideIndex;n[t]=e}),e.slides.forEach(e=>{e.removeAttribute("data-swiper-slide-index")}),n.forEach(e=>{r.append(e)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}};function xv(e,t,r){const n=Fb(),{params:i}=e,o=i.edgeSwipeDetection,a=i.edgeSwipeThreshold;return!o||!(r<=a||r>=n.innerWidth-a)||"prevent"===o&&(t.preventDefault(),!0)}function Sv(e){const t=this,r=Bb();let n=e;n.originalEvent&&(n=n.originalEvent);const i=t.touchEventsData;if("pointerdown"===n.type){if(null!==i.pointerId&&i.pointerId!==n.pointerId)return;i.pointerId=n.pointerId}else"touchstart"===n.type&&1===n.targetTouches.length&&(i.touchId=n.targetTouches[0].identifier);if("touchstart"===n.type)return void xv(t,n,n.targetTouches[0].pageX);const{params:o,touches:a,enabled:s}=t;if(!s)return;if(!o.simulateTouch&&"mouse"===n.pointerType)return;if(t.animating&&o.preventInteractionOnTransition)return;!t.animating&&o.cssMode&&o.loop&&t.loopFix();let l=n.target;if("wrapper"===o.touchEventsTarget&&!function(e,t){const r=Fb();let n=t.contains(e);return!n&&r.HTMLSlotElement&&t instanceof HTMLSlotElement&&(n=[...t.assignedElements()].includes(e),n||(n=function(e,t){const r=[t];for(;r.length>0;){const t=r.shift();if(e===t)return!0;r.push(...t.children,...t.shadowRoot?t.shadowRoot.children:[],...t.assignedElements?t.assignedElements():[])}}(e,t))),n}(l,t.wrapperEl))return;if("which"in n&&3===n.which)return;if("button"in n&&n.button>0)return;if(i.isTouched&&i.isMoved)return;const c=!!o.noSwipingClass&&""!==o.noSwipingClass,u=n.composedPath?n.composedPath():n.path;c&&n.target&&n.target.shadowRoot&&u&&(l=u[0]);const d=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,h=!(!n.target||!n.target.shadowRoot);if(o.noSwiping&&(h?function(e,t=this){return function t(r){if(!r||r===Bb()||r===Fb())return null;r.assignedSlot&&(r=r.assignedSlot);const n=r.closest(e);return n||r.getRootNode?n||t(r.getRootNode().host):null}(t)}(d,l):l.closest(d)))return void(t.allowClick=!0);if(o.swipeHandler&&!l.closest(o.swipeHandler))return;a.currentX=n.pageX,a.currentY=n.pageY;const p=a.currentX,f=a.currentY;if(!xv(t,n,p))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=p,a.startY=f,i.touchStartTime=Vb(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,o.threshold>0&&(i.allowThresholdMove=!1);let g=!0;l.matches(i.focusableElements)&&(g=!1,"SELECT"===l.nodeName&&(i.isTouched=!1)),r.activeElement&&r.activeElement.matches(i.focusableElements)&&r.activeElement!==l&&("mouse"===n.pointerType||"mouse"!==n.pointerType&&!l.matches(i.focusableElements))&&r.activeElement.blur();const m=g&&t.allowTouchMove&&o.touchStartPreventDefault;!o.touchStartForcePreventDefault&&!m||l.isContentEditable||n.preventDefault(),o.freeMode&&o.freeMode.enabled&&t.freeMode&&t.animating&&!o.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",n)}function Ev(e){const t=Bb(),r=this,n=r.touchEventsData,{params:i,touches:o,rtlTranslate:a,enabled:s}=r;if(!s)return;if(!i.simulateTouch&&"mouse"===e.pointerType)return;let l,c=e;if(c.originalEvent&&(c=c.originalEvent),"pointermove"===c.type){if(null!==n.touchId)return;if(c.pointerId!==n.pointerId)return}if("touchmove"===c.type){if(l=[...c.changedTouches].find(e=>e.identifier===n.touchId),!l||l.identifier!==n.touchId)return}else l=c;if(!n.isTouched)return void(n.startMoving&&n.isScrolling&&r.emit("touchMoveOpposite",c));const u=l.pageX,d=l.pageY;if(c.preventedByNestedSwiper)return o.startX=u,void(o.startY=d);if(!r.allowTouchMove)return c.target.matches(n.focusableElements)||(r.allowClick=!1),void(n.isTouched&&(Object.assign(o,{startX:u,startY:d,currentX:u,currentY:d}),n.touchStartTime=Vb()));if(i.touchReleaseOnEdges&&!i.loop)if(r.isVertical()){if(d<o.startY&&r.translate<=r.maxTranslate()||d>o.startY&&r.translate>=r.minTranslate())return n.isTouched=!1,void(n.isMoved=!1)}else{if(a&&(u>o.startX&&-r.translate<=r.maxTranslate()||u<o.startX&&-r.translate>=r.minTranslate()))return;if(!a&&(u<o.startX&&r.translate<=r.maxTranslate()||u>o.startX&&r.translate>=r.minTranslate()))return}if(t.activeElement&&t.activeElement.matches(n.focusableElements)&&t.activeElement!==c.target&&"mouse"!==c.pointerType&&t.activeElement.blur(),t.activeElement&&c.target===t.activeElement&&c.target.matches(n.focusableElements))return n.isMoved=!0,void(r.allowClick=!1);n.allowTouchCallbacks&&r.emit("touchMove",c),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=u,o.currentY=d;const h=o.currentX-o.startX,p=o.currentY-o.startY;if(r.params.threshold&&Math.sqrt(h**2+p**2)<r.params.threshold)return;if(void 0===n.isScrolling){let e;r.isHorizontal()&&o.currentY===o.startY||r.isVertical()&&o.currentX===o.startX?n.isScrolling=!1:h*h+p*p>=25&&(e=180*Math.atan2(Math.abs(p),Math.abs(h))/Math.PI,n.isScrolling=r.isHorizontal()?e>i.touchAngle:90-e>i.touchAngle)}if(n.isScrolling&&r.emit("touchMoveOpposite",c),void 0===n.startMoving&&(o.currentX===o.startX&&o.currentY===o.startY||(n.startMoving=!0)),n.isScrolling||"touchmove"===c.type&&n.preventTouchMoveFromPointerMove)return void(n.isTouched=!1);if(!n.startMoving)return;r.allowClick=!1,!i.cssMode&&c.cancelable&&c.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&c.stopPropagation();let f=r.isHorizontal()?h:p,g=r.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;i.oneWayMovement&&(f=Math.abs(f)*(a?1:-1),g=Math.abs(g)*(a?1:-1)),o.diff=f,f*=i.touchRatio,a&&(f=-f,g=-g);const m=r.touchesDirection;r.swipeDirection=f>0?"prev":"next",r.touchesDirection=g>0?"prev":"next";const w=r.params.loop&&!i.cssMode,b="next"===r.touchesDirection&&r.allowSlideNext||"prev"===r.touchesDirection&&r.allowSlidePrev;if(!n.isMoved){if(w&&b&&r.loopFix({direction:r.swipeDirection}),n.startTranslate=r.getTranslate(),r.setTransition(0),r.animating){const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});r.wrapperEl.dispatchEvent(e)}n.allowMomentumBounce=!1,!i.grabCursor||!0!==r.allowSlideNext&&!0!==r.allowSlidePrev||r.setGrabCursor(!0),r.emit("sliderFirstMove",c)}if((new Date).getTime(),!1!==i._loopSwapReset&&n.isMoved&&n.allowThresholdMove&&m!==r.touchesDirection&&w&&b&&Math.abs(f)>=1)return Object.assign(o,{startX:u,startY:d,currentX:u,currentY:d,startTranslate:n.currentTranslate}),n.loopSwapReset=!0,void(n.startTranslate=n.currentTranslate);r.emit("sliderMove",c),n.isMoved=!0,n.currentTranslate=f+n.startTranslate;let v=!0,y=i.resistanceRatio;if(i.touchReleaseOnEdges&&(y=0),f>0?(w&&b&&n.allowThresholdMove&&n.currentTranslate>(i.centeredSlides?r.minTranslate()-r.slidesSizesGrid[r.activeIndex+1]-("auto"!==i.slidesPerView&&r.slides.length-i.slidesPerView>=2?r.slidesSizesGrid[r.activeIndex+1]+r.params.spaceBetween:0)-r.params.spaceBetween:r.minTranslate())&&r.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),n.currentTranslate>r.minTranslate()&&(v=!1,i.resistance&&(n.currentTranslate=r.minTranslate()-1+(-r.minTranslate()+n.startTranslate+f)**y))):f<0&&(w&&b&&n.allowThresholdMove&&n.currentTranslate<(i.centeredSlides?r.maxTranslate()+r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween+("auto"!==i.slidesPerView&&r.slides.length-i.slidesPerView>=2?r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween:0):r.maxTranslate())&&r.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:r.slides.length-("auto"===i.slidesPerView?r.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),n.currentTranslate<r.maxTranslate()&&(v=!1,i.resistance&&(n.currentTranslate=r.maxTranslate()+1-(r.maxTranslate()-n.startTranslate-f)**y))),v&&(c.preventedByNestedSwiper=!0),!r.allowSlideNext&&"next"===r.swipeDirection&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!r.allowSlidePrev&&"prev"===r.swipeDirection&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),r.allowSlidePrev||r.allowSlideNext||(n.currentTranslate=n.startTranslate),i.threshold>0){if(!(Math.abs(f)>i.threshold||n.allowThresholdMove))return void(n.currentTranslate=n.startTranslate);if(!n.allowThresholdMove)return n.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,n.currentTranslate=n.startTranslate,void(o.diff=r.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY)}i.followFinger&&!i.cssMode&&((i.freeMode&&i.freeMode.enabled&&r.freeMode||i.watchSlidesProgress)&&(r.updateActiveIndex(),r.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&r.freeMode&&r.freeMode.onTouchMove(),r.updateProgress(n.currentTranslate),r.setTranslate(n.currentTranslate))}function _v(e){const t=this,r=t.touchEventsData;let n,i=e;if(i.originalEvent&&(i=i.originalEvent),"touchend"===i.type||"touchcancel"===i.type){if(n=[...i.changedTouches].find(e=>e.identifier===r.touchId),!n||n.identifier!==r.touchId)return}else{if(null!==r.touchId)return;if(i.pointerId!==r.pointerId)return;n=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&(!["pointercancel","contextmenu"].includes(i.type)||!t.browser.isSafari&&!t.browser.isWebView))return;r.pointerId=null,r.touchId=null;const{params:o,touches:a,rtlTranslate:s,slidesGrid:l,enabled:c}=t;if(!c)return;if(!o.simulateTouch&&"mouse"===i.pointerType)return;if(r.allowTouchCallbacks&&t.emit("touchEnd",i),r.allowTouchCallbacks=!1,!r.isTouched)return r.isMoved&&o.grabCursor&&t.setGrabCursor(!1),r.isMoved=!1,void(r.startMoving=!1);o.grabCursor&&r.isMoved&&r.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const u=Vb(),d=u-r.touchStartTime;if(t.allowClick){const e=i.path||i.composedPath&&i.composedPath();t.updateClickedSlide(e&&e[0]||i.target,e),t.emit("tap click",i),d<300&&u-r.lastClickTime<300&&t.emit("doubleTap doubleClick",i)}if(r.lastClickTime=Vb(),Ub(()=>{t.destroyed||(t.allowClick=!0)}),!r.isTouched||!r.isMoved||!t.swipeDirection||0===a.diff&&!r.loopSwapReset||r.currentTranslate===r.startTranslate&&!r.loopSwapReset)return r.isTouched=!1,r.isMoved=!1,void(r.startMoving=!1);let h;if(r.isTouched=!1,r.isMoved=!1,r.startMoving=!1,h=o.followFinger?s?t.translate:-t.translate:-r.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:h});const p=h>=-t.maxTranslate()&&!t.params.loop;let f=0,g=t.slidesSizesGrid[0];for(let y=0;y<l.length;y+=y<o.slidesPerGroupSkip?1:o.slidesPerGroup){const e=y<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;void 0!==l[y+e]?(p||h>=l[y]&&h<l[y+e])&&(f=y,g=l[y+e]-l[y]):(p||h>=l[y])&&(f=y,g=l[l.length-1]-l[l.length-2])}let m=null,w=null;o.rewind&&(t.isBeginning?w=o.virtual&&o.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(m=0));const b=(h-l[f])/g,v=f<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(d>o.longSwipesMs){if(!o.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(b>=o.longSwipesRatio?t.slideTo(o.rewind&&t.isEnd?m:f+v):t.slideTo(f)),"prev"===t.swipeDirection&&(b>1-o.longSwipesRatio?t.slideTo(f+v):null!==w&&b<0&&Math.abs(b)>o.longSwipesRatio?t.slideTo(w):t.slideTo(f))}else{if(!o.shortSwipes)return void t.slideTo(t.activeIndex);!t.navigation||i.target!==t.navigation.nextEl&&i.target!==t.navigation.prevEl?("next"===t.swipeDirection&&t.slideTo(null!==m?m:f+v),"prev"===t.swipeDirection&&t.slideTo(null!==w?w:f)):i.target===t.navigation.nextEl?t.slideTo(f+v):t.slideTo(f)}}function Cv(){const e=this,{params:t,el:r}=e;if(r&&0===r.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:i,snapGrid:o}=e,a=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const s=a&&t.loop;!("auto"===t.slidesPerView||t.slidesPerView>1)||!e.isEnd||e.isBeginning||e.params.centeredSlides||s?e.params.loop&&!a?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0):e.slideTo(e.slides.length-1,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=i,e.allowSlideNext=n,e.params.watchOverflow&&o!==e.snapGrid&&e.checkOverflow()}function Av(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function Tv(){const e=this,{wrapperEl:t,rtlTranslate:r,enabled:n}=e;if(!n)return;let i;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const o=e.maxTranslate()-e.minTranslate();i=0===o?0:(e.translate-e.minTranslate())/o,i!==e.progress&&e.updateProgress(r?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function kv(e){const t=this;pv(t,e.target),t.params.cssMode||"auto"!==t.params.slidesPerView&&!t.params.autoHeight||t.update()}function Iv(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const Rv=(e,t)=>{const r=Bb(),{params:n,el:i,wrapperEl:o,device:a}=e,s=!!n.nested,l="on"===t?"addEventListener":"removeEventListener",c=t;i&&"string"!=typeof i&&(r[l]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:s}),i[l]("touchstart",e.onTouchStart,{passive:!1}),i[l]("pointerdown",e.onTouchStart,{passive:!1}),r[l]("touchmove",e.onTouchMove,{passive:!1,capture:s}),r[l]("pointermove",e.onTouchMove,{passive:!1,capture:s}),r[l]("touchend",e.onTouchEnd,{passive:!0}),r[l]("pointerup",e.onTouchEnd,{passive:!0}),r[l]("pointercancel",e.onTouchEnd,{passive:!0}),r[l]("touchcancel",e.onTouchEnd,{passive:!0}),r[l]("pointerout",e.onTouchEnd,{passive:!0}),r[l]("pointerleave",e.onTouchEnd,{passive:!0}),r[l]("contextmenu",e.onTouchEnd,{passive:!0}),(n.preventClicks||n.preventClicksPropagation)&&i[l]("click",e.onClick,!0),n.cssMode&&o[l]("scroll",e.onScroll),n.updateOnWindowResize?e[c](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",Cv,!0):e[c]("observerUpdate",Cv,!0),i[l]("load",e.onLoad,{capture:!0}))},Ov=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var Nv={addClasses:function(){const e=this,{classNames:t,params:r,rtl:n,el:i,device:o}=e,a=function(e,t){const r=[];return e.forEach(e=>{"object"==typeof e?Object.keys(e).forEach(n=>{e[n]&&r.push(t+n)}):"string"==typeof e&&r.push(t+e)}),r}(["initialized",r.direction,{"free-mode":e.params.freeMode&&r.freeMode.enabled},{autoheight:r.autoHeight},{rtl:n},{grid:r.grid&&r.grid.rows>1},{"grid-column":r.grid&&r.grid.rows>1&&"column"===r.grid.fill},{android:o.android},{ios:o.ios},{"css-mode":r.cssMode},{centered:r.cssMode&&r.centeredSlides},{"watch-progress":r.watchSlidesProgress}],r.containerModifierClass);t.push(...a),i.classList.add(...t),e.emitContainerClasses()},removeClasses:function(){const{el:e,classNames:t}=this;e&&"string"!=typeof e&&(e.classList.remove(...t),this.emitContainerClasses())}},Dv={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Pv(e,t){return function(r={}){const n=Object.keys(r)[0],i=r[n];"object"==typeof i&&null!==i?(!0===e[n]&&(e[n]={enabled:!0}),"navigation"===n&&e[n]&&e[n].enabled&&!e[n].prevEl&&!e[n].nextEl&&(e[n].auto=!0),["pagination","scrollbar"].indexOf(n)>=0&&e[n]&&e[n].enabled&&!e[n].el&&(e[n].auto=!0),n in e&&"enabled"in i?("object"!=typeof e[n]||"enabled"in e[n]||(e[n].enabled=!0),e[n]||(e[n]={enabled:!1}),Wb(t,r)):Wb(t,r)):Wb(t,r)}}const Mv={eventsEmitter:uv,update:mv,translate:wv,transition:{setTransition:function(e,t){const r=this;r.params.cssMode||(r.wrapperEl.style.transitionDuration=`${e}ms`,r.wrapperEl.style.transitionDelay=0===e?"0ms":""),r.emit("setTransition",e,t)},transitionStart:function(e=!0,t){const r=this,{params:n}=r;n.cssMode||(n.autoHeight&&r.updateAutoHeight(),bv({swiper:r,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e=!0,t){const r=this,{params:n}=r;r.animating=!1,n.cssMode||(r.setTransition(0),bv({swiper:r,runCallbacks:e,direction:t,step:"End"}))}},slide:vv,loop:yv,grabCursor:{setGrabCursor:function(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const r="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),r.style.cursor="move",r.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})},unsetGrabCursor:function(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}},events:{attachEvents:function(){const e=this,{params:t}=e;e.onTouchStart=Sv.bind(e),e.onTouchMove=Ev.bind(e),e.onTouchEnd=_v.bind(e),e.onDocumentTouchStart=Iv.bind(e),t.cssMode&&(e.onScroll=Tv.bind(e)),e.onClick=Av.bind(e),e.onLoad=kv.bind(e),Rv(e,"on")},detachEvents:function(){Rv(this,"off")}},breakpoints:{setBreakpoint:function(){const e=this,{realIndex:t,initialized:r,params:n,el:i}=e,o=n.breakpoints;if(!o||o&&0===Object.keys(o).length)return;const a=Bb(),s="window"!==n.breakpointsBase&&n.breakpointsBase?"container":n.breakpointsBase,l=["window","container"].includes(n.breakpointsBase)||!n.breakpointsBase?e.el:a.querySelector(n.breakpointsBase),c=e.getBreakpoint(o,s,l);if(!c||e.currentBreakpoint===c)return;const u=(c in o?o[c]:void 0)||e.originalParams,d=Ov(e,n),h=Ov(e,u),p=e.params.grabCursor,f=u.grabCursor,g=n.enabled;d&&!h?(i.classList.remove(`${n.containerModifierClass}grid`,`${n.containerModifierClass}grid-column`),e.emitContainerClasses()):!d&&h&&(i.classList.add(`${n.containerModifierClass}grid`),(u.grid.fill&&"column"===u.grid.fill||!u.grid.fill&&"column"===n.grid.fill)&&i.classList.add(`${n.containerModifierClass}grid-column`),e.emitContainerClasses()),p&&!f?e.unsetGrabCursor():!p&&f&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(t=>{if(void 0===u[t])return;const r=n[t]&&n[t].enabled,i=u[t]&&u[t].enabled;r&&!i&&e[t].disable(),!r&&i&&e[t].enable()});const m=u.direction&&u.direction!==n.direction,w=n.loop&&(u.slidesPerView!==n.slidesPerView||m),b=n.loop;m&&r&&e.changeDirection(),Wb(e.params,u);const v=e.params.enabled,y=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),g&&!v?e.disable():!g&&v&&e.enable(),e.currentBreakpoint=c,e.emit("_beforeBreakpoint",u),r&&(w?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!b&&y?(e.loopCreate(t),e.updateSlides()):b&&!y&&e.loopDestroy()),e.emit("breakpoint",u)},getBreakpoint:function(e,t="window",r){if(!e||"container"===t&&!r)return;let n=!1;const i=Fb(),o="window"===t?i.innerHeight:r.clientHeight,a=Object.keys(e).map(e=>{if("string"==typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:o*t,point:e}}return{value:e,point:e}});a.sort((e,t)=>parseInt(e.value,10)-parseInt(t.value,10));for(let s=0;s<a.length;s+=1){const{point:e,value:o}=a[s];"window"===t?i.matchMedia(`(min-width: ${o}px)`).matches&&(n=e):o<=r.clientWidth&&(n=e)}return n||"max"}},checkOverflow:{checkOverflow:function(){const e=this,{isLocked:t,params:r}=e,{slidesOffsetBefore:n}=r;if(n){const t=e.slides.length-1,r=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*n;e.isLocked=e.size>r}else e.isLocked=1===e.snapGrid.length;!0===r.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===r.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:Nv},jv={};let Lv=class e{constructor(...t){let r,n;1===t.length&&t[0].constructor&&"Object"===Object.prototype.toString.call(t[0]).slice(8,-1)?n=t[0]:[r,n]=t,n||(n={}),n=Wb({},n),r&&!n.el&&(n.el=r);const i=Bb();if(n.el&&"string"==typeof n.el&&i.querySelectorAll(n.el).length>1){const t=[];return i.querySelectorAll(n.el).forEach(r=>{const i=Wb({},n,{el:r});t.push(new e(i))}),t}const o=this;o.__swiper__=!0,o.support=sv(),o.device=lv({userAgent:n.userAgent}),o.browser=cv(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],n.modules&&Array.isArray(n.modules)&&o.modules.push(...n.modules);const a={};o.modules.forEach(e=>{e({params:n,swiper:o,extendParams:Pv(n,a),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});const s=Wb({},Dv,a);return o.params=Wb({},s,jv,n),o.originalParams=Wb({},o.params),o.passedParams=Wb({},n),o.params&&o.params.on&&Object.keys(o.params.on).forEach(e=>{o.on(e,o.params.on[e])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:r,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===o.params.direction,isVertical:()=>"vertical"===o.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,n=Jb(Yb(t,`.${r.slideClass}, swiper-slide`)[0]);return Jb(e)-n}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>1*t.getAttribute("data-swiper-slide-index")===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&("column"===this.params.grid.fill?e=Math.floor(e/this.params.grid.rows):"row"===this.params.grid.fill&&(e%=Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const{slidesEl:e,params:t}=this;this.slides=Yb(e,`.${t.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const n=r.minTranslate(),i=(r.maxTranslate()-n)*e+n;r.translateTo(i,void 0===t?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const n=e.getSlideClasses(r);t.push({slideEl:r,classNames:n}),e.emit("_slideClass",r,n)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e="current",t=!1){const{params:r,slides:n,slidesGrid:i,slidesSizesGrid:o,size:a,activeIndex:s}=this;let l=1;if("number"==typeof r.slidesPerView)return r.slidesPerView;if(r.centeredSlides){let e,t=n[s]?Math.ceil(n[s].swiperSlideSize):0;for(let r=s+1;r<n.length;r+=1)n[r]&&!e&&(t+=Math.ceil(n[r].swiperSlideSize),l+=1,t>a&&(e=!0));for(let r=s-1;r>=0;r-=1)n[r]&&!e&&(t+=n[r].swiperSlideSize,l+=1,t>a&&(e=!0))}else if("current"===e)for(let c=s+1;c<n.length;c+=1)(t?i[c]+o[c]-i[s]<a:i[c]-i[s]<a)&&(l+=1);else for(let c=s-1;c>=0;c-=1)i[s]-i[c]<a&&(l+=1);return l}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;function n(){const t=e.rtlTranslate?-1*e.translate:e.translate,r=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(r),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(t=>{t.complete&&pv(e,t)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),r.freeMode&&r.freeMode.enabled&&!r.cssMode)n(),r.autoHeight&&e.updateAutoHeight();else{if(("auto"===r.slidesPerView||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const t=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(t.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||n()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t=!0){const r=this,n=r.params.direction;return e||(e="horizontal"===n?"vertical":"horizontal"),e===n||"horizontal"!==e&&"vertical"!==e||(r.el.classList.remove(`${r.params.containerModifierClass}${n}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(t=>{"vertical"===e?t.style.width="":t.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if("string"==typeof r&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const n=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let i=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(n()):Yb(r,n())[0];return!i&&t.params.createElements&&(i=Qb("div",t.params.wrapperClass),r.append(i),Yb(r,`.${t.params.slideClass}`).forEach(e=>{i.append(e)})),Object.assign(t,{el:r,wrapperEl:i,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:i,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:"rtl"===r.dir.toLowerCase()||"rtl"===Zb(r,"direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===r.dir.toLowerCase()||"rtl"===Zb(r,"direction")),wrongRTL:"-webkit-box"===Zb(i,"display")}),!0}init(e){const t=this;if(t.initialized)return t;if(!1===t.mount(e))return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const r=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&r.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(e=>{e.complete?pv(t,e):e.addEventListener("load",e=>{pv(t,e.target)})}),gv(t),t.initialized=!0,gv(t),t.emit("init"),t.emit("afterInit"),t}destroy(e=!0,t=!0){const r=this,{params:n,el:i,wrapperEl:o,slides:a}=r;return void 0===r.params||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),n.loop&&r.loopDestroy(),t&&(r.removeClasses(),i&&"string"!=typeof i&&i.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(e=>{e.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass),e.removeAttribute("style"),e.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(e=>{r.off(e)}),!1!==e&&(r.el&&"string"!=typeof r.el&&(r.el.swiper=null),function(e){const t=e;Object.keys(t).forEach(e=>{try{t[e]=null}catch(jx){}try{delete t[e]}catch(jx){}})}(r)),r.destroyed=!0),null}static extendDefaults(e){Wb(jv,e)}static get extendedDefaults(){return jv}static get defaults(){return Dv}static installModule(t){e.prototype.__modules__||(e.prototype.__modules__=[]);const r=e.prototype.__modules__;"function"==typeof t&&r.indexOf(t)<0&&r.push(t)}static use(t){return Array.isArray(t)?(t.forEach(t=>e.installModule(t)),e):(e.installModule(t),e)}};Object.keys(Mv).forEach(e=>{Object.keys(Mv[e]).forEach(t=>{Lv.prototype[t]=Mv[e][t]})}),Lv.use([function({swiper:e,on:t,emit:r}){const n=Fb();let i=null,o=null;const a=()=>{e&&!e.destroyed&&e.initialized&&(r("beforeResize"),r("resize"))},s=()=>{e&&!e.destroyed&&e.initialized&&r("orientationchange")};t("init",()=>{e.params.resizeObserver&&void 0!==n.ResizeObserver?e&&!e.destroyed&&e.initialized&&(i=new ResizeObserver(t=>{o=n.requestAnimationFrame(()=>{const{width:r,height:n}=e;let i=r,o=n;t.forEach(({contentBoxSize:t,contentRect:r,target:n})=>{n&&n!==e.el||(i=r?r.width:(t[0]||t).inlineSize,o=r?r.height:(t[0]||t).blockSize)}),i===r&&o===n||a()})}),i.observe(e.el)):(n.addEventListener("resize",a),n.addEventListener("orientationchange",s))}),t("destroy",()=>{o&&n.cancelAnimationFrame(o),i&&i.unobserve&&e.el&&(i.unobserve(e.el),i=null),n.removeEventListener("resize",a),n.removeEventListener("orientationchange",s)})},function({swiper:e,extendParams:t,on:r,emit:n}){const i=[],o=Fb(),a=(t,r={})=>{const a=new(o.MutationObserver||o.WebkitMutationObserver)(t=>{if(e.__preventObserver__)return;if(1===t.length)return void n("observerUpdate",t[0]);const r=function(){n("observerUpdate",t[0])};o.requestAnimationFrame?o.requestAnimationFrame(r):o.setTimeout(r,0)});a.observe(t,{attributes:void 0===r.attributes||r.attributes,childList:e.isElement||(void 0===r.childList||r).childList,characterData:void 0===r.characterData||r.characterData}),i.push(a)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",()=>{if(e.params.observer){if(e.params.observeParents){const t=ev(e.hostEl);for(let e=0;e<t.length;e+=1)a(t[e])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}}),r("destroy",()=>{i.forEach(e=>{e.disconnect()}),i.splice(0,i.length)})}]);const Bv=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function zv(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)&&!e.__swiper__}function Fv(e,t){const r=["__proto__","constructor","prototype"];Object.keys(t).filter(e=>r.indexOf(e)<0).forEach(r=>{void 0===e[r]?e[r]=t[r]:zv(t[r])&&zv(e[r])&&Object.keys(t[r]).length>0?t[r].__swiper__?e[r]=t[r]:Fv(e[r],t[r]):e[r]=t[r]})}function Uv(e={}){return e.navigation&&void 0===e.navigation.nextEl&&void 0===e.navigation.prevEl}function Vv(e={}){return e.pagination&&void 0===e.pagination.el}function Hv(e={}){return e.scrollbar&&void 0===e.scrollbar.el}function Gv(e=""){const t=e.split(" ").map(e=>e.trim()).filter(e=>!!e),r=[];return t.forEach(e=>{r.indexOf(e)<0&&r.push(e)}),r.join(" ")}function qv(e=""){return e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wv.apply(this,arguments)}function $v(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function Xv(e){const t=[];return ue.Children.toArray(e).forEach(e=>{$v(e)?t.push(e):e.props&&e.props.children&&Xv(e.props.children).forEach(e=>t.push(e))}),t}function Yv(e){const t=[],r={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return ue.Children.toArray(e).forEach(e=>{if($v(e))t.push(e);else if(e.props&&e.props.slot&&r[e.props.slot])r[e.props.slot].push(e);else if(e.props&&e.props.children){const n=Xv(e.props.children);n.length>0?n.forEach(e=>t.push(e)):r["container-end"].push(e)}else r["container-end"].push(e)}),{slides:t,slots:r}}function Kv(e,t){return"undefined"==typeof window?ae.useEffect(e,t):ae.useLayoutEffect(e,t)}const Qv=ae.createContext(null),Zv=ae.createContext(null),Jv=ae.forwardRef(({className:e,tag:t="div",wrapperTag:r="div",children:n,onSwiper:i,...o}={},a)=>{let s=!1;const[l,c]=ae.useState("swiper"),[u,d]=ae.useState(null),[h,p]=ae.useState(!1),f=ae.useRef(!1),g=ae.useRef(null),m=ae.useRef(null),w=ae.useRef(null),b=ae.useRef(null),v=ae.useRef(null),y=ae.useRef(null),x=ae.useRef(null),S=ae.useRef(null),{params:E,passedParams:_,rest:C,events:A}=function(e={},t=!0){const r={on:{}},n={},i={};Fv(r,Dv),r._emitClasses=!0,r.init=!1;const o={},a=Bv.map(e=>e.replace(/_/,"")),s=Object.assign({},e);return Object.keys(s).forEach(s=>{void 0!==e[s]&&(a.indexOf(s)>=0?zv(e[s])?(r[s]={},i[s]={},Fv(r[s],e[s]),Fv(i[s],e[s])):(r[s]=e[s],i[s]=e[s]):0===s.search(/on[A-Z]/)&&"function"==typeof e[s]?t?n[`${s[2].toLowerCase()}${s.substr(3)}`]=e[s]:r.on[`${s[2].toLowerCase()}${s.substr(3)}`]=e[s]:o[s]=e[s])}),["navigation","pagination","scrollbar"].forEach(e=>{!0===r[e]&&(r[e]={}),!1===r[e]&&delete r[e]}),{params:r,passedParams:i,rest:o,events:n}}(o),{slides:T,slots:k}=Yv(n),I=()=>{p(!h)};Object.assign(E.on,{_containerClasses(e,t){c(t)}});const R=()=>{Object.assign(E.on,A),s=!0;const e={...E};if(delete e.wrapperClass,m.current=new Lv(e),m.current.virtual&&m.current.params.virtual.enabled){m.current.virtual.slides=T;const e={cache:!1,slides:T,renderExternal:d,renderExternalUpdate:!1};Fv(m.current.params.virtual,e),Fv(m.current.originalParams.virtual,e)}};return g.current||R(),m.current&&m.current.on("_beforeBreakpoint",I),ae.useEffect(()=>()=>{m.current&&m.current.off("_beforeBreakpoint",I)}),ae.useEffect(()=>{!f.current&&m.current&&(m.current.emitSlidesClasses(),f.current=!0)}),Kv(()=>{if(a&&(a.current=g.current),g.current)return m.current.destroyed&&R(),function({el:e,nextEl:t,prevEl:r,paginationEl:n,scrollbarEl:i,swiper:o},a){Uv(a)&&t&&r&&(o.params.navigation.nextEl=t,o.originalParams.navigation.nextEl=t,o.params.navigation.prevEl=r,o.originalParams.navigation.prevEl=r),Vv(a)&&n&&(o.params.pagination.el=n,o.originalParams.pagination.el=n),Hv(a)&&i&&(o.params.scrollbar.el=i,o.originalParams.scrollbar.el=i),o.init(e)}({el:g.current,nextEl:v.current,prevEl:y.current,paginationEl:x.current,scrollbarEl:S.current,swiper:m.current},E),i&&!m.current.destroyed&&i(m.current),()=>{m.current&&!m.current.destroyed&&m.current.destroy(!0,!1)}},[]),Kv(()=>{!s&&A&&m.current&&Object.keys(A).forEach(e=>{m.current.on(e,A[e])});const e=function(e,t,r,n,i){const o=[];if(!t)return o;const a=e=>{o.indexOf(e)<0&&o.push(e)};if(r&&n){const e=n.map(i),t=r.map(i);e.join("")!==t.join("")&&a("children"),n.length!==r.length&&a("children")}return Bv.filter(e=>"_"===e[0]).map(e=>e.replace(/_/,"")).forEach(r=>{if(r in e&&r in t)if(zv(e[r])&&zv(t[r])){const n=Object.keys(e[r]),i=Object.keys(t[r]);n.length!==i.length?a(r):(n.forEach(n=>{e[r][n]!==t[r][n]&&a(r)}),i.forEach(n=>{e[r][n]!==t[r][n]&&a(r)}))}else e[r]!==t[r]&&a(r)}),o}(_,w.current,T,b.current,e=>e.key);return w.current=_,b.current=T,e.length&&m.current&&!m.current.destroyed&&function({swiper:e,slides:t,passedParams:r,changedParams:n,nextEl:i,prevEl:o,scrollbarEl:a,paginationEl:s}){const l=n.filter(e=>"children"!==e&&"direction"!==e&&"wrapperClass"!==e),{params:c,pagination:u,navigation:d,scrollbar:h,virtual:p,thumbs:f}=e;let g,m,w,b,v,y,x,S;n.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&c.thumbs&&(!c.thumbs.swiper||c.thumbs.swiper.destroyed)&&(g=!0),n.includes("controller")&&r.controller&&r.controller.control&&c.controller&&!c.controller.control&&(m=!0),n.includes("pagination")&&r.pagination&&(r.pagination.el||s)&&(c.pagination||!1===c.pagination)&&u&&!u.el&&(w=!0),n.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||a)&&(c.scrollbar||!1===c.scrollbar)&&h&&!h.el&&(b=!0),n.includes("navigation")&&r.navigation&&(r.navigation.prevEl||o)&&(r.navigation.nextEl||i)&&(c.navigation||!1===c.navigation)&&d&&!d.prevEl&&!d.nextEl&&(v=!0);const E=t=>{e[t]&&(e[t].destroy(),"navigation"===t?(e.isElement&&(e[t].prevEl.remove(),e[t].nextEl.remove()),c[t].prevEl=void 0,c[t].nextEl=void 0,e[t].prevEl=void 0,e[t].nextEl=void 0):(e.isElement&&e[t].el.remove(),c[t].el=void 0,e[t].el=void 0))};n.includes("loop")&&e.isElement&&(c.loop&&!r.loop?y=!0:!c.loop&&r.loop?x=!0:S=!0),l.forEach(e=>{if(zv(c[e])&&zv(r[e]))Object.assign(c[e],r[e]),"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e||!("enabled"in r[e])||r[e].enabled||E(e);else{const t=r[e];!0!==t&&!1!==t||"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e?c[e]=r[e]:!1===t&&E(e)}}),l.includes("controller")&&!m&&e.controller&&e.controller.control&&c.controller&&c.controller.control&&(e.controller.control=c.controller.control),n.includes("children")&&t&&p&&c.virtual.enabled?(p.slides=t,p.update(!0)):n.includes("virtual")&&p&&c.virtual.enabled&&(t&&(p.slides=t),p.update(!0)),n.includes("children")&&t&&c.loop&&(S=!0),g&&f.init()&&f.update(!0),m&&(e.controller.control=c.controller.control),w&&(!e.isElement||s&&"string"!=typeof s||((s=document.createElement("div")).classList.add("swiper-pagination"),s.part.add("pagination"),e.el.appendChild(s)),s&&(c.pagination.el=s),u.init(),u.render(),u.update()),b&&(!e.isElement||a&&"string"!=typeof a||((a=document.createElement("div")).classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(c.scrollbar.el=a),h.init(),h.updateSize(),h.setTranslate()),v&&(e.isElement&&(i&&"string"!=typeof i||((i=document.createElement("div")).classList.add("swiper-button-next"),nv(i,e.navigation.arrowSvg),i.part.add("button-next"),e.el.appendChild(i)),o&&"string"!=typeof o||((o=document.createElement("div")).classList.add("swiper-button-prev"),nv(o,e.navigation.arrowSvg),o.part.add("button-prev"),e.el.appendChild(o))),i&&(c.navigation.nextEl=i),o&&(c.navigation.prevEl=o),d.init(),d.update()),n.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),n.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),n.includes("direction")&&e.changeDirection(r.direction,!1),(y||S)&&e.loopDestroy(),(x||S)&&e.loopCreate(),e.update()}({swiper:m.current,slides:T,passedParams:_,changedParams:e,nextEl:v.current,prevEl:y.current,scrollbarEl:S.current,paginationEl:x.current}),()=>{A&&m.current&&Object.keys(A).forEach(e=>{m.current.off(e,A[e])})}}),Kv(()=>{var e;!(e=m.current)||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.emit("_virtualUpdated"),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())},[u]),ue.createElement(t,Wv({ref:g,className:Gv(`${l}${e?` ${e}`:""}`)},C),ue.createElement(Zv.Provider,{value:m.current},k["container-start"],ue.createElement(r,{className:qv(E.wrapperClass)},k["wrapper-start"],E.virtual?function(e,t,r){if(!r)return null;const n=e=>{let r=e;return e<0?r=t.length+e:r>=t.length&&(r-=t.length),r},i=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:`${r.offset}px`}:{top:`${r.offset}px`},{from:o,to:a}=r,s=e.params.loop?-t.length:0,l=e.params.loop?2*t.length:t.length,c=[];for(let u=s;u<l;u+=1)u>=o&&u<=a&&c.push(t[n(u)]);return c.map((t,r)=>ue.cloneElement(t,{swiper:e,style:i,key:t.props.virtualIndex||t.key||`slide-${r}`}))}(m.current,T,u):T.map((e,t)=>ue.cloneElement(e,{swiper:m.current,swiperSlideIndex:t})),k["wrapper-end"]),Uv(E)&&ue.createElement(ue.Fragment,null,ue.createElement("div",{ref:y,className:"swiper-button-prev"}),ue.createElement("div",{ref:v,className:"swiper-button-next"})),Hv(E)&&ue.createElement("div",{ref:S,className:"swiper-scrollbar"}),Vv(E)&&ue.createElement("div",{ref:x,className:"swiper-pagination"}),k["container-end"]))});Jv.displayName="Swiper";const ey=ae.forwardRef(({tag:e="div",children:t,className:r="",swiper:n,zoom:i,lazy:o,virtualIndex:a,swiperSlideIndex:s,...l}={},c)=>{const u=ae.useRef(null),[d,h]=ae.useState("swiper-slide"),[p,f]=ae.useState(!1);function g(e,t,r){t===u.current&&h(r)}Kv(()=>{if(void 0!==s&&(u.current.swiperSlideIndex=s),c&&(c.current=u.current),u.current&&n){if(!n.destroyed)return n.on("_slideClass",g),()=>{n&&n.off("_slideClass",g)};"swiper-slide"!==d&&h("swiper-slide")}}),Kv(()=>{n&&u.current&&!n.destroyed&&h(n.getSlideClasses(u.current))},[n]);const m={isActive:d.indexOf("swiper-slide-active")>=0,isVisible:d.indexOf("swiper-slide-visible")>=0,isPrev:d.indexOf("swiper-slide-prev")>=0,isNext:d.indexOf("swiper-slide-next")>=0},w=()=>"function"==typeof t?t(m):t;return ue.createElement(e,Wv({ref:u,className:Gv(`${d}${r?` ${r}`:""}`),"data-swiper-slide-index":a,onLoad:()=>{f(!0)}},l),i&&ue.createElement(Qv.Provider,{value:m},ue.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":"number"==typeof i?i:void 0},w(),o&&!p&&ue.createElement("div",{className:"swiper-lazy-preloader"}))),!i&&ue.createElement(Qv.Provider,{value:m},w(),o&&!p&&ue.createElement("div",{className:"swiper-lazy-preloader"})))});function ty(e=""){return`.${e.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function ry({swiper:e,extendParams:t,on:r,emit:n}){const i="swiper-pagination";let o;t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),e.pagination={el:null,bullets:[]};let a=0;function s(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&0===e.pagination.el.length}function l(t,r){const{bulletActiveClass:n}=e.params.pagination;t&&(t=t[("prev"===r?"previous":"next")+"ElementSibling"])&&(t.classList.add(`${n}-${r}`),(t=t[("prev"===r?"previous":"next")+"ElementSibling"])&&t.classList.add(`${n}-${r}-${r}`))}function c(t){const r=t.target.closest(ty(e.params.pagination.bulletClass));if(!r)return;t.preventDefault();const n=Jb(r)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===n)return;const t=(i=e.realIndex,o=n,a=e.slides.length,(o%=a)===1+(i%=a)?"next":o===i-1?"previous":void 0);"next"===t?e.slideNext():"previous"===t?e.slidePrev():e.slideToLoop(n)}else e.slideTo(n);var i,o,a}function u(){const t=e.rtl,r=e.params.pagination;if(s())return;let i,c,u=e.pagination.el;u=rv(u);const d=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,h=e.params.loop?Math.ceil(d/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(c=e.previousRealIndex||0,i=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):void 0!==e.snapIndex?(i=e.snapIndex,c=e.previousSnapIndex):(c=e.previousIndex||0,i=e.activeIndex||0),"bullets"===r.type&&e.pagination.bullets&&e.pagination.bullets.length>0){const n=e.pagination.bullets;let s,d,h;if(r.dynamicBullets&&(o=tv(n[0],e.isHorizontal()?"width":"height"),u.forEach(t=>{t.style[e.isHorizontal()?"width":"height"]=o*(r.dynamicMainBullets+4)+"px"}),r.dynamicMainBullets>1&&void 0!==c&&(a+=i-(c||0),a>r.dynamicMainBullets-1?a=r.dynamicMainBullets-1:a<0&&(a=0)),s=Math.max(i-a,0),d=s+(Math.min(n.length,r.dynamicMainBullets)-1),h=(d+s)/2),n.forEach(e=>{const t=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(e=>`${r.bulletActiveClass}${e}`)].map(e=>"string"==typeof e&&e.includes(" ")?e.split(" "):e).flat();e.classList.remove(...t)}),u.length>1)n.forEach(t=>{const n=Jb(t);n===i?t.classList.add(...r.bulletActiveClass.split(" ")):e.isElement&&t.setAttribute("part","bullet"),r.dynamicBullets&&(n>=s&&n<=d&&t.classList.add(...`${r.bulletActiveClass}-main`.split(" ")),n===s&&l(t,"prev"),n===d&&l(t,"next"))});else{const t=n[i];if(t&&t.classList.add(...r.bulletActiveClass.split(" ")),e.isElement&&n.forEach((e,t)=>{e.setAttribute("part",t===i?"bullet-active":"bullet")}),r.dynamicBullets){const e=n[s],t=n[d];for(let i=s;i<=d;i+=1)n[i]&&n[i].classList.add(...`${r.bulletActiveClass}-main`.split(" "));l(e,"prev"),l(t,"next")}}if(r.dynamicBullets){const i=Math.min(n.length,r.dynamicMainBullets+4),a=(o*i-o)/2-h*o,s=t?"right":"left";n.forEach(t=>{t.style[e.isHorizontal()?s:"top"]=`${a}px`})}}u.forEach((t,o)=>{if("fraction"===r.type&&(t.querySelectorAll(ty(r.currentClass)).forEach(e=>{e.textContent=r.formatFractionCurrent(i+1)}),t.querySelectorAll(ty(r.totalClass)).forEach(e=>{e.textContent=r.formatFractionTotal(h)})),"progressbar"===r.type){let n;n=r.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";const o=(i+1)/h;let a=1,s=1;"horizontal"===n?a=o:s=o,t.querySelectorAll(ty(r.progressbarFillClass)).forEach(t=>{t.style.transform=`translate3d(0,0,0) scaleX(${a}) scaleY(${s})`,t.style.transitionDuration=`${e.params.speed}ms`})}"custom"===r.type&&r.renderCustom?(nv(t,r.renderCustom(e,i+1,h)),0===o&&n("paginationRender",t)):(0===o&&n("paginationRender",t),n("paginationUpdate",t)),e.params.watchOverflow&&e.enabled&&t.classList[e.isLocked?"add":"remove"](r.lockClass)})}function d(){const t=e.params.pagination;if(s())return;const r=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let i=e.pagination.el;i=rv(i);let o="";if("bullets"===t.type){let n=e.params.loop?Math.ceil(r/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&n>r&&(n=r);for(let r=0;r<n;r+=1)t.renderBullet?o+=t.renderBullet.call(e,r,t.bulletClass):o+=`<${t.bulletElement} ${e.isElement?'part="bullet"':""} class="${t.bulletClass}"></${t.bulletElement}>`}"fraction"===t.type&&(o=t.renderFraction?t.renderFraction.call(e,t.currentClass,t.totalClass):`<span class="${t.currentClass}"></span> / <span class="${t.totalClass}"></span>`),"progressbar"===t.type&&(o=t.renderProgressbar?t.renderProgressbar.call(e,t.progressbarFillClass):`<span class="${t.progressbarFillClass}"></span>`),e.pagination.bullets=[],i.forEach(r=>{"custom"!==t.type&&nv(r,o||""),"bullets"===t.type&&e.pagination.bullets.push(...r.querySelectorAll(ty(t.bulletClass)))}),"custom"!==t.type&&n("paginationRender",i[0])}function h(){e.params.pagination=function(e,t,r,n){return e.params.createElements&&Object.keys(n).forEach(i=>{if(!r[i]&&!0===r.auto){let o=Yb(e.el,`.${n[i]}`)[0];o||(o=Qb("div",n[i]),o.className=n[i],e.el.append(o)),r[i]=o,t[i]=o}}),r}(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const t=e.params.pagination;if(!t.el)return;let r;"string"==typeof t.el&&e.isElement&&(r=e.el.querySelector(t.el)),r||"string"!=typeof t.el||(r=[...document.querySelectorAll(t.el)]),r||(r=t.el),r&&0!==r.length&&(e.params.uniqueNavElements&&"string"==typeof t.el&&Array.isArray(r)&&r.length>1&&(r=[...e.el.querySelectorAll(t.el)],r.length>1&&(r=r.find(t=>ev(t,".swiper")[0]===e.el))),Array.isArray(r)&&1===r.length&&(r=r[0]),Object.assign(e.pagination,{el:r}),r=rv(r),r.forEach(r=>{"bullets"===t.type&&t.clickable&&r.classList.add(...(t.clickableClass||"").split(" ")),r.classList.add(t.modifierClass+t.type),r.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass),"bullets"===t.type&&t.dynamicBullets&&(r.classList.add(`${t.modifierClass}${t.type}-dynamic`),a=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&r.classList.add(t.progressbarOppositeClass),t.clickable&&r.addEventListener("click",c),e.enabled||r.classList.add(t.lockClass)}))}function p(){const t=e.params.pagination;if(s())return;let r=e.pagination.el;r&&(r=rv(r),r.forEach(r=>{r.classList.remove(t.hiddenClass),r.classList.remove(t.modifierClass+t.type),r.classList.remove(e.isHorizontal()?t.horizontalClass:t.verticalClass),t.clickable&&(r.classList.remove(...(t.clickableClass||"").split(" ")),r.removeEventListener("click",c))})),e.pagination.bullets&&e.pagination.bullets.forEach(e=>e.classList.remove(...t.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const t=e.params.pagination;let{el:r}=e.pagination;r=rv(r),r.forEach(r=>{r.classList.remove(t.horizontalClass,t.verticalClass),r.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass)})}),r("init",()=>{!1===e.params.pagination.enabled?f():(h(),d(),u())}),r("activeIndexChange",()=>{void 0===e.snapIndex&&u()}),r("snapIndexChange",()=>{u()}),r("snapGridLengthChange",()=>{d(),u()}),r("destroy",()=>{p()}),r("enable disable",()=>{let{el:t}=e.pagination;t&&(t=rv(t),t.forEach(t=>t.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{u()}),r("click",(t,r)=>{const i=r.target,o=rv(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&o&&o.length>0&&!i.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&i===e.navigation.nextEl||e.navigation.prevEl&&i===e.navigation.prevEl))return;const t=o[0].classList.contains(e.params.pagination.hiddenClass);n(!0===t?"paginationShow":"paginationHide"),o.forEach(t=>t.classList.toggle(e.params.pagination.hiddenClass))}});const f=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:t}=e.pagination;t&&(t=rv(t),t.forEach(t=>t.classList.add(e.params.pagination.paginationDisabledClass))),p()};Object.assign(e.pagination,{enable:()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:t}=e.pagination;t&&(t=rv(t),t.forEach(t=>t.classList.remove(e.params.pagination.paginationDisabledClass))),h(),d(),u()},disable:f,render:d,update:u,init:h,destroy:p})}ey.displayName="SwiperSlide";const ny=({icon:e,title:t,description:r,color:n})=>o.jsxs("div",{className:"onboarding-slide",children:[o.jsx("div",{className:"onboarding-icon-container",style:{backgroundColor:n},children:o.jsx(c,{icon:e,className:"onboarding-icon"})}),o.jsx("h2",{className:"onboarding-title",children:t}),o.jsx("p",{className:"onboarding-description",children:r})]}),iy=()=>{const e=ce(),{t:t}=me(),r=ae.useRef(null),[n,i]=ae.useState(!1),c=[{icon:xb,title:t("onboardingSlide1Title")||"Explore Artifacts",description:t("onboardingSlide1Desc")||"Browse through a stunning collection of historical artifacts from around the world with high-quality images and detailed information.",color:"#667eea"},{icon:mb,title:t("onboardingSlide2Title")||"3D & AR Viewing",description:t("onboardingSlide2Desc")||"Experience artifacts in 3D! Rotate, zoom, and view exhibits in augmented reality for an immersive museum experience.",color:"#f093fb"},{icon:Ib,title:t("onboardingSlide3Title")||"QR Code Scanning",description:t("onboardingSlide3Desc")||"Scan QR codes at museums to instantly access detailed information about exhibits and artifacts.",color:"#4facfe"},{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M421.84 37.37a25.86 25.86 0 00-22.6-4.46L199.92 86.49A32.3 32.3 0 00176 118v226c0 6.74-4.36 12.56-11.11 14.83l-.12.05-52 18C92.88 383.53 80 402 80 423.91a55.54 55.54 0 0023.23 45.63A54.78 54.78 0 00135.34 480a55.82 55.82 0 0017.75-2.93l.38-.13 21.84-7.94A47.84 47.84 0 00208 423.91v-212c0-7.29 4.77-13.21 12.16-15.07l.21-.06L395 150.14a4 4 0 015 3.86v141.93c0 6.75-4.25 12.38-11.11 14.68l-.25.09-50.89 18.11A49.09 49.09 0 00304 375.92a55.67 55.67 0 0023.23 45.8 54.63 54.63 0 0049.88 7.35l.36-.12 21.84-7.95A47.83 47.83 0 00432 375.92V58a25.74 25.74 0 00-10.16-20.63z'/></svg>",title:t("onboardingSlide4Title")||"Audio Guides",description:t("onboardingSlide4Desc")||"Listen to expert audio guides that bring artifacts to life with fascinating stories and historical context.",color:"#43e97b"},{icon:bb,title:t("onboardingSlide5Title")||"Save Favorites",description:t("onboardingSlide5Desc")||"Mark your favorite artifacts and create your personal collection for quick access anytime.",color:"#fa709a"},{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 64C150 64 64 150 64 256s86 192 192 192 192-86 192-192S362 64 256 64zm-6 304a20 20 0 1120-20 20 20 0 01-20 20zm33.44-102C267.23 276.88 265 286.85 265 296a14 14 0 01-28 0c0-21.91 10.08-39.33 30.82-53.26C287.1 229.8 298 221.6 298 203.57c0-12.26-7-21.57-21.49-28.46-3.41-1.62-11-3.2-20.34-3.09-11.72.15-20.82 2.95-27.83 8.59C215.12 191.25 214 202.83 214 203a14 14 0 11-28-1.35c.11-2.43 1.8-24.32 24.77-42.8 11.91-9.58 27.06-14.56 45-14.78 12.7-.15 24.63 2 32.72 5.82C312.7 161.34 326 180.43 326 203.57c0 33.83-22.61 49.02-42.56 62.43z'/></svg>",title:t("onboardingSlide6Title")||"Interactive Quizzes",description:t("onboardingSlide6Desc")||"Test your knowledge with fun quizzes and earn badges as you learn about history and culture.",color:"#feca57"},{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M478.33 433.6l-90-218a22 22 0 00-40.67 0l-90 218a22 22 0 1040.67 16.79L316.66 406h102.67l18.33 44.39A22 22 0 00458 464a22 22 0 0020.32-30.4zM334.83 362L368 281.65 401.17 362zM267.84 342.92a22 22 0 00-4.89-30.7c-.2-.15-15-11.13-36.49-34.73 39.65-53.68 62.11-114.75 71.27-143.49H330a22 22 0 000-44H214V70a22 22 0 00-44 0v20H54a22 22 0 000 44h197.25c-9.52 26.95-27.05 69.5-53.79 108.36-31.41-41.68-43.08-68.65-43.17-68.87a22 22 0 00-40.58 17c.58 1.38 14.55 34.23 52.86 83.93.92 1.19 1.83 2.35 2.74 3.51-39.24 44.35-77.74 71.86-93.85 80.74a22 22 0 1021.07 38.63c2.16-1.18 48.6-26.89 101.63-85.59 22.52 24.08 38 35.44 38.93 36.1a22 22 0 0030.75-4.9z'/></svg>",title:t("onboardingSlide7Title")||"Multi-Language",description:t("onboardingSlide7Desc")||"Available in English, Italian, Spanish, and French. Switch languages anytime to enjoy content in your preferred language.",color:"#a29bfe"},{icon:db,title:t("onboardingSlide8Title")||"Ready to Explore!",description:t("onboardingSlide8Desc")||"You're all set! Start your journey through history and discover amazing artifacts from ancient civilizations.",color:"#00d2d3"}],u=()=>{localStorage.setItem("onboardingCompleted","true"),e.replace("/tabs/gallery")};return o.jsx(a,{children:o.jsx(s,{fullscreen:!0,className:"onboarding-content",children:o.jsxs("div",{className:"onboarding-container",children:[o.jsx("div",{className:"onboarding-header",children:o.jsx(l,{fill:"clear",onClick:()=>{localStorage.setItem("onboardingCompleted","true"),e.replace("/tabs/gallery")},className:"skip-button",children:t("skip")||"Skip"})}),o.jsx(Jv,{onSwiper:e=>r.current=e,onSlideChange:e=>{i(e.isEnd)},pagination:{clickable:!0},modules:[ry],className:"onboarding-slides",children:c.map((e,t)=>o.jsx(ey,{children:o.jsx(ny,{icon:e.icon,title:e.title,description:e.description,color:e.color})},t))}),o.jsxs("div",{className:"onboarding-footer",children:[o.jsx(l,{expand:"block",size:"large",onClick:u,className:"get-started-button",children:t("getStarted")||"Get Started"}),o.jsx(l,{expand:"block",fill:"clear",onClick:()=>{r.current&&(n?u():r.current.slideNext())},className:"next-button",children:t("next")||"Next"})]})]})})})};async function oy(e,t){if(!ib)return{url:null,error:"Supabase not configured"};try{const n=function(e){return{image:"artifacts",audio:"audio",video:"videos",model:"models"}[e]}(t),i=(r=e.name,`${Date.now()}-${Math.random().toString(36).substring(2,9)}.${r.split(".").pop()}`),{data:o,error:a}=await ib.storage.from(n).upload(i,e,{cacheControl:"3600",upsert:!1});if(a)return console.error("Error uploading file:",a),{url:null,error:a};const{data:s}=ib.storage.from(n).getPublicUrl(i);return{url:s.publicUrl,error:null}}catch(n){return console.error("Error uploading file:",n),{url:null,error:n}}var r}const ay=({fileType:e,onUploadComplete:t,currentUrl:r,accept:n})=>{const[i,a]=ae.useState(!1),[s,u]=ae.useState(null),[d,h]=ae.useState(r||null),[p,f]=ae.useState(!1),w=ae.useRef(null),b=async r=>{u(null);const n=function(e,t){const r={image:10485760,audio:20971520,video:104857600,model:52428800},n={image:["image/jpeg","image/jpg","image/png","image/webp","image/gif"],audio:["audio/mpeg","audio/mp3","audio/wav","audio/ogg"],video:["video/mp4","video/webm","video/quicktime"],model:["model/gltf-binary","application/octet-stream"]};return e.size>r[t]?{valid:!1,error:`File size exceeds ${r[t]/1048576}MB limit`}:n[t].includes(e.type)?{valid:!0}:{valid:!1,error:`Invalid file type. Allowed: ${n[t].join(", ")}`}}(r,e);if(!n.valid)return void u(n.error||"Invalid file");if("image"===e){const e=new FileReader;e.onloadend=()=>{h(e.result)},e.readAsDataURL(r)}a(!0);const{url:i,error:o}=await oy(r,e);a(!1),o?u("Upload failed: "+o.message):i&&(h(i),t(i))},v=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?f(!0):"dragleave"===e.type&&f(!1)},y=()=>{var e;null===(e=w.current)||void 0===e||e.click()},x=()=>({image:"Image",audio:"Audio",video:"Video",model:"3D Model"}[e]);return o.jsxs("div",{className:"file-upload-container",children:[o.jsx("input",{ref:w,type:"file",accept:n||{image:"image/jpeg,image/jpg,image/png,image/webp,image/gif",audio:"audio/mpeg,audio/mp3,audio/wav,audio/ogg",video:"video/mp4,video/webm,video/quicktime",model:".glb,.gltf"}[e],onChange:e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];r&&b(r)},style:{display:"none"}}),o.jsx("div",{className:"file-upload-dropzone "+(p?"drag-active":""),onDragEnter:v,onDragLeave:v,onDragOver:v,onDrop:e=>{var t;e.preventDefault(),e.stopPropagation(),f(!1);const r=null===(t=e.dataTransfer.files)||void 0===t?void 0:t[0];r&&b(r)},onClick:y,children:i?o.jsxs("div",{className:"upload-status",children:[o.jsx(g,{name:"crescent"}),o.jsx("p",{children:"Uploading..."}),o.jsx(m,{type:"indeterminate"})]}):d&&"image"===e?o.jsxs("div",{className:"upload-preview",children:[o.jsx("img",{src:d,alt:"Preview"}),o.jsxs("div",{className:"upload-overlay",children:[o.jsx(c,{icon:db,color:"success"}),o.jsx("p",{children:"Click to change"})]})]}):d?o.jsxs("div",{className:"upload-status",children:[o.jsx(c,{icon:db,color:"success",size:"large"}),o.jsxs("p",{children:[x()," uploaded successfully!"]}),o.jsx("small",{children:d})]}):o.jsxs("div",{className:"upload-prompt",children:[o.jsx(c,{icon:fb,size:"large"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Click to upload"})," or drag and drop"]}),o.jsxs("small",{children:[x()," files only"]})]})}),s&&o.jsxs("div",{className:"upload-error",children:[o.jsx(c,{icon:pb}),s]}),!i&&o.jsxs(l,{expand:"block",fill:"outline",onClick:y,style:{marginTop:"10px"},children:[o.jsx(c,{icon:fb,slot:"start"}),d?`Change ${x()}`:`Upload ${x()}`]})]})},sy=({artifact:e,onSave:t,onCancel:r})=>{const[n,i]=ae.useState("en"),[a,s]=ae.useState({name_en:(null==e?void 0:e.name_en)||"",name_it:(null==e?void 0:e.name_it)||"",name_es:(null==e?void 0:e.name_es)||"",name_fr:(null==e?void 0:e.name_fr)||"",description_en:(null==e?void 0:e.description_en)||"",description_it:(null==e?void 0:e.description_it)||"",description_es:(null==e?void 0:e.description_es)||"",description_fr:(null==e?void 0:e.description_fr)||"",image_url:(null==e?void 0:e.image_url)||"",type:(null==e?void 0:e.type)||"image",period:(null==e?void 0:e.period)||"",location:(null==e?void 0:e.location)||"",category:(null==e?void 0:e.category)||"sculpture",audio_guide_url:(null==e?void 0:e.audio_guide_url)||""}),c=(e,t)=>{s({...a,[e]:t})};return o.jsx("form",{onSubmit:e=>{e.preventDefault(),a.name_en&&a.description_en&&a.image_url?t(a):alert("Please fill in at least English name, description, and image")},children:o.jsxs(u,{children:[o.jsx(w,{children:o.jsx(b,{children:e?"Edit Artifact":"Add New Artifact"})}),o.jsxs(d,{children:[o.jsxs(v,{value:n,onIonChange:e=>i(e.detail.value),children:[o.jsx(y,{value:"en",children:o.jsx(x,{children:" English"})}),o.jsx(y,{value:"it",children:o.jsx(x,{children:" Italian"})}),o.jsx(y,{value:"es",children:o.jsx(x,{children:" Spanish"})}),o.jsx(y,{value:"fr",children:o.jsx(x,{children:" French"})})]}),o.jsxs(p,{style:{marginTop:"20px"},children:[o.jsxs(x,{position:"stacked",children:["Name (",n.toUpperCase(),") *"]}),o.jsx(f,{value:a[`name_${n}`],onIonInput:e=>c(`name_${n}`,e.detail.value||""),placeholder:`Enter name in ${n.toUpperCase()}`,required:"en"===n})]}),o.jsxs(p,{children:[o.jsxs(x,{position:"stacked",children:["Description (",n.toUpperCase(),") *"]}),o.jsx(S,{value:a[`description_${n}`],onIonInput:e=>c(`description_${n}`,e.detail.value||""),placeholder:`Enter description in ${n.toUpperCase()}`,rows:6,required:"en"===n})]}),"en"===n&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{marginTop:"20px"},children:[o.jsx(x,{children:o.jsx("h3",{children:"Artifact Image *"})}),o.jsx(ay,{fileType:"image",currentUrl:a.image_url,onUploadComplete:e=>c("image_url",e)})]}),o.jsxs(p,{children:[o.jsx(x,{position:"stacked",children:"Type *"}),o.jsxs(E,{value:a.type,onIonChange:e=>c("type",e.detail.value||"image"),children:[o.jsx(_,{value:"image",children:"Image"}),o.jsx(_,{value:"video",children:"Video"})]})]}),o.jsxs(p,{children:[o.jsx(x,{position:"stacked",children:"Period"}),o.jsx(f,{value:a.period,onIonInput:e=>c("period",e.detail.value||""),placeholder:"e.g., Ancient Rome, Medieval"})]}),o.jsxs(p,{children:[o.jsx(x,{position:"stacked",children:"Location"}),o.jsx(f,{value:a.location,onIonInput:e=>c("location",e.detail.value||""),placeholder:"e.g., Rome, Italy"})]}),o.jsxs(p,{children:[o.jsx(x,{position:"stacked",children:"Category"}),o.jsxs(E,{value:a.category,onIonChange:e=>c("category",e.detail.value),children:[o.jsx(_,{value:"sculpture",children:"Sculpture"}),o.jsx(_,{value:"painting",children:"Painting"}),o.jsx(_,{value:"pottery",children:"Pottery"}),o.jsx(_,{value:"jewelry",children:"Jewelry"}),o.jsx(_,{value:"manuscript",children:"Manuscript"}),o.jsx(_,{value:"weapon",children:"Weapon"}),o.jsx(_,{value:"tool",children:"Tool"}),o.jsx(_,{value:"other",children:"Other"})]})]}),o.jsxs("div",{style:{marginTop:"20px"},children:[o.jsx(x,{children:o.jsx("h3",{children:"Audio Guide (optional)"})}),o.jsx(ay,{fileType:"audio",currentUrl:a.audio_guide_url,onUploadComplete:e=>c("audio_guide_url",e)})]})]}),o.jsxs("div",{style:{marginTop:"20px",display:"flex",gap:"10px"},children:[o.jsx(l,{expand:"block",type:"submit",color:"primary",children:e?"Update Artifact":"Add Artifact"}),o.jsx(l,{expand:"block",type:"button",color:"medium",onClick:r,children:"Cancel"})]})]})]})})},ly=()=>{const[e,t]=ae.useState(!1),[r,n]=ae.useState(""),[i,h]=ae.useState([]),[m,v]=ae.useState(!1),[y,S]=ae.useState(!1),[E,_]=ae.useState(null),[D,P]=ae.useState(!1),[M,j]=ae.useState(null);ae.useEffect(()=>{"true"===sessionStorage.getItem("admin_authenticated")&&(t(!0),B())},[]);const L=()=>{"museum2024"===r?(t(!0),sessionStorage.setItem("admin_authenticated","true"),B()):alert("Invalid password")},B=async()=>{v(!0);const{data:e,error:t}=await async function(){try{if(!ib)return{data:[],error:new Error("Supabase not configured")};const{data:e,error:t}=await ib.from("artifacts").select("*").order("created_at",{ascending:!1});return t?(console.error("Error fetching artifacts:",t),{data:[],error:t}):{data:e||[],error:null}}catch(t){return console.error("Error fetching artifacts:",t),{data:[],error:t}}}();t?alert("Error loading artifacts: "+t.message):h(e),v(!1)};return e?o.jsxs(a,{children:[o.jsx(C,{children:o.jsxs(A,{children:[o.jsx(T,{style:{color:"#667eea",fontWeight:"600"},children:" Admin Panel"}),o.jsx(k,{slot:"end",children:o.jsxs(l,{onClick:()=>{t(!1),sessionStorage.removeItem("admin_authenticated"),n("")},children:[o.jsx(c,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M160 256a16 16 0 0116-16h144V136c0-32-33.79-56-64-56H104a56.06 56.06 0 00-56 56v240a56.06 56.06 0 0056 56h160a56.06 56.06 0 0056-56V272H176a16 16 0 01-16-16zM459.31 244.69l-80-80a16 16 0 00-22.62 22.62L409.37 240H320v32h89.37l-52.68 52.69a16 16 0 1022.62 22.62l80-80a16 16 0 000-22.62z'/></svg>"}),"Logout"]})})]})}),o.jsxs(s,{className:"ion-padding",children:[m&&o.jsx("div",{style:{textAlign:"center",padding:"20px"},children:o.jsx(g,{})}),!m&&!y&&o.jsxs(o.Fragment,{children:[o.jsxs(u,{children:[o.jsx(w,{children:o.jsx(b,{children:"Artifact Management"})}),o.jsx(d,{children:o.jsxs("p",{children:["Total Artifacts: ",i.length]})})]}),o.jsx(I,{children:i.map(e=>o.jsx(u,{children:o.jsx(d,{children:o.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[o.jsx("img",{src:e.image_url,alt:e.name_en||e.image_url,style:{width:"80px",height:"80px",objectFit:"cover",borderRadius:"8px"}}),o.jsxs("div",{style:{flex:1},children:[o.jsx("h3",{children:e.name_en||"Untitled"}),o.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--ion-color-medium)"},children:[e.period,"  ",e.location]})]}),o.jsxs("div",{style:{display:"flex",gap:"5px"},children:[o.jsx(l,{size:"small",onClick:()=>(e=>{_(e),S(!0)})(e),children:o.jsx(c,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M459.94 53.25a16.06 16.06 0 00-23.22-.56L424.35 65a8 8 0 000 11.31l11.34 11.32a8 8 0 0011.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90L218.82 270.2a9 9 0 00-2.31 3.93L208.16 299a3.91 3.91 0 004.86 4.86l24.85-8.35a9 9 0 003.93-2.31L422 112.66a9 9 0 000-12.66l-9.95-10a9 9 0 00-12.71 0z'/><path d='M386.34 193.66L264.45 315.79A41.08 41.08 0 01247.58 326l-25.9 8.67a35.92 35.92 0 01-44.33-44.33l8.67-25.9a41.08 41.08 0 0110.19-16.87l122.13-121.91a8 8 0 00-5.65-13.66H104a56 56 0 00-56 56v240a56 56 0 0056 56h240a56 56 0 0056-56V199.31a8 8 0 00-13.66-5.65z'/></svg>"})}),o.jsx(l,{size:"small",color:"danger",onClick:()=>{return t=e.id,j(t),void P(!0);var t},children:o.jsx(c,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M296 64h-80a7.91 7.91 0 00-8 8v24h96V72a7.91 7.91 0 00-8-8z' class='ionicon-fill-none'/><path d='M432 96h-96V72a40 40 0 00-40-40h-80a40 40 0 00-40 40v24H80a16 16 0 000 32h17l19 304.92c1.42 26.85 22 47.08 48 47.08h184c26.13 0 46.3-19.78 48-47l19-305h17a16 16 0 000-32zM192.57 416H192a16 16 0 01-16-15.43l-8-224a16 16 0 1132-1.14l8 224A16 16 0 01192.57 416zM272 400a16 16 0 01-32 0V176a16 16 0 0132 0zm32-304h-96V72a7.91 7.91 0 018-8h80a7.91 7.91 0 018 8zm32 304.57A16 16 0 01320 416h-.58A16 16 0 01304 399.43l8-224a16 16 0 1132 1.14z'/></svg>"})})]})]})})},e.id))}),o.jsx(R,{vertical:"bottom",horizontal:"end",slot:"fixed",children:o.jsx(O,{onClick:()=>{_(null),S(!0)},children:o.jsx(c,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M256 112v288M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>"})})})]}),y&&o.jsx(sy,{artifact:E,onSave:async e=>{if(v(!0),E){const{data:t,error:r}=await async function(e,t){try{if(!ib)return{data:null,error:new Error("Supabase not configured")};const{data:r,error:n}=await ib.from("artifacts").update(t).eq("id",e).select().single();return n?(console.error("Error updating artifact:",n),{data:null,error:n}):{data:r,error:null}}catch(r){return console.error("Error updating artifact:",r),{data:null,error:r}}}(E.id,e);r?alert("Error updating artifact: "+r.message):(alert("Artifact updated successfully!"),S(!1),B())}else{const{data:t,error:r}=await async function(e){try{if(!ib)return{data:null,error:new Error("Supabase not configured")};const{data:t,error:r}=await ib.from("artifacts").insert([e]).select().single();return r?(console.error("Error adding artifact:",r),{data:null,error:r}):{data:t,error:null}}catch(r){return console.error("Error adding artifact:",r),{data:null,error:r}}}(e);r?alert("Error adding artifact: "+r.message):(alert("Artifact added successfully!"),S(!1),B())}v(!1)},onCancel:()=>S(!1)}),o.jsx(N,{isOpen:D,onDidDismiss:()=>P(!1),header:"Delete Artifact",message:"Are you sure you want to delete this artifact? This action cannot be undone.",buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",role:"destructive",handler:async()=>{if(!M)return;v(!0);const{success:e,error:t}=await async function(e){try{if(!ib)return{success:!1,error:new Error("Supabase not configured")};const{error:t}=await ib.from("artifacts").delete().eq("id",e);return t?(console.error("Error deleting artifact:",t),{success:!1,error:t}):{success:!0,error:null}}catch(t){return console.error("Error deleting artifact:",t),{success:!1,error:t}}}(M);e?(alert("Artifact deleted successfully!"),B()):alert("Error deleting artifact: "+t.message),j(null),v(!1)}}]})]})]}):o.jsxs(a,{children:[o.jsx(C,{children:o.jsx(A,{children:o.jsx(T,{children:"Admin Login"})})}),o.jsx(s,{className:"ion-padding",children:o.jsx("div",{className:"login-container",children:o.jsxs(u,{children:[o.jsx(w,{children:o.jsx(b,{children:" Museum Admin Panel"})}),o.jsxs(d,{children:[o.jsxs(p,{children:[o.jsx(x,{position:"stacked",children:"Password"}),o.jsx(f,{type:"password",value:r,onIonInput:e=>n(e.detail.value||""),onKeyPress:e=>"Enter"===e.key&&L(),placeholder:"Enter admin password"})]}),o.jsx(l,{expand:"block",onClick:L,style:{marginTop:"20px"},children:"Login"})]})]})})})]})},cy=()=>{const[e,t]=ae.useState(!1),[r,n]=ae.useState(!1),[i,h]=ae.useState(null);return o.jsxs(a,{children:[o.jsx(C,{children:o.jsx(A,{children:o.jsx(T,{style:{color:"#667eea",fontWeight:"600"},children:" Admin Setup"})})}),o.jsxs(s,{className:"ion-padding",children:[o.jsxs(u,{children:[o.jsx(w,{children:o.jsx(b,{children:"Supabase Storage Setup"})}),o.jsxs(d,{children:[o.jsx("p",{children:"This will create the necessary storage buckets in Supabase for storing images, audio, videos, and 3D models."}),o.jsx(I,{style:{marginTop:"20px"},children:o.jsx(p,{children:o.jsxs(x,{children:[o.jsx("h3",{children:" Buckets to create:"}),o.jsxs("ul",{style:{marginTop:"10px"},children:[o.jsx("li",{children:"artifacts (for images)"}),o.jsx("li",{children:"audio (for audio guides)"}),o.jsx("li",{children:"videos (for videos)"}),o.jsx("li",{children:"models (for 3D models)"})]})]})})}),i&&o.jsxs("div",{style:{marginTop:"20px",padding:"10px",background:"var(--ion-color-danger)",borderRadius:"8px",color:"white"},children:[o.jsx(c,{icon:pb})," ",i]}),r&&o.jsxs("div",{style:{marginTop:"20px",padding:"10px",background:"var(--ion-color-success)",borderRadius:"8px",color:"white"},children:[o.jsx(c,{icon:db})," Setup complete! You can now go to the admin panel."]}),o.jsxs("div",{style:{marginTop:"20px"},children:[o.jsx(l,{expand:"block",onClick:async()=>{t(!0),h(null);try{await async function(){if(!ib)return void console.error("Supabase not configured");const e=["artifacts","audio","videos","models"];for(const t of e)try{const{data:e}=await ib.storage.listBuckets();if(null==e?void 0:e.some(e=>e.name===t))console.log(` Bucket already exists: ${t}`);else{const{error:e}=await ib.storage.createBucket(t,{public:!0,fileSizeLimit:104857600});e?console.error(`Error creating bucket ${t}:`,e):console.log(` Created bucket: ${t}`)}}catch(i){console.error(`Error with bucket ${t}:`,i)}}(),n(!0),alert(" Storage buckets created successfully!")}catch(Lx){h(Lx.message||"Failed to create storage buckets"),alert(" Error: "+(Lx.message||"Failed to create storage buckets"))}finally{t(!1)}},disabled:e||r,children:e?o.jsxs(o.Fragment,{children:[o.jsx(g,{name:"crescent",style:{marginRight:"10px"}}),"Creating Buckets..."]}):r?" Setup Complete":" Create Storage Buckets"}),r&&o.jsx(l,{expand:"block",color:"secondary",routerLink:"/admin",style:{marginTop:"10px"},children:"Go to Admin Panel"})]})]})]}),o.jsxs(u,{style:{marginTop:"20px"},children:[o.jsx(w,{children:o.jsx(b,{children:" Important Notes"})}),o.jsx(d,{children:o.jsxs("ul",{children:[o.jsx("li",{children:"You only need to run this setup once"}),o.jsx("li",{children:"Buckets will be created as public (anyone can view files)"}),o.jsx("li",{children:"Only admins can upload files"}),o.jsx("li",{children:"Max file size: 100MB per file"}),o.jsx("li",{children:"If buckets already exist, this will not create duplicates"})]})})]})]})]})},uy=()=>{const[e,t]=ae.useState(!1),[r,n]=ae.useState([]),[i,c]=ae.useState(null),[u,d]=ae.useState(""),h=async()=>{if(t(!0),c(null),console.log("=== LIST BUCKETS DEBUG ==="),console.log("Supabase URL:","https://qlhvvhballsotkknrpgk.supabase.co"),console.log("Supabase client exists:",!!ib),!ib)return c("Supabase not configured - check .env file"),void t(!1);try{console.log("Calling supabase.storage.listBuckets()...");const{data:e,error:t}=await ib.storage.listBuckets();console.log("Response data:",e),console.log("Response error:",t),t?c(`Error listing buckets: ${JSON.stringify(t)}`):(n(e||[]),console.log("Found buckets:",(null==e?void 0:e.length)||0))}catch(Lx){console.error("Exception:",Lx),c(`Exception: ${Lx.message}`)}finally{t(!1)}},f=async e=>{if(ib){d(`Creating ${e}...`);try{const{data:t,error:r}=await ib.storage.createBucket(e,{public:!0,fileSizeLimit:104857600});r?(d(` Error creating ${e}: ${r.message}`),alert(`Error: ${r.message}`)):(d(` Created ${e}`),alert(` Created bucket: ${e}`),h())}catch(Lx){d(` Exception: ${Lx.message}`),alert(`Exception: ${Lx.message}`)}}else alert("Supabase not configured")};return o.jsxs(a,{children:[o.jsx(C,{children:o.jsx(A,{children:o.jsx(T,{children:"Storage Debug"})})}),o.jsxs(s,{className:"ion-padding",children:[o.jsx("h2",{children:"Supabase Storage Debug"}),o.jsxs("div",{style:{padding:"15px",background:"#f5f5f5",borderRadius:"8px",marginBottom:"20px"},children:[o.jsx("h3",{children:"Configuration:"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Supabase URL:"})," ","https://qlhvvhballsotkknrpgk.supabase.co"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Anon Key:"})," "," Set (hidden)"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Supabase Client:"})," ",ib?" Initialized":" Not initialized"]})]}),o.jsx("div",{style:{marginBottom:"20px"},children:o.jsx(l,{expand:"block",onClick:h,disabled:e,children:e?o.jsx(g,{}):"List Buckets"})}),o.jsx("div",{style:{marginBottom:"20px"},children:o.jsx(l,{expand:"block",color:"success",onClick:async()=>{const e=["artifacts","audio","videos","models"];for(const t of e)await f(t),await new Promise(e=>setTimeout(e,500))},children:"Create All Buckets"})}),u&&o.jsx("div",{style:{padding:"10px",background:"#f0f0f0",borderRadius:"8px",marginBottom:"20px"},children:o.jsx("p",{children:u})}),i&&o.jsxs("div",{style:{padding:"10px",background:"#ffebee",color:"#c62828",borderRadius:"8px",marginBottom:"20px"},children:[o.jsx("strong",{children:"Error:"})," ",i]}),o.jsxs("h3",{children:["Existing Buckets (",r.length,"):"]}),0===r.length?o.jsx("p",{children:'No buckets found. Click "List Buckets" to check.'}):o.jsx(I,{children:r.map(e=>o.jsx(p,{children:o.jsxs(x,{children:[o.jsx("h2",{children:e.name}),o.jsxs("p",{children:["ID: ",e.id]}),o.jsxs("p",{children:["Public: ",e.public?" Yes":" No"]}),o.jsxs("p",{children:["Created: ",new Date(e.created_at).toLocaleString()]})]})},e.id))}),o.jsxs("div",{style:{marginTop:"30px",padding:"15px",background:"#e3f2fd",borderRadius:"8px"},children:[o.jsx("h3",{children:"Instructions:"}),o.jsxs("ol",{children:[o.jsx("li",{children:'Click "List Buckets" to see existing buckets'}),o.jsx("li",{children:'If no buckets exist, click "Create All Buckets"'}),o.jsx("li",{children:"Wait for success messages"}),o.jsx("li",{children:'Click "List Buckets" again to verify'}),o.jsx("li",{children:"Go back to admin panel and try uploading"})]})]}),o.jsx("div",{style:{marginTop:"20px"},children:o.jsx(l,{expand:"block",fill:"outline",routerLink:"/admin",children:"Go to Admin Panel"})})]})]})};var dy;!function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(dy||(dy={}));var hy,py,fy=new Map([[dy.QR_CODE,"QR_CODE"],[dy.AZTEC,"AZTEC"],[dy.CODABAR,"CODABAR"],[dy.CODE_39,"CODE_39"],[dy.CODE_93,"CODE_93"],[dy.CODE_128,"CODE_128"],[dy.DATA_MATRIX,"DATA_MATRIX"],[dy.MAXICODE,"MAXICODE"],[dy.ITF,"ITF"],[dy.EAN_13,"EAN_13"],[dy.EAN_8,"EAN_8"],[dy.PDF_417,"PDF_417"],[dy.RSS_14,"RSS_14"],[dy.RSS_EXPANDED,"RSS_EXPANDED"],[dy.UPC_A,"UPC_A"],[dy.UPC_E,"UPC_E"],[dy.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function gy(e){return Object.values(dy).includes(e)}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"}(hy||(hy={})),function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"}(py||(py={}));var my,wy=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[py.SCAN_TYPE_CAMERA,py.SCAN_TYPE_FILE],e}(),by=function(){function e(e,t){this.format=e,this.formatName=t}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!fy.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,fy.get(t))},e}(),vy=function(){function e(){}return e.createFromText=function(e){return{decodedText:e,result:{text:e}}},e.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},e}();!function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"}(my||(my={}));var yy=function(){function e(){}return e.createFrom=function(e){return{errorMessage:e,type:my.UNKWOWN_ERROR}},e}(),xy=function(){function e(e){this.verbose=e}return e.prototype.log=function(e){this.verbose&&console.log(e)},e.prototype.warn=function(e){this.verbose&&console.warn(e)},e.prototype.logError=function(e,t){(this.verbose||!0===t)&&console.error(e)},e.prototype.logErrors=function(e){if(0===e.length)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},e}();function Sy(e){return null==e}var Ey=function(){function e(){}return e.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},e.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),_y=function(){function e(){}return e.isMediaStreamConstraintsValid=function(e,t){if("object"!=typeof e){var r=typeof e;return t.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var n=new Set(["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"]),i=0,o=Object.keys(e);i<o.length;i++){var a=o[i];if(n.has(a))return t.logError("".concat(a," is not supported videoConstaints."),!0),!1}return!0},e}(),Cy={exports:{}};!function(e){function t(e){return null==e}var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};function n(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t){var r=Object.setPrototypeOf;r?r(e,t):e.__proto__=t}function o(e,t){void 0===t&&(t=e.constructor);var r=Error.captureStackTrace;r&&r(e,t)}var a,s=function(e){function t(t){var r=this.constructor,n=e.call(this,t)||this;return Object.defineProperty(n,"name",{value:r.name,enumerable:!1}),i(n,r.prototype),o(n),n}return n(t,e),t}(Error);class l extends s{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}l.kind="Exception";class c extends l{}c.kind="ArgumentException";class u extends l{}u.kind="IllegalArgumentException";class d{constructor(e){if(this.binarizer=e,null===e)throw new u("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,t){return this.binarizer.getBlackRow(e,t)}getBlackMatrix(){return null!==this.matrix&&void 0!==this.matrix||(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,t,r,n){const i=this.binarizer.getLuminanceSource().crop(e,t,r,n);return new d(this.binarizer.createBinarizer(i))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new d(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new d(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch(jx){return""}}}class h extends l{static getChecksumInstance(){return new h}}h.kind="ChecksumException";class p{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class f{static arraycopy(e,t,r,n,i){for(;i--;)r[n++]=e[t++]}static currentTimeMillis(){return Date.now()}}class g extends l{}g.kind="IndexOutOfBoundsException";class m extends g{constructor(e=void 0,t=void 0){super(t),this.index=e,this.message=t}}m.kind="ArrayIndexOutOfBoundsException";class w{static fill(e,t){for(let r=0,n=e.length;r<n;r++)e[r]=t}static fillWithin(e,t,r,n){w.rangeCheck(e.length,t,r);for(let i=t;i<r;i++)e[i]=n}static rangeCheck(e,t,r){if(t>r)throw new u("fromIndex("+t+") > toIndex("+r+")");if(t<0)throw new m(t);if(r>e)throw new m(r)}static asList(...e){return e}static create(e,t,r){return Array.from({length:e}).map(e=>Array.from({length:t}).fill(r))}static createInt32Array(e,t,r){return Array.from({length:e}).map(e=>Int32Array.from({length:t}).fill(r))}static equals(e,t){if(!e)return!1;if(!t)return!1;if(!e.length)return!1;if(!t.length)return!1;if(e.length!==t.length)return!1;for(let r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}static hashCode(e){if(null===e)return 0;let t=1;for(const r of e)t=31*t+r;return t}static fillUint8Array(e,t){for(let r=0;r!==e.length;r++)e[r]=t}static copyOf(e,t){return e.slice(0,t)}static copyOfUint8Array(e,t){if(e.length<=t){const r=new Uint8Array(t);return r.set(e),r}return e.slice(0,t)}static copyOfRange(e,t,r){const n=r-t,i=new Int32Array(n);return f.arraycopy(e,t,i,0,n),i}static binarySearch(e,t,r){void 0===r&&(r=w.numberComparator);let n=0,i=e.length-1;for(;n<=i;){const o=i+n>>1,a=r(t,e[o]);if(a>0)n=o+1;else{if(!(a<0))return o;i=o-1}}return-n-1}static numberComparator(e,t){return e-t}}class b{static numberOfTrailingZeros(e){let t;if(0===e)return 32;let r=31;return t=e<<16,0!==t&&(r-=16,e=t),t=e<<8,0!==t&&(r-=8,e=t),t=e<<4,0!==t&&(r-=4,e=t),t=e<<2,0!==t&&(r-=2,e=t),r-(e<<1>>>31)}static numberOfLeadingZeros(e){if(0===e)return 32;let t=1;return e>>>16==0&&(t+=16,e<<=16),e>>>24==0&&(t+=8,e<<=8),e>>>28==0&&(t+=4,e<<=4),e>>>30==0&&(t+=2,e<<=2),t-=e>>>31,t}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135,e+=e>>>8,63&(e+=e>>>16)}static truncDivision(e,t){return Math.trunc(e/t)}static parseInt(e,t=void 0){return parseInt(e,t)}}b.MIN_VALUE_32_BITS=-2147483648,b.MAX_VALUE=Number.MAX_SAFE_INTEGER;class v{constructor(e,t){void 0===e?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,this.bits=null==t?v.makeArray(e):t)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>32*this.bits.length){const t=v.makeArray(e);f.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}}get(e){return!!(this.bits[Math.floor(e/32)]&1<<(31&e))}set(e){this.bits[Math.floor(e/32)]|=1<<(31&e)}flip(e){this.bits[Math.floor(e/32)]^=1<<(31&e)}getNextSet(e){const t=this.size;if(e>=t)return t;const r=this.bits;let n=Math.floor(e/32),i=r[n];i&=~((1<<(31&e))-1);const o=r.length;for(;0===i;){if(++n===o)return t;i=r[n]}const a=32*n+b.numberOfTrailingZeros(i);return a>t?t:a}getNextUnset(e){const t=this.size;if(e>=t)return t;const r=this.bits;let n=Math.floor(e/32),i=~r[n];i&=~((1<<(31&e))-1);const o=r.length;for(;0===i;){if(++n===o)return t;i=~r[n]}const a=32*n+b.numberOfTrailingZeros(i);return a>t?t:a}setBulk(e,t){this.bits[Math.floor(e/32)]=t}setRange(e,t){if(t<e||e<0||t>this.size)throw new u;if(t===e)return;t--;const r=Math.floor(e/32),n=Math.floor(t/32),i=this.bits;for(let o=r;o<=n;o++){const a=(2<<(o<n?31:31&t))-(1<<(o>r?0:31&e));i[o]|=a}}clear(){const e=this.bits.length,t=this.bits;for(let r=0;r<e;r++)t[r]=0}isRange(e,t,r){if(t<e||e<0||t>this.size)throw new u;if(t===e)return!0;t--;const n=Math.floor(e/32),i=Math.floor(t/32),o=this.bits;for(let a=n;a<=i;a++){const s=(2<<(a<i?31:31&t))-(1<<(a>n?0:31&e))&4294967295;if((o[a]&s)!==(r?s:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++}appendBits(e,t){if(t<0||t>32)throw new u("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(let r=t;r>0;r--)this.appendBit(1==(e>>r-1&1))}appendBitArray(e){const t=e.size;this.ensureCapacity(this.size+t);for(let r=0;r<t;r++)this.appendBit(e.get(r))}xor(e){if(this.size!==e.size)throw new u("Sizes don't match");const t=this.bits;for(let r=0,n=t.length;r<n;r++)t[r]^=e.bits[r]}toBytes(e,t,r,n){for(let i=0;i<n;i++){let n=0;for(let t=0;t<8;t++)this.get(e)&&(n|=1<<7-t),e++;t[r+i]=n}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),r=t+1,n=this.bits;for(let i=0;i<r;i++){let r=n[i];r=r>>1&1431655765|(1431655765&r)<<1,r=r>>2&858993459|(858993459&r)<<2,r=r>>4&252645135|(252645135&r)<<4,r=r>>8&16711935|(16711935&r)<<8,r=r>>16&65535|(65535&r)<<16,e[t-i]=r}if(this.size!==32*r){const t=32*r-this.size;let n=e[0]>>>t;for(let i=1;i<r;i++){const r=e[i];n|=r<<32-t,e[i-1]=n,n=r>>>t}e[r-1]=n}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof v))return!1;const t=e;return this.size===t.size&&w.equals(this.bits,t.bits)}hashCode(){return 31*this.size+w.hashCode(this.bits)}toString(){let e="";for(let t=0,r=this.size;t<r;t++)7&t||(e+=" "),e+=this.get(t)?"X":".";return e}clone(){return new v(this.size,this.bits.slice())}}!function(e){e[e.OTHER=0]="OTHER",e[e.PURE_BARCODE=1]="PURE_BARCODE",e[e.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",e[e.TRY_HARDER=3]="TRY_HARDER",e[e.CHARACTER_SET=4]="CHARACTER_SET",e[e.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",e[e.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",e[e.ASSUME_GS1=7]="ASSUME_GS1",e[e.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",e[e.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",e[e.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"}(a||(a={}));var y,x=a;class S extends l{static getFormatInstance(){return new S}}S.kind="FormatException",function(e){e[e.Cp437=0]="Cp437",e[e.ISO8859_1=1]="ISO8859_1",e[e.ISO8859_2=2]="ISO8859_2",e[e.ISO8859_3=3]="ISO8859_3",e[e.ISO8859_4=4]="ISO8859_4",e[e.ISO8859_5=5]="ISO8859_5",e[e.ISO8859_6=6]="ISO8859_6",e[e.ISO8859_7=7]="ISO8859_7",e[e.ISO8859_8=8]="ISO8859_8",e[e.ISO8859_9=9]="ISO8859_9",e[e.ISO8859_10=10]="ISO8859_10",e[e.ISO8859_11=11]="ISO8859_11",e[e.ISO8859_13=12]="ISO8859_13",e[e.ISO8859_14=13]="ISO8859_14",e[e.ISO8859_15=14]="ISO8859_15",e[e.ISO8859_16=15]="ISO8859_16",e[e.SJIS=16]="SJIS",e[e.Cp1250=17]="Cp1250",e[e.Cp1251=18]="Cp1251",e[e.Cp1252=19]="Cp1252",e[e.Cp1256=20]="Cp1256",e[e.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",e[e.UTF8=22]="UTF8",e[e.ASCII=23]="ASCII",e[e.Big5=24]="Big5",e[e.GB18030=25]="GB18030",e[e.EUC_KR=26]="EUC_KR"}(y||(y={}));class E{constructor(e,t,r,...n){this.valueIdentifier=e,this.name=r,this.values="number"==typeof t?Int32Array.from([t]):t,this.otherEncodingNames=n,E.VALUE_IDENTIFIER_TO_ECI.set(e,this),E.NAME_TO_ECI.set(r,this);const i=this.values;for(let o=0,a=i.length;o!==a;o++){const e=i[o];E.VALUES_TO_ECI.set(e,this)}for(const o of n)E.NAME_TO_ECI.set(o,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new S("incorect value");const t=E.VALUES_TO_ECI.get(e);if(void 0===t)throw new S("incorect value");return t}static getCharacterSetECIByName(e){const t=E.NAME_TO_ECI.get(e);if(void 0===t)throw new S("incorect value");return t}equals(e){if(!(e instanceof E))return!1;const t=e;return this.getName()===t.getName()}}E.VALUE_IDENTIFIER_TO_ECI=new Map,E.VALUES_TO_ECI=new Map,E.NAME_TO_ECI=new Map,E.Cp437=new E(y.Cp437,Int32Array.from([0,2]),"Cp437"),E.ISO8859_1=new E(y.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),E.ISO8859_2=new E(y.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),E.ISO8859_3=new E(y.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),E.ISO8859_4=new E(y.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),E.ISO8859_5=new E(y.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),E.ISO8859_6=new E(y.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),E.ISO8859_7=new E(y.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),E.ISO8859_8=new E(y.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),E.ISO8859_9=new E(y.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),E.ISO8859_10=new E(y.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),E.ISO8859_11=new E(y.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),E.ISO8859_13=new E(y.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),E.ISO8859_14=new E(y.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),E.ISO8859_15=new E(y.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),E.ISO8859_16=new E(y.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),E.SJIS=new E(y.SJIS,20,"SJIS","Shift_JIS"),E.Cp1250=new E(y.Cp1250,21,"Cp1250","windows-1250"),E.Cp1251=new E(y.Cp1251,22,"Cp1251","windows-1251"),E.Cp1252=new E(y.Cp1252,23,"Cp1252","windows-1252"),E.Cp1256=new E(y.Cp1256,24,"Cp1256","windows-1256"),E.UnicodeBigUnmarked=new E(y.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),E.UTF8=new E(y.UTF8,26,"UTF8","UTF-8"),E.ASCII=new E(y.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),E.Big5=new E(y.Big5,28,"Big5"),E.GB18030=new E(y.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),E.EUC_KR=new E(y.EUC_KR,30,"EUC_KR","EUC-KR");class _ extends l{}_.kind="UnsupportedOperationException";class C{static decode(e,t){const r=this.encodingName(t);return this.customDecoder?this.customDecoder(e,r):"undefined"==typeof TextDecoder||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)}static shouldDecodeOnFallback(e){return!C.isBrowser()&&"ISO-8859-1"===e}static encode(e,t){const r=this.encodingName(t);return this.customEncoder?this.customEncoder(e,r):"undefined"==typeof TextEncoder?this.encodeFallback(e):(new TextEncoder).encode(e)}static isBrowser(){return"undefined"!=typeof window&&"[object Window]"==={}.toString.call(window)}static encodingName(e){return"string"==typeof e?e:e.getName()}static encodingCharacterSet(e){return e instanceof E?e:E.getCharacterSetECIByName(e)}static decodeFallback(e,t){const r=this.encodingCharacterSet(t);if(C.isDecodeFallbackSupported(r)){let t="";for(let r=0,n=e.length;r<n;r++){let n=e[r].toString(16);n.length<2&&(n="0"+n),t+="%"+n}return decodeURIComponent(t)}if(r.equals(E.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new _(`Encoding ${this.encodingName(t)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(E.UTF8)||e.equals(E.ISO8859_1)||e.equals(E.ASCII)}static encodeFallback(e){const t=btoa(unescape(encodeURIComponent(e))).split(""),r=[];for(let n=0;n<t.length;n++)r.push(t[n].charCodeAt(0));return new Uint8Array(r)}}class A{static castAsNonUtf8Char(e,t=null){const r=t?t.getName():this.ISO88591;return C.decode(new Uint8Array([e]),r)}static guessEncoding(e,t){if(null!=t&&void 0!==t.get(x.CHARACTER_SET))return t.get(x.CHARACTER_SET).toString();const r=e.length;let n=!0,i=!0,o=!0,a=0,s=0,l=0,c=0,u=0,d=0,h=0,p=0,f=0,g=0,m=0;const w=e.length>3&&239===e[0]&&187===e[1]&&191===e[2];for(let b=0;b<r&&(n||i||o);b++){const t=255&e[b];o&&(a>0?128&t?a--:o=!1:128&t&&(64&t?(a++,32&t?(a++,16&t?(a++,8&t?o=!1:c++):l++):s++):o=!1)),n&&(t>127&&t<160?n=!1:t>159&&(t<192||215===t||247===t)&&m++),i&&(u>0?t<64||127===t||t>252?i=!1:u--:128===t||160===t||t>239?i=!1:t>160&&t<224?(d++,p=0,h++,h>f&&(f=h)):t>127?(u++,h=0,p++,p>g&&(g=p)):(h=0,p=0))}return o&&a>0&&(o=!1),i&&u>0&&(i=!1),o&&(w||s+l+c>0)?A.UTF8:i&&(A.ASSUME_SHIFT_JIS||f>=3||g>=3)?A.SHIFT_JIS:n&&i?2===f&&2===d||10*m>=r?A.SHIFT_JIS:A.ISO88591:n?A.ISO88591:i?A.SHIFT_JIS:o?A.UTF8:A.PLATFORM_DEFAULT_ENCODING}static format(e,...t){let r=-1;function n(e,n,i,o,a,s){if("%%"===e)return"%";if(void 0===t[++r])return;e=o?parseInt(o.substr(1)):void 0;let l,c=a?parseInt(a.substr(1)):void 0;switch(s){case"s":l=t[r];break;case"c":l=t[r][0];break;case"f":l=parseFloat(t[r]).toFixed(e);break;case"p":l=parseFloat(t[r]).toPrecision(e);break;case"e":l=parseFloat(t[r]).toExponential(e);break;case"x":l=parseInt(t[r]).toString(c||16);break;case"d":l=parseFloat(parseInt(t[r],c||10).toPrecision(e)).toFixed(0)}l="object"==typeof l?JSON.stringify(l):(+l).toString(c);let u=parseInt(i),d=i&&i[0]+""=="0"?"0":" ";for(;l.length<u;)l=void 0!==n?l+d:d+l;return l}let i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(i,n)}static getBytes(e,t){return C.encode(e,t)}static getCharCode(e,t=0){return e.charCodeAt(t)}static getCharAt(e){return String.fromCharCode(e)}}A.SHIFT_JIS=E.SJIS.getName(),A.GB2312="GB2312",A.ISO88591=E.ISO8859_1.getName(),A.EUC_JP="EUC_JP",A.UTF8=E.UTF8.getName(),A.PLATFORM_DEFAULT_ENCODING=A.UTF8,A.ASSUME_SHIFT_JIS=!1;class T{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return"string"==typeof e?this.value+=e.toString():this.encoding?this.value+=A.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,t,r){for(let n=t;t<t+r;n++)this.append(e[n]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)}substring(e,t){return this.value.substring(e,t)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)}}class k{constructor(e,t,r,n){if(this.width=e,this.height=t,this.rowSize=r,this.bits=n,null==t&&(t=e),this.height=t,e<1||t<1)throw new u("Both dimensions must be greater than 0");null==r&&(r=Math.floor((e+31)/32)),this.rowSize=r,null==n&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const t=e.length,r=e[0].length,n=new k(r,t);for(let i=0;i<t;i++){const t=e[i];for(let e=0;e<r;e++)t[e]&&n.set(e,i)}return n}static parseFromString(e,t,r){if(null===e)throw new u("stringRepresentation cannot be null");const n=new Array(e.length);let i=0,o=0,a=-1,s=0,l=0;for(;l<e.length;)if("\n"===e.charAt(l)||"\r"===e.charAt(l)){if(i>o){if(-1===a)a=i-o;else if(i-o!==a)throw new u("row lengths do not match");o=i,s++}l++}else if(e.substring(l,l+t.length)===t)l+=t.length,n[i]=!0,i++;else{if(e.substring(l,l+r.length)!==r)throw new u("illegal character encountered: "+e.substring(l));l+=r.length,n[i]=!1,i++}if(i>o){if(-1===a)a=i-o;else if(i-o!==a)throw new u("row lengths do not match");s++}const c=new k(a,s);for(let u=0;u<i;u++)n[u]&&c.set(Math.floor(u%a),Math.floor(u/a));return c}get(e,t){const r=t*this.rowSize+Math.floor(e/32);return!!(this.bits[r]>>>(31&e)&1)}set(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(31&e)&4294967295}unset(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(31&e)&4294967295)}flip(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(31&e)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new u("input matrix dimensions do not match");const t=new v(Math.floor(this.width/32)+1),r=this.rowSize,n=this.bits;for(let i=0,o=this.height;i<o;i++){const o=i*r,a=e.getRow(i,t).getBitArray();for(let e=0;e<r;e++)n[o+e]^=a[e]}}clear(){const e=this.bits,t=e.length;for(let r=0;r<t;r++)e[r]=0}setRegion(e,t,r,n){if(t<0||e<0)throw new u("Left and top must be nonnegative");if(n<1||r<1)throw new u("Height and width must be at least 1");const i=e+r,o=t+n;if(o>this.height||i>this.width)throw new u("The region must fit inside the matrix");const a=this.rowSize,s=this.bits;for(let l=t;l<o;l++){const t=l*a;for(let r=e;r<i;r++)s[t+Math.floor(r/32)]|=1<<(31&r)&4294967295}}getRow(e,t){null==t||t.getSize()<this.width?t=new v(this.width):t.clear();const r=this.rowSize,n=this.bits,i=e*r;for(let o=0;o<r;o++)t.setBulk(32*o,n[i+o]);return t}setRow(e,t){f.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),t=this.getHeight();let r=new v(e),n=new v(e);for(let i=0,o=Math.floor((t+1)/2);i<o;i++)r=this.getRow(i,r),n=this.getRow(t-1-i,n),r.reverse(),n.reverse(),this.setRow(i,n),this.setRow(t-1-i,r)}getEnclosingRectangle(){const e=this.width,t=this.height,r=this.rowSize,n=this.bits;let i=e,o=t,a=-1,s=-1;for(let l=0;l<t;l++)for(let e=0;e<r;e++){const t=n[l*r+e];if(0!==t){if(l<o&&(o=l),l>s&&(s=l),32*e<i){let r=0;for(;!(t<<31-r&4294967295);)r++;32*e+r<i&&(i=32*e+r)}if(32*e+31>a){let r=31;for(;t>>>r===0;)r--;32*e+r>a&&(a=32*e+r)}}}return a<i||s<o?null:Int32Array.from([i,o,a-i+1,s-o+1])}getTopLeftOnBit(){const e=this.rowSize,t=this.bits;let r=0;for(;r<t.length&&0===t[r];)r++;if(r===t.length)return null;const n=r/e;let i=r%e*32;const o=t[r];let a=0;for(;!(o<<31-a&4294967295);)a++;return i+=a,Int32Array.from([i,n])}getBottomRightOnBit(){const e=this.rowSize,t=this.bits;let r=t.length-1;for(;r>=0&&0===t[r];)r--;if(r<0)return null;const n=Math.floor(r/e);let i=32*Math.floor(r%e);const o=t[r];let a=31;for(;o>>>a===0;)a--;return i+=a,Int32Array.from([i,n])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof k))return!1;const t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&w.equals(this.bits,t.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+w.hashCode(this.bits),e}toString(e="X ",t="  ",r="\n"){return this.buildToString(e,t,r)}buildToString(e,t,r){let n=new T;for(let i=0,o=this.height;i<o;i++){for(let r=0,o=this.width;r<o;r++)n.append(this.get(r,i)?e:t);n.append(r)}return n.toString()}clone(){return new k(this.width,this.height,this.rowSize,this.bits.slice())}}class I extends l{static getNotFoundInstance(){return new I}}I.kind="NotFoundException";class R extends p{constructor(e){super(e),this.luminances=R.EMPTY,this.buckets=new Int32Array(R.LUMINANCE_BUCKETS)}getBlackRow(e,t){const r=this.getLuminanceSource(),n=r.getWidth();null==t||t.getSize()<n?t=new v(n):t.clear(),this.initArrays(n);const i=r.getRow(e,this.luminances),o=this.buckets;for(let s=0;s<n;s++)o[(255&i[s])>>R.LUMINANCE_SHIFT]++;const a=R.estimateBlackPoint(o);if(n<3)for(let s=0;s<n;s++)(255&i[s])<a&&t.set(s);else{let e=255&i[0],r=255&i[1];for(let o=1;o<n-1;o++){const n=255&i[o+1];(4*r-e-n)/2<a&&t.set(o),e=r,r=n}}return t}getBlackMatrix(){const e=this.getLuminanceSource(),t=e.getWidth(),r=e.getHeight(),n=new k(t,r);this.initArrays(t);const i=this.buckets;for(let s=1;s<5;s++){const n=Math.floor(r*s/5),o=e.getRow(n,this.luminances),a=Math.floor(4*t/5);for(let e=Math.floor(t/5);e<a;e++)i[(255&o[e])>>R.LUMINANCE_SHIFT]++}const o=R.estimateBlackPoint(i),a=e.getMatrix();for(let s=0;s<r;s++){const e=s*t;for(let r=0;r<t;r++)(255&a[e+r])<o&&n.set(r,s)}return n}createBinarizer(e){return new R(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const t=this.buckets;for(let r=0;r<R.LUMINANCE_BUCKETS;r++)t[r]=0}static estimateBlackPoint(e){const t=e.length;let r=0,n=0,i=0;for(let c=0;c<t;c++)e[c]>i&&(n=c,i=e[c]),e[c]>r&&(r=e[c]);let o=0,a=0;for(let c=0;c<t;c++){const t=c-n,r=e[c]*t*t;r>a&&(o=c,a=r)}if(n>o){const e=n;n=o,o=e}if(o-n<=t/16)throw new I;let s=o-1,l=-1;for(let c=o-1;c>n;c--){const t=c-n,i=t*t*(o-c)*(r-e[c]);i>l&&(s=c,l=i)}return s<<R.LUMINANCE_SHIFT}}R.LUMINANCE_BITS=5,R.LUMINANCE_SHIFT=8-R.LUMINANCE_BITS,R.LUMINANCE_BUCKETS=1<<R.LUMINANCE_BITS,R.EMPTY=Uint8ClampedArray.from([0]);class O extends R{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(null!==this.matrix)return this.matrix;const e=this.getLuminanceSource(),t=e.getWidth(),r=e.getHeight();if(t>=O.MINIMUM_DIMENSION&&r>=O.MINIMUM_DIMENSION){const n=e.getMatrix();let i=t>>O.BLOCK_SIZE_POWER;0!==(t&O.BLOCK_SIZE_MASK)&&i++;let o=r>>O.BLOCK_SIZE_POWER;0!==(r&O.BLOCK_SIZE_MASK)&&o++;const a=O.calculateBlackPoints(n,i,o,t,r),s=new k(t,r);O.calculateThresholdForBlock(n,i,o,t,r,a,s),this.matrix=s}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new O(e)}static calculateThresholdForBlock(e,t,r,n,i,o,a){const s=i-O.BLOCK_SIZE,l=n-O.BLOCK_SIZE;for(let c=0;c<r;c++){let i=c<<O.BLOCK_SIZE_POWER;i>s&&(i=s);const u=O.cap(c,2,r-3);for(let r=0;r<t;r++){let s=r<<O.BLOCK_SIZE_POWER;s>l&&(s=l);const c=O.cap(r,2,t-3);let d=0;for(let e=-2;e<=2;e++){const t=o[u+e];d+=t[c-2]+t[c-1]+t[c]+t[c+1]+t[c+2]}const h=d/25;O.thresholdBlock(e,s,i,h,n,a)}}}static cap(e,t,r){return e<t?t:e>r?r:e}static thresholdBlock(e,t,r,n,i,o){for(let a=0,s=r*i+t;a<O.BLOCK_SIZE;a++,s+=i)for(let i=0;i<O.BLOCK_SIZE;i++)(255&e[s+i])<=n&&o.set(t+i,r+a)}static calculateBlackPoints(e,t,r,n,i){const o=i-O.BLOCK_SIZE,a=n-O.BLOCK_SIZE,s=new Array(r);for(let l=0;l<r;l++){s[l]=new Int32Array(t);let r=l<<O.BLOCK_SIZE_POWER;r>o&&(r=o);for(let i=0;i<t;i++){let t=i<<O.BLOCK_SIZE_POWER;t>a&&(t=a);let o=0,c=255,u=0;for(let i=0,a=r*n+t;i<O.BLOCK_SIZE;i++,a+=n){for(let t=0;t<O.BLOCK_SIZE;t++){const r=255&e[a+t];o+=r,r<c&&(c=r),r>u&&(u=r)}if(u-c>O.MIN_DYNAMIC_RANGE)for(i++,a+=n;i<O.BLOCK_SIZE;i++,a+=n)for(let t=0;t<O.BLOCK_SIZE;t++)o+=255&e[a+t]}let d=o>>2*O.BLOCK_SIZE_POWER;if(u-c<=O.MIN_DYNAMIC_RANGE&&(d=c/2,l>0&&i>0)){const e=(s[l-1][i]+2*s[l][i-1]+s[l-1][i-1])/4;c<e&&(d=e)}s[l][i]=d}}return s}}O.BLOCK_SIZE_POWER=3,O.BLOCK_SIZE=1<<O.BLOCK_SIZE_POWER,O.BLOCK_SIZE_MASK=O.BLOCK_SIZE-1,O.MINIMUM_DIMENSION=5*O.BLOCK_SIZE,O.MIN_DYNAMIC_RANGE=24;class N{constructor(e,t){this.width=e,this.height=t}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,t,r,n){throw new _("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new _("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new _("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let t=new T;for(let r=0;r<this.height;r++){const n=this.getRow(r,e);for(let e=0;e<this.width;e++){const r=255&n[e];let i;i=r<64?"#":r<128?"+":r<192?".":" ",t.append(i)}t.append("\n")}return t.toString()}}class D extends N{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,t){const r=this.delegate.getRow(e,t),n=this.getWidth();for(let i=0;i<n;i++)r[i]=255-(255&r[i]);return r}getMatrix(){const e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(t);for(let n=0;n<t;n++)r[n]=255-(255&e[n]);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(e,t,r,n){return new D(this.delegate.crop(e,t,r,n))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new D(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new D(this.delegate.rotateCounterClockwise45())}}class P extends N{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=P.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const t=e.getContext("2d").getImageData(0,0,e.width,e.height);return P.toGrayscaleBuffer(t.data,e.width,e.height)}static toGrayscaleBuffer(e,t,r){const n=new Uint8ClampedArray(t*r);for(let i=0,o=0,a=e.length;i<a;i+=4,o++){let t;t=0===e[i+3]?255:306*e[i]+601*e[i+1]+117*e[i+2]+512>>10,n[o]=t}return n}getRow(e,t){if(e<0||e>=this.getHeight())throw new u("Requested row is outside the image: "+e);const r=this.getWidth(),n=e*r;return null===t?t=this.buffer.slice(n,n+r):(t.length<r&&(t=new Uint8ClampedArray(r)),t.set(this.buffer.slice(n,n+r))),t}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,t,r,n){return super.crop(e,t,r,n),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(null===this.tempCanvasElement){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const t=this.getTempCanvasElement(),r=t.getContext("2d"),n=e*P.DEGREE_TO_RADIANS,i=this.canvas.width,o=this.canvas.height,a=Math.ceil(Math.abs(Math.cos(n))*i+Math.abs(Math.sin(n))*o),s=Math.ceil(Math.abs(Math.sin(n))*i+Math.abs(Math.cos(n))*o);return t.width=a,t.height=s,r.translate(a/2,s/2),r.rotate(n),r.drawImage(this.canvas,i/-2,o/-2),this.buffer=P.makeBufferFromCanvasImageData(t),this}invert(){return new D(this)}}P.DEGREE_TO_RADIANS=Math.PI/180;class M{constructor(e,t,r){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var j,L=(globalThis||de||self||window?(globalThis||de||self||window||void 0).__awaiter:void 0)||function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function a(e){try{l(n.next(e))}catch(jx){o(jx)}}function s(e){try{l(n.throw(e))}catch(jx){o(jx)}}function l(e){e.done?r(e.value):i(e.value).then(a,s)}l((n=n.apply(e,t||[])).next())})};class B{constructor(e,t=500,r){this.reader=e,this.timeBetweenScansMillis=t,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return"undefined"!=typeof navigator}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return L(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),t=[];for(const r of e){const e="video"===r.kind?"videoinput":r.kind;if("videoinput"!==e)continue;const n={deviceId:r.deviceId||r.id,label:r.label||`Video device ${t.length+1}`,kind:e,groupId:r.groupId};t.push(n)}return t})}getVideoInputDevices(){return L(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(e=>new M(e.deviceId,e.label))})}findDeviceById(e){return L(this,void 0,void 0,function*(){const t=yield this.listVideoInputDevices();return t?t.find(t=>t.deviceId===e):null})}decodeFromInputVideoDevice(e,t){return L(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,t)})}decodeOnceFromVideoDevice(e,t){return L(this,void 0,void 0,function*(){let r;this.reset(),r=e?{deviceId:{exact:e}}:{facingMode:"environment"};const n={video:r};return yield this.decodeOnceFromConstraints(n,t)})}decodeOnceFromConstraints(e,t){return L(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(r,t)})}decodeOnceFromStream(e,t){return L(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(e,t);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(e,t,r){return L(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,t,r)})}decodeFromVideoDevice(e,t,r){return L(this,void 0,void 0,function*(){let n;n=e?{deviceId:{exact:e}}:{facingMode:"environment"};const i={video:n};return yield this.decodeFromConstraints(i,t,r)})}decodeFromConstraints(e,t,r){return L(this,void 0,void 0,function*(){const n=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(n,t,r)})}decodeFromStream(e,t,r){return L(this,void 0,void 0,function*(){this.reset();const n=yield this.attachStreamToVideo(e,t);return yield this.decodeContinuously(n,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,t){return L(this,void 0,void 0,function*(){const r=this.prepareVideoElement(t);return this.addVideoSource(r,e),this.videoElement=r,this.stream=e,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(e){return new Promise((t,r)=>this.playVideoOnLoad(e,()=>t()))}playVideoOnLoad(e,t){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return L(this,void 0,void 0,function*(){if(this.isVideoPlaying(e))console.warn("Trying to play video that is already playing.");else try{yield e.play()}catch(Hg){console.warn("It was not possible to play the video.")}})}getMediaElement(e,t){const r=document.getElementById(e);if(!r)throw new c(`element with id '${e}' not found`);if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new c(`element with id '${e}' must be an ${t} element`);return r}decodeFromImage(e,t){if(!e&&!t)throw new c("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)}decodeFromVideo(e,t){if(!e&&!t)throw new c("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,t,r){if(void 0===e&&void 0===t)throw new c("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,r):this.decodeFromVideoElementContinuously(e,r)}decodeFromImageElement(e){if(!e)throw new c("An image element must be provided.");this.reset();const t=this.prepareImageElement(e);let r;return this.imageElement=t,r=this.isImageLoaded(t)?this.decodeOnce(t,!1,!0):this._decodeOnLoadImage(t),r}decodeFromVideoElement(e){const t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)}decodeFromVideoElementContinuously(e,t){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,t)}_decodeFromVideoElementSetup(e){if(!e)throw new c("A video element must be provided.");this.reset();const t=this.prepareVideoElement(e);return this.videoElement=t,t}decodeFromImageUrl(e){if(!e)throw new c("An URL must be provided.");this.reset();const t=this.prepareImageElement();this.imageElement=t;const r=this._decodeOnLoadImage(t);return t.src=e,r}decodeFromVideoUrl(e){if(!e)throw new c("An URL must be provided.");this.reset();const t=this.prepareVideoElement(),r=this.decodeFromVideoElement(t);return t.src=e,r}decodeFromVideoUrlContinuously(e,t){if(!e)throw new c("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),n=this.decodeFromVideoElementContinuously(r,t);return r.src=e,n}_decodeOnLoadImage(e){return new Promise((t,r)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(t,r),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return L(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,t){return L(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,t)})}isImageLoaded(e){return!!e.complete&&0!==e.naturalWidth}prepareImageElement(e){let t;return void 0===e&&(t=document.createElement("img"),t.width=200,t.height=200),"string"==typeof e&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t}prepareVideoElement(e){let t;return e||"undefined"==typeof document||(t=document.createElement("video"),t.width=200,t.height=200),"string"==typeof e&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t}decodeOnce(e,t=!0,r=!0){this._stopAsyncDecode=!1;const n=(i,o)=>{if(this._stopAsyncDecode)return o(new I("Video stream has ended before any code could be detected.")),void(this._stopAsyncDecode=void 0);try{i(this.decode(e))}catch(jx){if(t&&jx instanceof I||(jx instanceof h||jx instanceof S)&&r)return setTimeout(n,this._timeBetweenDecodingAttempts,i,o);o(jx)}};return new Promise((e,t)=>n(e,t))}decodeContinuously(e,t){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode)this._stopContinuousDecode=void 0;else try{const n=this.decode(e);t(n,null),setTimeout(r,this.timeBetweenScansMillis)}catch(jx){t(null,jx),(jx instanceof h||jx instanceof S||jx instanceof I)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(e){const t=this.createBinaryBitmap(e);return this.decodeBitmap(t)}_isHTMLVideoElement(e){return 0!==e.videoWidth}drawFrameOnCanvas(e,t,r){t||(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}drawImageOnCanvas(e,t,r=this.captureCanvasContext){t||(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const t=this.getCaptureCanvas(e),r=new P(t),n=new O(r);return new d(n)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const t=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=t}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if("undefined"==typeof document)return this._destroyCaptureCanvas(),null;const t=document.createElement("canvas");let r,n;return void 0!==e&&(e instanceof HTMLVideoElement?(r=e.videoWidth,n=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,n=e.naturalHeight||e.height)),t.style.width=r+"px",t.style.height=n+"px",t.width=r,t.height=n,t}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(void 0!==this.videoEndedListener&&this.videoElement.removeEventListener("ended",this.videoEndedListener),void 0!==this.videoPlayingEventListener&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),void 0!==this.videoCanPlayListener&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,t){try{e.srcObject=t}catch(Lx){e.src=URL.createObjectURL(t)}}cleanVideoSource(e){try{e.srcObject=null}catch(Lx){e.src=""}this.videoElement.removeAttribute("src")}}class z{constructor(e,t,r=(null==t?0:8*t.length),n,i,o=f.currentTimeMillis()){this.text=e,this.rawBytes=t,this.numBits=r,this.resultPoints=n,this.format=i,this.timestamp=o,this.text=e,this.rawBytes=t,this.numBits=null==r?null==t?0:8*t.length:r,this.resultPoints=n,this.format=i,this.resultMetadata=null,this.timestamp=null==o?f.currentTimeMillis():o}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,t){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)}putAllMetadata(e){null!==e&&(null===this.resultMetadata?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const t=this.resultPoints;if(null===t)this.resultPoints=e;else if(null!==e&&e.length>0){const r=new Array(t.length+e.length);f.arraycopy(t,0,r,0,t.length),f.arraycopy(e,0,r,t.length,e.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}!function(e){e[e.AZTEC=0]="AZTEC",e[e.CODABAR=1]="CODABAR",e[e.CODE_39=2]="CODE_39",e[e.CODE_93=3]="CODE_93",e[e.CODE_128=4]="CODE_128",e[e.DATA_MATRIX=5]="DATA_MATRIX",e[e.EAN_8=6]="EAN_8",e[e.EAN_13=7]="EAN_13",e[e.ITF=8]="ITF",e[e.MAXICODE=9]="MAXICODE",e[e.PDF_417=10]="PDF_417",e[e.QR_CODE=11]="QR_CODE",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(j||(j={}));var F,U=j;!function(e){e[e.OTHER=0]="OTHER",e[e.ORIENTATION=1]="ORIENTATION",e[e.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",e[e.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",e[e.ISSUE_NUMBER=4]="ISSUE_NUMBER",e[e.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",e[e.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",e[e.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",e[e.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",e[e.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",e[e.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"}(F||(F={}));var V,H,G,q,W,$,X=F;class Y{constructor(e,t,r,n,i=-1,o=-1){this.rawBytes=e,this.text=t,this.byteSegments=r,this.ecLevel=n,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=o,this.numBits=null==e?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class K{exp(e){return this.expTable[e]}log(e){if(0===e)throw new u;return this.logTable[e]}static addOrSubtract(e,t){return e^t}}class Q{constructor(e,t){if(0===t.length)throw new u;this.field=e;const r=t.length;if(r>1&&0===t[0]){let e=1;for(;e<r&&0===t[e];)e++;e===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-e),f.arraycopy(t,e,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(0===e)return this.getCoefficient(0);const t=this.coefficients;let r;if(1===e){r=0;for(let e=0,n=t.length;e!==n;e++){const n=t[e];r=K.addOrSubtract(r,n)}return r}r=t[0];const n=t.length,i=this.field;for(let o=1;o<n;o++)r=K.addOrSubtract(i.multiply(e,r),t[o]);return r}addOrSubtract(e){if(!this.field.equals(e.field))throw new u("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,r=e.coefficients;if(t.length>r.length){const e=t;t=r,r=e}let n=new Int32Array(r.length);const i=r.length-t.length;f.arraycopy(r,0,n,0,i);for(let o=i;o<r.length;o++)n[o]=K.addOrSubtract(t[o-i],r[o]);return new Q(this.field,n)}multiply(e){if(!this.field.equals(e.field))throw new u("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const t=this.coefficients,r=t.length,n=e.coefficients,i=n.length,o=new Int32Array(r+i-1),a=this.field;for(let s=0;s<r;s++){const e=t[s];for(let t=0;t<i;t++)o[s+t]=K.addOrSubtract(o[s+t],a.multiply(e,n[t]))}return new Q(a,o)}multiplyScalar(e){if(0===e)return this.field.getZero();if(1===e)return this;const t=this.coefficients.length,r=this.field,n=new Int32Array(t),i=this.coefficients;for(let o=0;o<t;o++)n[o]=r.multiply(i[o],e);return new Q(r,n)}multiplyByMonomial(e,t){if(e<0)throw new u;if(0===t)return this.field.getZero();const r=this.coefficients,n=r.length,i=new Int32Array(n+e),o=this.field;for(let a=0;a<n;a++)i[a]=o.multiply(r[a],t);return new Q(o,i)}divide(e){if(!this.field.equals(e.field))throw new u("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new u("Divide by 0");const t=this.field;let r=t.getZero(),n=this;const i=e.getCoefficient(e.getDegree()),o=t.inverse(i);for(;n.getDegree()>=e.getDegree()&&!n.isZero();){const i=n.getDegree()-e.getDegree(),a=t.multiply(n.getCoefficient(n.getDegree()),o),s=e.multiplyByMonomial(i,a),l=t.buildMonomial(i,a);r=r.addOrSubtract(l),n=n.addOrSubtract(s)}return[r,n]}toString(){let e="";for(let t=this.getDegree();t>=0;t--){let r=this.getCoefficient(t);if(0!==r){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),0===t||1!==r){const t=this.field.log(r);0===t?e+="1":1===t?e+="a":(e+="a^",e+=t)}0!==t&&(1===t?e+="x":(e+="x^",e+=t))}}return e}}class Z extends l{}Z.kind="ArithmeticException";class J extends K{constructor(e,t,r){super(),this.primitive=e,this.size=t,this.generatorBase=r;const n=new Int32Array(t);let i=1;for(let a=0;a<t;a++)n[a]=i,i*=2,i>=t&&(i^=e,i&=t-1);this.expTable=n;const o=new Int32Array(t);for(let a=0;a<t-1;a++)o[n[a]]=a;this.logTable=o,this.zero=new Q(this,Int32Array.from([0])),this.one=new Q(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new u;if(0===t)return this.zero;const r=new Int32Array(e+1);return r[0]=t,new Q(this,r)}inverse(e){if(0===e)throw new Z;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+b.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}J.AZTEC_DATA_12=new J(4201,4096,1),J.AZTEC_DATA_10=new J(1033,1024,1),J.AZTEC_DATA_6=new J(67,64,1),J.AZTEC_PARAM=new J(19,16,1),J.QR_CODE_FIELD_256=new J(285,256,0),J.DATA_MATRIX_FIELD_256=new J(301,256,1),J.AZTEC_DATA_8=J.DATA_MATRIX_FIELD_256,J.MAXICODE_FIELD_64=J.AZTEC_DATA_6;class ee extends l{}ee.kind="ReedSolomonException";class te extends l{}te.kind="IllegalStateException";class re{constructor(e){this.field=e}decode(e,t){const r=this.field,n=new Q(r,e),i=new Int32Array(t);let o=!0;for(let h=0;h<t;h++){const e=n.evaluateAt(r.exp(h+r.getGeneratorBase()));i[i.length-1-h]=e,0!==e&&(o=!1)}if(o)return;const a=new Q(r,i),s=this.runEuclideanAlgorithm(r.buildMonomial(t,1),a,t),l=s[0],c=s[1],u=this.findErrorLocations(l),d=this.findErrorMagnitudes(c,u);for(let h=0;h<u.length;h++){const t=e.length-1-r.log(u[h]);if(t<0)throw new ee("Bad error location");e[t]=J.addOrSubtract(e[t],d[h])}}runEuclideanAlgorithm(e,t,r){if(e.getDegree()<t.getDegree()){const r=e;e=t,t=r}const n=this.field;let i=e,o=t,a=n.getZero(),s=n.getOne();for(;o.getDegree()>=(r/2|0);){let e=i,t=a;if(i=o,a=s,i.isZero())throw new ee("r_{i-1} was zero");o=e;let r=n.getZero();const l=i.getCoefficient(i.getDegree()),c=n.inverse(l);for(;o.getDegree()>=i.getDegree()&&!o.isZero();){const e=o.getDegree()-i.getDegree(),t=n.multiply(o.getCoefficient(o.getDegree()),c);r=r.addOrSubtract(n.buildMonomial(e,t)),o=o.addOrSubtract(i.multiplyByMonomial(e,t))}if(s=r.multiply(a).addOrSubtract(t),o.getDegree()>=i.getDegree())throw new te("Division algorithm failed to reduce polynomial?")}const l=s.getCoefficient(0);if(0===l)throw new ee("sigmaTilde(0) was zero");const c=n.inverse(l);return[s.multiplyScalar(c),o.multiplyScalar(c)]}findErrorLocations(e){const t=e.getDegree();if(1===t)return Int32Array.from([e.getCoefficient(1)]);const r=new Int32Array(t);let n=0;const i=this.field;for(let o=1;o<i.getSize()&&n<t;o++)0===e.evaluateAt(o)&&(r[n]=i.inverse(o),n++);if(n!==t)throw new ee("Error locator degree does not match number of roots");return r}findErrorMagnitudes(e,t){const r=t.length,n=new Int32Array(r),i=this.field;for(let o=0;o<r;o++){const a=i.inverse(t[o]);let s=1;for(let e=0;e<r;e++)if(o!==e){const r=i.multiply(t[e],a),n=1&r?-2&r:1|r;s=i.multiply(s,n)}n[o]=i.multiply(e.evaluateAt(a),i.inverse(s)),0!==i.getGeneratorBase()&&(n[o]=i.multiply(n[o],a))}return n}}!function(e){e[e.UPPER=0]="UPPER",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.DIGIT=3]="DIGIT",e[e.PUNCT=4]="PUNCT",e[e.BINARY=5]="BINARY"}(V||(V={}));class ne{decode(e){this.ddata=e;let t=e.getBits(),r=this.extractBits(t),n=this.correctBits(r),i=ne.convertBoolArrayToByteArray(n),o=ne.getEncodedData(n),a=new Y(i,o,null,null);return a.setNumBits(n.length),a}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let t=e.length,r=V.UPPER,n=V.UPPER,i="",o=0;for(;o<t;)if(n===V.BINARY){if(t-o<5)break;let a=ne.readCode(e,o,5);if(o+=5,0===a){if(t-o<11)break;a=ne.readCode(e,o,11)+31,o+=11}for(let r=0;r<a;r++){if(t-o<8){o=t;break}const r=ne.readCode(e,o,8);i+=A.castAsNonUtf8Char(r),o+=8}n=r}else{let a=n===V.DIGIT?4:5;if(t-o<a)break;let s=ne.readCode(e,o,a);o+=a;let l=ne.getCharacter(n,s);l.startsWith("CTRL_")?(r=n,n=ne.getTable(l.charAt(5)),"L"===l.charAt(6)&&(r=n)):(i+=l,n=r)}return i}static getTable(e){switch(e){case"L":return V.LOWER;case"P":return V.PUNCT;case"M":return V.MIXED;case"D":return V.DIGIT;case"B":return V.BINARY;default:return V.UPPER}}static getCharacter(e,t){switch(e){case V.UPPER:return ne.UPPER_TABLE[t];case V.LOWER:return ne.LOWER_TABLE[t];case V.MIXED:return ne.MIXED_TABLE[t];case V.PUNCT:return ne.PUNCT_TABLE[t];case V.DIGIT:return ne.DIGIT_TABLE[t];default:throw new te("Bad table")}}correctBits(e){let t,r;this.ddata.getNbLayers()<=2?(r=6,t=J.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,t=J.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,t=J.AZTEC_DATA_10):(r=12,t=J.AZTEC_DATA_12);let n=this.ddata.getNbDatablocks(),i=e.length/r;if(i<n)throw new S;let o=e.length%r,a=new Int32Array(i);for(let h=0;h<i;h++,o+=r)a[h]=ne.readCode(e,o,r);try{new re(t).decode(a,i-n)}catch(d){throw new S(d)}let s=(1<<r)-1,l=0;for(let h=0;h<n;h++){let e=a[h];if(0===e||e===s)throw new S;1!==e&&e!==s-1||l++}let c=new Array(n*r-l),u=0;for(let h=0;h<n;h++){let e=a[h];if(1===e||e===s-1)c.fill(e>1,u,u+r-1),u+=r-1;else for(let t=r-1;t>=0;--t)c[u++]=!!(e&1<<t)}return c}extractBits(e){let t=this.ddata.isCompact(),r=this.ddata.getNbLayers(),n=(t?11:14)+4*r,i=new Int32Array(n),o=new Array(this.totalBitsInLayer(r,t));if(t)for(let a=0;a<i.length;a++)i[a]=a;else{let e=n+1+2*b.truncDivision(b.truncDivision(n,2)-1,15),t=n/2,r=b.truncDivision(e,2);for(let n=0;n<t;n++){let e=n+b.truncDivision(n,15);i[t-n-1]=r-e-1,i[t+n]=r+e+1}}for(let a=0,s=0;a<r;a++){let l=4*(r-a)+(t?9:12),c=2*a,u=n-1-c;for(let t=0;t<l;t++){let r=2*t;for(let n=0;n<2;n++)o[s+r+n]=e.get(i[c+n],i[c+t]),o[s+2*l+r+n]=e.get(i[c+t],i[u-n]),o[s+4*l+r+n]=e.get(i[u-n],i[u-t]),o[s+6*l+r+n]=e.get(i[u-t],i[c+n])}s+=8*l}return o}static readCode(e,t,r){let n=0;for(let i=t;i<t+r;i++)n<<=1,e[i]&&(n|=1);return n}static readByte(e,t){let r=e.length-t;return r>=8?ne.readCode(e,t,8):ne.readCode(e,t,r)<<8-r}static convertBoolArrayToByteArray(e){let t=new Uint8Array((e.length+7)/8);for(let r=0;r<t.length;r++)t[r]=ne.readByte(e,8*r);return t}totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}ne.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ne.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ne.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ne.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ne.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ie{constructor(){}static round(e){return NaN===e?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,t,r,n){const i=e-r,o=t-n;return Math.sqrt(i*i+o*o)}static sum(e){let t=0;for(let r=0,n=e.length;r!==n;r++)t+=e[r];return t}}class oe{static floatToIntBits(e){return e}}oe.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ae{constructor(e,t){this.x=e,this.y=t}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof ae){const t=e;return this.x===t.x&&this.y===t.y}return!1}hashCode(){return 31*oe.floatToIntBits(this.x)+oe.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const t=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),n=this.distance(e[0],e[2]);let i,o,a;if(r>=t&&r>=n?(o=e[0],i=e[1],a=e[2]):n>=r&&n>=t?(o=e[1],i=e[0],a=e[2]):(o=e[2],i=e[0],a=e[1]),this.crossProductZ(i,o,a)<0){const e=i;i=a,a=e}e[0]=i,e[1]=o,e[2]=a}static distance(e,t){return ie.distance(e.x,e.y,t.x,t.y)}static crossProductZ(e,t,r){const n=t.x,i=t.y;return(r.x-n)*(e.y-i)-(r.y-i)*(e.x-n)}}class se{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class le extends se{constructor(e,t,r,n,i){super(e,t),this.compact=r,this.nbDatablocks=n,this.nbLayers=i}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class ce{constructor(e,t,r,n){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),null==t&&(t=ce.INIT_SIZE),null==r&&(r=e.getWidth()/2|0),null==n&&(n=e.getHeight()/2|0);const i=t/2|0;if(this.leftInit=r-i,this.rightInit=r+i,this.upInit=n-i,this.downInit=n+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new I}detect(){let e=this.leftInit,t=this.rightInit,r=this.upInit,n=this.downInit,i=!1,o=!0,a=!1,s=!1,l=!1,c=!1,u=!1;const d=this.width,h=this.height;for(;o;){o=!1;let p=!0;for(;(p||!s)&&t<d;)p=this.containsBlackPoint(r,n,t,!1),p?(t++,o=!0,s=!0):s||t++;if(t>=d){i=!0;break}let f=!0;for(;(f||!l)&&n<h;)f=this.containsBlackPoint(e,t,n,!0),f?(n++,o=!0,l=!0):l||n++;if(n>=h){i=!0;break}let g=!0;for(;(g||!c)&&e>=0;)g=this.containsBlackPoint(r,n,e,!1),g?(e--,o=!0,c=!0):c||e--;if(e<0){i=!0;break}let m=!0;for(;(m||!u)&&r>=0;)m=this.containsBlackPoint(e,t,r,!0),m?(r--,o=!0,u=!0):u||r--;if(r<0){i=!0;break}o&&(a=!0)}if(!i&&a){const i=t-e;let o=null;for(let t=1;null===o&&t<i;t++)o=this.getBlackPointOnSegment(e,n-t,e+t,n);if(null==o)throw new I;let a=null;for(let t=1;null===a&&t<i;t++)a=this.getBlackPointOnSegment(e,r+t,e+t,r);if(null==a)throw new I;let s=null;for(let e=1;null===s&&e<i;e++)s=this.getBlackPointOnSegment(t,r+e,t-e,r);if(null==s)throw new I;let l=null;for(let e=1;null===l&&e<i;e++)l=this.getBlackPointOnSegment(t,n-e,t-e,n);if(null==l)throw new I;return this.centerEdges(l,o,s,a)}throw new I}getBlackPointOnSegment(e,t,r,n){const i=ie.round(ie.distance(e,t,r,n)),o=(r-e)/i,a=(n-t)/i,s=this.image;for(let l=0;l<i;l++){const r=ie.round(e+l*o),n=ie.round(t+l*a);if(s.get(r,n))return new ae(r,n)}return null}centerEdges(e,t,r,n){const i=e.getX(),o=e.getY(),a=t.getX(),s=t.getY(),l=r.getX(),c=r.getY(),u=n.getX(),d=n.getY(),h=ce.CORR;return i<this.width/2?[new ae(u-h,d+h),new ae(a+h,s+h),new ae(l-h,c-h),new ae(i+h,o-h)]:[new ae(u+h,d+h),new ae(a+h,s-h),new ae(l-h,c+h),new ae(i-h,o-h)]}containsBlackPoint(e,t,r,n){const i=this.image;if(n){for(let o=e;o<=t;o++)if(i.get(o,r))return!0}else for(let o=e;o<=t;o++)if(i.get(r,o))return!0;return!1}}ce.INIT_SIZE=10,ce.CORR=1;class ue{static checkAndNudgePoints(e,t){const r=e.getWidth(),n=e.getHeight();let i=!0;for(let o=0;o<t.length&&i;o+=2){const e=Math.floor(t[o]),a=Math.floor(t[o+1]);if(e<-1||e>r||a<-1||a>n)throw new I;i=!1,-1===e?(t[o]=0,i=!0):e===r&&(t[o]=r-1,i=!0),-1===a?(t[o+1]=0,i=!0):a===n&&(t[o+1]=n-1,i=!0)}i=!0;for(let o=t.length-2;o>=0&&i;o-=2){const e=Math.floor(t[o]),a=Math.floor(t[o+1]);if(e<-1||e>r||a<-1||a>n)throw new I;i=!1,-1===e?(t[o]=0,i=!0):e===r&&(t[o]=r-1,i=!0),-1===a?(t[o+1]=0,i=!0):a===n&&(t[o+1]=n-1,i=!0)}}}class he{constructor(e,t,r,n,i,o,a,s,l){this.a11=e,this.a21=t,this.a31=r,this.a12=n,this.a22=i,this.a32=o,this.a13=a,this.a23=s,this.a33=l}static quadrilateralToQuadrilateral(e,t,r,n,i,o,a,s,l,c,u,d,h,p,f,g){const m=he.quadrilateralToSquare(e,t,r,n,i,o,a,s);return he.squareToQuadrilateral(l,c,u,d,h,p,f,g).times(m)}transformPoints(e){const t=e.length,r=this.a11,n=this.a12,i=this.a13,o=this.a21,a=this.a22,s=this.a23,l=this.a31,c=this.a32,u=this.a33;for(let d=0;d<t;d+=2){const t=e[d],h=e[d+1],p=i*t+s*h+u;e[d]=(r*t+o*h+l)/p,e[d+1]=(n*t+a*h+c)/p}}transformPointsWithValues(e,t){const r=this.a11,n=this.a12,i=this.a13,o=this.a21,a=this.a22,s=this.a23,l=this.a31,c=this.a32,u=this.a33,d=e.length;for(let h=0;h<d;h++){const d=e[h],p=t[h],f=i*d+s*p+u;e[h]=(r*d+o*p+l)/f,t[h]=(n*d+a*p+c)/f}}static squareToQuadrilateral(e,t,r,n,i,o,a,s){const l=e-r+i-a,c=t-n+o-s;if(0===l&&0===c)return new he(r-e,i-r,e,n-t,o-n,t,0,0,1);{const u=r-i,d=a-i,h=n-o,p=s-o,f=u*p-d*h,g=(l*p-d*c)/f,m=(u*c-l*h)/f;return new he(r-e+g*r,a-e+m*a,e,n-t+g*n,s-t+m*s,t,g,m,1)}}static quadrilateralToSquare(e,t,r,n,i,o,a,s){return he.squareToQuadrilateral(e,t,r,n,i,o,a,s).buildAdjoint()}buildAdjoint(){return new he(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new he(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class pe extends ue{sampleGrid(e,t,r,n,i,o,a,s,l,c,u,d,h,p,f,g,m,w,b){const v=he.quadrilateralToQuadrilateral(n,i,o,a,s,l,c,u,d,h,p,f,g,m,w,b);return this.sampleGridWithTransform(e,t,r,v)}sampleGridWithTransform(e,t,r,n){if(t<=0||r<=0)throw new I;const i=new k(t,r),o=new Float32Array(2*t);for(let s=0;s<r;s++){const t=o.length,r=s+.5;for(let e=0;e<t;e+=2)o[e]=e/2+.5,o[e+1]=r;n.transformPoints(o),ue.checkAndNudgePoints(e,o);try{for(let r=0;r<t;r+=2)e.get(Math.floor(o[r]),Math.floor(o[r+1]))&&i.set(r/2,s)}catch(a){throw new I}}return i}}class fe{static setGridSampler(e){fe.gridSampler=e}static getInstance(){return fe.gridSampler}}fe.gridSampler=new pe;class ge{constructor(e,t){this.x=e,this.y=t}toResultPoint(){return new ae(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class me{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let t=this.getMatrixCenter(),r=this.getBullsEyeCorners(t);if(e){let e=r[0];r[0]=r[2],r[2]=e}this.extractParameters(r);let n=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),i=this.getMatrixCornerPoints(r);return new le(n,i,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!(this.isValidPoint(e[0])&&this.isValidPoint(e[1])&&this.isValidPoint(e[2])&&this.isValidPoint(e[3])))throw new I;let t=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(r,t);let n=0;for(let o=0;o<4;o++){let e=r[(this.shift+o)%4];this.compact?(n<<=7,n+=e>>1&127):(n<<=10,n+=(e>>2&992)+(e>>1&31))}let i=this.getCorrectedParameterData(n,this.compact);this.compact?(this.nbLayers=1+(i>>6),this.nbDataBlocks=1+(63&i)):(this.nbLayers=1+(i>>11),this.nbDataBlocks=1+(2047&i))}getRotation(e,t){let r=0;e.forEach((e,n,i)=>{r=(e>>t-2<<1)+(1&e)+(r<<3)}),r=((1&r)<<11)+(r>>1);for(let n=0;n<4;n++)if(b.bitCount(r^this.EXPECTED_CORNER_BITS[n])<=2)return n;throw new I}getCorrectedParameterData(e,t){let r,n;t?(r=7,n=2):(r=10,n=4);let i=r-n,o=new Int32Array(r);for(let l=r-1;l>=0;--l)o[l]=15&e,e>>=4;try{new re(J.AZTEC_PARAM).decode(o,i)}catch(s){throw new I}let a=0;for(let l=0;l<n;l++)a=(a<<4)+o[l];return a}getBullsEyeCorners(e){let t=e,r=e,n=e,i=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let e=this.getFirstDifferent(t,o,1,-1),a=this.getFirstDifferent(r,o,1,1),s=this.getFirstDifferent(n,o,-1,1),l=this.getFirstDifferent(i,o,-1,-1);if(this.nbCenterLayers>2){let r=this.distancePoint(l,e)*this.nbCenterLayers/(this.distancePoint(i,t)*(this.nbCenterLayers+2));if(r<.75||r>1.25||!this.isWhiteOrBlackRectangle(e,a,s,l))break}t=e,r=a,n=s,i=l,o=!o}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new I;this.compact=5===this.nbCenterLayers;let a=new ae(t.getX()+.5,t.getY()-.5),s=new ae(r.getX()+.5,r.getY()+.5),l=new ae(n.getX()-.5,n.getY()+.5),c=new ae(i.getX()-.5,i.getY()-.5);return this.expandSquare([a,s,l,c],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,t,r,n;try{let i=new ce(this.image).detect();e=i[0],t=i[1],r=i[2],n=i[3]}catch(jx){let o=this.image.getWidth()/2,a=this.image.getHeight()/2;e=this.getFirstDifferent(new ge(o+7,a-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new ge(o+7,a+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new ge(o-7,a+7),!1,-1,1).toResultPoint(),n=this.getFirstDifferent(new ge(o-7,a-7),!1,-1,-1).toResultPoint()}let i=ie.round((e.getX()+n.getX()+t.getX()+r.getX())/4),o=ie.round((e.getY()+n.getY()+t.getY()+r.getY())/4);try{let a=new ce(this.image,15,i,o).detect();e=a[0],t=a[1],r=a[2],n=a[3]}catch(jx){e=this.getFirstDifferent(new ge(i+7,o-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new ge(i+7,o+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new ge(i-7,o+7),!1,-1,1).toResultPoint(),n=this.getFirstDifferent(new ge(i-7,o-7),!1,-1,-1).toResultPoint()}return i=ie.round((e.getX()+n.getX()+t.getX()+r.getX())/4),o=ie.round((e.getY()+n.getY()+t.getY()+r.getY())/4),new ge(i,o)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,t,r,n,i){let o=fe.getInstance(),a=this.getDimension(),s=a/2-this.nbCenterLayers,l=a/2+this.nbCenterLayers;return o.sampleGrid(e,a,a,s,s,l,s,l,l,s,l,t.getX(),t.getY(),r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY())}sampleLine(e,t,r){let n=0,i=this.distanceResultPoint(e,t),o=i/r,a=e.getX(),s=e.getY(),l=o*(t.getX()-e.getX())/i,c=o*(t.getY()-e.getY())/i;for(let u=0;u<r;u++)this.image.get(ie.round(a+u*l),ie.round(s+u*c))&&(n|=1<<r-u-1);return n}isWhiteOrBlackRectangle(e,t,r,n){let i=3;e=new ge(e.getX()-i,e.getY()+i),t=new ge(t.getX()-i,t.getY()-i),r=new ge(r.getX()+i,r.getY()-i),n=new ge(n.getX()+i,n.getY()+i);let o=this.getColor(n,e);if(0===o)return!1;let a=this.getColor(e,t);return a===o&&(a=this.getColor(t,r),a===o&&(a=this.getColor(r,n),a===o))}getColor(e,t){let r=this.distancePoint(e,t),n=(t.getX()-e.getX())/r,i=(t.getY()-e.getY())/r,o=0,a=e.getX(),s=e.getY(),l=this.image.get(e.getX(),e.getY()),c=Math.ceil(r);for(let d=0;d<c;d++)a+=n,s+=i,this.image.get(ie.round(a),ie.round(s))!==l&&o++;let u=o/r;return u>.1&&u<.9?0:u<=.1===l?1:-1}getFirstDifferent(e,t,r,n){let i=e.getX()+r,o=e.getY()+n;for(;this.isValid(i,o)&&this.image.get(i,o)===t;)i+=r,o+=n;for(i-=r,o-=n;this.isValid(i,o)&&this.image.get(i,o)===t;)i+=r;for(i-=r;this.isValid(i,o)&&this.image.get(i,o)===t;)o+=n;return o-=n,new ge(i,o)}expandSquare(e,t,r){let n=r/(2*t),i=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),a=(e[0].getX()+e[2].getX())/2,s=(e[0].getY()+e[2].getY())/2,l=new ae(a+n*i,s+n*o),c=new ae(a-n*i,s-n*o);return i=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),a=(e[1].getX()+e[3].getX())/2,s=(e[1].getY()+e[3].getY())/2,[l,new ae(a+n*i,s+n*o),c,new ae(a-n*i,s-n*o)]}isValid(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()}isValidPoint(e){let t=ie.round(e.getX()),r=ie.round(e.getY());return this.isValid(t,r)}distancePoint(e,t){return ie.distance(e.getX(),e.getY(),t.getX(),t.getY())}distanceResultPoint(e,t){return ie.distance(e.getX(),e.getY(),t.getX(),t.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(b.truncDivision(this.nbLayers-4,8)+1)+15}}class we{decode(e,t=null){let r=null,n=new me(e.getBlackMatrix()),i=null,o=null;try{let e=n.detectMirror(!1);i=e.getPoints(),this.reportFoundResultPoints(t,i),o=(new ne).decode(e)}catch(jx){r=jx}if(null==o)try{let e=n.detectMirror(!0);i=e.getPoints(),this.reportFoundResultPoints(t,i),o=(new ne).decode(e)}catch(jx){if(null!=r)throw r;throw jx}let a=new z(o.getText(),o.getRawBytes(),o.getNumBits(),i,U.AZTEC,f.currentTimeMillis()),s=o.getByteSegments();null!=s&&a.putMetadata(X.BYTE_SEGMENTS,s);let l=o.getECLevel();return null!=l&&a.putMetadata(X.ERROR_CORRECTION_LEVEL,l),a}reportFoundResultPoints(e,t){if(null!=e){let r=e.get(x.NEED_RESULT_POINT_CALLBACK);null!=r&&t.forEach((e,t,n)=>{r.foundPossibleResultPoint(e)})}}reset(){}}class be extends B{constructor(e=500){super(new we,e)}}class ve{decode(e,t){try{return this.doDecode(e,t)}catch(r){if(t&&!0===t.get(x.TRY_HARDER)&&e.isRotateSupported()){const r=e.rotateCounterClockwise(),n=this.doDecode(r,t),i=n.getResultMetadata();let o=270;null!==i&&!0===i.get(X.ORIENTATION)&&(o+=i.get(X.ORIENTATION)%360),n.putMetadata(X.ORIENTATION,o);const a=n.getResultPoints();if(null!==a){const e=r.getHeight();for(let t=0;t<a.length;t++)a[t]=new ae(e-a[t].getY()-1,a[t].getX())}return n}throw new I}}reset(){}doDecode(e,t){const r=e.getWidth(),n=e.getHeight();let i=new v(r);const o=t&&!0===t.get(x.TRY_HARDER),a=Math.max(1,n>>(o?8:5));let s;s=o?n:15;const l=Math.trunc(n/2);for(let d=0;d<s;d++){const o=Math.trunc((d+1)/2),s=l+a*(1&d?-o:o);if(s<0||s>=n)break;try{i=e.getBlackRow(s,i)}catch(c){continue}for(let e=0;e<2;e++){if(1===e&&(i.reverse(),t&&!0===t.get(x.NEED_RESULT_POINT_CALLBACK))){const e=new Map;t.forEach((t,r)=>e.set(r,t)),e.delete(x.NEED_RESULT_POINT_CALLBACK),t=e}try{const n=this.decodeRow(s,i,t);if(1===e){n.putMetadata(X.ORIENTATION,180);const e=n.getResultPoints();null!==e&&(e[0]=new ae(r-e[0].getX()-1,e[0].getY()),e[1]=new ae(r-e[1].getX()-1,e[1].getY()))}return n}catch(u){}}}throw new I}static recordPattern(e,t,r){const n=r.length;for(let l=0;l<n;l++)r[l]=0;const i=e.getSize();if(t>=i)throw new I;let o=!e.get(t),a=0,s=t;for(;s<i;){if(e.get(s)!==o)r[a]++;else{if(++a===n)break;r[a]=1,o=!o}s++}if(a!==n&&(a!==n-1||s!==i))throw new I}static recordPatternInReverse(e,t,r){let n=r.length,i=e.get(t);for(;t>0&&n>=0;)e.get(--t)!==i&&(n--,i=!i);if(n>=0)throw new I;ve.recordPattern(e,t+1,r)}static patternMatchVariance(e,t,r){const n=e.length;let i=0,o=0;for(let l=0;l<n;l++)i+=e[l],o+=t[l];if(i<o)return Number.POSITIVE_INFINITY;const a=i/o;r*=a;let s=0;for(let l=0;l<n;l++){const n=e[l],i=t[l]*a,o=n>i?n-i:i-n;if(o>r)return Number.POSITIVE_INFINITY;s+=o}return s/i}}class ye extends ve{static findStartPattern(e){const t=e.getSize(),r=e.getNextSet(0);let n=0,i=Int32Array.from([0,0,0,0,0,0]),o=r,a=!1;const s=6;for(let l=r;l<t;l++)if(e.get(l)!==a)i[n]++;else{if(n===s-1){let t=ye.MAX_AVG_VARIANCE,r=-1;for(let e=ye.CODE_START_A;e<=ye.CODE_START_C;e++){const n=ve.patternMatchVariance(i,ye.CODE_PATTERNS[e],ye.MAX_INDIVIDUAL_VARIANCE);n<t&&(t=n,r=e)}if(r>=0&&e.isRange(Math.max(0,o-(l-o)/2),o,!1))return Int32Array.from([o,l,r]);o+=i[0]+i[1],i=i.slice(2,i.length-1),i[n-1]=0,i[n]=0,n--}else n++;i[n]=1,a=!a}throw new I}static decodeCode(e,t,r){ve.recordPattern(e,r,t);let n=ye.MAX_AVG_VARIANCE,i=-1;for(let o=0;o<ye.CODE_PATTERNS.length;o++){const e=ye.CODE_PATTERNS[o],r=this.patternMatchVariance(t,e,ye.MAX_INDIVIDUAL_VARIANCE);r<n&&(n=r,i=o)}if(i>=0)return i;throw new I}decodeRow(e,t,r){const n=r&&!0===r.get(x.ASSUME_GS1),i=ye.findStartPattern(t),o=i[2];let a=0;const s=new Uint8Array(20);let l;switch(s[a++]=o,o){case ye.CODE_START_A:l=ye.CODE_CODE_A;break;case ye.CODE_START_B:l=ye.CODE_CODE_B;break;case ye.CODE_START_C:l=ye.CODE_CODE_C;break;default:throw new S}let c=!1,u=!1,d="",p=i[0],f=i[1];const g=Int32Array.from([0,0,0,0,0,0]);let m=0,w=0,b=o,v=0,y=!0,E=!1,_=!1;for(;!c;){const e=u;switch(u=!1,m=w,w=ye.decodeCode(t,g,f),s[a++]=w,w!==ye.CODE_STOP&&(y=!0),w!==ye.CODE_STOP&&(v++,b+=v*w),p=f,f+=g.reduce((e,t)=>e+t,0),w){case ye.CODE_START_A:case ye.CODE_START_B:case ye.CODE_START_C:throw new S}switch(l){case ye.CODE_CODE_A:if(w<64)d+=_===E?String.fromCharCode(" ".charCodeAt(0)+w):String.fromCharCode(" ".charCodeAt(0)+w+128),_=!1;else if(w<96)d+=_===E?String.fromCharCode(w-64):String.fromCharCode(w+64),_=!1;else switch(w!==ye.CODE_STOP&&(y=!1),w){case ye.CODE_FNC_1:n&&(0===d.length?d+="]C1":d+=String.fromCharCode(29));break;case ye.CODE_FNC_2:case ye.CODE_FNC_3:break;case ye.CODE_FNC_4_A:!E&&_?(E=!0,_=!1):E&&_?(E=!1,_=!1):_=!0;break;case ye.CODE_SHIFT:u=!0,l=ye.CODE_CODE_B;break;case ye.CODE_CODE_B:l=ye.CODE_CODE_B;break;case ye.CODE_CODE_C:l=ye.CODE_CODE_C;break;case ye.CODE_STOP:c=!0}break;case ye.CODE_CODE_B:if(w<96)d+=_===E?String.fromCharCode(" ".charCodeAt(0)+w):String.fromCharCode(" ".charCodeAt(0)+w+128),_=!1;else switch(w!==ye.CODE_STOP&&(y=!1),w){case ye.CODE_FNC_1:n&&(0===d.length?d+="]C1":d+=String.fromCharCode(29));break;case ye.CODE_FNC_2:case ye.CODE_FNC_3:break;case ye.CODE_FNC_4_B:!E&&_?(E=!0,_=!1):E&&_?(E=!1,_=!1):_=!0;break;case ye.CODE_SHIFT:u=!0,l=ye.CODE_CODE_A;break;case ye.CODE_CODE_A:l=ye.CODE_CODE_A;break;case ye.CODE_CODE_C:l=ye.CODE_CODE_C;break;case ye.CODE_STOP:c=!0}break;case ye.CODE_CODE_C:if(w<100)w<10&&(d+="0"),d+=w;else switch(w!==ye.CODE_STOP&&(y=!1),w){case ye.CODE_FNC_1:n&&(0===d.length?d+="]C1":d+=String.fromCharCode(29));break;case ye.CODE_CODE_A:l=ye.CODE_CODE_A;break;case ye.CODE_CODE_B:l=ye.CODE_CODE_B;break;case ye.CODE_STOP:c=!0}}e&&(l=l===ye.CODE_CODE_A?ye.CODE_CODE_B:ye.CODE_CODE_A)}const C=f-p;if(f=t.getNextUnset(f),!t.isRange(f,Math.min(t.getSize(),f+(f-p)/2),!1))throw new I;if(b-=v*m,b%103!==m)throw new h;const A=d.length;if(0===A)throw new I;A>0&&y&&(d=l===ye.CODE_CODE_C?d.substring(0,A-2):d.substring(0,A-1));const T=(i[1]+i[0])/2,k=p+C/2,R=s.length,O=new Uint8Array(R);for(let h=0;h<R;h++)O[h]=s[h];const N=[new ae(T,e),new ae(k,e)];return new z(d,O,0,N,U.CODE_128,(new Date).getTime())}}ye.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ye.MAX_AVG_VARIANCE=.25,ye.MAX_INDIVIDUAL_VARIANCE=.7,ye.CODE_SHIFT=98,ye.CODE_CODE_C=99,ye.CODE_CODE_B=100,ye.CODE_CODE_A=101,ye.CODE_FNC_1=102,ye.CODE_FNC_2=97,ye.CODE_FNC_3=96,ye.CODE_FNC_4_A=101,ye.CODE_FNC_4_B=100,ye.CODE_START_A=103,ye.CODE_START_B=104,ye.CODE_START_C=105,ye.CODE_STOP=106;class xe extends ve{constructor(e=!1,t=!1){super(),this.usingCheckDigit=e,this.extendedMode=t,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,t,r){let n=this.counters;n.fill(0),this.decodeRowResult="";let i,o,a=xe.findAsteriskPattern(t,n),s=t.getNextSet(a[1]),l=t.getSize();do{xe.recordPattern(t,s,n);let e=xe.toNarrowWidePattern(n);if(e<0)throw new I;i=xe.patternToChar(e),this.decodeRowResult+=i,o=s;for(let t of n)s+=t;s=t.getNextSet(s)}while("*"!==i);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let c,u=0;for(let h of n)u+=h;if(s!==l&&2*(s-o-u)<u)throw new I;if(this.usingCheckDigit){let e=this.decodeRowResult.length-1,t=0;for(let r=0;r<e;r++)t+=xe.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(r));if(this.decodeRowResult.charAt(e)!==xe.ALPHABET_STRING.charAt(t%43))throw new h;this.decodeRowResult=this.decodeRowResult.substring(0,e)}if(0===this.decodeRowResult.length)throw new I;c=this.extendedMode?xe.decodeExtended(this.decodeRowResult):this.decodeRowResult;let d=(a[1]+a[0])/2,p=o+u/2;return new z(c,null,0,[new ae(d,e),new ae(p,e)],U.CODE_39,(new Date).getTime())}static findAsteriskPattern(e,t){let r=e.getSize(),n=e.getNextSet(0),i=0,o=n,a=!1,s=t.length;for(let l=n;l<r;l++)if(e.get(l)!==a)t[i]++;else{if(i===s-1){if(this.toNarrowWidePattern(t)===xe.ASTERISK_ENCODING&&e.isRange(Math.max(0,o-Math.floor((l-o)/2)),o,!1))return[o,l];o+=t[0]+t[1],t.copyWithin(0,2,2+i-1),t[i-1]=0,t[i]=0,i--}else i++;t[i]=1,a=!a}throw new I}static toNarrowWidePattern(e){let t,r=e.length,n=0;do{let i=2147483647;for(let t of e)t<i&&t>n&&(i=t);n=i,t=0;let o=0,a=0;for(let s=0;s<r;s++){let i=e[s];i>n&&(a|=1<<r-1-s,t++,o+=i)}if(3===t){for(let i=0;i<r&&t>0;i++){let r=e[i];if(r>n&&(t--,2*r>=o))return-1}return a}}while(t>3);return-1}static patternToChar(e){for(let t=0;t<xe.CHARACTER_ENCODINGS.length;t++)if(xe.CHARACTER_ENCODINGS[t]===e)return xe.ALPHABET_STRING.charAt(t);if(e===xe.ASTERISK_ENCODING)return"*";throw new I}static decodeExtended(e){let t=e.length,r="";for(let n=0;n<t;n++){let t=e.charAt(n);if("+"===t||"$"===t||"%"===t||"/"===t){let i=e.charAt(n+1),o="\0";switch(t){case"+":if(!(i>="A"&&i<="Z"))throw new S;o=String.fromCharCode(i.charCodeAt(0)+32);break;case"$":if(!(i>="A"&&i<="Z"))throw new S;o=String.fromCharCode(i.charCodeAt(0)-64);break;case"%":if(i>="A"&&i<="E")o=String.fromCharCode(i.charCodeAt(0)-38);else if(i>="F"&&i<="J")o=String.fromCharCode(i.charCodeAt(0)-11);else if(i>="K"&&i<="O")o=String.fromCharCode(i.charCodeAt(0)+16);else if(i>="P"&&i<="T")o=String.fromCharCode(i.charCodeAt(0)+43);else if("U"===i)o="\0";else if("V"===i)o="@";else if("W"===i)o="`";else{if("X"!==i&&"Y"!==i&&"Z"!==i)throw new S;o=""}break;case"/":if(i>="A"&&i<="O")o=String.fromCharCode(i.charCodeAt(0)-32);else{if("Z"!==i)throw new S;o=":"}}r+=o,n++}else r+=t}return r}}xe.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",xe.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],xe.ASTERISK_ENCODING=148;class Se extends ve{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,t,r){let n=this.decodeStart(t),i=this.decodeEnd(t),o=new T;Se.decodeMiddle(t,n[1],i[0],o);let a=o.toString(),s=null;null!=r&&(s=r.get(x.ALLOWED_LENGTHS)),null==s&&(s=Se.DEFAULT_ALLOWED_LENGTHS);let l=a.length,c=!1,u=0;for(let h of s){if(l===h){c=!0;break}h>u&&(u=h)}if(!c&&l>u&&(c=!0),!c)throw new S;const d=[new ae(n[1],e),new ae(i[0],e)];return new z(a,null,0,d,U.ITF,(new Date).getTime())}static decodeMiddle(e,t,r,n){let i=new Int32Array(10),o=new Int32Array(5),a=new Int32Array(5);for(i.fill(0),o.fill(0),a.fill(0);t<r;){ve.recordPattern(e,t,i);for(let e=0;e<5;e++){let t=2*e;o[e]=i[t],a[e]=i[t+1]}let r=Se.decodeDigit(o);n.append(r.toString()),r=this.decodeDigit(a),n.append(r.toString()),i.forEach(function(e){t+=e})}}decodeStart(e){let t=Se.skipWhiteSpace(e),r=Se.findGuardPattern(e,t,Se.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r}validateQuietZone(e,t){let r=10*this.narrowLineWidth;r=r<t?r:t;for(let n=t-1;r>0&&n>=0&&!e.get(n);n--)r--;if(0!==r)throw new I}static skipWhiteSpace(e){const t=e.getSize(),r=e.getNextSet(0);if(r===t)throw new I;return r}decodeEnd(e){e.reverse();try{let r,n=Se.skipWhiteSpace(e);try{r=Se.findGuardPattern(e,n,Se.END_PATTERN_REVERSED[0])}catch(t){t instanceof I&&(r=Se.findGuardPattern(e,n,Se.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,r[0]);let i=r[0];return r[0]=e.getSize()-r[1],r[1]=e.getSize()-i,r}finally{e.reverse()}}static findGuardPattern(e,t,r){let n=r.length,i=new Int32Array(n),o=e.getSize(),a=!1,s=0,l=t;i.fill(0);for(let c=t;c<o;c++)if(e.get(c)!==a)i[s]++;else{if(s===n-1){if(ve.patternMatchVariance(i,r,Se.MAX_INDIVIDUAL_VARIANCE)<Se.MAX_AVG_VARIANCE)return[l,c];l+=i[0]+i[1],f.arraycopy(i,2,i,0,s-1),i[s-1]=0,i[s]=0,s--}else s++;i[s]=1,a=!a}throw new I}static decodeDigit(e){let t=Se.MAX_AVG_VARIANCE,r=-1,n=Se.PATTERNS.length;for(let i=0;i<n;i++){let n=Se.PATTERNS[i],o=ve.patternMatchVariance(e,n,Se.MAX_INDIVIDUAL_VARIANCE);o<t?(t=o,r=i):o===t&&(r=-1)}if(r>=0)return r%10;throw new I}}Se.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Se.MAX_AVG_VARIANCE=.38,Se.MAX_INDIVIDUAL_VARIANCE=.5,Se.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Se.START_PATTERN=Int32Array.from([1,1,1,1]),Se.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ee extends ve{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let t,r=!1,n=0,i=Int32Array.from([0,0,0]);for(;!r;){i=Int32Array.from([0,0,0]),t=Ee.findGuardPattern(e,n,!1,this.START_END_PATTERN,i);let o=t[0];n=t[1];let a=o-(n-o);a>=0&&(r=e.isRange(a,o,!1))}return t}static checkChecksum(e){return Ee.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(0===t)return!1;let r=parseInt(e.charAt(t-1),10);return Ee.getStandardUPCEANChecksum(e.substring(0,t-1))===r}static getStandardUPCEANChecksum(e){let t=e.length,r=0;for(let n=t-1;n>=0;n-=2){let t=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new S;r+=t}r*=3;for(let n=t-2;n>=0;n-=2){let t=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new S;r+=t}return(1e3-r)%10}static decodeEnd(e,t){return Ee.findGuardPattern(e,t,!1,Ee.START_END_PATTERN,new Int32Array(Ee.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,t,r,n){return this.findGuardPattern(e,t,r,n,new Int32Array(n.length))}static findGuardPattern(e,t,r,n,i){let o=e.getSize(),a=0,s=t=r?e.getNextUnset(t):e.getNextSet(t),l=n.length,c=r;for(let u=t;u<o;u++)if(e.get(u)!==c)i[a]++;else{if(a===l-1){if(ve.patternMatchVariance(i,n,Ee.MAX_INDIVIDUAL_VARIANCE)<Ee.MAX_AVG_VARIANCE)return Int32Array.from([s,u]);s+=i[0]+i[1];let e=i.slice(2,i.length-1);for(let t=0;t<a-1;t++)i[t]=e[t];i[a-1]=0,i[a]=0,a--}else a++;i[a]=1,c=!c}throw new I}static decodeDigit(e,t,r,n){this.recordPattern(e,r,t);let i=this.MAX_AVG_VARIANCE,o=-1,a=n.length;for(let s=0;s<a;s++){let e=n[s],r=ve.patternMatchVariance(t,e,Ee.MAX_INDIVIDUAL_VARIANCE);r<i&&(i=r,o=s)}if(o>=0)return o;throw new I}}Ee.MAX_AVG_VARIANCE=.48,Ee.MAX_INDIVIDUAL_VARIANCE=.7,Ee.START_END_PATTERN=Int32Array.from([1,1,1]),Ee.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ee.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ee.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class _e{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,r){let n=this.decodeRowStringBuffer,i=this.decodeMiddle(t,r,n),o=n.toString(),a=_e.parseExtensionString(o),s=[new ae((r[0]+r[1])/2,e),new ae(i,e)],l=new z(o,null,0,s,U.UPC_EAN_EXTENSION,(new Date).getTime());return null!=a&&l.putAllMetadata(a),l}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),o=t[1],a=0;for(let l=0;l<5&&o<i;l++){let t=Ee.decodeDigit(e,n,o,Ee.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of n)o+=e;t>=10&&(a|=1<<4-l),4!==l&&(o=e.getNextSet(o),o=e.getNextUnset(o))}if(5!==r.length)throw new I;let s=this.determineCheckDigit(a);if(_e.extensionChecksum(r.toString())!==s)throw new I;return o}static extensionChecksum(e){let t=e.length,r=0;for(let n=t-2;n>=0;n-=2)r+=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);r*=3;for(let n=t-1;n>=0;n-=2)r+=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);return r*=3,r%10}determineCheckDigit(e){for(let t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new I}static parseExtensionString(e){if(5!==e.length)return null;let t=_e.parseExtension5String(e);return null==t?null:new Map([[X.SUGGESTED_PRICE,t]])}static parseExtension5String(e){let t;switch(e.charAt(0)){case"0":t="";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t=""}let r=parseInt(e.substring(1)),n=r%100;return t+(r/100).toString()+"."+(n<10?"0"+n:n.toString())}}class Ce{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,r){let n=this.decodeRowStringBuffer,i=this.decodeMiddle(t,r,n),o=n.toString(),a=Ce.parseExtensionString(o),s=[new ae((r[0]+r[1])/2,e),new ae(i,e)],l=new z(o,null,0,s,U.UPC_EAN_EXTENSION,(new Date).getTime());return null!=a&&l.putAllMetadata(a),l}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),o=t[1],a=0;for(let s=0;s<2&&o<i;s++){let t=Ee.decodeDigit(e,n,o,Ee.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of n)o+=e;t>=10&&(a|=1<<1-s),1!==s&&(o=e.getNextSet(o),o=e.getNextUnset(o))}if(2!==r.length)throw new I;if(parseInt(r.toString())%4!==a)throw new I;return o}static parseExtensionString(e){return 2!==e.length?null:new Map([[X.ISSUE_NUMBER,parseInt(e)]])}}class Ae{static decodeRow(e,t,r){let n=Ee.findGuardPattern(t,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new _e).decodeRow(e,t,n)}catch(Lx){return(new Ce).decodeRow(e,t,n)}}}Ae.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Te extends Ee{constructor(){super(),this.decodeRowStringBuffer="",Te.L_AND_G_PATTERNS=Te.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let t=Te.L_PATTERNS[e-10],r=new Int32Array(t.length);for(let e=0;e<t.length;e++)r[e]=t[t.length-e-1];Te.L_AND_G_PATTERNS[e]=r}}decodeRow(e,t,r){let n=Te.findStartGuardPattern(t),i=null==r?null:r.get(x.NEED_RESULT_POINT_CALLBACK);if(null!=i){const t=new ae((n[0]+n[1])/2,e);i.foundPossibleResultPoint(t)}let o=this.decodeMiddle(t,n,this.decodeRowStringBuffer),a=o.rowOffset,s=o.resultString;if(null!=i){const t=new ae(a,e);i.foundPossibleResultPoint(t)}let l=this.decodeEnd(t,a);if(null!=i){const t=new ae((l[0]+l[1])/2,e);i.foundPossibleResultPoint(t)}let c=l[1],u=c+(c-l[0]);if(u>=t.getSize()||!t.isRange(c,u,!1))throw new I;let d=s.toString();if(d.length<8)throw new S;if(!Te.checkChecksum(d))throw new h;let p=(n[1]+n[0])/2,f=(l[1]+l[0])/2,g=this.getBarcodeFormat(),m=[new ae(p,e),new ae(f,e)],w=new z(d,null,0,m,g,(new Date).getTime()),b=0;try{let r=Ae.decodeRow(e,t,l[1]);w.putMetadata(X.UPC_EAN_EXTENSION,r.getText()),w.putAllMetadata(r.getResultMetadata()),w.addResultPoints(r.getResultPoints()),b=r.getText().length}catch(y){}let v=null==r?null:r.get(x.ALLOWED_EAN_EXTENSIONS);if(null!=v){let e=!1;for(let t in v)if(b.toString()===t){e=!0;break}if(!e)throw new I}return w}decodeEnd(e,t){return Te.findGuardPattern(e,t,!1,Te.START_END_PATTERN,new Int32Array(Te.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return Te.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(0===t)return!1;let r=parseInt(e.charAt(t-1),10);return Te.getStandardUPCEANChecksum(e.substring(0,t-1))===r}static getStandardUPCEANChecksum(e){let t=e.length,r=0;for(let n=t-1;n>=0;n-=2){let t=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new S;r+=t}r*=3;for(let n=t-2;n>=0;n-=2){let t=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new S;r+=t}return(1e3-r)%10}}class ke extends Te{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),o=t[1],a=0;for(let s=0;s<6&&o<i;s++){let t=Te.decodeDigit(e,n,o,Te.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of n)o+=e;t>=10&&(a|=1<<5-s)}r=ke.determineFirstDigit(r,a),o=Te.findGuardPattern(e,o,!0,Te.MIDDLE_PATTERN,new Int32Array(Te.MIDDLE_PATTERN.length).fill(0))[1];for(let s=0;s<6&&o<i;s++){let t=Te.decodeDigit(e,n,o,Te.L_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+t);for(let e of n)o+=e}return{rowOffset:o,resultString:r}}getBarcodeFormat(){return U.EAN_13}static determineFirstDigit(e,t){for(let r=0;r<10;r++)if(t===this.FIRST_DIGIT_ENCODINGS[r])return e=String.fromCharCode("0".charCodeAt(0)+r)+e;throw new I}}ke.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ie extends Te{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,r){const n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),o=t[1];for(let a=0;a<4&&o<i;a++){let t=Te.decodeDigit(e,n,o,Te.L_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+t);for(let e of n)o+=e}o=Te.findGuardPattern(e,o,!0,Te.MIDDLE_PATTERN,new Int32Array(Te.MIDDLE_PATTERN.length).fill(0))[1];for(let a=0;a<4&&o<i;a++){let t=Te.decodeDigit(e,n,o,Te.L_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+t);for(let e of n)o+=e}return{rowOffset:o,resultString:r}}getBarcodeFormat(){return U.EAN_8}}class Re extends Te{constructor(){super(...arguments),this.ean13Reader=new ke}getBarcodeFormat(){return U.UPC_A}decode(e,t){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,t,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,t,r))}decodeMiddle(e,t,r){return this.ean13Reader.decodeMiddle(e,t,r)}maybeReturnResult(e){let t=e.getText();if("0"===t.charAt(0)){let r=new z(t.substring(1),null,null,e.getResultPoints(),U.UPC_A);return null!=e.getResultMetadata()&&r.putAllMetadata(e.getResultMetadata()),r}throw new I}reset(){this.ean13Reader.reset()}}class Oe extends Te{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,t,r){const n=this.decodeMiddleCounters.map(e=>e);n[0]=0,n[1]=0,n[2]=0,n[3]=0;const i=e.getSize();let o=t[1],a=0;for(let s=0;s<6&&o<i;s++){const t=Oe.decodeDigit(e,n,o,Oe.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of n)o+=e;t>=10&&(a|=1<<5-s)}return{rowOffset:o,resultString:Oe.determineNumSysAndCheckDigit(r,a)}}decodeEnd(e,t){return Oe.findGuardPatternWithoutCounters(e,t,!0,Oe.MIDDLE_END_PATTERN)}checkChecksum(e){return Te.checkChecksum(Oe.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,t){for(let r=0;r<=1;r++)for(let n=0;n<10;n++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][n])return String.fromCharCode("0".charCodeAt(0)+r)+e+String.fromCharCode("0".charCodeAt(0)+n);throw I.getNotFoundInstance()}getBarcodeFormat(){return U.UPC_E}static convertUPCEtoUPCA(e){const t=e.slice(1,7).split("").map(e=>e.charCodeAt(0)),r=new T;r.append(e.charAt(0));let n=t[5];switch(n){case 0:case 1:case 2:r.appendChars(t,0,2),r.append(n),r.append("0000"),r.appendChars(t,2,3);break;case 3:r.appendChars(t,0,3),r.append("00000"),r.appendChars(t,3,2);break;case 4:r.appendChars(t,0,4),r.append("00000"),r.append(t[4]);break;default:r.appendChars(t,0,5),r.append("0000"),r.append(n)}return e.length>=8&&r.append(e.charAt(7)),r.toString()}}Oe.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Oe.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ne extends ve{constructor(e){super();let r=null==e?null:e.get(x.POSSIBLE_FORMATS),n=[];t(r)?(n.push(new ke),n.push(new Re),n.push(new Ie),n.push(new Oe)):(r.indexOf(U.EAN_13)>-1&&n.push(new ke),r.indexOf(U.UPC_A)>-1&&n.push(new Re),r.indexOf(U.EAN_8)>-1&&n.push(new Ie),r.indexOf(U.UPC_E)>-1&&n.push(new Oe)),this.readers=n}decodeRow(e,t,r){for(let n of this.readers)try{const i=n.decodeRow(e,t,r),o=i.getBarcodeFormat()===U.EAN_13&&"0"===i.getText().charAt(0),a=null==r?null:r.get(x.POSSIBLE_FORMATS),s=null==a||a.includes(U.UPC_A);if(o&&s){const e=i.getRawBytes(),t=new z(i.getText().substring(1),e,e?e.length:null,i.getResultPoints(),U.UPC_A);return t.putAllMetadata(i.getResultMetadata()),t}return i}catch(Lx){}throw new I}reset(){for(let e of this.readers)e.reset()}}class De extends ve{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,t){for(let r=0;r<t.length;r++)if(ve.patternMatchVariance(e,t[r],De.MAX_INDIVIDUAL_VARIANCE)<De.MAX_AVG_VARIANCE)return r;throw new I}static count(e){return ie.sum(new Int32Array(e))}static increment(e,t){let r=0,n=t[0];for(let i=1;i<e.length;i++)t[i]>n&&(n=t[i],r=i);e[r]++}static decrement(e,t){let r=0,n=t[0];for(let i=1;i<e.length;i++)t[i]<n&&(n=t[i],r=i);e[r]--}static isFinderPattern(e){let t=e[0]+e[1],r=t/(t+e[2]+e[3]);if(r>=De.MIN_FINDER_PATTERN_RATIO&&r<=De.MAX_FINDER_PATTERN_RATIO){let t=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER;for(let n of e)n>r&&(r=n),n<t&&(t=n);return r<10*t}return!1}}De.MAX_AVG_VARIANCE=.2,De.MAX_INDIVIDUAL_VARIANCE=.45,De.MIN_FINDER_PATTERN_RATIO=9.5/12,De.MAX_FINDER_PATTERN_RATIO=12.5/14;class Pe{constructor(e,t){this.value=e,this.checksumPortion=t}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof Pe))return!1;const t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Me{constructor(e,t,r,n,i){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new ae(r,i)),this.resultPoints.push(new ae(n,i))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Me))return!1;const t=e;return this.value===t.value}hashCode(){return this.value}}class je{constructor(){}static getRSSvalue(e,t,r){let n=0;for(let s of e)n+=s;let i=0,o=0,a=e.length;for(let s=0;s<a-1;s++){let l;for(l=1,o|=1<<s;l<e[s];l++,o&=~(1<<s)){let e=je.combins(n-l-1,a-s-2);if(r&&0===o&&n-l-(a-s-1)>=a-s-1&&(e-=je.combins(n-l-(a-s),a-s-2)),a-s-1>1){let r=0;for(let e=n-l-(a-s-2);e>t;e--)r+=je.combins(n-l-e-1,a-s-3);e-=r*(a-1-s)}else n-l>t&&e--;i+=e}n-=l}return i}static combins(e,t){let r,n;e-t>t?(n=t,r=e-t):(n=e-t,r=t);let i=1,o=1;for(let a=e;a>r;a--)i*=a,o<=n&&(i/=o,o++);for(;o<=n;)i/=o,o++;return i}}class Le{static buildBitArray(e){let t=2*e.length-1;null==e[e.length-1].getRightChar()&&(t-=1);let r=new v(12*t),n=0,i=e[0].getRightChar().getValue();for(let o=11;o>=0;--o)i&1<<o&&r.set(n),n++;for(let o=1;o<e.length;++o){let t=e[o],i=t.getLeftChar().getValue();for(let e=11;e>=0;--e)i&1<<e&&r.set(n),n++;if(null!=t.getRightChar()){let e=t.getRightChar().getValue();for(let t=11;t>=0;--t)e&1<<t&&r.set(n),n++}}return r}}class Be{constructor(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ze{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Fe extends ze{constructor(e,t){super(e),this.value=t}getValue(){return this.value}isFNC1(){return this.value===Fe.FNC1}}Fe.FNC1="$";class Ue extends ze{constructor(e,t,r){super(e),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=t}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Ve extends ze{constructor(e,t,r){if(super(e),t<0||t>10||r<0||r>10)throw new S;this.firstDigit=t,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return 10*this.firstDigit+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Ve.FNC1}isSecondDigitFNC1(){return this.secondDigit===Ve.FNC1}isAnyFNC1(){return this.firstDigit===Ve.FNC1||this.secondDigit===Ve.FNC1}}Ve.FNC1=10;class He{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new I;let t=e.substring(0,2);for(let i of He.TWO_DIGIT_DATA_LENGTH)if(i[0]===t)return i[1]===He.VARIABLE_LENGTH?He.processVariableAI(2,i[2],e):He.processFixedAI(2,i[1],e);if(e.length<3)throw new I;let r=e.substring(0,3);for(let i of He.THREE_DIGIT_DATA_LENGTH)if(i[0]===r)return i[1]===He.VARIABLE_LENGTH?He.processVariableAI(3,i[2],e):He.processFixedAI(3,i[1],e);for(let i of He.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(i[0]===r)return i[1]===He.VARIABLE_LENGTH?He.processVariableAI(4,i[2],e):He.processFixedAI(4,i[1],e);if(e.length<4)throw new I;let n=e.substring(0,4);for(let i of He.FOUR_DIGIT_DATA_LENGTH)if(i[0]===n)return i[1]===He.VARIABLE_LENGTH?He.processVariableAI(4,i[2],e):He.processFixedAI(4,i[1],e);throw new I}static processFixedAI(e,t,r){if(r.length<e)throw new I;let n=r.substring(0,e);if(r.length<e+t)throw new I;let i=r.substring(e,e+t),o=r.substring(e+t),a="("+n+")"+i,s=He.parseFieldsInGeneralPurpose(o);return null==s?a:a+s}static processVariableAI(e,t,r){let n,i=r.substring(0,e);n=r.length<e+t?r.length:e+t;let o=r.substring(e,n),a=r.substring(n),s="("+i+")"+o,l=He.parseFieldsInGeneralPurpose(a);return null==l?s:s+l}}He.VARIABLE_LENGTH=[],He.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",He.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",He.VARIABLE_LENGTH,20],["22",He.VARIABLE_LENGTH,29],["30",He.VARIABLE_LENGTH,8],["37",He.VARIABLE_LENGTH,8],["90",He.VARIABLE_LENGTH,30],["91",He.VARIABLE_LENGTH,30],["92",He.VARIABLE_LENGTH,30],["93",He.VARIABLE_LENGTH,30],["94",He.VARIABLE_LENGTH,30],["95",He.VARIABLE_LENGTH,30],["96",He.VARIABLE_LENGTH,30],["97",He.VARIABLE_LENGTH,3],["98",He.VARIABLE_LENGTH,30],["99",He.VARIABLE_LENGTH,30]],He.THREE_DIGIT_DATA_LENGTH=[["240",He.VARIABLE_LENGTH,30],["241",He.VARIABLE_LENGTH,30],["242",He.VARIABLE_LENGTH,6],["250",He.VARIABLE_LENGTH,30],["251",He.VARIABLE_LENGTH,30],["253",He.VARIABLE_LENGTH,17],["254",He.VARIABLE_LENGTH,20],["400",He.VARIABLE_LENGTH,30],["401",He.VARIABLE_LENGTH,30],["402",17],["403",He.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",He.VARIABLE_LENGTH,20],["421",He.VARIABLE_LENGTH,15],["422",3],["423",He.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],He.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",He.VARIABLE_LENGTH,15],["391",He.VARIABLE_LENGTH,18],["392",He.VARIABLE_LENGTH,15],["393",He.VARIABLE_LENGTH,18],["703",He.VARIABLE_LENGTH,30]],He.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",He.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",He.VARIABLE_LENGTH,20],["8003",He.VARIABLE_LENGTH,30],["8004",He.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",He.VARIABLE_LENGTH,30],["8008",He.VARIABLE_LENGTH,12],["8018",18],["8020",He.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",He.VARIABLE_LENGTH,70],["8200",He.VARIABLE_LENGTH,70]];class Ge{constructor(e){this.buffer=new T,this.information=e}decodeAllCodes(e,t){let r=t,n=null;for(;;){let t=this.decodeGeneralPurposeField(r,n),i=He.parseFieldsInGeneralPurpose(t.getNewString());if(null!=i&&e.append(i),n=t.isRemaining()?""+t.getRemainingValue():null,r===t.getNewPosition())break;r=t.getNewPosition()}return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let t=this.extractNumericValueFromBitArray(e,4);return new Ve(this.information.getSize(),0===t?Ve.FNC1:t-1,Ve.FNC1)}let t=this.extractNumericValueFromBitArray(e,7);return new Ve(e+7,(t-8)/11,(t-8)%11)}extractNumericValueFromBitArray(e,t){return Ge.extractNumericValueFromBitArray(this.information,e,t)}static extractNumericValueFromBitArray(e,t,r){let n=0;for(let i=0;i<r;++i)e.get(t+i)&&(n|=1<<r-i-1);return n}decodeGeneralPurposeField(e,t){this.buffer.setLengthToZero(),null!=t&&this.buffer.append(t),this.current.setPosition(e);let r=this.parseBlocks();return null!=r&&r.isRemaining()?new Ue(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new Ue(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,t;do{let r=this.current.getPosition();if(this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished()),r===this.current.getPosition()&&!e)break}while(!e);return t.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let t;return t=e.isSecondDigitFNC1()?new Ue(this.current.getPosition(),this.buffer.toString()):new Ue(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Be(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let e=new Ue(this.current.getPosition(),this.buffer.toString());return new Be(!0,e)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Be(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let e=new Ue(this.current.getPosition(),this.buffer.toString());return new Be(!0,e)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Be(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let e=new Ue(this.current.getPosition(),this.buffer.toString());return new Be(!0,e)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Be(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,8);return n>=232&&n<253}decodeIsoIec646(e){let t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new Fe(e+5,Fe.FNC1);if(t>=5&&t<15)return new Fe(e+5,"0"+(t-5));let r,n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Fe(e+7,""+(n+1));if(n>=90&&n<116)return new Fe(e+7,""+(n+7));switch(this.extractNumericValueFromBitArray(e,8)){case 232:r="!";break;case 233:r='"';break;case 234:r="%";break;case 235:r="&";break;case 236:r="'";break;case 237:r="(";break;case 238:r=")";break;case 239:r="*";break;case 240:r="+";break;case 241:r=",";break;case 242:r="-";break;case 243:r=".";break;case 244:r="/";break;case 245:r=":";break;case 246:r=";";break;case 247:r="<";break;case 248:r="=";break;case 249:r=">";break;case 250:r="?";break;case 251:r="_";break;case 252:r=" ";break;default:throw new S}return new Fe(e+8,r)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63}decodeAlphanumeric(e){let t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new Fe(e+5,Fe.FNC1);if(t>=5&&t<15)return new Fe(e+5,"0"+(t-5));let r,n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Fe(e+6,""+(n+33));switch(n){case 58:r="*";break;case 59:r=",";break;case 60:r="-";break;case 61:r=".";break;case 62:r="/";break;default:throw new te("Decoding invalid alphanumeric value: "+n)}return new Fe(e+6,r)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<5&&t+e<this.information.getSize();++t)if(2===t){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0}}class qe{constructor(e){this.information=e,this.generalDecoder=new Ge(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class We extends qe{constructor(e){super(e)}encodeCompressedGtin(e,t){e.append("(01)");let r=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,t,r)}encodeCompressedGtinWithoutAI(e,t,r){for(let n=0;n<4;++n){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(t+10*n,10);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r)}We.appendCheckDigit(e,r)}static appendCheckDigit(e,t){let r=0;for(let n=0;n<13;n++){let i=e.charAt(n+t).charCodeAt(0)-"0".charCodeAt(0);r+=1&n?i:3*i}r=10-r%10,10===r&&(r=0),e.append(r)}}We.GTIN_SIZE=40;class $e extends We{constructor(e){super(e)}parseInformation(){let e=new T;e.append("(01)");let t=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray($e.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,$e.HEADER_SIZE+4,t),this.getGeneralDecoder().decodeAllCodes(e,$e.HEADER_SIZE+44)}}$e.HEADER_SIZE=4;class Xe extends qe{constructor(e){super(e)}parseInformation(){let e=new T;return this.getGeneralDecoder().decodeAllCodes(e,Xe.HEADER_SIZE)}}Xe.HEADER_SIZE=5;class Ye extends We{constructor(e){super(e)}encodeCompressedWeight(e,t,r){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(t,r);this.addWeightCode(e,n);let i=this.checkWeight(n),o=1e5;for(let a=0;a<5;++a)i/o===0&&e.append("0"),o/=10;e.append(i)}}class Ke extends Ye{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=Ke.HEADER_SIZE+Ye.GTIN_SIZE+Ke.WEIGHT_SIZE)throw new I;let e=new T;return this.encodeCompressedGtin(e,Ke.HEADER_SIZE),this.encodeCompressedWeight(e,Ke.HEADER_SIZE+Ye.GTIN_SIZE,Ke.WEIGHT_SIZE),e.toString()}}Ke.HEADER_SIZE=5,Ke.WEIGHT_SIZE=15;class Qe extends Ke{constructor(e){super(e)}addWeightCode(e,t){e.append("(3103)")}checkWeight(e){return e}}class Ze extends Ke{constructor(e){super(e)}addWeightCode(e,t){t<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Je extends We{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Je.HEADER_SIZE+We.GTIN_SIZE)throw new I;let e=new T;this.encodeCompressedGtin(e,Je.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(Je.HEADER_SIZE+We.GTIN_SIZE,Je.LAST_DIGIT_SIZE);e.append("(392"),e.append(t),e.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(Je.HEADER_SIZE+We.GTIN_SIZE+Je.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()}}Je.HEADER_SIZE=8,Je.LAST_DIGIT_SIZE=2;class et extends We{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<et.HEADER_SIZE+We.GTIN_SIZE)throw new I;let e=new T;this.encodeCompressedGtin(e,et.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(et.HEADER_SIZE+We.GTIN_SIZE,et.LAST_DIGIT_SIZE);e.append("(393"),e.append(t),e.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(et.HEADER_SIZE+We.GTIN_SIZE+et.LAST_DIGIT_SIZE,et.FIRST_THREE_DIGITS_SIZE);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r);let n=this.getGeneralDecoder().decodeGeneralPurposeField(et.HEADER_SIZE+We.GTIN_SIZE+et.LAST_DIGIT_SIZE+et.FIRST_THREE_DIGITS_SIZE,null);return e.append(n.getNewString()),e.toString()}}et.HEADER_SIZE=8,et.LAST_DIGIT_SIZE=2,et.FIRST_THREE_DIGITS_SIZE=10;class tt extends Ye{constructor(e,t,r){super(e),this.dateCode=r,this.firstAIdigits=t}parseInformation(){if(this.getInformation().getSize()!=tt.HEADER_SIZE+tt.GTIN_SIZE+tt.WEIGHT_SIZE+tt.DATE_SIZE)throw new I;let e=new T;return this.encodeCompressedGtin(e,tt.HEADER_SIZE),this.encodeCompressedWeight(e,tt.HEADER_SIZE+tt.GTIN_SIZE,tt.WEIGHT_SIZE),this.encodeCompressedDate(e,tt.HEADER_SIZE+tt.GTIN_SIZE+tt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,t){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(t,tt.DATE_SIZE);if(38400==r)return;e.append("("),e.append(this.dateCode),e.append(")");let n=r%32;r/=32;let i=r%12+1;r/=12;let o=r;o/10==0&&e.append("0"),e.append(o),i/10==0&&e.append("0"),e.append(i),n/10==0&&e.append("0"),e.append(n)}addWeightCode(e,t){e.append("("),e.append(this.firstAIdigits),e.append(t/1e5),e.append(")")}checkWeight(e){return e%1e5}}function rt(e){try{if(e.get(1))return new $e(e);if(!e.get(2))return new Xe(e);switch(Ge.extractNumericValueFromBitArray(e,1,4)){case 4:return new Qe(e);case 5:return new Ze(e)}switch(Ge.extractNumericValueFromBitArray(e,1,5)){case 12:return new Je(e);case 13:return new et(e)}switch(Ge.extractNumericValueFromBitArray(e,1,7)){case 56:return new tt(e,"310","11");case 57:return new tt(e,"320","11");case 58:return new tt(e,"310","13");case 59:return new tt(e,"320","13");case 60:return new tt(e,"310","15");case 61:return new tt(e,"320","15");case 62:return new tt(e,"310","17");case 63:return new tt(e,"320","17")}}catch(jx){throw console.log(jx),new te("unknown decoder: "+e)}}tt.HEADER_SIZE=8,tt.WEIGHT_SIZE=20,tt.DATE_SIZE=16;class nt{constructor(e,t,r,n){this.leftchar=e,this.rightchar=t,this.finderpattern=r,this.maybeLast=n}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return null==this.rightchar}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"}static equals(e,t){return e instanceof nt&&nt.equalsOrNull(e.leftchar,t.leftchar)&&nt.equalsOrNull(e.rightchar,t.rightchar)&&nt.equalsOrNull(e.finderpattern,t.finderpattern)}static equalsOrNull(e,t){return null===e?null===t:nt.equals(e,t)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class it{constructor(e,t,r){this.pairs=e,this.rowNumber=t,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,t){return e instanceof it&&this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed}checkEqualitity(e,t){if(!e||!t)return;let r;return e.forEach((e,n)=>{t.forEach(t=>{e.getLeftChar().getValue()===t.getLeftChar().getValue()&&e.getRightChar().getValue()===t.getRightChar().getValue()&&e.getFinderPatter().getValue()===t.getFinderPatter().getValue()&&(r=!0)})}),r}}class ot extends De{constructor(e){super(...arguments),this.pairs=new Array(ot.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=!0===e}decodeRow(e,t,r){this.pairs.length=0,this.startFromEven=!1;try{return ot.constructResult(this.decodeRow2pairs(e,t))}catch(jx){this.verbose&&console.log(jx)}return this.pairs.length=0,this.startFromEven=!0,ot.constructResult(this.decodeRow2pairs(e,t))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,t){let r,n=!1;for(;!n;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(i){if(i instanceof I){if(!this.pairs.length)throw new I;n=!0}}if(this.checkChecksum())return this.pairs;if(r=!!this.rows.length,this.storeRow(e,!1),r){let e=this.checkRowsBoolean(!1);if(null!=e)return e;if(e=this.checkRowsBoolean(!0),null!=e)return e}throw new I}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let t=null;try{t=this.checkRows(new Array,0)}catch(jx){this.verbose&&console.log(jx)}return e&&(this.rows=this.rows.reverse()),t}checkRows(e,t){for(let r=t;r<this.rows.length;r++){let t=this.rows[r];this.pairs.length=0;for(let r of e)this.pairs.push(r.getPairs());if(this.pairs.push(t.getPairs()),!ot.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let n=new Array(e);n.push(t);try{return this.checkRows(n,r+1)}catch(jx){this.verbose&&console.log(jx)}}throw new I}static isValidSequence(e){for(let t of ot.FINDER_PATTERN_SEQUENCES){if(e.length>t.length)continue;let r=!0;for(let n=0;n<e.length;n++)if(e[n].getFinderPattern().getValue()!=t[n]){r=!1;break}if(r)return!0}return!1}storeRow(e,t){let r=0,n=!1,i=!1;for(;r<this.rows.length;){let t=this.rows[r];if(t.getRowNumber()>e){i=t.isEquivalent(this.pairs);break}n=t.isEquivalent(this.pairs),r++}i||n||ot.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new it(this.pairs,e,t)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,t){for(let r of t)if(r.getPairs().length!==e.length)for(let t of r.getPairs())for(let r of e)if(nt.equals(t,r))break}static isPartialRow(e,t){for(let r of t){let t=!0;for(let n of e){let e=!1;for(let t of r.getPairs())if(n.equals(t)){e=!0;break}if(!e){t=!1;break}}if(t)return!0}return!1}getRows(){return this.rows}static constructResult(e){let t=rt(Le.buildBitArray(e)).parseInformation(),r=e[0].getFinderPattern().getResultPoints(),n=e[e.length-1].getFinderPattern().getResultPoints(),i=[r[0],r[1],n[0],n[1]];return new z(t,null,null,i,U.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),t=e.getLeftChar(),r=e.getRightChar();if(null==r)return!1;let n=r.getChecksumPortion(),i=2;for(let o=1;o<this.pairs.size();++o){let e=this.pairs.get(o);n+=e.getLeftChar().getChecksumPortion(),i++;let t=e.getRightChar();null!=t&&(n+=t.getChecksumPortion(),i++)}return n%=211,211*(i-4)+n==t.getValue()}static getNextSecondBar(e,t){let r;return e.get(t)?(r=e.getNextUnset(t),r=e.getNextSet(r)):(r=e.getNextSet(t),r=e.getNextUnset(r)),r}retrieveNextPair(e,t,r){let n,i=t.length%2==0;this.startFromEven&&(i=!i);let o=!0,a=-1;do{this.findNextPair(e,t,a),n=this.parseFoundFinderPattern(e,r,i),null==n?a=ot.getNextSecondBar(e,this.startEnd[0]):o=!1}while(o);let s,l=this.decodeDataCharacter(e,n,i,!0);if(!this.isEmptyPair(t)&&t[t.length-1].mustBeLast())throw new I;try{s=this.decodeDataCharacter(e,n,i,!1)}catch(jx){s=null,this.verbose&&console.log(jx)}return new nt(l,s,n,!0)}isEmptyPair(e){return 0===e.length}findNextPair(e,t,r){let n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i,o=e.getSize();i=r>=0?r:this.isEmptyPair(t)?0:t[t.length-1].getFinderPattern().getStartEnd()[1];let a=t.length%2!=0;this.startFromEven&&(a=!a);let s=!1;for(;i<o&&(s=!e.get(i),s);)i++;let l=0,c=i;for(let u=i;u<o;u++)if(e.get(u)!=s)n[l]++;else{if(3==l){if(a&&ot.reverseCounters(n),ot.isFinderPattern(n))return this.startEnd[0]=c,void(this.startEnd[1]=u);a&&ot.reverseCounters(n),c+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,l--}else l++;n[l]=1,s=!s}throw new I}static reverseCounters(e){let t=e.length;for(let r=0;r<t/2;++r){let n=e[r];e[r]=e[t-r-1],e[t-r-1]=n}}parseFoundFinderPattern(e,t,r){let n,i,o;if(r){let t=this.startEnd[0]-1;for(;t>=0&&!e.get(t);)t--;t++,n=this.startEnd[0]-t,i=t,o=this.startEnd[1]}else i=this.startEnd[0],o=e.getNextUnset(this.startEnd[1]+1),n=o-this.startEnd[1];let a,s=this.getDecodeFinderCounters();f.arraycopy(s,0,s,1,s.length-1),s[0]=n;try{a=this.parseFinderValue(s,ot.FINDER_PATTERNS)}catch(jx){return null}return new Me(a,[i,o],i,o,t)}decodeDataCharacter(e,t,r,n){let i=this.getDataCharacterCounters();for(let _=0;_<i.length;_++)i[_]=0;if(n)ot.recordPatternInReverse(e,t.getStartEnd()[0],i);else{ot.recordPattern(e,t.getStartEnd()[1],i);for(let e=0,t=i.length-1;e<t;e++,t--){let r=i[e];i[e]=i[t],i[t]=r}}let o=17,a=ie.sum(new Int32Array(i))/o,s=(t.getStartEnd()[1]-t.getStartEnd()[0])/15;if(Math.abs(a-s)/s>.3)throw new I;let l=this.getOddCounts(),c=this.getEvenCounts(),u=this.getOddRoundingErrors(),d=this.getEvenRoundingErrors();for(let _=0;_<i.length;_++){let e=1*i[_]/a,t=e+.5;if(t<1){if(e<.3)throw new I;t=1}else if(t>8){if(e>8.7)throw new I;t=8}let r=_/2;1&_?(c[r]=t,d[r]=e-t):(l[r]=t,u[r]=e-t)}this.adjustOddEvenCounts(o);let h=4*t.getValue()+(r?0:2)+(n?0:1)-1,p=0,f=0;for(let _=l.length-1;_>=0;_--){if(ot.isNotA1left(t,r,n)){let e=ot.WEIGHTS[h][2*_];f+=l[_]*e}p+=l[_]}let g=0;for(let _=c.length-1;_>=0;_--)if(ot.isNotA1left(t,r,n)){let e=ot.WEIGHTS[h][2*_+1];g+=c[_]*e}let m=f+g;if(1&p||p>13||p<4)throw new I;let w=(13-p)/2,b=ot.SYMBOL_WIDEST[w],v=9-b,y=je.getRSSvalue(l,b,!0),x=je.getRSSvalue(c,v,!1),S=ot.EVEN_TOTAL_SUBSET[w],E=ot.GSUM[w];return new Pe(y*S+x+E,m)}static isNotA1left(e,t,r){return!(0==e.getValue()&&t&&r)}adjustOddEvenCounts(e){let t=ie.sum(new Int32Array(this.getOddCounts())),r=ie.sum(new Int32Array(this.getEvenCounts())),n=!1,i=!1;t>13?i=!0:t<4&&(n=!0);let o=!1,a=!1;r>13?a=!0:r<4&&(o=!0);let s=t+r-e,l=!(1&~t),c=!(1&r);if(1==s)if(l){if(c)throw new I;i=!0}else{if(!c)throw new I;a=!0}else if(-1==s)if(l){if(c)throw new I;n=!0}else{if(!c)throw new I;o=!0}else{if(0!=s)throw new I;if(l){if(!c)throw new I;t<r?(n=!0,a=!0):(i=!0,o=!0)}else if(c)throw new I}if(n){if(i)throw new I;ot.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(i&&ot.decrement(this.getOddCounts(),this.getOddRoundingErrors()),o){if(a)throw new I;ot.increment(this.getEvenCounts(),this.getOddRoundingErrors())}a&&ot.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ot.SYMBOL_WIDEST=[7,5,4,3,1],ot.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ot.GSUM=[0,348,1388,2948,3988],ot.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ot.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ot.FINDER_PAT_A=0,ot.FINDER_PAT_B=1,ot.FINDER_PAT_C=2,ot.FINDER_PAT_D=3,ot.FINDER_PAT_E=4,ot.FINDER_PAT_F=5,ot.FINDER_PATTERN_SEQUENCES=[[ot.FINDER_PAT_A,ot.FINDER_PAT_A],[ot.FINDER_PAT_A,ot.FINDER_PAT_B,ot.FINDER_PAT_B],[ot.FINDER_PAT_A,ot.FINDER_PAT_C,ot.FINDER_PAT_B,ot.FINDER_PAT_D],[ot.FINDER_PAT_A,ot.FINDER_PAT_E,ot.FINDER_PAT_B,ot.FINDER_PAT_D,ot.FINDER_PAT_C],[ot.FINDER_PAT_A,ot.FINDER_PAT_E,ot.FINDER_PAT_B,ot.FINDER_PAT_D,ot.FINDER_PAT_D,ot.FINDER_PAT_F],[ot.FINDER_PAT_A,ot.FINDER_PAT_E,ot.FINDER_PAT_B,ot.FINDER_PAT_D,ot.FINDER_PAT_E,ot.FINDER_PAT_F,ot.FINDER_PAT_F],[ot.FINDER_PAT_A,ot.FINDER_PAT_A,ot.FINDER_PAT_B,ot.FINDER_PAT_B,ot.FINDER_PAT_C,ot.FINDER_PAT_C,ot.FINDER_PAT_D,ot.FINDER_PAT_D],[ot.FINDER_PAT_A,ot.FINDER_PAT_A,ot.FINDER_PAT_B,ot.FINDER_PAT_B,ot.FINDER_PAT_C,ot.FINDER_PAT_C,ot.FINDER_PAT_D,ot.FINDER_PAT_E,ot.FINDER_PAT_E],[ot.FINDER_PAT_A,ot.FINDER_PAT_A,ot.FINDER_PAT_B,ot.FINDER_PAT_B,ot.FINDER_PAT_C,ot.FINDER_PAT_C,ot.FINDER_PAT_D,ot.FINDER_PAT_E,ot.FINDER_PAT_F,ot.FINDER_PAT_F],[ot.FINDER_PAT_A,ot.FINDER_PAT_A,ot.FINDER_PAT_B,ot.FINDER_PAT_B,ot.FINDER_PAT_C,ot.FINDER_PAT_D,ot.FINDER_PAT_D,ot.FINDER_PAT_E,ot.FINDER_PAT_E,ot.FINDER_PAT_F,ot.FINDER_PAT_F]],ot.MAX_PAIRS=11;class at extends Pe{constructor(e,t,r){super(e,t),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class st extends De{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,t,r){const n=this.decodePair(t,!1,e,r);st.addOrTally(this.possibleLeftPairs,n),t.reverse();let i=this.decodePair(t,!0,e,r);st.addOrTally(this.possibleRightPairs,i),t.reverse();for(let o of this.possibleLeftPairs)if(o.getCount()>1)for(let e of this.possibleRightPairs)if(e.getCount()>1&&st.checkChecksum(o,e))return st.constructResult(o,e);throw new I}static addOrTally(e,t){if(null==t)return;let r=!1;for(let n of e)if(n.getValue()===t.getValue()){n.incrementCount(),r=!0;break}r||e.push(t)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,t){let r=4537077*e.getValue()+t.getValue(),n=new String(r).toString(),i=new T;for(let l=13-n.length;l>0;l--)i.append("0");i.append(n);let o=0;for(let l=0;l<13;l++){let e=i.charAt(l).charCodeAt(0)-"0".charCodeAt(0);o+=1&l?e:3*e}o=10-o%10,10===o&&(o=0),i.append(o.toString());let a=e.getFinderPattern().getResultPoints(),s=t.getFinderPattern().getResultPoints();return new z(i.toString(),null,0,[a[0],a[1],s[0],s[1]],U.RSS_14,(new Date).getTime())}static checkChecksum(e,t){let r=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,n=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return n>72&&n--,n>8&&n--,r===n}decodePair(e,t,r,n){try{let i=this.findFinderPattern(e,t),o=this.parseFoundFinderPattern(e,r,t,i),a=null==n?null:n.get(x.NEED_RESULT_POINT_CALLBACK);if(null!=a){let n=(i[0]+i[1])/2;t&&(n=e.getSize()-1-n),a.foundPossibleResultPoint(new ae(n,r))}let s=this.decodeDataCharacter(e,o,!0),l=this.decodeDataCharacter(e,o,!1);return new at(1597*s.getValue()+l.getValue(),s.getChecksumPortion()+4*l.getChecksumPortion(),o)}catch(Lx){return null}}decodeDataCharacter(e,t,r){let n=this.getDataCharacterCounters();for(let g=0;g<n.length;g++)n[g]=0;if(r)ve.recordPatternInReverse(e,t.getStartEnd()[0],n);else{ve.recordPattern(e,t.getStartEnd()[1]+1,n);for(let e=0,t=n.length-1;e<t;e++,t--){let r=n[e];n[e]=n[t],n[t]=r}}let i=r?16:15,o=ie.sum(new Int32Array(n))/i,a=this.getOddCounts(),s=this.getEvenCounts(),l=this.getOddRoundingErrors(),c=this.getEvenRoundingErrors();for(let g=0;g<n.length;g++){let e=n[g]/o,t=Math.floor(e+.5);t<1?t=1:t>8&&(t=8);let r=Math.floor(g/2);1&g?(s[r]=t,c[r]=e-t):(a[r]=t,l[r]=e-t)}this.adjustOddEvenCounts(r,i);let u=0,d=0;for(let g=a.length-1;g>=0;g--)d*=9,d+=a[g],u+=a[g];let h=0,p=0;for(let g=s.length-1;g>=0;g--)h*=9,h+=s[g],p+=s[g];let f=d+3*h;if(r){if(1&u||u>12||u<4)throw new I;let e=(12-u)/2,t=st.OUTSIDE_ODD_WIDEST[e],r=9-t,n=je.getRSSvalue(a,t,!1),i=je.getRSSvalue(s,r,!0),o=st.OUTSIDE_EVEN_TOTAL_SUBSET[e],l=st.OUTSIDE_GSUM[e];return new Pe(n*o+i+l,f)}{if(1&p||p>10||p<4)throw new I;let e=(10-p)/2,t=st.INSIDE_ODD_WIDEST[e],r=9-t,n=je.getRSSvalue(a,t,!0),i=je.getRSSvalue(s,r,!1),o=st.INSIDE_ODD_TOTAL_SUBSET[e],l=st.INSIDE_GSUM[e];return new Pe(i*o+n+l,f)}}findFinderPattern(e,t){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let n=e.getSize(),i=!1,o=0;for(;o<n&&(i=!e.get(o),t!==i);)o++;let a=0,s=o;for(let l=o;l<n;l++)if(e.get(l)!==i)r[a]++;else{if(3===a){if(De.isFinderPattern(r))return[s,l];s+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,a--}else a++;r[a]=1,i=!i}throw new I}parseFoundFinderPattern(e,t,r,n){let i=e.get(n[0]),o=n[0]-1;for(;o>=0&&i!==e.get(o);)o--;o++;const a=n[0]-o,s=this.getDecodeFinderCounters(),l=new Int32Array(s.length);f.arraycopy(s,0,l,1,s.length-1),l[0]=a;const c=this.parseFinderValue(l,st.FINDER_PATTERNS);let u=o,d=n[1];return r&&(u=e.getSize()-1-u,d=e.getSize()-1-d),new Me(c,[o,n[1]],u,d,t)}adjustOddEvenCounts(e,t){let r=ie.sum(new Int32Array(this.getOddCounts())),n=ie.sum(new Int32Array(this.getEvenCounts())),i=!1,o=!1,a=!1,s=!1;e?(r>12?o=!0:r<4&&(i=!0),n>12?s=!0:n<4&&(a=!0)):(r>11?o=!0:r<5&&(i=!0),n>10?s=!0:n<4&&(a=!0));let l=r+n-t,c=(1&r)==(e?1:0),u=!(1&~n);if(1===l)if(c){if(u)throw new I;o=!0}else{if(!u)throw new I;s=!0}else if(-1===l)if(c){if(u)throw new I;i=!0}else{if(!u)throw new I;a=!0}else{if(0!==l)throw new I;if(c){if(!u)throw new I;r<n?(i=!0,s=!0):(o=!0,a=!0)}else if(u)throw new I}if(i){if(o)throw new I;De.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&De.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(s)throw new I;De.increment(this.getEvenCounts(),this.getOddRoundingErrors())}s&&De.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}st.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],st.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],st.OUTSIDE_GSUM=[0,161,961,2015,2715],st.INSIDE_GSUM=[0,336,1036,1516],st.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],st.INSIDE_ODD_WIDEST=[2,4,6,8],st.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class lt extends ve{constructor(e,t){super(),this.readers=[],this.verbose=!0===t;const r=e?e.get(x.POSSIBLE_FORMATS):null,n=e&&void 0!==e.get(x.ASSUME_CODE_39_CHECK_DIGIT);r?((r.includes(U.EAN_13)||r.includes(U.UPC_A)||r.includes(U.EAN_8)||r.includes(U.UPC_E))&&this.readers.push(new Ne(e)),r.includes(U.CODE_39)&&this.readers.push(new xe(n)),r.includes(U.CODE_128)&&this.readers.push(new ye),r.includes(U.ITF)&&this.readers.push(new Se),r.includes(U.RSS_14)&&this.readers.push(new st),r.includes(U.RSS_EXPANDED)&&this.readers.push(new ot(this.verbose))):(this.readers.push(new Ne(e)),this.readers.push(new xe),this.readers.push(new Ne(e)),this.readers.push(new ye),this.readers.push(new Se),this.readers.push(new st),this.readers.push(new ot(this.verbose)))}decodeRow(e,t,r){for(let i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(e,t,r)}catch(n){}throw new I}reset(){this.readers.forEach(e=>e.reset())}}class ct extends B{constructor(e=500,t){super(new lt(t),e,t)}}class ut{constructor(e,t,r){this.ecCodewords=e,this.ecBlocks=[t],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class dt{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ht{constructor(e,t,r,n,i,o){this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=r,this.dataRegionSizeRows=n,this.dataRegionSizeColumns=i,this.ecBlocks=o;let a=0;const s=o.getECCodewords(),l=o.getECBlocks();for(let c of l)a+=c.getCount()*(c.getDataCodewords()+s);this.totalCodewords=a}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,t){if(1&e||1&t)throw new S;for(let r of ht.VERSIONS)if(r.symbolSizeRows===e&&r.symbolSizeColumns===t)return r;throw new S}toString(){return""+this.versionNumber}static buildVersions(){return[new ht(1,10,10,8,8,new ut(5,new dt(1,3))),new ht(2,12,12,10,10,new ut(7,new dt(1,5))),new ht(3,14,14,12,12,new ut(10,new dt(1,8))),new ht(4,16,16,14,14,new ut(12,new dt(1,12))),new ht(5,18,18,16,16,new ut(14,new dt(1,18))),new ht(6,20,20,18,18,new ut(18,new dt(1,22))),new ht(7,22,22,20,20,new ut(20,new dt(1,30))),new ht(8,24,24,22,22,new ut(24,new dt(1,36))),new ht(9,26,26,24,24,new ut(28,new dt(1,44))),new ht(10,32,32,14,14,new ut(36,new dt(1,62))),new ht(11,36,36,16,16,new ut(42,new dt(1,86))),new ht(12,40,40,18,18,new ut(48,new dt(1,114))),new ht(13,44,44,20,20,new ut(56,new dt(1,144))),new ht(14,48,48,22,22,new ut(68,new dt(1,174))),new ht(15,52,52,24,24,new ut(42,new dt(2,102))),new ht(16,64,64,14,14,new ut(56,new dt(2,140))),new ht(17,72,72,16,16,new ut(36,new dt(4,92))),new ht(18,80,80,18,18,new ut(48,new dt(4,114))),new ht(19,88,88,20,20,new ut(56,new dt(4,144))),new ht(20,96,96,22,22,new ut(68,new dt(4,174))),new ht(21,104,104,24,24,new ut(56,new dt(6,136))),new ht(22,120,120,18,18,new ut(68,new dt(6,175))),new ht(23,132,132,20,20,new ut(62,new dt(8,163))),new ht(24,144,144,22,22,new ut(62,new dt(8,156),new dt(2,155))),new ht(25,8,18,6,16,new ut(7,new dt(1,5))),new ht(26,8,32,6,14,new ut(11,new dt(1,10))),new ht(27,12,26,10,24,new ut(14,new dt(1,16))),new ht(28,12,36,10,16,new ut(18,new dt(1,22))),new ht(29,16,36,14,16,new ut(24,new dt(1,32))),new ht(30,16,48,14,22,new ut(28,new dt(1,49)))]}}ht.VERSIONS=ht.buildVersions();class pt{constructor(e){const t=e.getHeight();if(t<8||t>144||1&t)throw new S;this.version=pt.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new k(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const t=e.getHeight(),r=e.getWidth();return ht.getVersionForDimensions(t,r)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let t=0,r=4,n=0;const i=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth();let a=!1,s=!1,l=!1,c=!1;do{if(r!==i||0!==n||a)if(r===i-2&&0===n&&3&o&&!s)e[t++]=255&this.readCorner2(i,o),r-=2,n+=2,s=!0;else if(r!==i+4||2!==n||7&o||l)if(r!==i-2||0!==n||4!=(7&o)||c){do{r<i&&n>=0&&!this.readMappingMatrix.get(n,r)&&(e[t++]=255&this.readUtah(r,n,i,o)),r-=2,n+=2}while(r>=0&&n<o);r+=1,n+=3;do{r>=0&&n<o&&!this.readMappingMatrix.get(n,r)&&(e[t++]=255&this.readUtah(r,n,i,o)),r+=2,n-=2}while(r<i&&n>=0);r+=3,n+=1}else e[t++]=255&this.readCorner4(i,o),r-=2,n+=2,c=!0;else e[t++]=255&this.readCorner3(i,o),r-=2,n+=2,l=!0;else e[t++]=255&this.readCorner1(i,o),r-=2,n+=2,a=!0}while(r<i||n<o);if(t!==this.version.getTotalCodewords())throw new S;return e}readModule(e,t,r,n){return e<0&&(e+=r,t+=4-(r+4&7)),t<0&&(t+=n,e+=4-(n+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)}readUtah(e,t,r,n){let i=0;return this.readModule(e-2,t-2,r,n)&&(i|=1),i<<=1,this.readModule(e-2,t-1,r,n)&&(i|=1),i<<=1,this.readModule(e-1,t-2,r,n)&&(i|=1),i<<=1,this.readModule(e-1,t-1,r,n)&&(i|=1),i<<=1,this.readModule(e-1,t,r,n)&&(i|=1),i<<=1,this.readModule(e,t-2,r,n)&&(i|=1),i<<=1,this.readModule(e,t-1,r,n)&&(i|=1),i<<=1,this.readModule(e,t,r,n)&&(i|=1),i}readCorner1(e,t){let r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,1,e,t)&&(r|=1),r<<=1,this.readModule(e-1,2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r}readCorner2(e,t){let r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-4,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r}readCorner3(e,t){let r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-3,e,t)&&(r|=1),r<<=1,this.readModule(1,t-2,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r}readCorner4(e,t){let r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r}extractDataRegion(e){const t=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new u("Dimension of bitMatrix must match the version size");const n=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),o=t/n|0,a=r/i|0,s=new k(a*i,o*n);for(let l=0;l<o;++l){const t=l*n;for(let r=0;r<a;++r){const o=r*i;for(let a=0;a<n;++a){const c=l*(n+2)+1+a,u=t+a;for(let t=0;t<i;++t){const n=r*(i+2)+1+t;if(e.get(n,c)){const e=o+t;s.set(e,u)}}}}}return s}}class ft{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t){const r=t.getECBlocks();let n=0;const i=r.getECBlocks();for(let u of i)n+=u.getCount();const o=new Array(n);let a=0;for(let u of i)for(let e=0;e<u.getCount();e++){const e=u.getDataCodewords(),t=r.getECCodewords()+e;o[a++]=new ft(e,new Uint8Array(t))}const s=o[0].codewords.length-r.getECCodewords(),l=s-1;let c=0;for(let u=0;u<l;u++)for(let t=0;t<a;t++)o[t].codewords[u]=e[c++];const d=24===t.getVersionNumber(),h=d?8:a;for(let u=0;u<h;u++)o[u].codewords[s-1]=e[c++];const p=o[0].codewords.length;for(let u=s;u<p;u++)for(let t=0;t<a;t++){const r=d?(t+8)%a:t,n=d&&r>7?u-1:u;o[r].codewords[n]=e[c++]}if(c!==e.length)throw new u;return o}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class gt{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new u(""+e);let t=0,r=this.bitOffset,n=this.byteOffset;const i=this.bytes;if(r>0){const o=8-r,a=e<o?e:o,s=o-a,l=255>>8-a<<s;t=(i[n]&l)>>s,e-=a,r+=a,8===r&&(r=0,n++)}if(e>0){for(;e>=8;)t=t<<8|255&i[n],n++,e-=8;if(e>0){const o=8-e,a=255>>o<<o;t=t<<e|(i[n]&a)>>o,r+=e}}return this.bitOffset=r,this.byteOffset=n,t}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}!function(e){e[e.PAD_ENCODE=0]="PAD_ENCODE",e[e.ASCII_ENCODE=1]="ASCII_ENCODE",e[e.C40_ENCODE=2]="C40_ENCODE",e[e.TEXT_ENCODE=3]="TEXT_ENCODE",e[e.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",e[e.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",e[e.BASE256_ENCODE=6]="BASE256_ENCODE"}(H||(H={}));class mt{static decode(e){const t=new gt(e),r=new T,n=new T,i=new Array;let o=H.ASCII_ENCODE;do{if(o===H.ASCII_ENCODE)o=this.decodeAsciiSegment(t,r,n);else{switch(o){case H.C40_ENCODE:this.decodeC40Segment(t,r);break;case H.TEXT_ENCODE:this.decodeTextSegment(t,r);break;case H.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,r);break;case H.EDIFACT_ENCODE:this.decodeEdifactSegment(t,r);break;case H.BASE256_ENCODE:this.decodeBase256Segment(t,r,i);break;default:throw new S}o=H.ASCII_ENCODE}}while(o!==H.PAD_ENCODE&&t.available()>0);return n.length()>0&&r.append(n.toString()),new Y(e,r.toString(),0===i.length?null:i,null)}static decodeAsciiSegment(e,t,r){let n=!1;do{let i=e.readBits(8);if(0===i)throw new S;if(i<=128)return n&&(i+=128),t.append(String.fromCharCode(i-1)),H.ASCII_ENCODE;if(129===i)return H.PAD_ENCODE;if(i<=229){const e=i-130;e<10&&t.append("0"),t.append(""+e)}else switch(i){case 230:return H.C40_ENCODE;case 231:return H.BASE256_ENCODE;case 232:t.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:n=!0;break;case 236:t.append("[)>05"),r.insert(0,"");break;case 237:t.append("[)>06"),r.insert(0,"");break;case 238:return H.ANSIX12_ENCODE;case 239:return H.TEXT_ENCODE;case 240:return H.EDIFACT_ENCODE;default:if(254!==i||0!==e.available())throw new S}}while(e.available()>0);return H.ASCII_ENCODE}static decodeC40Segment(e,t){let r=!1;const n=[];let i=0;do{if(8===e.available())return;const o=e.readBits(8);if(254===o)return;this.parseTwoBytes(o,e.readBits(8),n);for(let e=0;e<3;e++){const o=n[e];switch(i){case 0:if(o<3)i=o+1;else{if(!(o<this.C40_BASIC_SET_CHARS.length))throw new S;{const e=this.C40_BASIC_SET_CHARS[o];r?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),r=!1):t.append(e)}}break;case 1:r?(t.append(String.fromCharCode(o+128)),r=!1):t.append(String.fromCharCode(o)),i=0;break;case 2:if(o<this.C40_SHIFT2_SET_CHARS.length){const e=this.C40_SHIFT2_SET_CHARS[o];r?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),r=!1):t.append(e)}else switch(o){case 27:t.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new S}i=0;break;case 3:r?(t.append(String.fromCharCode(o+224)),r=!1):t.append(String.fromCharCode(o+96)),i=0;break;default:throw new S}}}while(e.available()>0)}static decodeTextSegment(e,t){let r=!1,n=[],i=0;do{if(8===e.available())return;const o=e.readBits(8);if(254===o)return;this.parseTwoBytes(o,e.readBits(8),n);for(let e=0;e<3;e++){const o=n[e];switch(i){case 0:if(o<3)i=o+1;else{if(!(o<this.TEXT_BASIC_SET_CHARS.length))throw new S;{const e=this.TEXT_BASIC_SET_CHARS[o];r?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),r=!1):t.append(e)}}break;case 1:r?(t.append(String.fromCharCode(o+128)),r=!1):t.append(String.fromCharCode(o)),i=0;break;case 2:if(o<this.TEXT_SHIFT2_SET_CHARS.length){const e=this.TEXT_SHIFT2_SET_CHARS[o];r?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),r=!1):t.append(e)}else switch(o){case 27:t.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new S}i=0;break;case 3:if(!(o<this.TEXT_SHIFT3_SET_CHARS.length))throw new S;{const e=this.TEXT_SHIFT3_SET_CHARS[o];r?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),r=!1):t.append(e),i=0}break;default:throw new S}}}while(e.available()>0)}static decodeAnsiX12Segment(e,t){const r=[];do{if(8===e.available())return;const n=e.readBits(8);if(254===n)return;this.parseTwoBytes(n,e.readBits(8),r);for(let e=0;e<3;e++){const n=r[e];switch(n){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(n<14)t.append(String.fromCharCode(n+44));else{if(!(n<40))throw new S;t.append(String.fromCharCode(n+51))}}}}while(e.available()>0)}static parseTwoBytes(e,t,r){let n=(e<<8)+t-1,i=Math.floor(n/1600);r[0]=i,n-=1600*i,i=Math.floor(n/40),r[1]=i,r[2]=n-40*i}static decodeEdifactSegment(e,t){do{if(e.available()<=16)return;for(let r=0;r<4;r++){let r=e.readBits(6);if(31===r){const t=8-e.getBitOffset();return void(8!==t&&e.readBits(t))}32&r||(r|=64),t.append(String.fromCharCode(r))}}while(e.available()>0)}static decodeBase256Segment(e,t,r){let n=1+e.getByteOffset();const i=this.unrandomize255State(e.readBits(8),n++);let o;if(o=0===i?e.available()/8|0:i<250?i:250*(i-249)+this.unrandomize255State(e.readBits(8),n++),o<0)throw new S;const a=new Uint8Array(o);for(let l=0;l<o;l++){if(e.available()<8)throw new S;a[l]=this.unrandomize255State(e.readBits(8),n++)}r.push(a);try{t.append(C.decode(a,A.ISO88591))}catch(s){throw new te("Platform does not support required encoding: "+s.message)}}static unrandomize255State(e,t){const r=e-(149*t%255+1);return r>=0?r:r+256}}mt.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],mt.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],mt.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],mt.TEXT_SHIFT2_SET_CHARS=mt.C40_SHIFT2_SET_CHARS,mt.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class wt{constructor(){this.rsDecoder=new re(J.DATA_MATRIX_FIELD_256)}decode(e){const t=new pt(e),r=t.getVersion(),n=t.readCodewords(),i=ft.getDataBlocks(n,r);let o=0;for(let l of i)o+=l.getNumDataCodewords();const a=new Uint8Array(o),s=i.length;for(let l=0;l<s;l++){const e=i[l],t=e.getCodewords(),r=e.getNumDataCodewords();this.correctErrors(t,r);for(let n=0;n<r;n++)a[n*s+l]=t[n]}return mt.decode(a)}correctErrors(e,t){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch(n){throw new h}for(let i=0;i<t;i++)e[i]=r[i]}}class bt{constructor(e){this.image=e,this.rectangleDetector=new ce(this.image)}detect(){const e=this.rectangleDetector.detect();let t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new I;t=this.shiftToModuleCenter(t);const r=t[0],n=t[1],i=t[2],o=t[3];let a=this.transitionsBetween(r,o)+1,s=this.transitionsBetween(i,o)+1;1&~a||(a+=1),1&~s||(s+=1),4*a<7*s&&4*s<7*a&&(a=s=Math.max(a,s));let l=bt.sampleGrid(this.image,r,n,i,o,a,s);return new se(l,[r,n,i,o])}static shiftPoint(e,t,r){let n=(t.getX()-e.getX())/(r+1),i=(t.getY()-e.getY())/(r+1);return new ae(e.getX()+n,e.getY()+i)}static moveAway(e,t,r){let n=e.getX(),i=e.getY();return n<t?n-=1:n+=1,i<r?i-=1:i+=1,new ae(n,i)}detectSolid1(e){let t=e[0],r=e[1],n=e[3],i=e[2],o=this.transitionsBetween(t,r),a=this.transitionsBetween(r,n),s=this.transitionsBetween(n,i),l=this.transitionsBetween(i,t),c=o,u=[i,t,r,n];return c>a&&(c=a,u[0]=t,u[1]=r,u[2]=n,u[3]=i),c>s&&(c=s,u[0]=r,u[1]=n,u[2]=i,u[3]=t),c>l&&(u[0]=n,u[1]=i,u[2]=t,u[3]=r),u}detectSolid2(e){let t=e[0],r=e[1],n=e[2],i=e[3],o=this.transitionsBetween(t,i),a=bt.shiftPoint(r,n,4*(o+1)),s=bt.shiftPoint(n,r,4*(o+1));return this.transitionsBetween(a,t)<this.transitionsBetween(s,i)?(e[0]=t,e[1]=r,e[2]=n,e[3]=i):(e[0]=r,e[1]=n,e[2]=i,e[3]=t),e}correctTopRight(e){let t=e[0],r=e[1],n=e[2],i=e[3],o=this.transitionsBetween(t,i),a=this.transitionsBetween(r,i),s=bt.shiftPoint(t,r,4*(a+1)),l=bt.shiftPoint(n,r,4*(o+1));o=this.transitionsBetween(s,i),a=this.transitionsBetween(l,i);let c=new ae(i.getX()+(n.getX()-r.getX())/(o+1),i.getY()+(n.getY()-r.getY())/(o+1)),u=new ae(i.getX()+(t.getX()-r.getX())/(a+1),i.getY()+(t.getY()-r.getY())/(a+1));return this.isValid(c)?this.isValid(u)?this.transitionsBetween(s,c)+this.transitionsBetween(l,c)>this.transitionsBetween(s,u)+this.transitionsBetween(l,u)?c:u:c:this.isValid(u)?u:null}shiftToModuleCenter(e){let t=e[0],r=e[1],n=e[2],i=e[3],o=this.transitionsBetween(t,i)+1,a=this.transitionsBetween(n,i)+1,s=bt.shiftPoint(t,r,4*a),l=bt.shiftPoint(n,r,4*o);o=this.transitionsBetween(s,i)+1,a=this.transitionsBetween(l,i)+1,1&~o||(o+=1),1&~a||(a+=1);let c,u,d=(t.getX()+r.getX()+n.getX()+i.getX())/4,h=(t.getY()+r.getY()+n.getY()+i.getY())/4;return t=bt.moveAway(t,d,h),r=bt.moveAway(r,d,h),n=bt.moveAway(n,d,h),i=bt.moveAway(i,d,h),s=bt.shiftPoint(t,r,4*a),s=bt.shiftPoint(s,i,4*o),c=bt.shiftPoint(r,t,4*a),c=bt.shiftPoint(c,n,4*o),l=bt.shiftPoint(n,i,4*a),l=bt.shiftPoint(l,r,4*o),u=bt.shiftPoint(i,n,4*a),u=bt.shiftPoint(u,t,4*o),[s,c,l,u]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,t,r,n,i,o,a){return fe.getInstance().sampleGrid(e,o,a,.5,.5,o-.5,.5,o-.5,a-.5,.5,a-.5,t.getX(),t.getY(),i.getX(),i.getY(),n.getX(),n.getY(),r.getX(),r.getY())}transitionsBetween(e,t){let r=Math.trunc(e.getX()),n=Math.trunc(e.getY()),i=Math.trunc(t.getX()),o=Math.trunc(t.getY()),a=Math.abs(o-n)>Math.abs(i-r);if(a){let e=r;r=n,n=e,e=i,i=o,o=e}let s=Math.abs(i-r),l=Math.abs(o-n),c=-s/2,u=n<o?1:-1,d=r<i?1:-1,h=0,p=this.image.get(a?n:r,a?r:n);for(let f=r,g=n;f!==i;f+=d){let e=this.image.get(a?g:f,a?f:g);if(e!==p&&(h++,p=e),c+=l,c>0){if(g===o)break;g+=u,c-=s}}return h}}class vt{constructor(){this.decoder=new wt}decode(e,t=null){let r,n;if(null!=t&&t.has(x.PURE_BARCODE)){const t=vt.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(t),n=vt.NO_POINTS}else{const t=new bt(e.getBlackMatrix()).detect();r=this.decoder.decode(t.getBits()),n=t.getPoints()}const i=r.getRawBytes(),o=new z(r.getText(),i,8*i.length,n,U.DATA_MATRIX,f.currentTimeMillis()),a=r.getByteSegments();null!=a&&o.putMetadata(X.BYTE_SEGMENTS,a);const s=r.getECLevel();return null!=s&&o.putMetadata(X.ERROR_CORRECTION_LEVEL,s),o}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(null==t||null==r)throw new I;const n=this.moduleSize(t,e);let i=t[1];const o=r[1];let a=t[0];const s=(r[0]-a+1)/n,l=(o-i+1)/n;if(s<=0||l<=0)throw new I;const c=n/2;i+=c,a+=c;const u=new k(s,l);for(let d=0;d<l;d++){const t=i+d*n;for(let r=0;r<s;r++)e.get(a+r*n,t)&&u.set(r,d)}return u}static moduleSize(e,t){const r=t.getWidth();let n=e[0];const i=e[1];for(;n<r&&t.get(n,i);)n++;if(n===r)throw new I;const o=n-e[0];if(0===o)throw new I;return o}}vt.NO_POINTS=[];class yt extends B{constructor(e=500){super(new vt,e)}}!function(e){e[e.L=0]="L",e[e.M=1]="M",e[e.Q=2]="Q",e[e.H=3]="H"}(G||(G={}));class xt{constructor(e,t,r){this.value=e,this.stringValue=t,this.bits=r,xt.FOR_BITS.set(r,this),xt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return xt.L;case"M":return xt.M;case"Q":return xt.Q;case"H":return xt.H;default:throw new c(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof xt))return!1;const t=e;return this.value===t.value}static forBits(e){if(e<0||e>=xt.FOR_BITS.size)throw new u;return xt.FOR_BITS.get(e)}}xt.FOR_BITS=new Map,xt.FOR_VALUE=new Map,xt.L=new xt(G.L,"L",1),xt.M=new xt(G.M,"M",0),xt.Q=new xt(G.Q,"Q",3),xt.H=new xt(G.H,"H",2);class St{constructor(e){this.errorCorrectionLevel=xt.forBits(e>>3&3),this.dataMask=7&e}static numBitsDiffering(e,t){return b.bitCount(e^t)}static decodeFormatInformation(e,t){const r=St.doDecodeFormatInformation(e,t);return null!==r?r:St.doDecodeFormatInformation(e^St.FORMAT_INFO_MASK_QR,t^St.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,t){let r=Number.MAX_SAFE_INTEGER,n=0;for(const i of St.FORMAT_INFO_DECODE_LOOKUP){const o=i[0];if(o===e||o===t)return new St(i[1]);let a=St.numBitsDiffering(e,o);a<r&&(n=i[1],r=a),e!==t&&(a=St.numBitsDiffering(t,o),a<r&&(n=i[1],r=a))}return r<=3?new St(n):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof St))return!1;const t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask}}St.FORMAT_INFO_MASK_QR=21522,St.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Et{constructor(e,...t){this.ecCodewordsPerBlock=e,this.ecBlocks=t}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const t=this.ecBlocks;for(const r of t)e+=r.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class _t{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ct{constructor(e,t,...r){this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=r;let n=0;const i=r[0].getECCodewordsPerBlock(),o=r[0].getECBlocks();for(const a of o)n+=a.getCount()*(a.getDataCodewords()+i);this.totalCodewords=n}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!=1)throw new S;try{return this.getVersionForNumber((e-17)/4)}catch(t){throw new S}}static getVersionForNumber(e){if(e<1||e>40)throw new u;return Ct.VERSIONS[e-1]}static decodeVersionInformation(e){let t=Number.MAX_SAFE_INTEGER,r=0;for(let n=0;n<Ct.VERSION_DECODE_INFO.length;n++){const i=Ct.VERSION_DECODE_INFO[n];if(i===e)return Ct.getVersionForNumber(n+7);const o=St.numBitsDiffering(e,i);o<t&&(r=n+7,t=o)}return t<=3?Ct.getVersionForNumber(r):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),t=new k(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);const r=this.alignmentPatternCenters.length;for(let n=0;n<r;n++){const e=this.alignmentPatternCenters[n]-2;for(let i=0;i<r;i++)0===n&&(0===i||i===r-1)||n===r-1&&0===i||t.setRegion(this.alignmentPatternCenters[i]-2,e,5,5)}return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t}toString(){return""+this.versionNumber}}Ct.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ct.VERSIONS=[new Ct(1,new Int32Array(0),new Et(7,new _t(1,19)),new Et(10,new _t(1,16)),new Et(13,new _t(1,13)),new Et(17,new _t(1,9))),new Ct(2,Int32Array.from([6,18]),new Et(10,new _t(1,34)),new Et(16,new _t(1,28)),new Et(22,new _t(1,22)),new Et(28,new _t(1,16))),new Ct(3,Int32Array.from([6,22]),new Et(15,new _t(1,55)),new Et(26,new _t(1,44)),new Et(18,new _t(2,17)),new Et(22,new _t(2,13))),new Ct(4,Int32Array.from([6,26]),new Et(20,new _t(1,80)),new Et(18,new _t(2,32)),new Et(26,new _t(2,24)),new Et(16,new _t(4,9))),new Ct(5,Int32Array.from([6,30]),new Et(26,new _t(1,108)),new Et(24,new _t(2,43)),new Et(18,new _t(2,15),new _t(2,16)),new Et(22,new _t(2,11),new _t(2,12))),new Ct(6,Int32Array.from([6,34]),new Et(18,new _t(2,68)),new Et(16,new _t(4,27)),new Et(24,new _t(4,19)),new Et(28,new _t(4,15))),new Ct(7,Int32Array.from([6,22,38]),new Et(20,new _t(2,78)),new Et(18,new _t(4,31)),new Et(18,new _t(2,14),new _t(4,15)),new Et(26,new _t(4,13),new _t(1,14))),new Ct(8,Int32Array.from([6,24,42]),new Et(24,new _t(2,97)),new Et(22,new _t(2,38),new _t(2,39)),new Et(22,new _t(4,18),new _t(2,19)),new Et(26,new _t(4,14),new _t(2,15))),new Ct(9,Int32Array.from([6,26,46]),new Et(30,new _t(2,116)),new Et(22,new _t(3,36),new _t(2,37)),new Et(20,new _t(4,16),new _t(4,17)),new Et(24,new _t(4,12),new _t(4,13))),new Ct(10,Int32Array.from([6,28,50]),new Et(18,new _t(2,68),new _t(2,69)),new Et(26,new _t(4,43),new _t(1,44)),new Et(24,new _t(6,19),new _t(2,20)),new Et(28,new _t(6,15),new _t(2,16))),new Ct(11,Int32Array.from([6,30,54]),new Et(20,new _t(4,81)),new Et(30,new _t(1,50),new _t(4,51)),new Et(28,new _t(4,22),new _t(4,23)),new Et(24,new _t(3,12),new _t(8,13))),new Ct(12,Int32Array.from([6,32,58]),new Et(24,new _t(2,92),new _t(2,93)),new Et(22,new _t(6,36),new _t(2,37)),new Et(26,new _t(4,20),new _t(6,21)),new Et(28,new _t(7,14),new _t(4,15))),new Ct(13,Int32Array.from([6,34,62]),new Et(26,new _t(4,107)),new Et(22,new _t(8,37),new _t(1,38)),new Et(24,new _t(8,20),new _t(4,21)),new Et(22,new _t(12,11),new _t(4,12))),new Ct(14,Int32Array.from([6,26,46,66]),new Et(30,new _t(3,115),new _t(1,116)),new Et(24,new _t(4,40),new _t(5,41)),new Et(20,new _t(11,16),new _t(5,17)),new Et(24,new _t(11,12),new _t(5,13))),new Ct(15,Int32Array.from([6,26,48,70]),new Et(22,new _t(5,87),new _t(1,88)),new Et(24,new _t(5,41),new _t(5,42)),new Et(30,new _t(5,24),new _t(7,25)),new Et(24,new _t(11,12),new _t(7,13))),new Ct(16,Int32Array.from([6,26,50,74]),new Et(24,new _t(5,98),new _t(1,99)),new Et(28,new _t(7,45),new _t(3,46)),new Et(24,new _t(15,19),new _t(2,20)),new Et(30,new _t(3,15),new _t(13,16))),new Ct(17,Int32Array.from([6,30,54,78]),new Et(28,new _t(1,107),new _t(5,108)),new Et(28,new _t(10,46),new _t(1,47)),new Et(28,new _t(1,22),new _t(15,23)),new Et(28,new _t(2,14),new _t(17,15))),new Ct(18,Int32Array.from([6,30,56,82]),new Et(30,new _t(5,120),new _t(1,121)),new Et(26,new _t(9,43),new _t(4,44)),new Et(28,new _t(17,22),new _t(1,23)),new Et(28,new _t(2,14),new _t(19,15))),new Ct(19,Int32Array.from([6,30,58,86]),new Et(28,new _t(3,113),new _t(4,114)),new Et(26,new _t(3,44),new _t(11,45)),new Et(26,new _t(17,21),new _t(4,22)),new Et(26,new _t(9,13),new _t(16,14))),new Ct(20,Int32Array.from([6,34,62,90]),new Et(28,new _t(3,107),new _t(5,108)),new Et(26,new _t(3,41),new _t(13,42)),new Et(30,new _t(15,24),new _t(5,25)),new Et(28,new _t(15,15),new _t(10,16))),new Ct(21,Int32Array.from([6,28,50,72,94]),new Et(28,new _t(4,116),new _t(4,117)),new Et(26,new _t(17,42)),new Et(28,new _t(17,22),new _t(6,23)),new Et(30,new _t(19,16),new _t(6,17))),new Ct(22,Int32Array.from([6,26,50,74,98]),new Et(28,new _t(2,111),new _t(7,112)),new Et(28,new _t(17,46)),new Et(30,new _t(7,24),new _t(16,25)),new Et(24,new _t(34,13))),new Ct(23,Int32Array.from([6,30,54,78,102]),new Et(30,new _t(4,121),new _t(5,122)),new Et(28,new _t(4,47),new _t(14,48)),new Et(30,new _t(11,24),new _t(14,25)),new Et(30,new _t(16,15),new _t(14,16))),new Ct(24,Int32Array.from([6,28,54,80,106]),new Et(30,new _t(6,117),new _t(4,118)),new Et(28,new _t(6,45),new _t(14,46)),new Et(30,new _t(11,24),new _t(16,25)),new Et(30,new _t(30,16),new _t(2,17))),new Ct(25,Int32Array.from([6,32,58,84,110]),new Et(26,new _t(8,106),new _t(4,107)),new Et(28,new _t(8,47),new _t(13,48)),new Et(30,new _t(7,24),new _t(22,25)),new Et(30,new _t(22,15),new _t(13,16))),new Ct(26,Int32Array.from([6,30,58,86,114]),new Et(28,new _t(10,114),new _t(2,115)),new Et(28,new _t(19,46),new _t(4,47)),new Et(28,new _t(28,22),new _t(6,23)),new Et(30,new _t(33,16),new _t(4,17))),new Ct(27,Int32Array.from([6,34,62,90,118]),new Et(30,new _t(8,122),new _t(4,123)),new Et(28,new _t(22,45),new _t(3,46)),new Et(30,new _t(8,23),new _t(26,24)),new Et(30,new _t(12,15),new _t(28,16))),new Ct(28,Int32Array.from([6,26,50,74,98,122]),new Et(30,new _t(3,117),new _t(10,118)),new Et(28,new _t(3,45),new _t(23,46)),new Et(30,new _t(4,24),new _t(31,25)),new Et(30,new _t(11,15),new _t(31,16))),new Ct(29,Int32Array.from([6,30,54,78,102,126]),new Et(30,new _t(7,116),new _t(7,117)),new Et(28,new _t(21,45),new _t(7,46)),new Et(30,new _t(1,23),new _t(37,24)),new Et(30,new _t(19,15),new _t(26,16))),new Ct(30,Int32Array.from([6,26,52,78,104,130]),new Et(30,new _t(5,115),new _t(10,116)),new Et(28,new _t(19,47),new _t(10,48)),new Et(30,new _t(15,24),new _t(25,25)),new Et(30,new _t(23,15),new _t(25,16))),new Ct(31,Int32Array.from([6,30,56,82,108,134]),new Et(30,new _t(13,115),new _t(3,116)),new Et(28,new _t(2,46),new _t(29,47)),new Et(30,new _t(42,24),new _t(1,25)),new Et(30,new _t(23,15),new _t(28,16))),new Ct(32,Int32Array.from([6,34,60,86,112,138]),new Et(30,new _t(17,115)),new Et(28,new _t(10,46),new _t(23,47)),new Et(30,new _t(10,24),new _t(35,25)),new Et(30,new _t(19,15),new _t(35,16))),new Ct(33,Int32Array.from([6,30,58,86,114,142]),new Et(30,new _t(17,115),new _t(1,116)),new Et(28,new _t(14,46),new _t(21,47)),new Et(30,new _t(29,24),new _t(19,25)),new Et(30,new _t(11,15),new _t(46,16))),new Ct(34,Int32Array.from([6,34,62,90,118,146]),new Et(30,new _t(13,115),new _t(6,116)),new Et(28,new _t(14,46),new _t(23,47)),new Et(30,new _t(44,24),new _t(7,25)),new Et(30,new _t(59,16),new _t(1,17))),new Ct(35,Int32Array.from([6,30,54,78,102,126,150]),new Et(30,new _t(12,121),new _t(7,122)),new Et(28,new _t(12,47),new _t(26,48)),new Et(30,new _t(39,24),new _t(14,25)),new Et(30,new _t(22,15),new _t(41,16))),new Ct(36,Int32Array.from([6,24,50,76,102,128,154]),new Et(30,new _t(6,121),new _t(14,122)),new Et(28,new _t(6,47),new _t(34,48)),new Et(30,new _t(46,24),new _t(10,25)),new Et(30,new _t(2,15),new _t(64,16))),new Ct(37,Int32Array.from([6,28,54,80,106,132,158]),new Et(30,new _t(17,122),new _t(4,123)),new Et(28,new _t(29,46),new _t(14,47)),new Et(30,new _t(49,24),new _t(10,25)),new Et(30,new _t(24,15),new _t(46,16))),new Ct(38,Int32Array.from([6,32,58,84,110,136,162]),new Et(30,new _t(4,122),new _t(18,123)),new Et(28,new _t(13,46),new _t(32,47)),new Et(30,new _t(48,24),new _t(14,25)),new Et(30,new _t(42,15),new _t(32,16))),new Ct(39,Int32Array.from([6,26,54,82,110,138,166]),new Et(30,new _t(20,117),new _t(4,118)),new Et(28,new _t(40,47),new _t(7,48)),new Et(30,new _t(43,24),new _t(22,25)),new Et(30,new _t(10,15),new _t(67,16))),new Ct(40,Int32Array.from([6,30,58,86,114,142,170]),new Et(30,new _t(19,118),new _t(6,119)),new Et(28,new _t(18,47),new _t(31,48)),new Et(30,new _t(34,24),new _t(34,25)),new Et(30,new _t(20,15),new _t(61,16)))],function(e){e[e.DATA_MASK_000=0]="DATA_MASK_000",e[e.DATA_MASK_001=1]="DATA_MASK_001",e[e.DATA_MASK_010=2]="DATA_MASK_010",e[e.DATA_MASK_011=3]="DATA_MASK_011",e[e.DATA_MASK_100=4]="DATA_MASK_100",e[e.DATA_MASK_101=5]="DATA_MASK_101",e[e.DATA_MASK_110=6]="DATA_MASK_110",e[e.DATA_MASK_111=7]="DATA_MASK_111"}(q||(q={}));class At{constructor(e,t){this.value=e,this.isMasked=t}unmaskBitMatrix(e,t){for(let r=0;r<t;r++)for(let n=0;n<t;n++)this.isMasked(r,n)&&e.flip(n,r)}}At.values=new Map([[q.DATA_MASK_000,new At(q.DATA_MASK_000,(e,t)=>!(e+t&1))],[q.DATA_MASK_001,new At(q.DATA_MASK_001,(e,t)=>!(1&e))],[q.DATA_MASK_010,new At(q.DATA_MASK_010,(e,t)=>t%3==0)],[q.DATA_MASK_011,new At(q.DATA_MASK_011,(e,t)=>(e+t)%3==0)],[q.DATA_MASK_100,new At(q.DATA_MASK_100,(e,t)=>!(Math.floor(e/2)+Math.floor(t/3)&1))],[q.DATA_MASK_101,new At(q.DATA_MASK_101,(e,t)=>e*t%6==0)],[q.DATA_MASK_110,new At(q.DATA_MASK_110,(e,t)=>e*t%6<3)],[q.DATA_MASK_111,new At(q.DATA_MASK_111,(e,t)=>!(e+t+e*t%3&1))]]);class Tt{constructor(e){const t=e.getHeight();if(t<21||1!=(3&t))throw new S;this.bitMatrix=e}readFormatInformation(){if(null!==this.parsedFormatInfo&&void 0!==this.parsedFormatInfo)return this.parsedFormatInfo;let e=0;for(let i=0;i<6;i++)e=this.copyBit(i,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let i=5;i>=0;i--)e=this.copyBit(8,i,e);const t=this.bitMatrix.getHeight();let r=0;const n=t-7;for(let i=t-1;i>=n;i--)r=this.copyBit(8,i,r);for(let i=t-8;i<t;i++)r=this.copyBit(i,8,r);if(this.parsedFormatInfo=St.decodeFormatInformation(e,r),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new S}readVersion(){if(null!==this.parsedVersion&&void 0!==this.parsedVersion)return this.parsedVersion;const e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return Ct.getVersionForNumber(t);let r=0;const n=e-11;for(let o=5;o>=0;o--)for(let t=e-9;t>=n;t--)r=this.copyBit(t,o,r);let i=Ct.decodeVersionInformation(r);if(null!==i&&i.getDimensionForVersion()===e)return this.parsedVersion=i,i;r=0;for(let o=5;o>=0;o--)for(let t=e-9;t>=n;t--)r=this.copyBit(o,t,r);if(i=Ct.decodeVersionInformation(r),null!==i&&i.getDimensionForVersion()===e)return this.parsedVersion=i,i;throw new S}copyBit(e,t,r){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?r<<1|1:r<<1}readCodewords(){const e=this.readFormatInformation(),t=this.readVersion(),r=At.values.get(e.getDataMask()),n=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,n);const i=t.buildFunctionPattern();let o=!0;const a=new Uint8Array(t.getTotalCodewords());let s=0,l=0,c=0;for(let u=n-1;u>0;u-=2){6===u&&u--;for(let e=0;e<n;e++){const t=o?n-1-e:e;for(let e=0;e<2;e++)i.get(u-e,t)||(c++,l<<=1,this.bitMatrix.get(u-e,t)&&(l|=1),8===c&&(a[s++]=l,c=0,l=0))}o=!o}if(s!==t.getTotalCodewords())throw new S;return a}remask(){if(null===this.parsedFormatInfo)return;const e=At.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let t=0,r=e.getWidth();t<r;t++)for(let n=t+1,i=e.getHeight();n<i;n++)e.get(t,n)!==e.get(n,t)&&(e.flip(n,t),e.flip(t,n))}}class kt{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t,r){if(e.length!==t.getTotalCodewords())throw new u;const n=t.getECBlocksForLevel(r);let i=0;const o=n.getECBlocks();for(const u of o)i+=u.getCount();const a=new Array(i);let s=0;for(const u of o)for(let e=0;e<u.getCount();e++){const e=u.getDataCodewords(),t=n.getECCodewordsPerBlock()+e;a[s++]=new kt(e,new Uint8Array(t))}const l=a[0].codewords.length;let c=a.length-1;for(;c>=0&&a[c].codewords.length!==l;)c--;c++;const d=l-n.getECCodewordsPerBlock();let h=0;for(let u=0;u<d;u++)for(let t=0;t<s;t++)a[t].codewords[u]=e[h++];for(let u=c;u<s;u++)a[u].codewords[d]=e[h++];const p=a[0].codewords.length;for(let u=d;u<p;u++)for(let t=0;t<s;t++){const r=t<c?u:u+1;a[t].codewords[r]=e[h++]}return a}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}!function(e){e[e.TERMINATOR=0]="TERMINATOR",e[e.NUMERIC=1]="NUMERIC",e[e.ALPHANUMERIC=2]="ALPHANUMERIC",e[e.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",e[e.BYTE=4]="BYTE",e[e.ECI=5]="ECI",e[e.KANJI=6]="KANJI",e[e.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",e[e.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",e[e.HANZI=9]="HANZI"}(W||(W={}));class It{constructor(e,t,r,n){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=r,this.bits=n,It.FOR_BITS.set(n,this),It.FOR_VALUE.set(e,this)}static forBits(e){const t=It.FOR_BITS.get(e);if(void 0===t)throw new u;return t}getCharacterCountBits(e){const t=e.getVersionNumber();let r;return r=t<=9?0:t<=26?1:2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof It))return!1;const t=e;return this.value===t.value}toString(){return this.stringValue}}It.FOR_BITS=new Map,It.FOR_VALUE=new Map,It.TERMINATOR=new It(W.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),It.NUMERIC=new It(W.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),It.ALPHANUMERIC=new It(W.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),It.STRUCTURED_APPEND=new It(W.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),It.BYTE=new It(W.BYTE,"BYTE",Int32Array.from([8,16,16]),4),It.ECI=new It(W.ECI,"ECI",Int32Array.from([0,0,0]),7),It.KANJI=new It(W.KANJI,"KANJI",Int32Array.from([8,10,12]),8),It.FNC1_FIRST_POSITION=new It(W.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),It.FNC1_SECOND_POSITION=new It(W.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),It.HANZI=new It(W.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Rt{static decode(e,t,r,n){const i=new gt(e);let o=new T;const a=new Array;let s=-1,l=-1;try{let e,r=null,c=!1;do{if(i.available()<4)e=It.TERMINATOR;else{const t=i.readBits(4);e=It.forBits(t)}switch(e){case It.TERMINATOR:break;case It.FNC1_FIRST_POSITION:case It.FNC1_SECOND_POSITION:c=!0;break;case It.STRUCTURED_APPEND:if(i.available()<16)throw new S;s=i.readBits(8),l=i.readBits(8);break;case It.ECI:const u=Rt.parseECIValue(i);if(r=E.getCharacterSetECIByValue(u),null===r)throw new S;break;case It.HANZI:const d=i.readBits(4),h=i.readBits(e.getCharacterCountBits(t));d===Rt.GB2312_SUBSET&&Rt.decodeHanziSegment(i,o,h);break;default:const p=i.readBits(e.getCharacterCountBits(t));switch(e){case It.NUMERIC:Rt.decodeNumericSegment(i,o,p);break;case It.ALPHANUMERIC:Rt.decodeAlphanumericSegment(i,o,p,c);break;case It.BYTE:Rt.decodeByteSegment(i,o,p,r,a,n);break;case It.KANJI:Rt.decodeKanjiSegment(i,o,p);break;default:throw new S}}}while(e!==It.TERMINATOR)}catch(c){throw new S}return new Y(e,o.toString(),0===a.length?null:a,null===r?null:r.toString(),s,l)}static decodeHanziSegment(e,t,r){if(13*r>e.available())throw new S;const n=new Uint8Array(2*r);let i=0;for(;r>0;){const t=e.readBits(13);let o=t/96<<8&4294967295|t%96;o+=o<959?41377:42657,n[i]=o>>8&255,n[i+1]=255&o,i+=2,r--}try{t.append(C.decode(n,A.GB2312))}catch(o){throw new S(o)}}static decodeKanjiSegment(e,t,r){if(13*r>e.available())throw new S;const n=new Uint8Array(2*r);let i=0;for(;r>0;){const t=e.readBits(13);let o=t/192<<8&4294967295|t%192;o+=o<7936?33088:49472,n[i]=o>>8,n[i+1]=o,i+=2,r--}try{t.append(C.decode(n,A.SHIFT_JIS))}catch(o){throw new S(o)}}static decodeByteSegment(e,t,r,n,i,o){if(8*r>e.available())throw new S;const a=new Uint8Array(r);for(let c=0;c<r;c++)a[c]=e.readBits(8);let s;s=null===n?A.guessEncoding(a,o):n.getName();try{t.append(C.decode(a,s))}catch(l){throw new S(l)}i.push(a)}static toAlphaNumericChar(e){if(e>=Rt.ALPHANUMERIC_CHARS.length)throw new S;return Rt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,t,r,n){const i=t.length();for(;r>1;){if(e.available()<11)throw new S;const n=e.readBits(11);t.append(Rt.toAlphaNumericChar(Math.floor(n/45))),t.append(Rt.toAlphaNumericChar(n%45)),r-=2}if(1===r){if(e.available()<6)throw new S;t.append(Rt.toAlphaNumericChar(e.readBits(6)))}if(n)for(let o=i;o<t.length();o++)"%"===t.charAt(o)&&(o<t.length()-1&&"%"===t.charAt(o+1)?t.deleteCharAt(o+1):t.setCharAt(o,String.fromCharCode(29)))}static decodeNumericSegment(e,t,r){for(;r>=3;){if(e.available()<10)throw new S;const n=e.readBits(10);if(n>=1e3)throw new S;t.append(Rt.toAlphaNumericChar(Math.floor(n/100))),t.append(Rt.toAlphaNumericChar(Math.floor(n/10)%10)),t.append(Rt.toAlphaNumericChar(n%10)),r-=3}if(2===r){if(e.available()<7)throw new S;const r=e.readBits(7);if(r>=100)throw new S;t.append(Rt.toAlphaNumericChar(Math.floor(r/10))),t.append(Rt.toAlphaNumericChar(r%10))}else if(1===r){if(e.available()<4)throw new S;const r=e.readBits(4);if(r>=10)throw new S;t.append(Rt.toAlphaNumericChar(r))}}static parseECIValue(e){const t=e.readBits(8);if(!(128&t))return 127&t;if(128==(192&t))return(63&t)<<8&4294967295|e.readBits(8);if(192==(224&t))return(31&t)<<16&4294967295|e.readBits(16);throw new S}}Rt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Rt.GB2312_SUBSET=1;class Ot{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||null===e||e.length<3)return;const t=e[0];e[0]=e[2],e[2]=t}}class Nt{constructor(){this.rsDecoder=new re(J.QR_CODE_FIELD_256)}decodeBooleanArray(e,t){return this.decodeBitMatrix(k.parseFromBooleanArray(e),t)}decodeBitMatrix(e,t){const r=new Tt(e);let n=null;try{return this.decodeBitMatrixParser(r,t)}catch(jx){n=jx}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const e=this.decodeBitMatrixParser(r,t);return e.setOther(new Ot(!0)),e}catch(jx){if(null!==n)throw n;throw jx}}decodeBitMatrixParser(e,t){const r=e.readVersion(),n=e.readFormatInformation().getErrorCorrectionLevel(),i=e.readCodewords(),o=kt.getDataBlocks(i,r,n);let a=0;for(const c of o)a+=c.getNumDataCodewords();const s=new Uint8Array(a);let l=0;for(const c of o){const e=c.getCodewords(),t=c.getNumDataCodewords();this.correctErrors(e,t);for(let r=0;r<t;r++)s[l++]=e[r]}return Rt.decode(s,r,n,t)}correctErrors(e,t){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch(n){throw new h}for(let i=0;i<t;i++)e[i]=r[i]}}class Dt extends ae{constructor(e,t,r){super(e,t),this.estimatedModuleSize=r}aboutEquals(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){const t=Math.abs(e-this.estimatedModuleSize);return t<=1||t<=this.estimatedModuleSize}return!1}combineEstimate(e,t,r){const n=(this.getX()+t)/2,i=(this.getY()+e)/2,o=(this.estimatedModuleSize+r)/2;return new Dt(n,i,o)}}class Pt{constructor(e,t,r,n,i,o,a){this.image=e,this.startX=t,this.startY=r,this.width=n,this.height=i,this.moduleSize=o,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,t=this.height,r=e+this.width,n=this.startY+t/2,i=new Int32Array(3),o=this.image;for(let a=0;a<t;a++){const t=n+(1&a?-Math.floor((a+1)/2):Math.floor((a+1)/2));i[0]=0,i[1]=0,i[2]=0;let s=e;for(;s<r&&!o.get(s,t);)s++;let l=0;for(;s<r;){if(o.get(s,t))if(1===l)i[1]++;else if(2===l){if(this.foundPatternCross(i)){const e=this.handlePossibleCenter(i,t,s);if(null!==e)return e}i[0]=i[2],i[1]=1,i[2]=0,l=1}else i[++l]++;else 1===l&&l++,i[l]++;s++}if(this.foundPatternCross(i)){const e=this.handlePossibleCenter(i,t,r);if(null!==e)return e}}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new I}static centerFromEnd(e,t){return t-e[2]-e[1]/2}foundPatternCross(e){const t=this.moduleSize,r=t/2;for(let n=0;n<3;n++)if(Math.abs(t-e[n])>=r)return!1;return!0}crossCheckVertical(e,t,r,n){const i=this.image,o=i.getHeight(),a=this.crossCheckStateCount;a[0]=0,a[1]=0,a[2]=0;let s=e;for(;s>=0&&i.get(t,s)&&a[1]<=r;)a[1]++,s--;if(s<0||a[1]>r)return NaN;for(;s>=0&&!i.get(t,s)&&a[0]<=r;)a[0]++,s--;if(a[0]>r)return NaN;for(s=e+1;s<o&&i.get(t,s)&&a[1]<=r;)a[1]++,s++;if(s===o||a[1]>r)return NaN;for(;s<o&&!i.get(t,s)&&a[2]<=r;)a[2]++,s++;if(a[2]>r)return NaN;const l=a[0]+a[1]+a[2];return 5*Math.abs(l-n)>=2*n?NaN:this.foundPatternCross(a)?Pt.centerFromEnd(a,s):NaN}handlePossibleCenter(e,t,r){const n=e[0]+e[1]+e[2],i=Pt.centerFromEnd(e,r),o=this.crossCheckVertical(t,i,2*e[1],n);if(!isNaN(o)){const t=(e[0]+e[1]+e[2])/3;for(const e of this.possibleCenters)if(e.aboutEquals(t,o,i))return e.combineEstimate(o,i,t);const r=new Dt(i,o,t);this.possibleCenters.push(r),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(r)}return null}}class Mt extends ae{constructor(e,t,r,n){super(e,t),this.estimatedModuleSize=r,this.count=n,void 0===n&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){const t=Math.abs(e-this.estimatedModuleSize);return t<=1||t<=this.estimatedModuleSize}return!1}combineEstimate(e,t,r){const n=this.count+1,i=(this.count*this.getX()+t)/n,o=(this.count*this.getY()+e)/n,a=(this.count*this.estimatedModuleSize+r)/n;return new Mt(i,o,a,n)}}class jt{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Lt{constructor(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const t=null!=e&&void 0!==e.get(x.TRY_HARDER),r=null!=e&&void 0!==e.get(x.PURE_BARCODE),n=this.image,i=n.getHeight(),o=n.getWidth();let a=Math.floor(3*i/(4*Lt.MAX_MODULES));(a<Lt.MIN_SKIP||t)&&(a=Lt.MIN_SKIP);let s=!1;const l=new Int32Array(5);for(let u=a-1;u<i&&!s;u+=a){l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0;let e=0;for(let t=0;t<o;t++)if(n.get(t,u))1&~e||e++,l[e]++;else if(1&e)l[e]++;else if(4===e)if(Lt.foundPatternCross(l)){if(!0!==this.handlePossibleCenter(l,u,t,r)){l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,e=3;continue}if(a=2,!0===this.hasSkipped)s=this.haveMultiplyConfirmedCenters();else{const e=this.findRowSkip();e>l[2]&&(u+=e-l[2]-a,t=o-1)}e=0,l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0}else l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,e=3;else l[++e]++;Lt.foundPatternCross(l)&&!0===this.handlePossibleCenter(l,u,o,r)&&(a=l[0],this.hasSkipped&&(s=this.haveMultiplyConfirmedCenters()))}const c=this.selectBestPatterns();return ae.orderBestPatterns(c),new jt(c)}static centerFromEnd(e,t){return t-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let t=0;for(let i=0;i<5;i++){const r=e[i];if(0===r)return!1;t+=r}if(t<7)return!1;const r=t/7,n=r/2;return Math.abs(r-e[0])<n&&Math.abs(r-e[1])<n&&Math.abs(3*r-e[2])<3*n&&Math.abs(r-e[3])<n&&Math.abs(r-e[4])<n}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,t,r,n){const i=this.getCrossCheckStateCount();let o=0;const a=this.image;for(;e>=o&&t>=o&&a.get(t-o,e-o);)i[2]++,o++;if(e<o||t<o)return!1;for(;e>=o&&t>=o&&!a.get(t-o,e-o)&&i[1]<=r;)i[1]++,o++;if(e<o||t<o||i[1]>r)return!1;for(;e>=o&&t>=o&&a.get(t-o,e-o)&&i[0]<=r;)i[0]++,o++;if(i[0]>r)return!1;const s=a.getHeight(),l=a.getWidth();for(o=1;e+o<s&&t+o<l&&a.get(t+o,e+o);)i[2]++,o++;if(e+o>=s||t+o>=l)return!1;for(;e+o<s&&t+o<l&&!a.get(t+o,e+o)&&i[3]<r;)i[3]++,o++;if(e+o>=s||t+o>=l||i[3]>=r)return!1;for(;e+o<s&&t+o<l&&a.get(t+o,e+o)&&i[4]<r;)i[4]++,o++;if(i[4]>=r)return!1;const c=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(c-n)<2*n&&Lt.foundPatternCross(i)}crossCheckVertical(e,t,r,n){const i=this.image,o=i.getHeight(),a=this.getCrossCheckStateCount();let s=e;for(;s>=0&&i.get(t,s);)a[2]++,s--;if(s<0)return NaN;for(;s>=0&&!i.get(t,s)&&a[1]<=r;)a[1]++,s--;if(s<0||a[1]>r)return NaN;for(;s>=0&&i.get(t,s)&&a[0]<=r;)a[0]++,s--;if(a[0]>r)return NaN;for(s=e+1;s<o&&i.get(t,s);)a[2]++,s++;if(s===o)return NaN;for(;s<o&&!i.get(t,s)&&a[3]<r;)a[3]++,s++;if(s===o||a[3]>=r)return NaN;for(;s<o&&i.get(t,s)&&a[4]<r;)a[4]++,s++;if(a[4]>=r)return NaN;const l=a[0]+a[1]+a[2]+a[3]+a[4];return 5*Math.abs(l-n)>=2*n?NaN:Lt.foundPatternCross(a)?Lt.centerFromEnd(a,s):NaN}crossCheckHorizontal(e,t,r,n){const i=this.image,o=i.getWidth(),a=this.getCrossCheckStateCount();let s=e;for(;s>=0&&i.get(s,t);)a[2]++,s--;if(s<0)return NaN;for(;s>=0&&!i.get(s,t)&&a[1]<=r;)a[1]++,s--;if(s<0||a[1]>r)return NaN;for(;s>=0&&i.get(s,t)&&a[0]<=r;)a[0]++,s--;if(a[0]>r)return NaN;for(s=e+1;s<o&&i.get(s,t);)a[2]++,s++;if(s===o)return NaN;for(;s<o&&!i.get(s,t)&&a[3]<r;)a[3]++,s++;if(s===o||a[3]>=r)return NaN;for(;s<o&&i.get(s,t)&&a[4]<r;)a[4]++,s++;if(a[4]>=r)return NaN;const l=a[0]+a[1]+a[2]+a[3]+a[4];return 5*Math.abs(l-n)>=n?NaN:Lt.foundPatternCross(a)?Lt.centerFromEnd(a,s):NaN}handlePossibleCenter(e,t,r,n){const i=e[0]+e[1]+e[2]+e[3]+e[4];let o=Lt.centerFromEnd(e,r),a=this.crossCheckVertical(t,Math.floor(o),e[2],i);if(!isNaN(a)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(a),e[2],i),!isNaN(o)&&(!n||this.crossCheckDiagonal(Math.floor(a),Math.floor(o),e[2],i)))){const e=i/7;let t=!1;const r=this.possibleCenters;for(let n=0,i=r.length;n<i;n++){const i=r[n];if(i.aboutEquals(e,a,o)){r[n]=i.combineEstimate(a,o,e),t=!0;break}}if(!t){const t=new Mt(o,a,e);r.push(t),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(t)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let e=null;for(const t of this.possibleCenters)if(t.getCount()>=Lt.CENTER_QUORUM){if(null!=e)return this.hasSkipped=!0,Math.floor((Math.abs(e.getX()-t.getX())-Math.abs(e.getY()-t.getY()))/2);e=t}return 0}haveMultiplyConfirmedCenters(){let e=0,t=0;const r=this.possibleCenters.length;for(const o of this.possibleCenters)o.getCount()>=Lt.CENTER_QUORUM&&(e++,t+=o.getEstimatedModuleSize());if(e<3)return!1;const n=t/r;let i=0;for(const o of this.possibleCenters)i+=Math.abs(o.getEstimatedModuleSize()-n);return i<=.05*t}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new I;const t=this.possibleCenters;let r;if(e>3){let n=0,i=0;for(const e of this.possibleCenters){const t=e.getEstimatedModuleSize();n+=t,i+=t*t}r=n/e;let o=Math.sqrt(i/e-r*r);t.sort((e,t)=>{const n=Math.abs(t.getEstimatedModuleSize()-r),i=Math.abs(e.getEstimatedModuleSize()-r);return n<i?-1:n>i?1:0});const a=Math.max(.2*r,o);for(let e=0;e<t.length&&t.length>3;e++){const n=t[e];Math.abs(n.getEstimatedModuleSize()-r)>a&&(t.splice(e,1),e--)}}if(t.length>3){let e=0;for(const r of t)e+=r.getEstimatedModuleSize();r=e/t.length,t.sort((e,t)=>{if(t.getCount()===e.getCount()){const n=Math.abs(t.getEstimatedModuleSize()-r),i=Math.abs(e.getEstimatedModuleSize()-r);return n<i?1:n>i?-1:0}return t.getCount()-e.getCount()}),t.splice(3)}return[t[0],t[1],t[2]]}}Lt.CENTER_QUORUM=2,Lt.MIN_SKIP=3,Lt.MAX_MODULES=57;class Bt{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=null==e?null:e.get(x.NEED_RESULT_POINT_CALLBACK);const t=new Lt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(t)}processFinderPatternInfo(e){const t=e.getTopLeft(),r=e.getTopRight(),n=e.getBottomLeft(),i=this.calculateModuleSize(t,r,n);if(i<1)throw new I("No pattern found in proccess finder.");const o=Bt.computeDimension(t,r,n,i),a=Ct.getProvisionalVersionForDimension(o),s=a.getDimensionForVersion()-7;let l=null;if(a.getAlignmentPatternCenters().length>0){const e=r.getX()-t.getX()+n.getX(),o=r.getY()-t.getY()+n.getY(),a=1-3/s,c=Math.floor(t.getX()+a*(e-t.getX())),u=Math.floor(t.getY()+a*(o-t.getY()));for(let t=4;t<=16;t<<=1)try{l=this.findAlignmentInRegion(i,c,u,t);break}catch(h){if(!(h instanceof I))throw h}}const c=Bt.createTransform(t,r,n,l,o),u=Bt.sampleGrid(this.image,c,o);let d;return d=null===l?[n,t,r]:[n,t,r,l],new se(u,d)}static createTransform(e,t,r,n,i){const o=i-3.5;let a,s,l,c;return null!==n?(a=n.getX(),s=n.getY(),l=o-3,c=l):(a=t.getX()-e.getX()+r.getX(),s=t.getY()-e.getY()+r.getY(),l=o,c=o),he.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,l,c,3.5,o,e.getX(),e.getY(),t.getX(),t.getY(),a,s,r.getX(),r.getY())}static sampleGrid(e,t,r){return fe.getInstance().sampleGridWithTransform(e,r,r,t)}static computeDimension(e,t,r,n){const i=ie.round(ae.distance(e,t)/n),o=ie.round(ae.distance(e,r)/n);let a=Math.floor((i+o)/2)+7;switch(3&a){case 0:a++;break;case 2:a--;break;case 3:throw new I("Dimensions could be not found.")}return a}calculateModuleSize(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2}calculateModuleSizeOneWay(e,t){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?n/7:isNaN(n)?r/7:(r+n)/14}sizeOfBlackWhiteBlackRunBothWays(e,t,r,n){let i=this.sizeOfBlackWhiteBlackRun(e,t,r,n),o=1,a=e-(r-e);a<0?(o=e/(e-a),a=0):a>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(a-e),a=this.image.getWidth()-1);let s=Math.floor(t-(n-t)*o);return o=1,s<0?(o=t/(t-s),s=0):s>=this.image.getHeight()&&(o=(this.image.getHeight()-1-t)/(s-t),s=this.image.getHeight()-1),a=Math.floor(e+(a-e)*o),i+=this.sizeOfBlackWhiteBlackRun(e,t,a,s),i-1}sizeOfBlackWhiteBlackRun(e,t,r,n){const i=Math.abs(n-t)>Math.abs(r-e);if(i){let i=e;e=t,t=i,i=r,r=n,n=i}const o=Math.abs(r-e),a=Math.abs(n-t);let s=-o/2;const l=e<r?1:-1,c=t<n?1:-1;let u=0;const d=r+l;for(let h=e,p=t;h!==d;h+=l){const r=i?p:h,l=i?h:p;if(1===u===this.image.get(r,l)){if(2===u)return ie.distance(h,p,e,t);u++}if(s+=a,s>0){if(p===n)break;p+=c,s-=o}}return 2===u?ie.distance(r+l,n,e,t):NaN}findAlignmentInRegion(e,t,r,n){const i=Math.floor(n*e),o=Math.max(0,t-i),a=Math.min(this.image.getWidth()-1,t+i);if(a-o<3*e)throw new I("Alignment top exceeds estimated module size.");const s=Math.max(0,r-i),l=Math.min(this.image.getHeight()-1,r+i);if(l-s<3*e)throw new I("Alignment bottom exceeds estimated module size.");return new Pt(this.image,o,s,a-o,l-s,e,this.resultPointCallback).find()}}class zt{constructor(){this.decoder=new Nt}getDecoder(){return this.decoder}decode(e,t){let r,n;if(null!=t&&void 0!==t.get(x.PURE_BARCODE)){const i=zt.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(i,t),n=zt.NO_POINTS}else{const i=new Bt(e.getBlackMatrix()).detect(t);r=this.decoder.decodeBitMatrix(i.getBits(),t),n=i.getPoints()}r.getOther()instanceof Ot&&r.getOther().applyMirroredCorrection(n);const i=new z(r.getText(),r.getRawBytes(),void 0,n,U.QR_CODE,void 0),o=r.getByteSegments();null!==o&&i.putMetadata(X.BYTE_SEGMENTS,o);const a=r.getECLevel();return null!==a&&i.putMetadata(X.ERROR_CORRECTION_LEVEL,a),r.hasStructuredAppend()&&(i.putMetadata(X.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),i.putMetadata(X.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),i}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(null===t||null===r)throw new I;const n=this.moduleSize(t,e);let i=t[1],o=r[1],a=t[0],s=r[0];if(a>=s||i>=o)throw new I;if(o-i!==s-a&&(s=a+(o-i),s>=e.getWidth()))throw new I;const l=Math.round((s-a+1)/n),c=Math.round((o-i+1)/n);if(l<=0||c<=0)throw new I;if(c!==l)throw new I;const u=Math.floor(n/2);i+=u,a+=u;const d=a+Math.floor((l-1)*n)-s;if(d>0){if(d>u)throw new I;a-=d}const h=i+Math.floor((c-1)*n)-o;if(h>0){if(h>u)throw new I;i-=h}const p=new k(l,c);for(let f=0;f<c;f++){const t=i+Math.floor(f*n);for(let r=0;r<l;r++)e.get(a+Math.floor(r*n),t)&&p.set(r,f)}return p}static moduleSize(e,t){const r=t.getHeight(),n=t.getWidth();let i=e[0],o=e[1],a=!0,s=0;for(;i<n&&o<r;){if(a!==t.get(i,o)){if(5===++s)break;a=!a}i++,o++}if(i===n||o===r)throw new I;return(i-e[0])/7}}zt.NO_POINTS=new Array;class Ft{PDF417Common(){}static getBitCountSum(e){return ie.sum(e)}static toIntArray(e){if(null==e||!e.length)return Ft.EMPTY_INT_ARRAY;const t=new Int32Array(e.length);let r=0;for(const n of e)t[r++]=n;return t}static getCodeword(e){const t=w.binarySearch(Ft.SYMBOL_TABLE,262143&e);return t<0?-1:(Ft.CODEWORD_TABLE[t]-1)%Ft.NUMBER_OF_CODEWORDS}}Ft.NUMBER_OF_CODEWORDS=929,Ft.MAX_CODEWORDS_IN_BARCODE=Ft.NUMBER_OF_CODEWORDS-1,Ft.MIN_ROWS_IN_BARCODE=3,Ft.MAX_ROWS_IN_BARCODE=90,Ft.MODULES_IN_CODEWORD=17,Ft.MODULES_IN_STOP_PATTERN=18,Ft.BARS_IN_MODULE=8,Ft.EMPTY_INT_ARRAY=new Int32Array([]),Ft.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ft.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ut{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class Vt{static detectMultiple(e,t,r){let n=e.getBlackMatrix(),i=Vt.detect(r,n);return i.length||(n=n.clone(),n.rotate180(),i=Vt.detect(r,n)),new Ut(n,i)}static detect(e,t){const r=new Array;let n=0,i=0,o=!1;for(;n<t.getHeight();){const a=Vt.findVertices(t,n,i);if(null!=a[0]||null!=a[3]){if(o=!0,r.push(a),!e)break;null!=a[2]?(i=Math.trunc(a[2].getX()),n=Math.trunc(a[2].getY())):(i=Math.trunc(a[4].getX()),n=Math.trunc(a[4].getY()))}else{if(!o)break;o=!1,i=0;for(const e of r)null!=e[1]&&(n=Math.trunc(Math.max(n,e[1].getY()))),null!=e[3]&&(n=Math.max(n,Math.trunc(e[3].getY())));n+=Vt.ROW_STEP}}return r}static findVertices(e,t,r){const n=e.getHeight(),i=e.getWidth(),o=new Array(8);return Vt.copyToResult(o,Vt.findRowsWithPattern(e,n,i,t,r,Vt.START_PATTERN),Vt.INDEXES_START_PATTERN),null!=o[4]&&(r=Math.trunc(o[4].getX()),t=Math.trunc(o[4].getY())),Vt.copyToResult(o,Vt.findRowsWithPattern(e,n,i,t,r,Vt.STOP_PATTERN),Vt.INDEXES_STOP_PATTERN),o}static copyToResult(e,t,r){for(let n=0;n<r.length;n++)e[r[n]]=t[n]}static findRowsWithPattern(e,t,r,n,i,o){const a=new Array(4);let s=!1;const l=new Int32Array(o.length);for(;n<t;n+=Vt.ROW_STEP){let t=Vt.findGuardPattern(e,i,n,r,!1,o,l);if(null!=t){for(;n>0;){const a=Vt.findGuardPattern(e,i,--n,r,!1,o,l);if(null==a){n++;break}t=a}a[0]=new ae(t[0],n),a[1]=new ae(t[1],n),s=!0;break}}let c=n+1;if(s){let n=0,i=Int32Array.from([Math.trunc(a[0].getX()),Math.trunc(a[1].getX())]);for(;c<t;c++){const t=Vt.findGuardPattern(e,i[0],c,r,!1,o,l);if(null!=t&&Math.abs(i[0]-t[0])<Vt.MAX_PATTERN_DRIFT&&Math.abs(i[1]-t[1])<Vt.MAX_PATTERN_DRIFT)i=t,n=0;else{if(n>Vt.SKIPPED_ROW_COUNT_MAX)break;n++}}c-=n+1,a[2]=new ae(i[0],c),a[3]=new ae(i[1],c)}return c-n<Vt.BARCODE_MIN_HEIGHT&&w.fill(a,null),a}static findGuardPattern(e,t,r,n,i,o,a){w.fillWithin(a,0,a.length,0);let s=t,l=0;for(;e.get(s,r)&&s>0&&l++<Vt.MAX_PIXEL_DRIFT;)s--;let c=s,u=0,d=o.length;for(let h=i;c<n;c++)if(e.get(c,r)!==h)a[u]++;else{if(u===d-1){if(Vt.patternMatchVariance(a,o,Vt.MAX_INDIVIDUAL_VARIANCE)<Vt.MAX_AVG_VARIANCE)return new Int32Array([s,c]);s+=a[0]+a[1],f.arraycopy(a,2,a,0,u-1),a[u-1]=0,a[u]=0,u--}else u++;a[u]=1,h=!h}return u===d-1&&Vt.patternMatchVariance(a,o,Vt.MAX_INDIVIDUAL_VARIANCE)<Vt.MAX_AVG_VARIANCE?new Int32Array([s,c-1]):null}static patternMatchVariance(e,t,r){let n=e.length,i=0,o=0;for(let l=0;l<n;l++)i+=e[l],o+=t[l];if(i<o)return 1/0;let a=i/o;r*=a;let s=0;for(let l=0;l<n;l++){let n=e[l],i=t[l]*a,o=n>i?n-i:i-n;if(o>r)return 1/0;s+=o}return s/i}}Vt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Vt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Vt.MAX_AVG_VARIANCE=.42,Vt.MAX_INDIVIDUAL_VARIANCE=.8,Vt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Vt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Vt.MAX_PIXEL_DRIFT=3,Vt.MAX_PATTERN_DRIFT=5,Vt.SKIPPED_ROW_COUNT_MAX=25,Vt.ROW_STEP=5,Vt.BARCODE_MIN_HEIGHT=10;class Ht{constructor(e,t){if(0===t.length)throw new u;this.field=e;let r=t.length;if(r>1&&0===t[0]){let e=1;for(;e<r&&0===t[e];)e++;e===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-e),f.arraycopy(t,e,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(0===e)return this.getCoefficient(0);if(1===e){let e=0;for(let t of this.coefficients)e=this.field.add(e,t);return e}let t=this.coefficients[0],r=this.coefficients.length;for(let n=1;n<r;n++)t=this.field.add(this.field.multiply(e,t),this.coefficients[n]);return t}add(e){if(!this.field.equals(e.field))throw new u("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,r=e.coefficients;if(t.length>r.length){let e=t;t=r,r=e}let n=new Int32Array(r.length),i=r.length-t.length;f.arraycopy(r,0,n,0,i);for(let o=i;o<r.length;o++)n[o]=this.field.add(t[o-i],r[o]);return new Ht(this.field,n)}subtract(e){if(!this.field.equals(e.field))throw new u("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Ht?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new u("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Ht(this.field,new Int32Array([0]));let t=this.coefficients,r=t.length,n=e.coefficients,i=n.length,o=new Int32Array(r+i-1);for(let a=0;a<r;a++){let e=t[a];for(let t=0;t<i;t++)o[a+t]=this.field.add(o[a+t],this.field.multiply(e,n[t]))}return new Ht(this.field,o)}negative(){let e=this.coefficients.length,t=new Int32Array(e);for(let r=0;r<e;r++)t[r]=this.field.subtract(0,this.coefficients[r]);return new Ht(this.field,t)}multiplyScalar(e){if(0===e)return new Ht(this.field,new Int32Array([0]));if(1===e)return this;let t=this.coefficients.length,r=new Int32Array(t);for(let n=0;n<t;n++)r[n]=this.field.multiply(this.coefficients[n],e);return new Ht(this.field,r)}multiplyByMonomial(e,t){if(e<0)throw new u;if(0===t)return new Ht(this.field,new Int32Array([0]));let r=this.coefficients.length,n=new Int32Array(r+e);for(let i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],t);return new Ht(this.field,n)}toString(){let e=new T;for(let t=this.getDegree();t>=0;t--){let r=this.getCoefficient(t);0!==r&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),0!==t&&1===r||e.append(r),0!==t&&(1===t?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()}}class Gt{add(e,t){return(e+t)%this.modulus}subtract(e,t){return(this.modulus+e-t)%this.modulus}exp(e){return this.expTable[e]}log(e){if(0===e)throw new u;return this.logTable[e]}inverse(e){if(0===e)throw new Z;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class qt extends Gt{constructor(e,t){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let r=1;for(let n=0;n<e;n++)this.expTable[n]=r,r=r*t%e;for(let n=0;n<e-1;n++)this.logTable[this.expTable[n]]=n;this.zero=new Ht(this,new Int32Array([0])),this.one=new Ht(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new u;if(0===t)return this.zero;let r=new Int32Array(e+1);return r[0]=t,new Ht(this,r)}}qt.PDF417_GF=new qt(Ft.NUMBER_OF_CODEWORDS,3);class Wt{constructor(){this.field=qt.PDF417_GF}decode(e,t,r){let n=new Ht(this.field,e),i=new Int32Array(t),o=!1;for(let h=t;h>0;h--){let e=n.evaluateAt(this.field.exp(h));i[t-h]=e,0!==e&&(o=!0)}if(!o)return 0;let a=this.field.getOne();if(null!=r)for(const h of r){let t=this.field.exp(e.length-1-h),r=new Ht(this.field,new Int32Array([this.field.subtract(0,t),1]));a=a.multiply(r)}let s=new Ht(this.field,i),l=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),s,t),c=l[0],u=l[1],d=this.findErrorLocations(c),p=this.findErrorMagnitudes(u,c,d);for(let f=0;f<d.length;f++){let t=e.length-1-this.field.log(d[f]);if(t<0)throw h.getChecksumInstance();e[t]=this.field.subtract(e[t],p[f])}return d.length}runEuclideanAlgorithm(e,t,r){if(e.getDegree()<t.getDegree()){let r=e;e=t,t=r}let n=e,i=t,o=this.field.getZero(),a=this.field.getOne();for(;i.getDegree()>=Math.round(r/2);){let e=n,t=o;if(n=i,o=a,n.isZero())throw h.getChecksumInstance();i=e;let r=this.field.getZero(),s=n.getCoefficient(n.getDegree()),l=this.field.inverse(s);for(;i.getDegree()>=n.getDegree()&&!i.isZero();){let e=i.getDegree()-n.getDegree(),t=this.field.multiply(i.getCoefficient(i.getDegree()),l);r=r.add(this.field.buildMonomial(e,t)),i=i.subtract(n.multiplyByMonomial(e,t))}a=r.multiply(o).subtract(t).negative()}let s=a.getCoefficient(0);if(0===s)throw h.getChecksumInstance();let l=this.field.inverse(s);return[a.multiply(l),i.multiply(l)]}findErrorLocations(e){let t=e.getDegree(),r=new Int32Array(t),n=0;for(let i=1;i<this.field.getSize()&&n<t;i++)0===e.evaluateAt(i)&&(r[n]=this.field.inverse(i),n++);if(n!==t)throw h.getChecksumInstance();return r}findErrorMagnitudes(e,t,r){let n=t.getDegree(),i=new Int32Array(n);for(let l=1;l<=n;l++)i[n-l]=this.field.multiply(l,t.getCoefficient(l));let o=new Ht(this.field,i),a=r.length,s=new Int32Array(a);for(let l=0;l<a;l++){let t=this.field.inverse(r[l]),n=this.field.subtract(0,e.evaluateAt(t)),i=this.field.inverse(o.evaluateAt(t));s[l]=this.field.multiply(n,i)}return s}}class $t{constructor(e,t,r,n,i){e instanceof $t?this.constructor_2(e):this.constructor_1(e,t,r,n,i)}constructor_1(e,t,r,n,i){const o=null==t||null==r,a=null==n||null==i;if(o&&a)throw new I;o?(t=new ae(0,n.getY()),r=new ae(0,i.getY())):a&&(n=new ae(e.getWidth()-1,t.getY()),i=new ae(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=t,this.bottomLeft=r,this.topRight=n,this.bottomRight=i,this.minX=Math.trunc(Math.min(t.getX(),r.getX())),this.maxX=Math.trunc(Math.max(n.getX(),i.getX())),this.minY=Math.trunc(Math.min(t.getY(),n.getY())),this.maxY=Math.trunc(Math.max(r.getY(),i.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,t){return null==e?t:null==t?e:new $t(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)}addMissingRows(e,t,r){let n=this.topLeft,i=this.bottomLeft,o=this.topRight,a=this.bottomRight;if(e>0){let t=r?this.topLeft:this.topRight,i=Math.trunc(t.getY()-e);i<0&&(i=0);let a=new ae(t.getX(),i);r?n=a:o=a}if(t>0){let e=r?this.bottomLeft:this.bottomRight,n=Math.trunc(e.getY()+t);n>=this.image.getHeight()&&(n=this.image.getHeight()-1);let o=new ae(e.getX(),n);r?i=o:a=o}return new $t(this.image,n,i,o,a)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Xt{constructor(e,t,r,n){this.columnCount=e,this.errorCorrectionLevel=n,this.rowCountUpperPart=t,this.rowCountLowerPart=r,this.rowCount=t+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Yt{constructor(){this.buffer=""}static form(e,t){let r=-1;function n(e,n,i,o,a,s){if("%%"===e)return"%";if(void 0===t[++r])return;e=o?parseInt(o.substr(1)):void 0;let l,c=a?parseInt(a.substr(1)):void 0;switch(s){case"s":l=t[r];break;case"c":l=t[r][0];break;case"f":l=parseFloat(t[r]).toFixed(e);break;case"p":l=parseFloat(t[r]).toPrecision(e);break;case"e":l=parseFloat(t[r]).toExponential(e);break;case"x":l=parseInt(t[r]).toString(c||16);break;case"d":l=parseFloat(parseInt(t[r],c||10).toPrecision(e)).toFixed(0)}l="object"==typeof l?JSON.stringify(l):(+l).toString(c);let u=parseInt(i),d=i&&i[0]+""=="0"?"0":" ";for(;l.length<u;)l=void 0!==n?l+d:d+l;return l}let i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(i,n)}format(e,...t){this.buffer+=Yt.form(e,t)}toString(){return this.buffer}}class Kt{constructor(e){this.boundingBox=new $t(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let t=this.getCodeword(e);if(null!=t)return t;for(let r=1;r<Kt.MAX_NEARBY_DISTANCE;r++){let n=this.imageRowToCodewordIndex(e)-r;if(n>=0&&(t=this.codewords[n],null!=t))return t;if(n=this.imageRowToCodewordIndex(e)+r,n<this.codewords.length&&(t=this.codewords[n],null!=t))return t}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Yt;let t=0;for(const r of this.codewords)null!=r?e.format("%3d: %3d|%3d%n",t++,r.getRowNumber(),r.getValue()):e.format("%3d:    |   %n",t++);return e.toString()}}Kt.MAX_NEARBY_DISTANCE=5;class Qt{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let t=this.values.get(e);null==t&&(t=0),t++,this.values.set(e,t)}getValue(){let e=-1,t=new Array;for(const[r,n]of this.values.entries()){const i={getKey:()=>r,getValue:()=>n};i.getValue()>e?(e=i.getValue(),t=[],t.push(i.getKey())):i.getValue()===e&&t.push(i.getKey())}return Ft.toIntArray(t)}getConfidence(e){return this.values.get(e)}}class Zt extends Kt{constructor(e,t){super(e),this._isLeft=t}setRowNumbers(){for(let e of this.getCodewords())null!=e&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);let r=this.getBoundingBox(),n=this._isLeft?r.getTopLeft():r.getTopRight(),i=this._isLeft?r.getBottomLeft():r.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(n.getY())),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=-1,l=1,c=0;for(let u=o;u<a;u++){if(null==t[u])continue;let r=t[u],n=r.getRowNumber()-s;if(0===n)c++;else if(1===n)l=Math.max(l,c),c=1,s=r.getRowNumber();else if(n<0||r.getRowNumber()>=e.getRowCount()||n>u)t[u]=null;else{let e;e=l>2?(l-2)*n:n;let i=e>=u;for(let r=1;r<=e&&!i;r++)i=null!=t[u-r];i?t[u]=null:(s=r.getRowNumber(),c=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(null==e)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let t=new Int32Array(e.getRowCount());for(let r of this.getCodewords())if(null!=r){let e=r.getRowNumber();if(e>=t.length)continue;t[e]++}return t}adjustIncompleteIndicatorColumnRowNumbers(e){let t=this.getBoundingBox(),r=this._isLeft?t.getTopLeft():t.getTopRight(),n=this._isLeft?t.getBottomLeft():t.getBottomRight(),i=this.imageRowToCodewordIndex(Math.trunc(r.getY())),o=this.imageRowToCodewordIndex(Math.trunc(n.getY())),a=this.getCodewords(),s=-1;for(let l=i;l<o;l++){if(null==a[l])continue;let t=a[l];t.setRowNumberAsRowIndicatorColumn();let r=t.getRowNumber()-s;0===r||(1===r?s=t.getRowNumber():t.getRowNumber()>=e.getRowCount()?a[l]=null:s=t.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),t=new Qt,r=new Qt,n=new Qt,i=new Qt;for(let a of e){if(null==a)continue;a.setRowNumberAsRowIndicatorColumn();let e=a.getValue()%30,o=a.getRowNumber();switch(this._isLeft||(o+=2),o%3){case 0:r.setValue(3*e+1);break;case 1:i.setValue(e/3),n.setValue(e%3);break;case 2:t.setValue(e+1)}}if(0===t.getValue().length||0===r.getValue().length||0===n.getValue().length||0===i.getValue().length||t.getValue()[0]<1||r.getValue()[0]+n.getValue()[0]<Ft.MIN_ROWS_IN_BARCODE||r.getValue()[0]+n.getValue()[0]>Ft.MAX_ROWS_IN_BARCODE)return null;let o=new Xt(t.getValue()[0],r.getValue()[0],n.getValue()[0],i.getValue()[0]);return this.removeIncorrectCodewords(e,o),o}removeIncorrectCodewords(e,t){for(let r=0;r<e.length;r++){let n=e[r];if(null==e[r])continue;let i=n.getValue()%30,o=n.getRowNumber();if(o>t.getRowCount())e[r]=null;else switch(this._isLeft||(o+=2),o%3){case 0:3*i+1!==t.getRowCountUpperPart()&&(e[r]=null);break;case 1:Math.trunc(i/3)===t.getErrorCorrectionLevel()&&i%3===t.getRowCountLowerPart()||(e[r]=null);break;case 2:i+1!==t.getColumnCount()&&(e[r]=null)}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+"\n"+super.toString()}}class Jt{constructor(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e,t=Ft.MAX_CODEWORDS_IN_BARCODE;do{e=t,t=this.adjustRowNumbersAndGetCount()}while(t>0&&t<e);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){null!=e&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(0===e)return 0;for(let t=1;t<this.barcodeColumnCount+1;t++){let e=this.detectionResultColumns[t].getCodewords();for(let r=0;r<e.length;r++)null!=e[r]&&(e[r].hasValidRowNumber()||this.adjustRowNumbers(t,r,e))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(null==this.detectionResultColumns[0]||null==this.detectionResultColumns[this.barcodeColumnCount+1])return;let e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<e.length;r++)if(null!=e[r]&&null!=t[r]&&e[r].getRowNumber()===t[r].getRowNumber())for(let t=1;t<=this.barcodeColumnCount;t++){let n=this.detectionResultColumns[t].getCodewords()[r];null!=n&&(n.setRowNumber(e[r].getRowNumber()),n.hasValidRowNumber()||(this.detectionResultColumns[t].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;let e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<t.length;r++){if(null==t[r])continue;let n=t[r].getRowNumber(),i=0;for(let t=this.barcodeColumnCount+1;t>0&&i<this.ADJUST_ROW_NUMBER_SKIP;t--){let o=this.detectionResultColumns[t].getCodewords()[r];null!=o&&(i=Jt.adjustRowNumberIfValid(n,i,o),o.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(null==this.detectionResultColumns[0])return 0;let e=0,t=this.detectionResultColumns[0].getCodewords();for(let r=0;r<t.length;r++){if(null==t[r])continue;let n=t[r].getRowNumber(),i=0;for(let t=1;t<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;t++){let o=this.detectionResultColumns[t].getCodewords()[r];null!=o&&(i=Jt.adjustRowNumberIfValid(n,i,o),o.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,t,r){return null==r||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),t=0):++t),t}adjustRowNumbers(e,t,r){if(!this.detectionResultColumns[e-1])return;let n=r[t],i=this.detectionResultColumns[e-1].getCodewords(),o=i;null!=this.detectionResultColumns[e+1]&&(o=this.detectionResultColumns[e+1].getCodewords());let a=new Array(14);a[2]=i[t],a[3]=o[t],t>0&&(a[0]=r[t-1],a[4]=i[t-1],a[5]=o[t-1]),t>1&&(a[8]=r[t-2],a[10]=i[t-2],a[11]=o[t-2]),t<r.length-1&&(a[1]=r[t+1],a[6]=i[t+1],a[7]=o[t+1]),t<r.length-2&&(a[9]=r[t+2],a[12]=i[t+2],a[13]=o[t+2]);for(let s of a)if(Jt.adjustRowNumber(n,s))return}static adjustRowNumber(e,t){return!(null==t||!t.hasValidRowNumber()||t.getBucket()!==e.getBucket()||(e.setRowNumber(t.getRowNumber()),0))}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,t){this.detectionResultColumns[e]=t}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];null==e&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let t=new Yt;for(let r=0;r<e.getCodewords().length;r++){t.format("CW %3d:",r);for(let e=0;e<this.barcodeColumnCount+2;e++){if(null==this.detectionResultColumns[e]){t.format("    |   ");continue}let n=this.detectionResultColumns[e].getCodewords()[r];null!=n?t.format(" %3d|%3d",n.getRowNumber(),n.getValue()):t.format("    |   ")}t.format("%n")}return t.toString()}}class er{constructor(e,t,r,n){this.rowNumber=er.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(r),this.value=Math.trunc(n)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==er.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}er.BARCODE_ROW_UNKNOWN=-1;class tr{static initialize(){for(let e=0;e<Ft.SYMBOL_TABLE.length;e++){let t=Ft.SYMBOL_TABLE[e],r=1&t;for(let n=0;n<Ft.BARS_IN_MODULE;n++){let i=0;for(;(1&t)===r;)i+=1,t>>=1;r=1&t,tr.RATIOS_TABLE[e]||(tr.RATIOS_TABLE[e]=new Array(Ft.BARS_IN_MODULE)),tr.RATIOS_TABLE[e][Ft.BARS_IN_MODULE-n-1]=Math.fround(i/Ft.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let t=tr.getDecodedCodewordValue(tr.sampleBitCounts(e));return-1!==t?t:tr.getClosestDecodedValue(e)}static sampleBitCounts(e){let t=ie.sum(e),r=new Int32Array(Ft.BARS_IN_MODULE),n=0,i=0;for(let o=0;o<Ft.MODULES_IN_CODEWORD;o++){let a=t/(2*Ft.MODULES_IN_CODEWORD)+o*t/Ft.MODULES_IN_CODEWORD;i+e[n]<=a&&(i+=e[n],n++),r[n]++}return r}static getDecodedCodewordValue(e){let t=tr.getBitValue(e);return-1===Ft.getCodeword(t)?-1:t}static getBitValue(e){let t=0;for(let r=0;r<e.length;r++)for(let n=0;n<e[r];n++)t=t<<1|(r%2==0?1:0);return Math.trunc(t)}static getClosestDecodedValue(e){let t=ie.sum(e),r=new Array(Ft.BARS_IN_MODULE);if(t>1)for(let o=0;o<r.length;o++)r[o]=Math.fround(e[o]/t);let n=oe.MAX_VALUE,i=-1;this.bSymbolTableReady||tr.initialize();for(let o=0;o<tr.RATIOS_TABLE.length;o++){let e=0,t=tr.RATIOS_TABLE[o];for(let i=0;i<Ft.BARS_IN_MODULE;i++){let o=Math.fround(t[i]-r[i]);if(e+=Math.fround(o*o),e>=n)break}e<n&&(n=e,i=Ft.SYMBOL_TABLE[o])}return i}}tr.bSymbolTableReady=!1,tr.RATIOS_TABLE=new Array(Ft.SYMBOL_TABLE.length).map(e=>new Array(Ft.BARS_IN_MODULE));class rr{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class nr{static parseLong(e,t=void 0){return parseInt(e,t)}}class ir extends l{}ir.kind="NullPointerException";class or{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,t,r){if(null==e)throw new ir;if(t<0||t>e.length||r<0||t+r>e.length||t+r<0)throw new g;if(0!==r)for(let n=0;n<r;n++)this.write(e[t+n])}flush(){}close(){}}class ar extends l{}class sr extends or{constructor(e=32){if(super(),this.count=0,e<0)throw new u("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let t=this.buf.length<<1;if(t-e<0&&(t=e),t<0){if(e<0)throw new ar;t=b.MAX_VALUE}this.buf=w.copyOfUint8Array(this.buf,t)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,t,r){if(t<0||t>e.length||r<0||t+r-e.length>0)throw new g;this.ensureCapacity(this.count+r),f.arraycopy(e,t,this.buf,this.count,r),this.count+=r}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return w.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?"string"==typeof e?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}function lr(){if("undefined"!=typeof window)return window.BigInt||null;if(void 0!==de)return de.BigInt||null;if("undefined"!=typeof self)return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let cr;function ur(e){if(void 0===cr&&(cr=lr()),null===cr)throw new Error("BigInt is not supported!");return cr(e)}function dr(){let e=[];e[0]=ur(1);let t=ur(900);e[1]=t;for(let r=2;r<16;r++)e[r]=e[r-1]*t;return e}!function(e){e[e.ALPHA=0]="ALPHA",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.PUNCT=3]="PUNCT",e[e.ALPHA_SHIFT=4]="ALPHA_SHIFT",e[e.PUNCT_SHIFT=5]="PUNCT_SHIFT"}($||($={}));class hr{static decode(e,t){let r=new T(""),n=E.ISO8859_1;r.enableDecoding(n);let i=1,o=e[i++],a=new rr;for(;i<e[0];){switch(o){case hr.TEXT_COMPACTION_MODE_LATCH:i=hr.textCompaction(e,i,r);break;case hr.BYTE_COMPACTION_MODE_LATCH:case hr.BYTE_COMPACTION_MODE_LATCH_6:i=hr.byteCompaction(o,e,n,i,r);break;case hr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[i++]);break;case hr.NUMERIC_COMPACTION_MODE_LATCH:i=hr.numericCompaction(e,i,r);break;case hr.ECI_CHARSET:E.getCharacterSetECIByValue(e[i++]);break;case hr.ECI_GENERAL_PURPOSE:i+=2;break;case hr.ECI_USER_DEFINED:i++;break;case hr.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=hr.decodeMacroBlock(e,i,a);break;case hr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case hr.MACRO_PDF417_TERMINATOR:throw new S;default:i--,i=hr.textCompaction(e,i,r)}if(!(i<e.length))throw S.getFormatInstance();o=e[i++]}if(0===r.length())throw S.getFormatInstance();let s=new Y(null,r.toString(),null,t);return s.setOther(a),s}static decodeMacroBlock(e,t,r){if(t+hr.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw S.getFormatInstance();let n=new Int32Array(hr.NUMBER_OF_SEQUENCE_CODEWORDS);for(let a=0;a<hr.NUMBER_OF_SEQUENCE_CODEWORDS;a++,t++)n[a]=e[t];r.setSegmentIndex(b.parseInt(hr.decodeBase900toBase10(n,hr.NUMBER_OF_SEQUENCE_CODEWORDS)));let i=new T;t=hr.textCompaction(e,t,i),r.setFileId(i.toString());let o=-1;for(e[t]===hr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(o=t+1);t<e[0];)switch(e[t]){case hr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(e[++t]){case hr.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let n=new T;t=hr.textCompaction(e,t+1,n),r.setFileName(n.toString());break;case hr.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let i=new T;t=hr.textCompaction(e,t+1,i),r.setSender(i.toString());break;case hr.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let o=new T;t=hr.textCompaction(e,t+1,o),r.setAddressee(o.toString());break;case hr.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let a=new T;t=hr.numericCompaction(e,t+1,a),r.setSegmentCount(b.parseInt(a.toString()));break;case hr.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let s=new T;t=hr.numericCompaction(e,t+1,s),r.setTimestamp(nr.parseLong(s.toString()));break;case hr.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let l=new T;t=hr.numericCompaction(e,t+1,l),r.setChecksum(b.parseInt(l.toString()));break;case hr.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let c=new T;t=hr.numericCompaction(e,t+1,c),r.setFileSize(nr.parseLong(c.toString()));break;default:throw S.getFormatInstance()}break;case hr.MACRO_PDF417_TERMINATOR:t++,r.setLastSegment(!0);break;default:throw S.getFormatInstance()}if(-1!==o){let n=t-o;r.isLastSegment()&&n--,r.setOptionalData(w.copyOfRange(e,o,o+n))}return t}static textCompaction(e,t,r){let n=new Int32Array(2*(e[0]-t)),i=new Int32Array(2*(e[0]-t)),o=0,a=!1;for(;t<e[0]&&!a;){let r=e[t++];if(r<hr.TEXT_COMPACTION_MODE_LATCH)n[o]=r/30,n[o+1]=r%30,o+=2;else switch(r){case hr.TEXT_COMPACTION_MODE_LATCH:n[o++]=hr.TEXT_COMPACTION_MODE_LATCH;break;case hr.BYTE_COMPACTION_MODE_LATCH:case hr.BYTE_COMPACTION_MODE_LATCH_6:case hr.NUMERIC_COMPACTION_MODE_LATCH:case hr.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case hr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case hr.MACRO_PDF417_TERMINATOR:t--,a=!0;break;case hr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n[o]=hr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,r=e[t++],i[o]=r,o++}}return hr.decodeTextCompaction(n,i,o,r),t}static decodeTextCompaction(e,t,r,n){let i=$.ALPHA,o=$.ALPHA,a=0;for(;a<r;){let r=e[a],s="";switch(i){case $.ALPHA:if(r<26)s=String.fromCharCode(65+r);else switch(r){case 26:s=" ";break;case hr.LL:i=$.LOWER;break;case hr.ML:i=$.MIXED;break;case hr.PS:o=i,i=$.PUNCT_SHIFT;break;case hr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[a]);break;case hr.TEXT_COMPACTION_MODE_LATCH:i=$.ALPHA}break;case $.LOWER:if(r<26)s=String.fromCharCode(97+r);else switch(r){case 26:s=" ";break;case hr.AS:o=i,i=$.ALPHA_SHIFT;break;case hr.ML:i=$.MIXED;break;case hr.PS:o=i,i=$.PUNCT_SHIFT;break;case hr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[a]);break;case hr.TEXT_COMPACTION_MODE_LATCH:i=$.ALPHA}break;case $.MIXED:if(r<hr.PL)s=hr.MIXED_CHARS[r];else switch(r){case hr.PL:i=$.PUNCT;break;case 26:s=" ";break;case hr.LL:i=$.LOWER;break;case hr.AL:i=$.ALPHA;break;case hr.PS:o=i,i=$.PUNCT_SHIFT;break;case hr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[a]);break;case hr.TEXT_COMPACTION_MODE_LATCH:i=$.ALPHA}break;case $.PUNCT:if(r<hr.PAL)s=hr.PUNCT_CHARS[r];else switch(r){case hr.PAL:i=$.ALPHA;break;case hr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[a]);break;case hr.TEXT_COMPACTION_MODE_LATCH:i=$.ALPHA}break;case $.ALPHA_SHIFT:if(i=o,r<26)s=String.fromCharCode(65+r);else switch(r){case 26:s=" ";break;case hr.TEXT_COMPACTION_MODE_LATCH:i=$.ALPHA}break;case $.PUNCT_SHIFT:if(i=o,r<hr.PAL)s=hr.PUNCT_CHARS[r];else switch(r){case hr.PAL:i=$.ALPHA;break;case hr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[a]);break;case hr.TEXT_COMPACTION_MODE_LATCH:i=$.ALPHA}}""!==s&&n.append(s),a++}}static byteCompaction(e,t,r,n,i){let o=new sr,a=0,s=0,l=!1;switch(e){case hr.BYTE_COMPACTION_MODE_LATCH:let e=new Int32Array(6),r=t[n++];for(;n<t[0]&&!l;)switch(e[a++]=r,s=900*s+r,r=t[n++],r){case hr.TEXT_COMPACTION_MODE_LATCH:case hr.BYTE_COMPACTION_MODE_LATCH:case hr.NUMERIC_COMPACTION_MODE_LATCH:case hr.BYTE_COMPACTION_MODE_LATCH_6:case hr.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case hr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case hr.MACRO_PDF417_TERMINATOR:n--,l=!0;break;default:if(a%5==0&&a>0){for(let e=0;e<6;++e)o.write(Number(ur(s)>>ur(8*(5-e))));s=0,a=0}}n===t[0]&&r<hr.TEXT_COMPACTION_MODE_LATCH&&(e[a++]=r);for(let t=0;t<a;t++)o.write(e[t]);break;case hr.BYTE_COMPACTION_MODE_LATCH_6:for(;n<t[0]&&!l;){let e=t[n++];if(e<hr.TEXT_COMPACTION_MODE_LATCH)a++,s=900*s+e;else switch(e){case hr.TEXT_COMPACTION_MODE_LATCH:case hr.BYTE_COMPACTION_MODE_LATCH:case hr.NUMERIC_COMPACTION_MODE_LATCH:case hr.BYTE_COMPACTION_MODE_LATCH_6:case hr.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case hr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case hr.MACRO_PDF417_TERMINATOR:n--,l=!0}if(a%5==0&&a>0){for(let e=0;e<6;++e)o.write(Number(ur(s)>>ur(8*(5-e))));s=0,a=0}}}return i.append(C.decode(o.toByteArray(),r)),n}static numericCompaction(e,t,r){let n=0,i=!1,o=new Int32Array(hr.MAX_NUMERIC_CODEWORDS);for(;t<e[0]&&!i;){let a=e[t++];if(t===e[0]&&(i=!0),a<hr.TEXT_COMPACTION_MODE_LATCH)o[n]=a,n++;else switch(a){case hr.TEXT_COMPACTION_MODE_LATCH:case hr.BYTE_COMPACTION_MODE_LATCH:case hr.BYTE_COMPACTION_MODE_LATCH_6:case hr.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case hr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case hr.MACRO_PDF417_TERMINATOR:t--,i=!0}(n%hr.MAX_NUMERIC_CODEWORDS===0||a===hr.NUMERIC_COMPACTION_MODE_LATCH||i)&&n>0&&(r.append(hr.decodeBase900toBase10(o,n)),n=0)}return t}static decodeBase900toBase10(e,t){let r=ur(0);for(let i=0;i<t;i++)r+=hr.EXP900[t-i-1]*ur(e[i]);let n=r.toString();if("1"!==n.charAt(0))throw new S;return n.substring(1)}}hr.TEXT_COMPACTION_MODE_LATCH=900,hr.BYTE_COMPACTION_MODE_LATCH=901,hr.NUMERIC_COMPACTION_MODE_LATCH=902,hr.BYTE_COMPACTION_MODE_LATCH_6=924,hr.ECI_USER_DEFINED=925,hr.ECI_GENERAL_PURPOSE=926,hr.ECI_CHARSET=927,hr.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,hr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,hr.MACRO_PDF417_TERMINATOR=922,hr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,hr.MAX_NUMERIC_CODEWORDS=15,hr.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,hr.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,hr.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,hr.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,hr.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,hr.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,hr.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,hr.PL=25,hr.LL=27,hr.AS=27,hr.ML=28,hr.AL=28,hr.PS=29,hr.PAL=29,hr.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",hr.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",hr.EXP900=lr()?dr():[],hr.NUMBER_OF_SEQUENCE_CODEWORDS=2;class pr{constructor(){}static decode(e,t,r,n,i,o,a){let s,l=new $t(e,t,r,n,i),c=null,u=null;for(let p=!0;;p=!1){if(null!=t&&(c=pr.getRowIndicatorColumn(e,l,t,!0,o,a)),null!=n&&(u=pr.getRowIndicatorColumn(e,l,n,!1,o,a)),s=pr.merge(c,u),null==s)throw I.getNotFoundInstance();let r=s.getBoundingBox();if(!p||null==r||!(r.getMinY()<l.getMinY()||r.getMaxY()>l.getMaxY()))break;l=r}s.setBoundingBox(l);let d=s.getBarcodeColumnCount()+1;s.setDetectionResultColumn(0,c),s.setDetectionResultColumn(d,u);let h=null!=c;for(let p=1;p<=d;p++){let t,r=h?p:d-p;if(void 0!==s.getDetectionResultColumn(r))continue;t=0===r||r===d?new Zt(l,0===r):new Kt(l),s.setDetectionResultColumn(r,t);let n=-1,i=n;for(let c=l.getMinY();c<=l.getMaxY();c++){if(n=pr.getStartColumn(s,r,c,h),n<0||n>l.getMaxX()){if(-1===i)continue;n=i}let u=pr.detectCodeword(e,l.getMinX(),l.getMaxX(),h,n,c,o,a);null!=u&&(t.setCodeword(c,u),i=n,o=Math.min(o,u.getWidth()),a=Math.max(a,u.getWidth()))}}return pr.createDecoderResult(s)}static merge(e,t){if(null==e&&null==t)return null;let r=pr.getBarcodeMetadata(e,t);if(null==r)return null;let n=$t.merge(pr.adjustBoundingBox(e),pr.adjustBoundingBox(t));return new Jt(r,n)}static adjustBoundingBox(e){if(null==e)return null;let t=e.getRowHeights();if(null==t)return null;let r=pr.getMax(t),n=0;for(let a of t)if(n+=r-a,a>0)break;let i=e.getCodewords();for(let a=0;n>0&&null==i[a];a++)n--;let o=0;for(let a=t.length-1;a>=0&&(o+=r-t[a],!(t[a]>0));a--);for(let a=i.length-1;o>0&&null==i[a];a--)o--;return e.getBoundingBox().addMissingRows(n,o,e.isLeft())}static getMax(e){let t=-1;for(let r of e)t=Math.max(t,r);return t}static getBarcodeMetadata(e,t){let r,n;return null==e||null==(r=e.getBarcodeMetadata())?null==t?null:t.getBarcodeMetadata():null==t||null==(n=t.getBarcodeMetadata())?r:r.getColumnCount()!==n.getColumnCount()&&r.getErrorCorrectionLevel()!==n.getErrorCorrectionLevel()&&r.getRowCount()!==n.getRowCount()?null:r}static getRowIndicatorColumn(e,t,r,n,i,o){let a=new Zt(t,n);for(let s=0;s<2;s++){let l=0===s?1:-1,c=Math.trunc(Math.trunc(r.getX()));for(let s=Math.trunc(Math.trunc(r.getY()));s<=t.getMaxY()&&s>=t.getMinY();s+=l){let t=pr.detectCodeword(e,0,e.getWidth(),n,c,s,i,o);null!=t&&(a.setCodeword(s,t),c=n?t.getStartX():t.getEndX())}}return a}static adjustCodewordCount(e,t){let r=t[0][1],n=r.getValue(),i=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-pr.getNumberOfECCodeWords(e.getBarcodeECLevel());if(0===n.length){if(i<1||i>Ft.MAX_CODEWORDS_IN_BARCODE)throw I.getNotFoundInstance();r.setValue(i)}else n[0]!==i&&r.setValue(i)}static createDecoderResult(e){let t=pr.createBarcodeMatrix(e);pr.adjustCodewordCount(e,t);let r=new Array,n=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),i=[],o=new Array;for(let s=0;s<e.getBarcodeRowCount();s++)for(let a=0;a<e.getBarcodeColumnCount();a++){let l=t[s][a+1].getValue(),c=s*e.getBarcodeColumnCount()+a;0===l.length?r.push(c):1===l.length?n[c]=l[0]:(o.push(c),i.push(l))}let a=new Array(i.length);for(let s=0;s<a.length;s++)a[s]=i[s];return pr.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),n,Ft.toIntArray(r),Ft.toIntArray(o),a)}static createDecoderResultFromAmbiguousValues(e,t,r,n,i){let o=new Int32Array(n.length),a=100;for(;a-- >0;){for(let e=0;e<o.length;e++)t[n[e]]=i[e][o[e]];try{return pr.decodeCodewords(t,e,r)}catch(Lx){if(!(Lx instanceof h))throw Lx}if(0===o.length)throw h.getChecksumInstance();for(let e=0;e<o.length;e++){if(o[e]<i[e].length-1){o[e]++;break}if(o[e]=0,e===o.length-1)throw h.getChecksumInstance()}}throw h.getChecksumInstance()}static createBarcodeMatrix(e){let t=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let n=0;n<t.length;n++)for(let e=0;e<t[n].length;e++)t[n][e]=new Qt;let r=0;for(let n of e.getDetectionResultColumns()){if(null!=n)for(let e of n.getCodewords())if(null!=e){let n=e.getRowNumber();if(n>=0){if(n>=t.length)continue;t[n][r].setValue(e.getValue())}}r++}return t}static isValidBarcodeColumn(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1}static getStartColumn(e,t,r,n){let i=n?1:-1,o=null;if(pr.isValidBarcodeColumn(e,t-i)&&(o=e.getDetectionResultColumn(t-i).getCodeword(r)),null!=o)return n?o.getEndX():o.getStartX();if(o=e.getDetectionResultColumn(t).getCodewordNearby(r),null!=o)return n?o.getStartX():o.getEndX();if(pr.isValidBarcodeColumn(e,t-i)&&(o=e.getDetectionResultColumn(t-i).getCodewordNearby(r)),null!=o)return n?o.getEndX():o.getStartX();let a=0;for(;pr.isValidBarcodeColumn(e,t-i);){t-=i;for(let r of e.getDetectionResultColumn(t).getCodewords())if(null!=r)return(n?r.getEndX():r.getStartX())+i*a*(r.getEndX()-r.getStartX());a++}return n?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,t,r,n,i,o,a,s){i=pr.adjustCodewordStartColumn(e,t,r,n,i,o);let l,c=pr.getModuleBitCount(e,t,r,n,i,o);if(null==c)return null;let u=ie.sum(c);if(n)l=i+u;else{for(let e=0;e<c.length/2;e++){let t=c[e];c[e]=c[c.length-1-e],c[c.length-1-e]=t}l=i,i=l-u}if(!pr.checkCodewordSkew(u,a,s))return null;let d=tr.getDecodedValue(c),h=Ft.getCodeword(d);return-1===h?null:new er(i,l,pr.getCodewordBucketNumber(d),h)}static getModuleBitCount(e,t,r,n,i,o){let a=i,s=new Int32Array(8),l=0,c=n?1:-1,u=n;for(;(n?a<r:a>=t)&&l<s.length;)e.get(a,o)===u?(s[l]++,a+=c):(l++,u=!u);return l===s.length||a===(n?r:t)&&l===s.length-1?s:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,t,r,n,i,o){let a=i,s=n?-1:1;for(let l=0;l<2;l++){for(;(n?a>=t:a<r)&&n===e.get(a,o);){if(Math.abs(i-a)>pr.CODEWORD_SKEW_SIZE)return i;a+=s}s=-s,n=!n}return a}static checkCodewordSkew(e,t,r){return t-pr.CODEWORD_SKEW_SIZE<=e&&e<=r+pr.CODEWORD_SKEW_SIZE}static decodeCodewords(e,t,r){if(0===e.length)throw S.getFormatInstance();let n=1<<t+1,i=pr.correctErrors(e,r,n);pr.verifyCodewordCount(e,n);let o=hr.decode(e,""+t);return o.setErrorsCorrected(i),o.setErasures(r.length),o}static correctErrors(e,t,r){if(null!=t&&t.length>r/2+pr.MAX_ERRORS||r<0||r>pr.MAX_EC_CODEWORDS)throw h.getChecksumInstance();return pr.errorCorrection.decode(e,r,t)}static verifyCodewordCount(e,t){if(e.length<4)throw S.getFormatInstance();let r=e[0];if(r>e.length)throw S.getFormatInstance();if(0===r){if(!(t<e.length))throw S.getFormatInstance();e[0]=e.length-t}}static getBitCountForCodeword(e){let t=new Int32Array(8),r=0,n=t.length-1;for(;!((1&e)!==r&&(r=1&e,n--,n<0));)t[n]++,e>>=1;return t}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return pr.getCodewordBucketNumber(pr.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let t=new Yt;for(let r=0;r<e.length;r++){t.format("Row %2d: ",r);for(let n=0;n<e[r].length;n++){let i=e[r][n];0===i.getValue().length?t.format("        ",null):t.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}t.format("%n")}return t.toString()}}pr.CODEWORD_SKEW_SIZE=2,pr.MAX_ERRORS=3,pr.MAX_EC_CODEWORDS=512,pr.errorCorrection=new Wt;class fr{decode(e,t=null){let r=fr.decode(e,t,!1);if(null==r||0===r.length||null==r[0])throw I.getNotFoundInstance();return r[0]}decodeMultiple(e,t=null){try{return fr.decode(e,t,!0)}catch(r){if(r instanceof S||r instanceof h)throw I.getNotFoundInstance();throw r}}static decode(e,t,r){const n=new Array,i=Vt.detectMultiple(e,t,r);for(const o of i.getPoints()){const e=pr.decode(i.getBits(),o[4],o[5],o[6],o[7],fr.getMinCodewordWidth(o),fr.getMaxCodewordWidth(o)),t=new z(e.getText(),e.getRawBytes(),void 0,o,U.PDF_417);t.putMetadata(X.ERROR_CORRECTION_LEVEL,e.getECLevel());const r=e.getOther();null!=r&&t.putMetadata(X.PDF417_EXTRA_METADATA,r),n.push(t)}return n.map(e=>e)}static getMaxWidth(e,t){return null==e||null==t?0:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMinWidth(e,t){return null==e||null==t?b.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(fr.getMaxWidth(e[0],e[4]),fr.getMaxWidth(e[6],e[2])*Ft.MODULES_IN_CODEWORD/Ft.MODULES_IN_STOP_PATTERN),Math.max(fr.getMaxWidth(e[1],e[5]),fr.getMaxWidth(e[7],e[3])*Ft.MODULES_IN_CODEWORD/Ft.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(fr.getMinWidth(e[0],e[4]),fr.getMinWidth(e[6],e[2])*Ft.MODULES_IN_CODEWORD/Ft.MODULES_IN_STOP_PATTERN),Math.min(fr.getMinWidth(e[1],e[5]),fr.getMinWidth(e[7],e[3])*Ft.MODULES_IN_CODEWORD/Ft.MODULES_IN_STOP_PATTERN)))}reset(){}}class gr extends l{}gr.kind="ReaderException";class mr{constructor(e,t){this.verbose=!0===e,t&&this.setHints(t)}decode(e,t){return t&&this.setHints(t),this.decodeInternal(e)}decodeWithState(e){return null!==this.readers&&void 0!==this.readers||this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const r=!t(e)&&!0===e.get(x.TRY_HARDER),n=t(e)?null:e.get(x.POSSIBLE_FORMATS),i=new Array;if(!t(n)){const t=n.some(e=>e===U.UPC_A||e===U.UPC_E||e===U.EAN_13||e===U.EAN_8||e===U.CODABAR||e===U.CODE_39||e===U.CODE_93||e===U.CODE_128||e===U.ITF||e===U.RSS_14||e===U.RSS_EXPANDED);t&&!r&&i.push(new lt(e,this.verbose)),n.includes(U.QR_CODE)&&i.push(new zt),n.includes(U.DATA_MATRIX)&&i.push(new vt),n.includes(U.AZTEC)&&i.push(new we),n.includes(U.PDF_417)&&i.push(new fr),t&&r&&i.push(new lt(e,this.verbose))}0===i.length&&(r||i.push(new lt(e,this.verbose)),i.push(new zt),i.push(new vt),i.push(new we),i.push(new fr),r&&i.push(new lt(e,this.verbose))),this.readers=i}reset(){if(null!==this.readers)for(const e of this.readers)e.reset()}decodeInternal(e){if(null===this.readers)throw new gr("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(e,this.hints)}catch(t){if(t instanceof gr)continue}throw new I("No MultiFormat Readers were able to detect the code.")}}class wr extends B{constructor(e=null,t=500){const r=new mr;r.setHints(e),super(r,t)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class br extends B{constructor(e=500){super(new fr,e)}}class vr extends B{constructor(e=500){super(new zt,e)}}var yr;!function(e){e[e.ERROR_CORRECTION=0]="ERROR_CORRECTION",e[e.CHARACTER_SET=1]="CHARACTER_SET",e[e.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",e[e.MIN_SIZE=3]="MIN_SIZE",e[e.MAX_SIZE=4]="MAX_SIZE",e[e.MARGIN=5]="MARGIN",e[e.PDF417_COMPACT=6]="PDF417_COMPACT",e[e.PDF417_COMPACTION=7]="PDF417_COMPACTION",e[e.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",e[e.AZTEC_LAYERS=9]="AZTEC_LAYERS",e[e.QR_VERSION=10]="QR_VERSION"}(yr||(yr={}));var xr=yr;class Sr{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Q(e,Int32Array.from([1])))}buildGenerator(e){const t=this.cachedGenerators;if(e>=t.length){let r=t[t.length-1];const n=this.field;for(let i=t.length;i<=e;i++){const e=r.multiply(new Q(n,Int32Array.from([1,n.exp(i-1+n.getGeneratorBase())])));t.push(e),r=e}}return t[e]}encode(e,t){if(0===t)throw new u("No error correction bytes");const r=e.length-t;if(r<=0)throw new u("No data bytes provided");const n=this.buildGenerator(t),i=new Int32Array(r);f.arraycopy(e,0,i,0,r);let o=new Q(this.field,i);o=o.multiplyByMonomial(t,1);const a=o.divide(n)[1].getCoefficients(),s=t-a.length;for(let l=0;l<s;l++)e[r+l]=0;f.arraycopy(a,0,e,r+s,a.length)}}class Er{constructor(){}static applyMaskPenaltyRule1(e){return Er.applyMaskPenaltyRule1Internal(e,!0)+Er.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let t=0;const r=e.getArray(),n=e.getWidth(),i=e.getHeight();for(let o=0;o<i-1;o++){const e=r[o];for(let i=0;i<n-1;i++){const n=e[i];n===e[i+1]&&n===r[o+1][i]&&n===r[o+1][i+1]&&t++}}return Er.N2*t}static applyMaskPenaltyRule3(e){let t=0;const r=e.getArray(),n=e.getWidth(),i=e.getHeight();for(let o=0;o<i;o++)for(let e=0;e<n;e++){const a=r[o];e+6<n&&1===a[e]&&0===a[e+1]&&1===a[e+2]&&1===a[e+3]&&1===a[e+4]&&0===a[e+5]&&1===a[e+6]&&(Er.isWhiteHorizontal(a,e-4,e)||Er.isWhiteHorizontal(a,e+7,e+11))&&t++,o+6<i&&1===r[o][e]&&0===r[o+1][e]&&1===r[o+2][e]&&1===r[o+3][e]&&1===r[o+4][e]&&0===r[o+5][e]&&1===r[o+6][e]&&(Er.isWhiteVertical(r,e,o-4,o)||Er.isWhiteVertical(r,e,o+7,o+11))&&t++}return t*Er.N3}static isWhiteHorizontal(e,t,r){t=Math.max(t,0),r=Math.min(r,e.length);for(let n=t;n<r;n++)if(1===e[n])return!1;return!0}static isWhiteVertical(e,t,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(let i=r;i<n;i++)if(1===e[i][t])return!1;return!0}static applyMaskPenaltyRule4(e){let t=0;const r=e.getArray(),n=e.getWidth(),i=e.getHeight();for(let a=0;a<i;a++){const e=r[a];for(let r=0;r<n;r++)1===e[r]&&t++}const o=e.getHeight()*e.getWidth();return Math.floor(10*Math.abs(2*t-o)/o)*Er.N4}static getDataMaskBit(e,t,r){let n,i;switch(e){case 0:n=r+t&1;break;case 1:n=1&r;break;case 2:n=t%3;break;case 3:n=(r+t)%3;break;case 4:n=Math.floor(r/2)+Math.floor(t/3)&1;break;case 5:i=r*t,n=(1&i)+i%3;break;case 6:i=r*t,n=(1&i)+i%3&1;break;case 7:i=r*t,n=i%3+(r+t&1)&1;break;default:throw new u("Invalid mask pattern: "+e)}return 0===n}static applyMaskPenaltyRule1Internal(e,t){let r=0;const n=t?e.getHeight():e.getWidth(),i=t?e.getWidth():e.getHeight(),o=e.getArray();for(let a=0;a<n;a++){let e=0,n=-1;for(let s=0;s<i;s++){const i=t?o[a][s]:o[s][a];i===n?e++:(e>=5&&(r+=Er.N1+(e-5)),e=1,n=i)}e>=5&&(r+=Er.N1+(e-5))}return r}}Er.N1=3,Er.N2=3,Er.N3=40,Er.N4=10;class _r{constructor(e,t){this.width=e,this.height=t;const r=new Array(t);for(let n=0;n!==t;n++)r[n]=new Uint8Array(e);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(e,t){return this.bytes[t][e]}getArray(){return this.bytes}setNumber(e,t,r){this.bytes[t][e]=r}setBoolean(e,t,r){this.bytes[t][e]=r?1:0}clear(e){for(const t of this.bytes)w.fill(t,e)}equals(e){if(!(e instanceof _r))return!1;const t=e;if(this.width!==t.width)return!1;if(this.height!==t.height)return!1;for(let r=0,n=this.height;r<n;++r){const e=this.bytes[r],n=t.bytes[r];for(let t=0,r=this.width;t<r;++t)if(e[t]!==n[t])return!1}return!0}toString(){const e=new T;for(let t=0,r=this.height;t<r;++t){const r=this.bytes[t];for(let t=0,n=this.width;t<n;++t)switch(r[t]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ")}e.append("\n")}return e.toString()}}class Cr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new T;return e.append("<<\n"),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append("\n ecLevel: "),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append("\n version: "),e.append(this.version?this.version.toString():"null"),e.append("\n maskPattern: "),e.append(this.maskPattern.toString()),this.matrix?(e.append("\n matrix:\n"),e.append(this.matrix.toString())):e.append("\n matrix: null\n"),e.append(">>\n"),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Cr.NUM_MASK_PATTERNS}}Cr.NUM_MASK_PATTERNS=8;class Ar extends l{}Ar.kind="WriterException";class Tr{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,t,r,n,i){Tr.clearMatrix(i),Tr.embedBasicPatterns(r,i),Tr.embedTypeInfo(t,n,i),Tr.maybeEmbedVersionInfo(r,i),Tr.embedDataBits(e,n,i)}static embedBasicPatterns(e,t){Tr.embedPositionDetectionPatternsAndSeparators(t),Tr.embedDarkDotAtLeftBottomCorner(t),Tr.maybeEmbedPositionAdjustmentPatterns(e,t),Tr.embedTimingPatterns(t)}static embedTypeInfo(e,t,r){const n=new v;Tr.makeTypeInfoBits(e,t,n);for(let i=0,o=n.getSize();i<o;++i){const e=n.get(n.getSize()-1-i),t=Tr.TYPE_INFO_COORDINATES[i],o=t[0],a=t[1];if(r.setBoolean(o,a,e),i<8){const t=r.getWidth()-i-1,n=8;r.setBoolean(t,n,e)}else{const t=8,n=r.getHeight()-7+(i-8);r.setBoolean(t,n,e)}}}static maybeEmbedVersionInfo(e,t){if(e.getVersionNumber()<7)return;const r=new v;Tr.makeVersionInfoBits(e,r);let n=17;for(let i=0;i<6;++i)for(let e=0;e<3;++e){const o=r.get(n);n--,t.setBoolean(i,t.getHeight()-11+e,o),t.setBoolean(t.getHeight()-11+e,i,o)}}static embedDataBits(e,t,r){let n=0,i=-1,o=r.getWidth()-1,a=r.getHeight()-1;for(;o>0;){for(6===o&&(o-=1);a>=0&&a<r.getHeight();){for(let i=0;i<2;++i){const s=o-i;if(!Tr.isEmpty(r.get(s,a)))continue;let l;n<e.getSize()?(l=e.get(n),++n):l=!1,255!==t&&Er.getDataMaskBit(t,s,a)&&(l=!l),r.setBoolean(s,a,l)}a+=i}i=-i,a+=i,o-=2}if(n!==e.getSize())throw new Ar("Not all bits consumed: "+n+"/"+e.getSize())}static findMSBSet(e){return 32-b.numberOfLeadingZeros(e)}static calculateBCHCode(e,t){if(0===t)throw new u("0 polynomial");const r=Tr.findMSBSet(t);for(e<<=r-1;Tr.findMSBSet(e)>=r;)e^=t<<Tr.findMSBSet(e)-r;return e}static makeTypeInfoBits(e,t,r){if(!Cr.isValidMaskPattern(t))throw new Ar("Invalid mask pattern");const n=e.getBits()<<3|t;r.appendBits(n,5);const i=Tr.calculateBCHCode(n,Tr.TYPE_INFO_POLY);r.appendBits(i,10);const o=new v;if(o.appendBits(Tr.TYPE_INFO_MASK_PATTERN,15),r.xor(o),15!==r.getSize())throw new Ar("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(e,t){t.appendBits(e.getVersionNumber(),6);const r=Tr.calculateBCHCode(e.getVersionNumber(),Tr.VERSION_INFO_POLY);if(t.appendBits(r,12),18!==t.getSize())throw new Ar("should not happen but we got: "+t.getSize())}static isEmpty(e){return 255===e}static embedTimingPatterns(e){for(let t=8;t<e.getWidth()-8;++t){const r=(t+1)%2;Tr.isEmpty(e.get(t,6))&&e.setNumber(t,6,r),Tr.isEmpty(e.get(6,t))&&e.setNumber(6,t,r)}}static embedDarkDotAtLeftBottomCorner(e){if(0===e.get(8,e.getHeight()-8))throw new Ar;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,t,r){for(let n=0;n<8;++n){if(!Tr.isEmpty(r.get(e+n,t)))throw new Ar;r.setNumber(e+n,t,0)}}static embedVerticalSeparationPattern(e,t,r){for(let n=0;n<7;++n){if(!Tr.isEmpty(r.get(e,t+n)))throw new Ar;r.setNumber(e,t+n,0)}}static embedPositionAdjustmentPattern(e,t,r){for(let n=0;n<5;++n){const i=Tr.POSITION_ADJUSTMENT_PATTERN[n];for(let o=0;o<5;++o)r.setNumber(e+o,t+n,i[o])}}static embedPositionDetectionPattern(e,t,r){for(let n=0;n<7;++n){const i=Tr.POSITION_DETECTION_PATTERN[n];for(let o=0;o<7;++o)r.setNumber(e+o,t+n,i[o])}}static embedPositionDetectionPatternsAndSeparators(e){const t=Tr.POSITION_DETECTION_PATTERN[0].length;Tr.embedPositionDetectionPattern(0,0,e),Tr.embedPositionDetectionPattern(e.getWidth()-t,0,e),Tr.embedPositionDetectionPattern(0,e.getWidth()-t,e);const r=8;Tr.embedHorizontalSeparationPattern(0,r-1,e),Tr.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),Tr.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);const n=7;Tr.embedVerticalSeparationPattern(n,0,e),Tr.embedVerticalSeparationPattern(e.getHeight()-n-1,0,e),Tr.embedVerticalSeparationPattern(n,e.getHeight()-n,e)}static maybeEmbedPositionAdjustmentPatterns(e,t){if(e.getVersionNumber()<2)return;const r=e.getVersionNumber()-1,n=Tr.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let i=0,o=n.length;i!==o;i++){const e=n[i];if(e>=0)for(let r=0;r!==o;r++){const i=n[r];i>=0&&Tr.isEmpty(t.get(i,e))&&Tr.embedPositionAdjustmentPattern(i-2,e-2,t)}}}}Tr.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Tr.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Tr.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Tr.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Tr.VERSION_INFO_POLY=7973,Tr.TYPE_INFO_POLY=1335,Tr.TYPE_INFO_MASK_PATTERN=21522;class kr{constructor(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ir{constructor(){}static calculateMaskPenalty(e){return Er.applyMaskPenaltyRule1(e)+Er.applyMaskPenaltyRule2(e)+Er.applyMaskPenaltyRule3(e)+Er.applyMaskPenaltyRule4(e)}static encode(e,t,r=null){let n=Ir.DEFAULT_BYTE_MODE_ENCODING;const i=null!==r&&void 0!==r.get(xr.CHARACTER_SET);i&&(n=r.get(xr.CHARACTER_SET).toString());const o=this.chooseMode(e,n),a=new v;if(o===It.BYTE&&(i||Ir.DEFAULT_BYTE_MODE_ENCODING!==n)){const e=E.getCharacterSetECIByName(n);void 0!==e&&this.appendECI(e,a)}this.appendModeInfo(o,a);const s=new v;let l;if(this.appendBytes(e,o,s,n),null!==r&&void 0!==r.get(xr.QR_VERSION)){const e=Number.parseInt(r.get(xr.QR_VERSION).toString(),10);l=Ct.getVersionForNumber(e);const n=this.calculateBitsNeeded(o,a,s,l);if(!this.willFit(n,l,t))throw new Ar("Data too big for requested version")}else l=this.recommendVersion(t,o,a,s);const c=new v;c.appendBitArray(a);const u=o===It.BYTE?s.getSizeInBytes():e.length;this.appendLengthInfo(u,l,o,c),c.appendBitArray(s);const d=l.getECBlocksForLevel(t),h=l.getTotalCodewords()-d.getTotalECCodewords();this.terminateBits(h,c);const p=this.interleaveWithECBytes(c,l.getTotalCodewords(),h,d.getNumBlocks()),f=new Cr;f.setECLevel(t),f.setMode(o),f.setVersion(l);const g=l.getDimensionForVersion(),m=new _r(g,g),w=this.chooseMaskPattern(p,t,l,m);return f.setMaskPattern(w),Tr.buildMatrix(p,t,l,w,m),f.setMatrix(m),f}static recommendVersion(e,t,r,n){const i=this.calculateBitsNeeded(t,r,n,Ct.getVersionForNumber(1)),o=this.chooseVersion(i,e),a=this.calculateBitsNeeded(t,r,n,o);return this.chooseVersion(a,e)}static calculateBitsNeeded(e,t,r,n){return t.getSize()+e.getCharacterCountBits(n)+r.getSize()}static getAlphanumericCode(e){return e<Ir.ALPHANUMERIC_TABLE.length?Ir.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,t=null){if(E.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return It.KANJI;let r=!1,n=!1;for(let i=0,o=e.length;i<o;++i){const t=e.charAt(i);if(Ir.isDigit(t))r=!0;else{if(-1===this.getAlphanumericCode(t.charCodeAt(0)))return It.BYTE;n=!0}}return n?It.ALPHANUMERIC:r?It.NUMERIC:It.BYTE}static isOnlyDoubleByteKanji(e){let t;try{t=C.encode(e,E.SJIS)}catch(n){return!1}const r=t.length;if(r%2!=0)return!1;for(let i=0;i<r;i+=2){const e=255&t[i];if((e<129||e>159)&&(e<224||e>235))return!1}return!0}static chooseMaskPattern(e,t,r,n){let i=Number.MAX_SAFE_INTEGER,o=-1;for(let a=0;a<Cr.NUM_MASK_PATTERNS;a++){Tr.buildMatrix(e,t,r,a,n);let s=this.calculateMaskPenalty(n);s<i&&(i=s,o=a)}return o}static chooseVersion(e,t){for(let r=1;r<=40;r++){const n=Ct.getVersionForNumber(r);if(Ir.willFit(e,n,t))return n}throw new Ar("Data too big")}static willFit(e,t,r){return t.getTotalCodewords()-t.getECBlocksForLevel(r).getTotalECCodewords()>=(e+7)/8}static terminateBits(e,t){const r=8*e;if(t.getSize()>r)throw new Ar("data bits cannot fit in the QR Code"+t.getSize()+" > "+r);for(let o=0;o<4&&t.getSize()<r;++o)t.appendBit(!1);const n=7&t.getSize();if(n>0)for(let o=n;o<8;o++)t.appendBit(!1);const i=e-t.getSizeInBytes();for(let o=0;o<i;++o)t.appendBits(1&o?17:236,8);if(t.getSize()!==r)throw new Ar("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,t,r,n,i,o){if(n>=r)throw new Ar("Block ID too large");const a=e%r,s=r-a,l=Math.floor(e/r),c=l+1,u=Math.floor(t/r),d=u+1,h=l-u,p=c-d;if(h!==p)throw new Ar("EC bytes mismatch");if(r!==s+a)throw new Ar("RS blocks mismatch");if(e!==(u+h)*s+(d+p)*a)throw new Ar("Total bytes mismatch");n<s?(i[0]=u,o[0]=h):(i[0]=d,o[0]=p)}static interleaveWithECBytes(e,t,r,n){if(e.getSizeInBytes()!==r)throw new Ar("Number of bits and data bytes does not match");let i=0,o=0,a=0;const s=new Array;for(let c=0;c<n;++c){const l=new Int32Array(1),u=new Int32Array(1);Ir.getNumDataBytesAndNumECBytesForBlockID(t,r,n,c,l,u);const d=l[0],h=new Uint8Array(d);e.toBytes(8*i,h,0,d);const p=Ir.generateECBytes(h,u[0]);s.push(new kr(h,p)),o=Math.max(o,d),a=Math.max(a,p.length),i+=l[0]}if(r!==i)throw new Ar("Data bytes does not match offset");const l=new v;for(let c=0;c<o;++c)for(const e of s){const t=e.getDataBytes();c<t.length&&l.appendBits(t[c],8)}for(let c=0;c<a;++c)for(const e of s){const t=e.getErrorCorrectionBytes();c<t.length&&l.appendBits(t[c],8)}if(t!==l.getSizeInBytes())throw new Ar("Interleaving error: "+t+" and "+l.getSizeInBytes()+" differ.");return l}static generateECBytes(e,t){const r=e.length,n=new Int32Array(r+t);for(let o=0;o<r;o++)n[o]=255&e[o];new Sr(J.QR_CODE_FIELD_256).encode(n,t);const i=new Uint8Array(t);for(let o=0;o<t;o++)i[o]=n[r+o];return i}static appendModeInfo(e,t){t.appendBits(e.getBits(),4)}static appendLengthInfo(e,t,r,n){const i=r.getCharacterCountBits(t);if(e>=1<<i)throw new Ar(e+" is bigger than "+((1<<i)-1));n.appendBits(e,i)}static appendBytes(e,t,r,n){switch(t){case It.NUMERIC:Ir.appendNumericBytes(e,r);break;case It.ALPHANUMERIC:Ir.appendAlphanumericBytes(e,r);break;case It.BYTE:Ir.append8BitBytes(e,r,n);break;case It.KANJI:Ir.appendKanjiBytes(e,r);break;default:throw new Ar("Invalid mode: "+t)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const t=Ir.getDigit(e);return t>=0&&t<=9}static appendNumericBytes(e,t){const r=e.length;let n=0;for(;n<r;){const i=Ir.getDigit(e.charAt(n));if(n+2<r){const r=Ir.getDigit(e.charAt(n+1)),o=Ir.getDigit(e.charAt(n+2));t.appendBits(100*i+10*r+o,10),n+=3}else if(n+1<r){const r=Ir.getDigit(e.charAt(n+1));t.appendBits(10*i+r,7),n+=2}else t.appendBits(i,4),n++}}static appendAlphanumericBytes(e,t){const r=e.length;let n=0;for(;n<r;){const i=Ir.getAlphanumericCode(e.charCodeAt(n));if(-1===i)throw new Ar;if(n+1<r){const r=Ir.getAlphanumericCode(e.charCodeAt(n+1));if(-1===r)throw new Ar;t.appendBits(45*i+r,11),n+=2}else t.appendBits(i,6),n++}}static append8BitBytes(e,t,r){let n;try{n=C.encode(e,r)}catch(i){throw new Ar(i)}for(let o=0,a=n.length;o!==a;o++){const e=n[o];t.appendBits(e,8)}}static appendKanjiBytes(e,t){let r;try{r=C.encode(e,E.SJIS)}catch(i){throw new Ar(i)}const n=r.length;for(let o=0;o<n;o+=2){const e=(255&r[o])<<8&4294967295|255&r[o+1];let n=-1;if(e>=33088&&e<=40956?n=e-33088:e>=57408&&e<=60351&&(n=e-49472),-1===n)throw new Ar("Invalid byte sequence");const i=192*(n>>8)+(255&n);t.appendBits(i,13)}}static appendECI(e,t){t.appendBits(It.ECI.getBits(),4),t.appendBits(e.getValue(),8)}}Ir.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ir.DEFAULT_BYTE_MODE_ENCODING=E.UTF8.getName();class Rr{write(e,t,r,n=null){if(0===e.length)throw new u("Found empty contents");if(t<0||r<0)throw new u("Requested dimensions are too small: "+t+"x"+r);let i=xt.L,o=Rr.QUIET_ZONE_SIZE;null!==n&&(void 0!==n.get(xr.ERROR_CORRECTION)&&(i=xt.fromString(n.get(xr.ERROR_CORRECTION).toString())),void 0!==n.get(xr.MARGIN)&&(o=Number.parseInt(n.get(xr.MARGIN).toString(),10)));const a=Ir.encode(e,i,n);return this.renderResult(a,t,r,o)}writeToDom(e,t,r,n,i=null){"string"==typeof e&&(e=document.querySelector(e));const o=this.write(t,r,n,i);e&&e.appendChild(o)}renderResult(e,t,r,n){const i=e.getMatrix();if(null===i)throw new te;const o=i.getWidth(),a=i.getHeight(),s=o+2*n,l=a+2*n,c=Math.max(t,s),u=Math.max(r,l),d=Math.min(Math.floor(c/s),Math.floor(u/l)),h=Math.floor((c-o*d)/2),p=Math.floor((u-a*d)/2),f=this.createSVGElement(c,u);for(let g=0,m=p;g<a;g++,m+=d)for(let e=0,t=h;e<o;e++,t+=d)if(1===i.get(e,g)){const e=this.createSvgRectElement(t,m,d,d);f.appendChild(e)}return f}createSVGElement(e,t){const r=document.createElementNS(Rr.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",t.toString()),r}createSvgRectElement(e,t,r,n){const i=document.createElementNS(Rr.SVG_NS,"rect");return i.setAttributeNS(null,"x",e.toString()),i.setAttributeNS(null,"y",t.toString()),i.setAttributeNS(null,"height",r.toString()),i.setAttributeNS(null,"width",n.toString()),i.setAttributeNS(null,"fill","#000000"),i}}Rr.QUIET_ZONE_SIZE=4,Rr.SVG_NS="http://www.w3.org/2000/svg";class Or{encode(e,t,r,n,i){if(0===e.length)throw new u("Found empty contents");if(t!==U.QR_CODE)throw new u("Can only encode QR_CODE, but got "+t);if(r<0||n<0)throw new u(`Requested dimensions are too small: ${r}x${n}`);let o=xt.L,a=Or.QUIET_ZONE_SIZE;null!==i&&(void 0!==i.get(xr.ERROR_CORRECTION)&&(o=xt.fromString(i.get(xr.ERROR_CORRECTION).toString())),void 0!==i.get(xr.MARGIN)&&(a=Number.parseInt(i.get(xr.MARGIN).toString(),10)));const s=Ir.encode(e,o,i);return Or.renderResult(s,r,n,a)}static renderResult(e,t,r,n){const i=e.getMatrix();if(null===i)throw new te;const o=i.getWidth(),a=i.getHeight(),s=o+2*n,l=a+2*n,c=Math.max(t,s),u=Math.max(r,l),d=Math.min(Math.floor(c/s),Math.floor(u/l)),h=Math.floor((c-o*d)/2),p=Math.floor((u-a*d)/2),f=new k(c,u);for(let g=0,m=p;g<a;g++,m+=d)for(let e=0,t=h;e<o;e++,t+=d)1===i.get(e,g)&&f.setRegion(t,m,d,d);return f}}Or.QUIET_ZONE_SIZE=4;class Nr{encode(e,t,r,n,i){let o;if(t!==U.QR_CODE)throw new u("No encoder available for format "+t);return o=new Or,o.encode(e,t,r,n,i)}}class Dr extends N{constructor(e,t,r,n,i,o,a,s){if(super(o,a),this.yuvData=e,this.dataWidth=t,this.dataHeight=r,this.left=n,this.top=i,n+o>t||i+a>r)throw new u("Crop rectangle does not fit within image data.");s&&this.reverseHorizontal(o,a)}getRow(e,t){if(e<0||e>=this.getHeight())throw new u("Requested row is outside the image: "+e);const r=this.getWidth();(null==t||t.length<r)&&(t=new Uint8ClampedArray(r));const n=(e+this.top)*this.dataWidth+this.left;return f.arraycopy(this.yuvData,n,t,0,r),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;const r=e*t,n=new Uint8ClampedArray(r);let i=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return f.arraycopy(this.yuvData,i,n,0,r),n;for(let o=0;o<t;o++){const t=o*e;f.arraycopy(this.yuvData,i,n,t,e),i+=this.dataWidth}return n}isCropSupported(){return!0}crop(e,t,r,n){return new Dr(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+t,r,n,!1)}renderThumbnail(){const e=this.getWidth()/Dr.THUMBNAIL_SCALE_FACTOR,t=this.getHeight()/Dr.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*t),n=this.yuvData;let i=this.top*this.dataWidth+this.left;for(let o=0;o<t;o++){const t=o*e;for(let o=0;o<e;o++){const e=255&n[i+o*Dr.THUMBNAIL_SCALE_FACTOR];r[t+o]=4278190080|65793*e}i+=this.dataWidth*Dr.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/Dr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Dr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,t){const r=this.yuvData;for(let n=0,i=this.top*this.dataWidth+this.left;n<t;n++,i+=this.dataWidth){const t=i+e/2;for(let n=i,o=i+e-1;n<t;n++,o--){const e=r[n];r[n]=r[o],r[o]=e}}}invert(){return new D(this)}}Dr.THUMBNAIL_SCALE_FACTOR=2;class Pr extends N{constructor(e,t,r,n,i,o,a){if(super(t,r),this.dataWidth=n,this.dataHeight=i,this.left=o,this.top=a,4===e.BYTES_PER_ELEMENT){const n=t*r,i=new Uint8ClampedArray(n);for(let t=0;t<n;t++){const r=e[t],n=r>>16&255,o=r>>7&510,a=255&r;i[t]=(n+o+a)/4&255}this.luminances=i}else this.luminances=e;if(void 0===n&&(this.dataWidth=t),void 0===i&&(this.dataHeight=r),void 0===o&&(this.left=0),void 0===a&&(this.top=0),this.left+t>this.dataWidth||this.top+r>this.dataHeight)throw new u("Crop rectangle does not fit within image data.")}getRow(e,t){if(e<0||e>=this.getHeight())throw new u("Requested row is outside the image: "+e);const r=this.getWidth();(null==t||t.length<r)&&(t=new Uint8ClampedArray(r));const n=(e+this.top)*this.dataWidth+this.left;return f.arraycopy(this.luminances,n,t,0,r),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;const r=e*t,n=new Uint8ClampedArray(r);let i=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return f.arraycopy(this.luminances,i,n,0,r),n;for(let o=0;o<t;o++){const t=o*e;f.arraycopy(this.luminances,i,n,t,e),i+=this.dataWidth}return n}isCropSupported(){return!0}crop(e,t,r,n){return new Pr(this.luminances,r,n,this.dataWidth,this.dataHeight,this.left+e,this.top+t)}invert(){return new D(this)}}class Mr extends E{static forName(e){return this.getCharacterSetECIByName(e)}}class jr{}jr.ISO_8859_1=E.ISO8859_1;class Lr{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Br{static singletonList(e){return[e]}static min(e,t){return e.sort(t)[0]}}class zr{constructor(e){this.previous=e}getPrevious(){return this.previous}}class Fr extends zr{constructor(e,t,r){super(e),this.value=t,this.bitCount=r}appendTo(e,t){e.appendBits(this.value,this.bitCount)}add(e,t){return new Fr(this,e,t)}addBinaryShift(e,t){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Fr(this,e,t)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+b.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Ur extends Fr{constructor(e,t,r){super(e,0,0),this.binaryShiftStart=t,this.binaryShiftByteCount=r}appendTo(e,t){for(let r=0;r<this.binaryShiftByteCount;r++)(0===r||31===r&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):0===r?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+r],8)}addBinaryShift(e,t){return new Ur(this,e,t)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Vr(e,t,r){return new Ur(e,t,r)}function Hr(e,t,r){return new Fr(e,t,r)}const Gr=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],qr=0,Wr=1,$r=2,Xr=3,Yr=4,Kr=new Fr(null,0,0),Qr=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])];function Zr(e){for(let t of e)w.fill(t,-1);return e[qr][Yr]=0,e[Wr][Yr]=0,e[Wr][qr]=28,e[Xr][Yr]=0,e[$r][Yr]=0,e[$r][qr]=15,e}const Jr=Zr(w.createInt32Array(6,6));class en{constructor(e,t,r,n){this.token=e,this.mode=t,this.binaryShiftByteCount=r,this.bitCount=n}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,t){let r=this.bitCount,n=this.token;if(e!==this.mode){let t=Qr[this.mode][e];n=Hr(n,65535&t,t>>16),r+=t>>16}let i=e===$r?4:5;return n=Hr(n,t,i),new en(n,e,0,r+i)}shiftAndAppend(e,t){let r=this.token,n=this.mode===$r?4:5;return r=Hr(r,Jr[this.mode][e],n),r=Hr(r,t,5),new en(r,this.mode,0,this.bitCount+n+5)}addBinaryShiftChar(e){let t=this.token,r=this.mode,n=this.bitCount;if(this.mode===Yr||this.mode===$r){let e=Qr[r][qr];t=Hr(t,65535&e,e>>16),n+=e>>16,r=qr}let i=0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8,o=new en(t,r,this.binaryShiftByteCount+1,n+i);return 2078===o.binaryShiftByteCount&&(o=o.endBinaryShift(e+1)),o}endBinaryShift(e){if(0===this.binaryShiftByteCount)return this;let t=this.token;return t=Vr(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new en(t,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let t=this.bitCount+(Qr[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=en.calculateBinaryShiftCost(e)-en.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount}toBitArray(e){let t=[];for(let n=this.endBinaryShift(e.length).token;null!==n;n=n.getPrevious())t.unshift(n);let r=new v;for(const n of t)n.appendTo(r,e);return r}toString(){return A.format("%s bits=%d bytes=%d",Gr[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}function tn(e){const t=A.getCharCode(" "),r=A.getCharCode("."),n=A.getCharCode(",");e[qr][t]=1;const i=A.getCharCode("Z"),o=A.getCharCode("A");for(let h=o;h<=i;h++)e[qr][h]=h-o+2;e[Wr][t]=1;const a=A.getCharCode("z"),s=A.getCharCode("a");for(let h=s;h<=a;h++)e[Wr][h]=h-s+2;e[$r][t]=1;const l=A.getCharCode("9"),c=A.getCharCode("0");for(let h=c;h<=l;h++)e[$r][h]=h-c+2;e[$r][n]=12,e[$r][r]=13;const u=["\0"," ","","","","","","","","\b","\t","\n","\v","\f","\r","","","","","","@","\\","^","_","`","|","~",""];for(let h=0;h<u.length;h++)e[Xr][A.getCharCode(u[h])]=h;const d=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let h=0;h<d.length;h++)A.getCharCode(d[h])>0&&(e[Yr][A.getCharCode(d[h])]=h);return e}en.INITIAL_STATE=new en(Kr,qr,0,0);const rn=tn(w.createInt32Array(5,256));class nn{constructor(e){this.text=e}encode(){const e=A.getCharCode(" "),t=A.getCharCode("\n");let r=Br.singletonList(en.INITIAL_STATE);for(let n=0;n<this.text.length;n++){let i,o=n+1<this.text.length?this.text[n+1]:0;switch(this.text[n]){case A.getCharCode("\r"):i=o===t?2:0;break;case A.getCharCode("."):i=o===e?3:0;break;case A.getCharCode(","):i=o===e?4:0;break;case A.getCharCode(":"):i=o===e?5:0;break;default:i=0}i>0?(r=nn.updateStateListForPair(r,n,i),n++):r=this.updateStateListForChar(r,n)}return Br.min(r,(e,t)=>e.getBitCount()-t.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,t){const r=[];for(let n of e)this.updateStateForChar(n,t,r);return nn.simplifyStates(r)}updateStateForChar(e,t,r){let n=255&this.text[t],i=rn[e.getMode()][n]>0,o=null;for(let a=0;a<=Yr;a++){let s=rn[a][n];if(s>0){if(null==o&&(o=e.endBinaryShift(t)),!i||a===e.getMode()||a===$r){const e=o.latchAndAppend(a,s);r.push(e)}if(!i&&Jr[e.getMode()][a]>=0){const e=o.shiftAndAppend(a,s);r.push(e)}}}if(e.getBinaryShiftByteCount()>0||0===rn[e.getMode()][n]){let n=e.addBinaryShiftChar(t);r.push(n)}}static updateStateListForPair(e,t,r){const n=[];for(let i of e)this.updateStateForPair(i,t,r,n);return this.simplifyStates(n)}static updateStateForPair(e,t,r,n){let i=e.endBinaryShift(t);if(n.push(i.latchAndAppend(Yr,r)),e.getMode()!==Yr&&n.push(i.shiftAndAppend(Yr,r)),3===r||4===r){let e=i.latchAndAppend($r,16-r).latchAndAppend($r,1);n.push(e)}if(e.getBinaryShiftByteCount()>0){let r=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);n.push(r)}}static simplifyStates(e){let t=[];for(const r of e){let e=!0;for(const n of t){if(n.isBetterThanOrEqualTo(r)){e=!1;break}r.isBetterThanOrEqualTo(n)&&(t=t.filter(e=>e!==n))}e&&t.push(r)}return t}}class on{constructor(){}static encodeBytes(e){return on.encode(e,on.DEFAULT_EC_PERCENT,on.DEFAULT_AZTEC_LAYERS)}static encode(e,t,r){let n,i,o,a,s,l=new nn(e).encode(),c=b.truncDivision(l.getSize()*t,100)+11,d=l.getSize()+c;if(r!==on.DEFAULT_AZTEC_LAYERS){if(n=r<0,i=Math.abs(r),i>(n?on.MAX_NB_BITS_COMPACT:on.MAX_NB_BITS))throw new u(A.format("Illegal value %s for layers",r));o=on.totalBitsInLayer(i,n),a=on.WORD_SIZE[i];let e=o-o%a;if(s=on.stuffBits(l,a),s.getSize()+c>e)throw new u("Data to large for user specified layer");if(n&&s.getSize()>64*a)throw new u("Data to large for user specified layer")}else{a=0,s=null;for(let e=0;;e++){if(e>on.MAX_NB_BITS)throw new u("Data too large for an Aztec code");if(n=e<=3,i=n?e+1:e,o=on.totalBitsInLayer(i,n),d>o)continue;null!=s&&a===on.WORD_SIZE[i]||(a=on.WORD_SIZE[i],s=on.stuffBits(l,a));let t=o-o%a;if(!(n&&s.getSize()>64*a)&&s.getSize()+c<=t)break}}let h,p=on.generateCheckWords(s,o,a),f=s.getSize()/a,g=on.generateModeMessage(n,i,f),m=(n?11:14)+4*i,w=new Int32Array(m);if(n){h=m;for(let e=0;e<w.length;e++)w[e]=e}else{h=m+1+2*b.truncDivision(b.truncDivision(m,2)-1,15);let e=b.truncDivision(m,2),t=b.truncDivision(h,2);for(let r=0;r<e;r++){let n=r+b.truncDivision(r,15);w[e-r-1]=t-n-1,w[e+r]=t+n+1}}let v=new k(h);for(let u=0,b=0;u<i;u++){let e=4*(i-u)+(n?9:12);for(let t=0;t<e;t++){let r=2*t;for(let n=0;n<2;n++)p.get(b+r+n)&&v.set(w[2*u+n],w[2*u+t]),p.get(b+2*e+r+n)&&v.set(w[2*u+t],w[m-1-2*u-n]),p.get(b+4*e+r+n)&&v.set(w[m-1-2*u-n],w[m-1-2*u-t]),p.get(b+6*e+r+n)&&v.set(w[m-1-2*u-t],w[2*u+n])}b+=8*e}if(on.drawModeMessage(v,n,h,g),n)on.drawBullsEye(v,b.truncDivision(h,2),5);else{on.drawBullsEye(v,b.truncDivision(h,2),7);for(let e=0,t=0;e<b.truncDivision(m,2)-1;e+=15,t+=16)for(let r=1&b.truncDivision(h,2);r<h;r+=2)v.set(b.truncDivision(h,2)-t,r),v.set(b.truncDivision(h,2)+t,r),v.set(r,b.truncDivision(h,2)-t),v.set(r,b.truncDivision(h,2)+t)}let y=new Lr;return y.setCompact(n),y.setSize(h),y.setLayers(i),y.setCodeWords(f),y.setMatrix(v),y}static drawBullsEye(e,t,r){for(let n=0;n<r;n+=2)for(let r=t-n;r<=t+n;r++)e.set(r,t-n),e.set(r,t+n),e.set(t-n,r),e.set(t+n,r);e.set(t-r,t-r),e.set(t-r+1,t-r),e.set(t-r,t-r+1),e.set(t+r,t-r),e.set(t+r,t-r+1),e.set(t+r,t+r-1)}static generateModeMessage(e,t,r){let n=new v;return e?(n.appendBits(t-1,2),n.appendBits(r-1,6),n=on.generateCheckWords(n,28,4)):(n.appendBits(t-1,5),n.appendBits(r-1,11),n=on.generateCheckWords(n,40,4)),n}static drawModeMessage(e,t,r,n){let i=b.truncDivision(r,2);if(t)for(let o=0;o<7;o++){let t=i-3+o;n.get(o)&&e.set(t,i-5),n.get(o+7)&&e.set(i+5,t),n.get(20-o)&&e.set(t,i+5),n.get(27-o)&&e.set(i-5,t)}else for(let o=0;o<10;o++){let t=i-5+o+b.truncDivision(o,5);n.get(o)&&e.set(t,i-7),n.get(o+10)&&e.set(i+7,t),n.get(29-o)&&e.set(t,i+7),n.get(39-o)&&e.set(i-7,t)}}static generateCheckWords(e,t,r){let n=e.getSize()/r,i=new Sr(on.getGF(r)),o=b.truncDivision(t,r),a=on.bitsToWords(e,r,o);i.encode(a,o-n);let s=t%r,l=new v;l.appendBits(0,s);for(const c of Array.from(a))l.appendBits(c,r);return l}static bitsToWords(e,t,r){let n,i,o=new Int32Array(r);for(n=0,i=e.getSize()/t;n<i;n++){let r=0;for(let i=0;i<t;i++)r|=e.get(n*t+i)?1<<t-i-1:0;o[n]=r}return o}static getGF(e){switch(e){case 4:return J.AZTEC_PARAM;case 6:return J.AZTEC_DATA_6;case 8:return J.AZTEC_DATA_8;case 10:return J.AZTEC_DATA_10;case 12:return J.AZTEC_DATA_12;default:throw new u("Unsupported word size "+e)}}static stuffBits(e,t){let r=new v,n=e.getSize(),i=(1<<t)-2;for(let o=0;o<n;o+=t){let a=0;for(let r=0;r<t;r++)(o+r>=n||e.get(o+r))&&(a|=1<<t-1-r);(a&i)===i?(r.appendBits(a&i,t),o--):0===(a&i)?(r.appendBits(1|a,t),o--):r.appendBits(a,t)}return r}static totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}on.DEFAULT_EC_PERCENT=33,on.DEFAULT_AZTEC_LAYERS=0,on.MAX_NB_BITS=32,on.MAX_NB_BITS_COMPACT=4,on.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class an{encode(e,t,r,n){return this.encodeWithHints(e,t,r,n,null)}encodeWithHints(e,t,r,n,i){let o=jr.ISO_8859_1,a=on.DEFAULT_EC_PERCENT,s=on.DEFAULT_AZTEC_LAYERS;return null!=i&&(i.has(xr.CHARACTER_SET)&&(o=Mr.forName(i.get(xr.CHARACTER_SET).toString())),i.has(xr.ERROR_CORRECTION)&&(a=b.parseInt(i.get(xr.ERROR_CORRECTION).toString())),i.has(xr.AZTEC_LAYERS)&&(s=b.parseInt(i.get(xr.AZTEC_LAYERS).toString()))),an.encodeLayers(e,t,r,n,o,a,s)}static encodeLayers(e,t,r,n,i,o,a){if(t!==U.AZTEC)throw new u("Can only encode AZTEC, but got "+t);let s=on.encode(A.getBytes(e,i),o,a);return an.renderResult(s,r,n)}static renderResult(e,t,r){let n=e.getMatrix();if(null==n)throw new te;let i=n.getWidth(),o=n.getHeight(),a=Math.max(t,i),s=Math.max(r,o),l=Math.min(a/i,s/o),c=(a-i*l)/2,u=(s-o*l)/2,d=new k(a,s);for(let h=0,p=u;h<o;h++,p+=l)for(let e=0,t=c;e<i;e++,t+=l)n.get(e,h)&&d.setRegion(t,p,l,l);return d}}e.AbstractExpandedDecoder=qe,e.ArgumentException=c,e.ArithmeticException=Z,e.AztecCode=Lr,e.AztecCodeReader=we,e.AztecCodeWriter=an,e.AztecDecoder=ne,e.AztecDetector=me,e.AztecDetectorResult=le,e.AztecEncoder=on,e.AztecHighLevelEncoder=nn,e.AztecPoint=ge,e.BarcodeFormat=U,e.Binarizer=p,e.BinaryBitmap=d,e.BitArray=v,e.BitMatrix=k,e.BitSource=gt,e.BrowserAztecCodeReader=be,e.BrowserBarcodeReader=ct,e.BrowserCodeReader=B,e.BrowserDatamatrixCodeReader=yt,e.BrowserMultiFormatReader=wr,e.BrowserPDF417Reader=br,e.BrowserQRCodeReader=vr,e.BrowserQRCodeSvgWriter=Rr,e.CharacterSetECI=E,e.ChecksumException=h,e.Code128Reader=ye,e.Code39Reader=xe,e.DataMatrixDecodedBitStreamParser=mt,e.DataMatrixReader=vt,e.DecodeHintType=x,e.DecoderResult=Y,e.DefaultGridSampler=pe,e.DetectorResult=se,e.EAN13Reader=ke,e.EncodeHintType=xr,e.Exception=l,e.FormatException=S,e.GenericGF=J,e.GenericGFPoly=Q,e.GlobalHistogramBinarizer=R,e.GridSampler=ue,e.GridSamplerInstance=fe,e.HTMLCanvasElementLuminanceSource=P,e.HybridBinarizer=O,e.ITFReader=Se,e.IllegalArgumentException=u,e.IllegalStateException=te,e.InvertedLuminanceSource=D,e.LuminanceSource=N,e.MathUtils=ie,e.MultiFormatOneDReader=lt,e.MultiFormatReader=mr,e.MultiFormatWriter=Nr,e.NotFoundException=I,e.OneDReader=ve,e.PDF417DecodedBitStreamParser=hr,e.PDF417DecoderErrorCorrection=Wt,e.PDF417Reader=fr,e.PDF417ResultMetadata=rr,e.PerspectiveTransform=he,e.PlanarYUVLuminanceSource=Dr,e.QRCodeByteMatrix=_r,e.QRCodeDataMask=At,e.QRCodeDecodedBitStreamParser=Rt,e.QRCodeDecoderErrorCorrectionLevel=xt,e.QRCodeDecoderFormatInformation=St,e.QRCodeEncoder=Ir,e.QRCodeEncoderQRCode=Cr,e.QRCodeMaskUtil=Er,e.QRCodeMatrixUtil=Tr,e.QRCodeMode=It,e.QRCodeReader=zt,e.QRCodeVersion=Ct,e.QRCodeWriter=Or,e.RGBLuminanceSource=Pr,e.RSS14Reader=st,e.RSSExpandedReader=ot,e.ReaderException=gr,e.ReedSolomonDecoder=re,e.ReedSolomonEncoder=Sr,e.ReedSolomonException=ee,e.Result=z,e.ResultMetadataType=X,e.ResultPoint=ae,e.StringUtils=A,e.UnsupportedOperationException=_,e.VideoInputDevice=M,e.WhiteRectangleDetector=ce,e.WriterException=Ar,e.ZXingArrays=w,e.ZXingCharset=Mr,e.ZXingInteger=b,e.ZXingStandardCharsets=jr,e.ZXingStringBuilder=T,e.ZXingStringEncoding=C,e.ZXingSystem=f,e.createAbstractExpandedDecoder=rt,Object.defineProperty(e,"__esModule",{value:!0})}(Cy.exports);var Ay=Cy.exports;const Ty=Re({__proto__:null,default:he(Ay)},[Ay]);var ky,Iy,Ry=function(){function e(e,t,r){if(this.formatMap=new Map([[dy.QR_CODE,Ay.BarcodeFormat.QR_CODE],[dy.AZTEC,Ay.BarcodeFormat.AZTEC],[dy.CODABAR,Ay.BarcodeFormat.CODABAR],[dy.CODE_39,Ay.BarcodeFormat.CODE_39],[dy.CODE_93,Ay.BarcodeFormat.CODE_93],[dy.CODE_128,Ay.BarcodeFormat.CODE_128],[dy.DATA_MATRIX,Ay.BarcodeFormat.DATA_MATRIX],[dy.MAXICODE,Ay.BarcodeFormat.MAXICODE],[dy.ITF,Ay.BarcodeFormat.ITF],[dy.EAN_13,Ay.BarcodeFormat.EAN_13],[dy.EAN_8,Ay.BarcodeFormat.EAN_8],[dy.PDF_417,Ay.BarcodeFormat.PDF_417],[dy.RSS_14,Ay.BarcodeFormat.RSS_14],[dy.RSS_EXPANDED,Ay.BarcodeFormat.RSS_EXPANDED],[dy.UPC_A,Ay.BarcodeFormat.UPC_A],[dy.UPC_E,Ay.BarcodeFormat.UPC_E],[dy.UPC_EAN_EXTENSION,Ay.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Ty)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=r;var n=this.createZXingFormats(e),i=new Map;i.set(Ay.DecodeHintType.POSSIBLE_FORMATS,n),i.set(Ay.DecodeHintType.TRY_HARDER,!1),this.hints=i}return e.prototype.decodeAsync=function(e){var t=this;return new Promise(function(r,n){try{r(t.decode(e))}catch(i){n(i)}})},e.prototype.decode=function(e){var t=new Ay.MultiFormatReader(this.verbose,this.hints),r=new Ay.HTMLCanvasElementLuminanceSource(e),n=new Ay.BinaryBitmap(new Ay.HybridBinarizer(r)),i=t.decode(n);return{text:i.text,format:by.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,r,n){e.set(t,r)}),e},e.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},e.prototype.createZXingFormats=function(e){for(var t=[],r=0,n=e;r<n.length;r++){var i=n[r];this.formatMap.has(i)?t.push(this.formatMap.get(i)):this.logger.logError("".concat(i," is not supported by")+"ZXingHtml5QrcodeShim")}return t},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Oy=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(jx){o(jx)}}function s(e){try{l(n.throw(e))}catch(jx){o(jx)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},Ny=function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(jx){s=[6,jx],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},Dy=function(){function e(t,r,n){if(this.formatMap=new Map([[dy.QR_CODE,"qr_code"],[dy.AZTEC,"aztec"],[dy.CODABAR,"codabar"],[dy.CODE_39,"code_39"],[dy.CODE_93,"code_93"],[dy.CODE_128,"code_128"],[dy.DATA_MATRIX,"data_matrix"],[dy.ITF,"itf"],[dy.EAN_13,"ean_13"],[dy.EAN_8,"ean_8"],[dy.PDF_417,"pdf417"],[dy.UPC_A,"upc_a"],[dy.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){return"BarcodeDetector"in window&&void 0!==new BarcodeDetector({formats:["qr_code"]})},e.prototype.decodeAsync=function(e){return Oy(this,void 0,void 0,function(){var t,r;return Ny(this,function(n){switch(n.label){case 0:return[4,this.detector.detect(e)];case 1:if(!(t=n.sent())||0===t.length)throw"No barcode or QR code detected.";return[2,{text:(r=this.selectLargestBarcode(t)).rawValue,format:by.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(e){for(var t=null,r=0,n=0,i=e;n<i.length;n++){var o=i[n],a=o.boundingBox.width*o.boundingBox.height;a>r&&(r=a,t=o)}if(!t)throw"No largest barcode found";return t},e.prototype.createBarcodeDetectorFormats=function(e){for(var t=[],r=0,n=e;r<n.length;r++){var i=n[r];this.formatMap.has(i)?t.push(this.formatMap.get(i)):this.logger.warn("".concat(i," is not supported by")+"BarcodeDetectorDelegate")}return{formats:t}},e.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},e.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,r,n){e.set(t,r)}),e},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Py=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(jx){o(jx)}}function s(e){try{l(n.throw(e))}catch(jx){o(jx)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},My=function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(jx){s=[6,jx],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},jy=function(){function e(e,t,r,n){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,t&&Dy.isSupported()?(this.primaryDecoder=new Dy(e,r,n),this.secondaryDecoder=new Ry(e,r,n)):this.primaryDecoder=new Ry(e,r,n)}return e.prototype.decodeAsync=function(e){return Py(this,void 0,void 0,function(){var t;return My(this,function(r){switch(r.label){case 0:t=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(t),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(e){return Py(this,void 0,void 0,function(){var t,r;return My(this,function(n){switch(n.label){case 0:t=performance.now(),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,n.sent()];case 3:if(r=n.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(t),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?!1===this.wasPrimaryDecoderUsedInLastDecode?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(e){if(this.verbose){var t=performance.now()-e;this.executionResults.push(t),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,t=0,r=this.executionResults;t<r.length;t++)e+=r[t];var n=e/this.executionResults.length;console.log("".concat(n," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Ly=(ky=function(e,t){return ky=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},ky(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}ky(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),By=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(jx){o(jx)}}function s(e){try{l(n.throw(e))}catch(jx){o(jx)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},zy=function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(jx){s=[6,jx],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},Fy=function(){function e(e,t){this.name=e,this.track=t}return e.prototype.isSupported=function(){return!!this.track.getCapabilities&&this.name in this.track.getCapabilities()},e.prototype.apply=function(e){var t={};t[this.name]=e;var r={advanced:[t]};return this.track.applyConstraints(r)},e.prototype.value=function(){var e=this.track.getSettings();return this.name in e?e[this.name]:null},e}(),Uy=function(e){function t(t,r){return e.call(this,t,r)||this}return Ly(t,e),t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(e){var t={};t[this.name]=e;var r={advanced:[t]};return this.track.applyConstraints(r)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var e=this.track.getCapabilities()[this.name];return{min:e.min,max:e.max,step:e.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Fy),Vy=function(e){function t(t){return e.call(this,"zoom",t)||this}return Ly(t,e),t}(Uy),Hy=function(e){function t(t){return e.call(this,"torch",t)||this}return Ly(t,e),t}(Fy),Gy=function(){function e(e){this.track=e}return e.prototype.zoomFeature=function(){return new Vy(this.track)},e.prototype.torchFeature=function(){return new Hy(this.track)},e}(),qy=function(){function e(e,t,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=t,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return e.prototype.createVideoElement=function(e){var t=document.createElement("video");return t.style.width="".concat(e,"px"),t.style.display="block",t.muted=!0,t.setAttribute("muted","true"),t.playsInline=!0,t},e.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var t=function(){var r=e.surface.clientWidth,n=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,n),e.surface.removeEventListener("playing",t)};this.surface.addEventListener("playing",t),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,i){return By(this,void 0,void 0,function(){var o,a;return zy(this,function(s){switch(s.label){case 0:return o=new e(t,r,i),n.aspectRatio?(a={aspectRatio:n.aspectRatio},[4,o.getFirstTrackOrFail().applyConstraints(a)]):[3,2];case 1:s.sent(),s.label=2;case 2:return o.setupSurface(),[2,o]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),0===this.mediaStream.getVideoTracks().length)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(e){this.failIfClosed();var t=this,r=function(){setTimeout(e,200),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(e){return By(this,void 0,void 0,function(){return zy(this,function(t){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(t,r){var n=e.mediaStream.getVideoTracks().length,i=0;e.mediaStream.getVideoTracks().forEach(function(r){e.mediaStream.removeTrack(r),r.stop(),++i>=n&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),t())})})},e.prototype.getCapabilities=function(){return new Gy(this.getFirstTrackOrFail())},e}(),Wy=function(){function e(e){this.mediaStream=e}return e.prototype.render=function(e,t,r){return By(this,void 0,void 0,function(){return zy(this,function(n){return[2,qy.create(e,this.mediaStream,t,r)]})})},e.create=function(t){return By(this,void 0,void 0,function(){var r;return zy(this,function(n){switch(n.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return[2,new e(n.sent())]}})})},e}(),$y=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(jx){o(jx)}}function s(e){try{l(n.throw(e))}catch(jx){o(jx)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},Xy=function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(jx){s=[6,jx],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},Yy=function(){function e(){}return e.failIfNotSupported=function(){return $y(this,void 0,void 0,function(){return Xy(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(e){return $y(this,void 0,void 0,function(){return Xy(this,function(t){return[2,Wy.create(e)]})})},e}(),Ky=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(jx){o(jx)}}function s(e){try{l(n.throw(e))}catch(jx){o(jx)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},Qy=function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(jx){s=[6,jx],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},Zy=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Ey.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Ey.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if("https:"===location.protocol)return!0;var e=location.host.split(":")[0];return"127.0.0.1"===e||"localhost"===e},e.getCamerasFromMediaDevices=function(){return Ky(this,void 0,void 0,function(){var e,t,r,n,i,o,a;return Qy(this,function(s){switch(s.label){case 0:return e=function(e){for(var t=0,r=e.getVideoTracks();t<r.length;t++){var n=r[t];n.enabled=!1,n.stop(),e.removeTrack(n)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return t=s.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=s.sent(),n=[],i=0,o=r;i<o.length;i++)"videoinput"===(a=o[i]).kind&&n.push({id:a.deviceId,label:a.label});return e(t),[2,n]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,t){MediaStreamTrack.getSources(function(t){for(var r=[],n=0,i=t;n<i.length;n++){var o=i[n];"video"===o.kind&&r.push({id:o.id,label:o.label})}e(r)})})},e}();!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"}(Iy||(Iy={}));var Jy,ex=function(){function e(){this.state=Iy.NOT_STARTED,this.onGoingTransactionNewState=Iy.UNKNOWN}return e.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},e.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Iy.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Iy.UNKNOWN,this.directTransition(e)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Iy.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Iy.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Iy.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(e){switch(this.state){case Iy.UNKNOWN:throw"Transition from unknown is not allowed";case Iy.NOT_STARTED:this.failIfNewStateIs(e,[Iy.PAUSED]);case Iy.SCANNING:case Iy.PAUSED:}},e.prototype.failIfNewStateIs=function(e,t){for(var r=0,n=t;r<n.length;r++)if(e===n[r])throw"Cannot transition from ".concat(this.state," to ").concat(e)},e}(),tx=function(){function e(e){this.stateManager=e}return e.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},e.prototype.directTransition=function(e){this.stateManager.directTransition(e)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Iy.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Iy.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Iy.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Iy.PAUSED},e}(),rx=function(){function e(){}return e.create=function(){return new tx(new ex)},e}(),nx=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ix=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nx(t,e),t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(wy),ox=function(){function e(e,t){this.logger=t,this.fps=ix.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=!0===e.disableFlip,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=ix.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?_y.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Sy(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),ax=function(){function e(e,t){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");var r;this.elementId=e,this.verbose=!1,"boolean"==typeof t?this.verbose=!0===t:t&&(r=t,this.verbose=!0===r.verbose,r.experimentalFeatures),this.logger=new xy(this.verbose),this.qrcode=new jy(this.getSupportedFormats(t),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=rx.create()}return e.prototype.start=function(e,t,r,n){var i,o=this;if(!e)throw"cameraIdOrConfig is required";if(!r||"function"!=typeof r)throw"qrCodeSuccessCallback is required and should be a function.";i=n||(this.verbose?this.logger.log:function(){});var a=ox.create(t,this.logger);this.clearElement();var s=!1;a.videoConstraints&&(a.isMediaStreamConstraintsValid()?s=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var l=s,c=document.getElementById(this.elementId);c.clientWidth?c.clientWidth:ix.DEFAULT_WIDTH,c.style.position="relative",this.shouldScan=!0,this.element=c;var u=this,d=this.stateManagerProxy.startTransition(Iy.SCANNING);return new Promise(function(t,n){var s=l?a.videoConstraints:u.createVideoConstraints(e);if(!s)return d.cancel(),void n("videoConstraints should be defined");var c={};l&&!a.aspectRatio||(c.aspectRatio=a.aspectRatio);var h={onRenderSurfaceReady:function(e,t){u.setupUi(e,t,a),u.isScanning=!0,u.foreverScan(a,r,i)}};Yy.failIfNotSupported().then(function(e){e.create(s).then(function(e){return e.render(o.element,c,h).then(function(e){u.renderedCamera=e,d.execute(),t(null)}).catch(function(e){d.cancel(),n(e)})}).catch(function(e){d.cancel(),n(Ey.errorGettingUserMedia(e))})}).catch(function(e){d.cancel(),n(Ey.cameraStreamingNotSupported())})})},e.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Iy.PAUSED),this.showPausedState(),(Sy(e)||!0!==e)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,t=function(){e.stateManagerProxy.directTransition(Iy.SCANNING),e.hidePausedState()};this.renderedCamera.isPaused()?this.renderedCamera.resume(function(){t()}):t()},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var t=this.stateManagerProxy.startTransition(Iy.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=this;return this.renderedCamera.close().then(function(){return r.renderedCamera=null,r.element&&(r.element.removeChild(r.canvasElement),r.canvasElement=null),function(){if(e.element){var t=document.getElementById(ix.SHADED_REGION_ELEMENT_ID);t&&e.element.removeChild(t)}}(),r.qrRegion&&(r.qrRegion=null),r.context&&(r.context=null),t.execute(),r.hidePausedState(),r.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(e,t){return this.scanFileV2(e,t).then(function(e){return e.decodedText})},e.prototype.scanFileV2=function(e,t){var r=this;if(!(e&&e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Sy(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(n,i){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var o=new Image;o.onload=function(){var e=o.width,a=o.height,s=document.getElementById(r.elementId),l=s.clientWidth?s.clientWidth:ix.DEFAULT_WIDTH,c=Math.max(s.clientHeight?s.clientHeight:a,ix.FILE_SCAN_MIN_HEIGHT),u=r.computeCanvasDrawConfig(e,a,l,c);if(t){var d=r.createCanvasElement(l,c,"qr-canvas-visible");d.style.display="inline-block",s.appendChild(d);var h=d.getContext("2d");if(!h)throw"Unable to get 2d context from canvas";h.canvas.width=l,h.canvas.height=c,h.drawImage(o,0,0,e,a,u.x,u.y,u.width,u.height)}var p=ix.FILE_SCAN_HIDDEN_CANVAS_PADDING,f=Math.max(o.width,u.width),g=Math.max(o.height,u.height),m=f+2*p,w=g+2*p,b=r.createCanvasElement(m,w);s.appendChild(b);var v=b.getContext("2d");if(!v)throw"Unable to get 2d context from canvas";v.canvas.width=m,v.canvas.height=w,v.drawImage(o,0,0,e,a,p,p,f,g);try{r.qrcode.decodeRobustlyAsync(b).then(function(e){n(vy.createFromQrcodeResult(e))}).catch(i)}catch(y){i("QR code parse error, error = ".concat(y))}},o.onerror=i,o.onabort=i,o.onstalled=i,o.onsuspend=i,o.src=URL.createObjectURL(e)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Zy.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(e){if(!e)throw"videoConstaints is required argument.";if(!_y.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},e.prototype.getRenderedCameraOrFail=function(){if(null==this.renderedCamera)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(e){var t=[dy.QR_CODE,dy.AZTEC,dy.CODABAR,dy.CODE_39,dy.CODE_93,dy.CODE_128,dy.DATA_MATRIX,dy.MAXICODE,dy.ITF,dy.EAN_13,dy.EAN_8,dy.PDF_417,dy.RSS_14,dy.RSS_EXPANDED,dy.UPC_A,dy.UPC_E,dy.UPC_EAN_EXTENSION];if(!e||"boolean"==typeof e)return t;if(!e.formatsToSupport)return t;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(0===e.formatsToSupport.length)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],n=0,i=e.formatsToSupport;n<i.length;n++){var o=i[n];gy(o)?r.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(0===r.length)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Sy(e))return!0;if(!Sy(e.useBarCodeDetectorIfSupported))return!1!==e.useBarCodeDetectorIfSupported;if(Sy(e.experimentalFeatures))return!0;var t=e.experimentalFeatures;return!!Sy(t.useBarCodeDetectorIfSupported)||!1!==t.useBarCodeDetectorIfSupported},e.prototype.validateQrboxSize=function(e,t,r){var n=this,i=r.qrbox;this.validateQrboxConfig(i);var o,a=this.toQrdimensions(e,t,i),s=function(e){if(e<ix.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ix.MIN_QR_BOX_SIZE,"px.")};s(a.width),s(a.height),a.width=((o=a.width)>e&&(n.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),o=e),o)},e.prototype.validateQrboxConfig=function(e){if("number"!=typeof e&&"function"!=typeof e&&(void 0===e.width||void 0===e.height))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(e,t,r){if("number"==typeof r)return{width:r,height:r};if("function"==typeof r)try{return r(e,t)}catch(n){throw new Error("qrbox config was passed as a function but it failed with unknown error"+n)}return r},e.prototype.setupUi=function(e,t,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,t,r);var n=Sy(r.qrbox)?{width:e,height:t}:r.qrbox;this.validateQrboxConfig(n);var i=this.toQrdimensions(e,t,n);i.height>t&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=r.isShadedBoxEnabled()&&i.height<=t,a={x:0,y:0,width:e,height:t},s=o?this.getShadedRegionBounds(e,t,i):a,l=this.createCanvasElement(s.width,s.height),c=l.getContext("2d",{willReadFrequently:!0});c.canvas.width=s.width,c.canvas.height=s.height,this.element.append(l),o&&this.possiblyInsertShadingElement(this.element,e,t,i),this.createScannerPausedUiElement(this.element),this.qrRegion=s,this.context=c,this.canvasElement=l},e.prototype.createScannerPausedUiElement=function(e){var t=document.createElement("div");t.innerText=Ey.scannerPaused(),t.style.display="none",t.style.position="absolute",t.style.top="0px",t.style.zIndex="1",t.style.background="rgba(9, 9, 9, 0.46)",t.style.color="#FFECEC",t.style.textAlign="center",t.style.width="100%",e.appendChild(t),this.scannerPausedUiElement=t},e.prototype.scanContext=function(e,t){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(t){return e(t.text,vy.createFromQrcodeResult(t)),r.possiblyUpdateShaders(!0),!0}).catch(function(e){r.possiblyUpdateShaders(!1);var n=Ey.codeParseError(e);return t(n,yy.createFrom(n)),!1})},e.prototype.foreverScan=function(e,t,r){var n=this;if(this.shouldScan&&this.renderedCamera){var i=this.renderedCamera.getSurface(),o=i.videoWidth/i.clientWidth,a=i.videoHeight/i.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var s=this.qrRegion.width*o,l=this.qrRegion.height*a,c=this.qrRegion.x*o,u=this.qrRegion.y*a;this.context.drawImage(i,c,u,s,l,0,0,this.qrRegion.width,this.qrRegion.height);var d=function(){n.foreverScanTimeout=setTimeout(function(){n.foreverScan(e,t,r)},n.getTimeoutFps(e.fps))};this.scanContext(t,r).then(function(i){i||!0===e.disableFlip?d():(n.context.translate(n.context.canvas.width,0),n.context.scale(-1,1),n.scanContext(t,r).finally(function(){d()}))}).catch(function(e){n.logger.logError("Error happend while scanning context",e),d()})}},e.prototype.createVideoConstraints=function(e){if("string"==typeof e)return{deviceId:{exact:e}};if("object"==typeof e){var t="facingMode",r="deviceId",n={user:!0,environment:!0},i="exact",o=function(e){if(e in n)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(e,"'")},a=Object.keys(e);if(1!==a.length)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(a.length," keys");var s=Object.keys(e)[0];if(s!==t&&s!==r)throw"Only '".concat(t,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(s!==t){var l=e.deviceId;if("string"==typeof l)return{deviceId:l};if("object"==typeof l){if(i in l)return{deviceId:{exact:l["".concat(i)]}};throw"'deviceId' should be string or object with"+" ".concat(i," as key.")}throw"Invalid type of 'deviceId' = ".concat(typeof l)}var c=e.facingMode;if("string"==typeof c){if(o(c))return{facingMode:c}}else{if("object"!=typeof c)throw"Invalid type of 'facingMode' = ".concat(typeof c);if(!(i in c))throw"'facingMode' should be string or object with"+" ".concat(i," as key.");if(o(c["".concat(i)]))return{facingMode:{exact:c["".concat(i)]}}}}throw"Invalid type of 'cameraIdOrConfig' = ".concat(typeof e)},e.prototype.computeCanvasDrawConfig=function(e,t,r,n){if(e<=r&&t<=n)return{x:(r-e)/2,y:(n-t)/2,width:e,height:t};var i=e,o=t;return e>r&&(t*=r/e,e=r),t>n&&(e*=n/t,t=n),this.logger.log("Image downsampled from "+"".concat(i,"X").concat(o)+" to ".concat(e,"X").concat(t,".")),this.computeCanvasDrawConfig(e,t,r,n)},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},e.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(t){t.style.backgroundColor=e?ix.BORDER_SHADER_MATCH_COLOR:ix.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(e,t,r){var n=e,i=t,o=document.createElement("canvas");return o.style.width="".concat(n,"px"),o.style.height="".concat(i,"px"),o.style.display="none",o.id=Sy(r)?"qr-canvas":r,o},e.prototype.getShadedRegionBounds=function(e,t,r){if(r.width>e||r.height>t)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(t-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(e,t,r,n){if(!(t-n.width<1||r-n.height<1)){var i=document.createElement("div");i.style.position="absolute";var o=(t-n.width)/2,a=(r-n.height)/2;if(i.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderTop="".concat(a,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderBottom="".concat(a,"px solid rgba(0, 0, 0, 0.48)"),i.style.boxSizing="border-box",i.style.top="0px",i.style.bottom="0px",i.style.left="0px",i.style.right="0px",i.id="".concat(ix.SHADED_REGION_ELEMENT_ID),t-n.width<11||r-n.height<11)this.hasBorderShaders=!1;else{var s=40;this.insertShaderBorders(i,s,5,-5,null,0,!0),this.insertShaderBorders(i,s,5,-5,null,0,!1),this.insertShaderBorders(i,s,5,null,-5,0,!0),this.insertShaderBorders(i,s,5,null,-5,0,!1),this.insertShaderBorders(i,5,45,-5,null,-5,!0),this.insertShaderBorders(i,5,45,null,-5,-5,!0),this.insertShaderBorders(i,5,45,-5,null,-5,!1),this.insertShaderBorders(i,5,45,null,-5,-5,!1),this.hasBorderShaders=!0}e.append(i)}},e.prototype.insertShaderBorders=function(e,t,r,n,i,o,a){var s=document.createElement("div");s.style.position="absolute",s.style.backgroundColor=ix.BORDER_SHADER_DEFAULT_COLOR,s.style.width="".concat(t,"px"),s.style.height="".concat(r,"px"),null!==n&&(s.style.top="".concat(n,"px")),null!==i&&(s.style.bottom="".concat(i,"px")),a?s.style.left="".concat(o,"px"):s.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(s),e.appendChild(s)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(e){return 1e3/e},e}();!function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"}(Jy||(Jy={}));const sx=({onClose:e})=>{const t=ce(),[r,n]=ae.useState(!1),[i,a]=ae.useState(""),s=ae.useRef(null),u="qr-reader";ae.useEffect(()=>(d(),()=>{p()}),[]);const d=async()=>{try{n(!0),a("");const e=new ax(u);s.current=e,await e.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},f,g)}catch(Lx){console.error("Error starting scanner:",Lx),a("Unable to access camera. Please check permissions."),n(!1)}},p=async()=>{if(s.current)try{await s.current.stop(),s.current.clear()}catch(Lx){console.error("Error stopping scanner:",Lx)}},f=r=>{console.log("QR Code detected:",r);let n="";if(r.startsWith("artifact:"))n=r.replace("artifact:","");else if(r.includes("/artifact/")){const e=r.match(/\/artifact\/(\d+)/);e&&(n=e[1])}else/^\d+$/.test(r)&&(n=r);n?(p(),e(),t.push(`/artifact/${n}`)):a("Invalid QR code. Please scan a museum artifact QR code.")},g=e=>{},m=async()=>{await p(),e()};return o.jsx("div",{className:"qr-scanner-overlay",children:o.jsxs("div",{className:"qr-scanner-container",children:[o.jsxs("div",{className:"qr-scanner-header",children:[o.jsx("h2",{children:"Scan Artifact QR Code"}),o.jsx(l,{fill:"clear",onClick:m,children:o.jsx(c,{icon:hb})})]}),o.jsx("div",{id:u,className:"qr-reader"}),i&&o.jsx("div",{className:"qr-scanner-error",children:o.jsx(h,{color:"danger",children:o.jsx("p",{children:i})})}),o.jsxs("div",{className:"qr-scanner-instructions",children:[o.jsx(c,{icon:Rb,className:"scan-icon"}),o.jsx("p",{children:"Point your camera at the QR code"}),o.jsx("p",{className:"small-text",children:"Make sure the QR code is well lit and centered"})]}),o.jsx(l,{expand:"block",color:"light",onClick:m,children:"Cancel"})]})})},lx=({count:e=1})=>o.jsx(o.Fragment,{children:Array.from({length:e}).map((e,t)=>o.jsxs(u,{className:"skeleton-card gallery-card",children:[o.jsx("div",{className:"skeleton skeleton-image"}),o.jsxs(d,{children:[o.jsx("div",{className:"skeleton skeleton-title"}),o.jsx("div",{className:"skeleton skeleton-text"}),o.jsx("div",{className:"skeleton skeleton-text",style:{width:"80%"}})]})]},t))}),cx=({filters:e,activeFilters:t,onFilterToggle:r,onClearAll:n})=>{const i=t.length>0;return o.jsxs("div",{className:"filter-chips-container",children:[o.jsx("div",{className:"filter-chips-scroll",children:e.map(e=>{const n=t.includes(e.id);return o.jsxs(D,{className:"filter-chip "+(n?"active":""),onClick:()=>r(e.id),children:[e.icon&&o.jsx(c,{icon:e.icon}),o.jsx(x,{children:e.label}),n&&o.jsx(c,{icon:hb})]},e.id)})}),i&&o.jsxs(D,{className:"clear-all-chip",onClick:n,color:"danger",children:[o.jsx(c,{icon:hb}),o.jsx(x,{children:"Clear All"})]})]})},ux=({count:e,searchTerm:t,hasFilters:r})=>0===e?o.jsxs("div",{className:"search-results-empty",children:[o.jsx(c,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='184' cy='232' r='24'/><path d='M256 288c45.42 0 83.62 29.53 95.71 69.83a8 8 0 01-7.87 10.17H168.15a8 8 0 01-7.82-10.17C172.32 317.53 210.53 288 256 288z'/><circle cx='328' cy='232' r='24'/><circle cx='256' cy='256' r='208' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",className:"empty-icon"}),o.jsx("h3",{children:"No artifacts found"}),t&&o.jsxs("p",{children:['No results for "',o.jsx("strong",{children:t}),'"']}),r&&o.jsx("p",{className:"empty-hint",children:"Try adjusting your filters or search term"})]}):o.jsxs("div",{className:"search-results-count",children:[o.jsx(c,{icon:Ob}),o.jsxs("span",{children:["Found ",o.jsx("strong",{children:e})," ",1===e?"artifact":"artifacts",t&&o.jsxs(o.Fragment,{children:[' for "',o.jsx("strong",{children:t}),'"']})]})]}),dx=({src:e,alt:t,className:r,style:n,onClick:i})=>{const[a,s]=ae.useState(!1),[l,c]=ae.useState(!1),u=ae.useRef(null);return ae.useEffect(()=>{if(!u.current)return;const e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(c(!0),e.disconnect())})},{rootMargin:"50px"});return e.observe(u.current),()=>{e.disconnect()}},[]),o.jsxs("div",{ref:u,className:r,style:{...n,position:"relative",overflow:"hidden",backgroundColor:"#f0f0f0"},onClick:i,children:[!a&&o.jsx("div",{className:"skeleton skeleton-image",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}),l&&o.jsx("img",{src:e,alt:t,loading:"lazy",onLoad:()=>s(!0),style:{width:"100%",height:"100%",objectFit:"cover",opacity:a?1:0,transition:"opacity 0.3s ease-in-out"}})]})},hx=()=>{const[e,t]=ae.useState([]);return ae.useEffect(()=>{const e=localStorage.getItem("favorites");if(e)try{t(JSON.parse(e))}catch(r){console.error("Error loading favorites:",r)}},[]),{favorites:e,toggleFavorite:e=>{t(t=>{const r=t.includes(e)?t.filter(t=>t!==e):[...t,e];return localStorage.setItem("favorites",JSON.stringify(r)),r})},isFavorite:t=>e.includes(t)}},px=async()=>{if(!ob())return console.warn("Supabase is not configured. Using fallback data."),[];try{const{data:e,error:t}=await ib.from("artifacts").select("*").order("created_at",{ascending:!1});return t?(console.error("Error fetching artifacts:",t),[]):e||[]}catch(e){return console.error("Error fetching artifacts:",e),[]}},fx=()=>{const e=ce(),{t:t,i18n:r}=me(),[n,i]=ae.useState(!1),[h,p]=ae.useState(""),[f,g]=ae.useState("all"),[m,S]=ae.useState([]),{toggleFavorite:E,isFavorite:_}=hx(),[I,N]=ae.useState([]),[D,U]=ae.useState(!0),[V,H]=ae.useState(null),G=r.language||"en",[q,W]=ae.useState([]);ae.useEffect(()=>{if(0===I.length)return;const e=new Set,t=new Set;I.forEach(r=>{r.category&&e.add(r.category),r.period&&t.add(r.period)});const r=[{id:"type-image",label:"Images",value:"image",icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M416 64H96a64.07 64.07 0 00-64 64v256a64.07 64.07 0 0064 64h320a64.07 64.07 0 0064-64V128a64.07 64.07 0 00-64-64zm-80 64a48 48 0 11-48 48 48.05 48.05 0 0148-48zM96 416a32 32 0 01-32-32v-67.63l94.84-84.3a48.06 48.06 0 0165.8 1.9l64.95 64.81L172.37 416zm352-32a32 32 0 01-32 32H217.63l121.42-121.42a47.72 47.72 0 0161.64-.16L448 333.84z'/></svg>"},{id:"type-video",label:"Videos",value:"video",icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M464 384.39a32 32 0 01-13-2.77 15.77 15.77 0 01-2.71-1.54l-82.71-58.22A32 32 0 01352 295.7v-79.4a32 32 0 0113.58-26.16l82.71-58.22a15.77 15.77 0 012.71-1.54 32 32 0 0145 29.24v192.76a32 32 0 01-32 32zM268 400H84a68.07 68.07 0 01-68-68V180a68.07 68.07 0 0168-68h184.48A67.6 67.6 0 01336 179.52V332a68.07 68.07 0 01-68 68z'/></svg>"},{id:"favorites",label:"Favorites",value:"favorites",icon:bb}];Array.from(e).forEach(e=>{r.push({id:`category-${e}`,label:e.charAt(0).toUpperCase()+e.slice(1),value:e,icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M204 240H68a36 36 0 01-36-36V68a36 36 0 0136-36h136a36 36 0 0136 36v136a36 36 0 01-36 36zM444 240H308a36 36 0 01-36-36V68a36 36 0 0136-36h136a36 36 0 0136 36v136a36 36 0 01-36 36zM204 480H68a36 36 0 01-36-36V308a36 36 0 0136-36h136a36 36 0 0136 36v136a36 36 0 01-36 36zM444 480H308a36 36 0 01-36-36V308a36 36 0 0136-36h136a36 36 0 0136 36v136a36 36 0 01-36 36z'/></svg>"})}),Array.from(t).slice(0,5).forEach(e=>{r.push({id:`period-${e}`,label:e,value:e,icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.13 48 48 141.13 48 256s93.13 208 208 208 208-93.13 208-208S370.87 48 256 48zm96 240h-96a16 16 0 01-16-16V128a16 16 0 0132 0v128h80a16 16 0 010 32z'/></svg>"})}),W(r)},[I]);const $=async()=>{U(!0),H(null);try{const e=await px();N(e)}catch(Lx){console.error("Error loading artifacts:",Lx),H("Failed to load artifacts")}finally{U(!1)}};ae.useEffect(()=>{$()},[]);const X=I.map(e=>({id:e.id,title:e[`name_${G}`]||e.name_en,description:e[`description_${G}`]||e.description_en,type:e.type,src:e.image_url,category:e.category,period:e.period})).filter(e=>{const t=e.title.toLowerCase().includes(h.toLowerCase())||e.description.toLowerCase().includes(h.toLowerCase());if(0===m.length){const r="all"===f||"images"===f&&"image"===e.type||"videos"===f&&"video"===e.type||"favorites"===f&&_(e.id);return t&&r}const r=m.some(t=>{if("type-image"===t)return"image"===e.type;if("type-video"===t)return"video"===e.type;if("favorites"===t)return _(e.id);if(t.startsWith("category-")){const r=t.replace("category-","");return e.category===r}if(t.startsWith("period-")){const r=t.replace("period-","");return e.period===r}return!1});return t&&r});return o.jsxs(a,{children:[o.jsx(C,{children:o.jsxs(A,{children:[o.jsx(k,{slot:"start",children:o.jsx(P,{})}),o.jsx(T,{style:{color:"#667eea",fontWeight:"600"},children:t("museumGallery")})]})}),o.jsxs(s,{fullscreen:!0,children:[o.jsx(M,{slot:"fixed",onIonRefresh:async e=>{await $(),e.detail.complete()},children:o.jsx(j,{})}),o.jsx(C,{collapse:"condense",children:o.jsx(A,{children:o.jsx(T,{size:"large",style:{color:"#667eea",fontWeight:"600"},children:"Gallery"})})}),o.jsx("div",{style:{padding:"16px 16px 0 16px"},children:o.jsx(L,{value:h,onIonInput:e=>p(e.detail.value),placeholder:t("searchArtifacts"),animated:!0})}),q.length>0&&o.jsx(cx,{filters:q,activeFilters:m,onFilterToggle:e=>{S(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},onClearAll:()=>{S([])}}),o.jsx("div",{style:{padding:"0 16px 16px 16px"},children:o.jsxs(v,{value:f,onIonChange:e=>g(e.detail.value),children:[o.jsx(y,{value:"all",children:o.jsx(x,{children:t("all")})}),o.jsx(y,{value:"favorites",children:o.jsx(x,{children:t("favorites")})}),o.jsx(y,{value:"images",children:o.jsx(x,{children:t("images")})}),o.jsx(y,{value:"videos",children:o.jsx(x,{children:t("videos")})})]})}),!D&&o.jsx(ux,{count:X.length,searchTerm:h,hasFilters:m.length>0||"all"!==f}),D&&o.jsx(B,{children:o.jsxs(z,{children:[o.jsx(F,{size:"6",sizeMd:"4",sizeLg:"3",children:o.jsx(lx,{count:1})}),o.jsx(F,{size:"6",sizeMd:"4",sizeLg:"3",children:o.jsx(lx,{count:1})}),o.jsx(F,{size:"6",sizeMd:"4",sizeLg:"3",children:o.jsx(lx,{count:1})}),o.jsx(F,{size:"6",sizeMd:"4",sizeLg:"3",children:o.jsx(lx,{count:1})}),o.jsx(F,{size:"6",sizeMd:"4",sizeLg:"3",children:o.jsx(lx,{count:1})}),o.jsx(F,{size:"6",sizeMd:"4",sizeLg:"3",children:o.jsx(lx,{count:1})})]})}),V&&o.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"var(--ion-color-danger)"},children:[o.jsx("p",{children:V}),o.jsx(l,{onClick:$,children:t("retry")||"Retry"})]}),!D&&!V&&X.length>0&&o.jsx(B,{children:o.jsx(z,{children:X.map(t=>o.jsx(F,{size:"6",sizeMd:"4",sizeLg:"3",children:o.jsxs(u,{className:"gallery-card",children:[o.jsx(w,{children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx(b,{onClick:()=>e.push(`/tabs/artifact/${t.id}`),style:{cursor:"pointer",flex:1},children:t.title}),o.jsx(l,{fill:"clear",onClick:e=>{e.stopPropagation(),E(t.id)},children:o.jsx(c,{icon:_(t.id)?bb:vb,color:_(t.id)?"danger":"medium"})})]})}),o.jsx(d,{children:"image"===t.type?o.jsx(dx,{src:t.src,alt:t.title,className:"gallery-media",onClick:()=>e.push(`/tabs/artifact/${t.id}`)}):o.jsx("div",{onClick:()=>e.push(`/tabs/artifact/${t.id}`),children:o.jsxs("video",{className:"gallery-media",controls:!0,playsInline:!0,children:[o.jsx("source",{src:t.src,type:"video/mp4"}),"Your browser does not support the video tag."]})})})]})},t.id))})}),o.jsx(R,{vertical:"bottom",horizontal:"end",slot:"fixed",children:o.jsx(O,{onClick:()=>i(!0),children:o.jsx(c,{icon:Ib})})}),n&&o.jsx(sx,{onClose:()=>i(!1)})]})]})};let gx=null,mx=!1;const wx=()=>{const{t:e,i18n:r}=me(),n=ae.useRef(null),[i,l]=ae.useState(""),[c,h]=ae.useState(!0),[f,m]=ae.useState([]),[v,y]=ae.useState(!0),S=ae.useRef(null),E=ae.useRef(null),_=r.language||"en";ae.useEffect(()=>{(async()=>{y(!0);try{const e=await(async()=>{if(!ob())return console.warn("Supabase is not configured. Using fallback data."),[];try{const{data:e,error:t}=await ib.from("exhibits_3d").select("*").order("created_at",{ascending:!0});return t?(console.error("Error fetching 3D exhibits:",t),[]):e&&0!==e.length?e||[]:(console.warn("No 3D exhibits in database, using fallback data"),[{id:"fallback-1",name_en:"Ancient Globe",name_it:"Globo Antico",name_es:"Globo Antiguo",name_fr:"Globe Ancien",description_en:"A spherical artifact",description_it:"Un artefatto sferico",description_es:"Un artefacto esfrico",description_fr:"Un artefact sphrique",model_type:"primitive",model_data:{shape:"sphere",color:"#8B7355",size:2}},{id:"fallback-2",name_en:"Stone Cube",name_it:"Cubo di Pietra",name_es:"Cubo de Piedra",name_fr:"Cube de Pierre",description_en:"Carved stone cube",description_it:"Cubo di pietra scolpito",description_es:"Cubo de piedra tallado",description_fr:"Cube de pierre sculpt",model_type:"primitive",model_data:{shape:"box",color:"#696969",size:2}}])}catch(e){return console.error("Error fetching 3D exhibits:",e),[]}})();m(e),e.length>0&&!i&&l(e[0].id)}catch(Lx){console.error("Error loading exhibits:",Lx)}finally{y(!1)}})()},[]),ae.useEffect(()=>{n.current&&!v&&(async()=>{const e=await(async()=>(gx||(h(!0),gx=await U(()=>t.import("./babylon-vendor-legacy-kpcaxKip.js").then(e=>e.i),void 0),mx||(await U(()=>t.import("./babylon-vendor-legacy-kpcaxKip.js").then(e=>e.d),void 0),mx=!0),h(!1)),gx))();if(!n.current)return;const r=new e.Engine(n.current,!0,{preserveDrawingBuffer:!0,stencil:!0,adaptToDeviceRatio:!0});S.current=r,r.setHardwareScalingLevel(1/window.devicePixelRatio);const o=new e.Scene(r);E.current=o,o.clearColor=new e.Color4(.1,.1,.15,1);const a=new e.ArcRotateCamera("camera",Math.PI/2,Math.PI/2.5,4,e.Vector3.Zero(),o);a.attachControl(n.current,!0),a.lowerRadiusLimit=2,a.upperRadiusLimit=10,new e.HemisphericLight("light",new e.Vector3(0,1,0),o).intensity=.7,new e.DirectionalLight("dirLight",new e.Vector3(-1,-2,-1),o).intensity=.5,O(i,o),r.runRenderLoop(()=>{o.render()}),setTimeout(()=>{r.resize()},100);const s=()=>{r.resize()};window.addEventListener("resize",s)})()},[v]),ae.useEffect(()=>{if(E.current&&i){E.current.meshes.forEach(e=>{"camera"!==e.name&&e.dispose()});const r=f.find(e=>e.id===i);var e,t;r&&("gltf"===r.model_type&&null!==(e=r.model_data)&&void 0!==e&&e.url?R(r.model_data.url,E.current):"primitive"===r.model_type&&null!==(t=r.model_data)&&void 0!==t&&t.shape&&O(r.model_data.shape,E.current))}},[i,f]);const R=async(e,t)=>{if(gx)try{const r=await gx.SceneLoader.ImportMeshAsync("","",e,t);if(r.meshes.length>0){const e=r.meshes[0],n=e.getHierarchyBoundingVectors(),i=n.max.subtract(n.min),o=2/Math.max(i.x,i.y,i.z);e.scaling=new gx.Vector3(o,o,o),e.position=gx.Vector3.Zero(),t.registerBeforeRender(()=>{e.rotation.y+=.005})}}catch(r){console.error("Error loading model:",r),O("sphere",t)}},O=(e,t)=>{if(!gx)return;let r;switch(e){case"sphere":r=gx.MeshBuilder.CreateSphere("sphere",{diameter:2,segments:32},t);break;case"box":r=gx.MeshBuilder.CreateBox("box",{size:2},t);break;case"cylinder":r=gx.MeshBuilder.CreateCylinder("cylinder",{height:3,diameter:1},t);break;default:r=gx.MeshBuilder.CreateSphere("sphere",{diameter:2},t)}const n=new gx.StandardMaterial("material",t);return n.diffuseColor=new gx.Color3(.8,.7,.5),n.specularColor=new gx.Color3(.2,.2,.2),n.emissiveColor=new gx.Color3(.1,.1,.1),r.material=n,t.registerBeforeRender(()=>{r.rotation.y+=.005}),r};return o.jsxs(a,{children:[o.jsx(C,{children:o.jsxs(A,{children:[o.jsx(k,{slot:"start",children:o.jsx(P,{})}),o.jsx(T,{children:e("exhibits3d")})]})}),o.jsxs(s,{fullscreen:!0,children:[o.jsx(C,{collapse:"condense",children:o.jsx(A,{children:o.jsx(T,{size:"large",children:"3D Exhibits"})})}),o.jsx("div",{className:"exhibits-container",children:v?o.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"40px"},children:o.jsx(g,{name:"crescent"})}):o.jsxs(o.Fragment,{children:[o.jsxs(u,{children:[o.jsx(w,{children:o.jsx(b,{children:e("interactive3dViewer")})}),o.jsxs(d,{children:[c&&o.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},children:o.jsx(g,{name:"crescent"})}),o.jsx("canvas",{ref:n,className:"babylon-canvas",style:{width:"100%",height:"400px",borderRadius:"8px",touchAction:"none",display:c?"none":"block"}}),o.jsx("p",{style:{marginTop:"12px",textAlign:"center"},children:e("useMouseToRotate")||"Use mouse/touch to rotate and zoom"})]})]}),o.jsxs(u,{children:[o.jsx(w,{children:o.jsx(b,{children:e("selectExhibit")})}),o.jsx(d,{children:0===f.length?o.jsx("p",{style:{textAlign:"center",padding:"20px"},children:e("noExhibitsFound")||"No exhibits found"}):o.jsx(I,{children:f.map(e=>{const t=e[`name_${_}`]||e.name_en,r=e[`description_${_}`]||e.description_en;return o.jsx(p,{button:!0,onClick:()=>l(e.id),color:i===e.id?"primary":"",children:o.jsxs(x,{children:[o.jsx("h2",{children:t}),o.jsx("p",{children:r})]})},e.id)})})})]})]})})]})]})},bx=()=>{const{t:e}=me(),t=ae.useRef(null),[r,n]=ae.useState(!1),[i,f]=ae.useState(!1),g=ae.useRef(null),m=ae.useRef(null);ae.useEffect(()=>{if(v(),!t.current)return;const e=new ye(t.current,!0,{preserveDrawingBuffer:!0,stencil:!0,adaptToDeviceRatio:!0});g.current=e,e.setHardwareScalingLevel(1/window.devicePixelRatio);const r=new xe(e);m.current=r,r.clearColor=new Se(.05,.05,.1,1),new Ee("camera",Math.PI/2,Math.PI/2.5,5,_e.Zero(),r).attachControl(t.current,!0),new Ce("light",new _e(0,1,0),r).intensity=.8;const n=Ae.CreateTorusKnot("artifact",{radius:.5,tube:.2,radialSegments:128,tubularSegments:64},r),i=new Te("artifactMat",r);i.diffuseColor=new ke(.9,.7,.3),i.specularColor=new ke(1,1,1),i.specularPower=32,n.material=i,r.registerBeforeRender(()=>{n.rotation.y+=.01}),e.runRenderLoop(()=>{r.render()}),setTimeout(()=>{e.resize()},100);const o=()=>{e.resize()};return window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o),r.dispose(),e.dispose()}},[]);const v=async()=>{if("xr"in navigator)try{const e=await navigator.xr.isSessionSupported("immersive-ar");n(e)}catch(e){console.log("AR not supported:",e),n(!1)}else n(!1)};return o.jsxs(a,{children:[o.jsx(C,{children:o.jsxs(A,{children:[o.jsx(k,{slot:"start",children:o.jsx(P,{})}),o.jsx(T,{children:e("arView")})]})}),o.jsxs(s,{fullscreen:!0,children:[o.jsx(C,{collapse:"condense",children:o.jsx(A,{children:o.jsx(T,{size:"large",children:"AR View"})})}),o.jsxs("div",{className:"ar-container",children:[o.jsxs(u,{children:[o.jsx(w,{children:o.jsx(b,{children:"Augmented Reality Viewer"})}),o.jsxs(d,{children:[o.jsx("canvas",{ref:t,className:"ar-canvas",style:{width:"100%",height:"400px",borderRadius:"8px",touchAction:"none"}}),o.jsx("div",{style:{marginTop:"16px",textAlign:"center"},children:r?o.jsxs(l,{expand:"block",onClick:async()=>{if(m.current&&r)try{const e=await m.current.createDefaultXRExperienceAsync({uiOptions:{sessionMode:"immersive-ar"}});e.baseExperience&&(f(!0),await e.baseExperience.enterXRAsync("immersive-ar","unbounded",e.renderTarget),e.baseExperience.onStateChangedObservable.add(e=>{e===Ie.NOT_IN_XR&&f(!1)}))}catch(e){console.error("Error starting AR session:",e),alert("Could not start AR session. Make sure you are using HTTPS and have camera permissions.")}else alert("AR is not supported on this device/browser")},disabled:i,children:[o.jsx(c,{slot:"start",icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='272' r='64'/><path d='M432 144h-59c-3 0-6.72-1.94-9.62-5l-25.94-40.94a15.52 15.52 0 00-1.37-1.85C327.11 85.76 315 80 302 80h-92c-13 0-25.11 5.76-34.07 16.21a15.52 15.52 0 00-1.37 1.85l-25.94 41c-2.22 2.42-5.34 5-8.62 5v-8a16 16 0 00-16-16h-24a16 16 0 00-16 16v8h-4a48.05 48.05 0 00-48 48V384a48.05 48.05 0 0048 48h352a48.05 48.05 0 0048-48V192a48.05 48.05 0 00-48-48zM256 368a96 96 0 1196-96 96.11 96.11 0 01-96 96z'/></svg>"}),i?"AR Session Active":"Start AR Experience"]}):o.jsx(h,{color:"warning",children:o.jsxs("p",{children:[o.jsx(c,{icon:Sb})," AR is not supported on this device/browser"]})})})]})]}),o.jsxs(u,{children:[o.jsx(w,{children:o.jsx(b,{children:"AR Requirements"})}),o.jsx(d,{children:o.jsxs(I,{children:[o.jsx(p,{children:o.jsxs(x,{children:[o.jsx("h3",{children:"HTTPS Required"}),o.jsx("p",{children:"AR features require a secure connection (HTTPS)"})]})}),o.jsx(p,{children:o.jsxs(x,{children:[o.jsx("h3",{children:"Camera Permission"}),o.jsx("p",{children:"Allow camera access when prompted"})]})}),o.jsx(p,{children:o.jsxs(x,{children:[o.jsx("h3",{children:"Compatible Device"}),o.jsx("p",{children:"AR works on ARCore (Android) and ARKit (iOS) devices"})]})}),o.jsx(p,{children:o.jsxs(x,{children:[o.jsx("h3",{children:"Modern Browser"}),o.jsx("p",{children:"Chrome, Safari, or Edge with WebXR support"})]})})]})})]}),o.jsxs(u,{children:[o.jsx(w,{children:o.jsx(b,{children:"How to Use AR"})}),o.jsx(d,{children:o.jsxs("ol",{children:[o.jsx("li",{children:'Click "Start AR Experience" button'}),o.jsx("li",{children:"Grant camera permissions when prompted"}),o.jsx("li",{children:"Point your camera at a flat surface"}),o.jsx("li",{children:"The 3D artifact will appear in your space"}),o.jsx("li",{children:"Walk around to view from different angles"})]})})]})]})]})]})},vx=()=>{const{t:e,i18n:t}=me(),[r,n]=ae.useState([]),[i,h]=ae.useState(!0),[f,v]=ae.useState(0),[y,S]=ae.useState(null),[E,_]=ae.useState(0),[I,R]=ae.useState(!1),[O,N]=ae.useState([]),[D,M]=ae.useState(!1),j=t.language||"en";ae.useEffect(()=>{(async()=>{h(!0);try{const e=await(async()=>{if(!ob())return console.warn("Supabase is not configured. Using fallback data."),[];try{const{data:e,error:t}=await ib.from("quiz_questions").select("*").eq("is_active",!0).order("order_index",{ascending:!0});return t?(console.error("Error fetching quiz questions:",t),[]):e||[]}catch(e){return console.error("Error fetching quiz questions:",e),[]}})();n(e),N(new Array(e.length).fill(!1))}catch(Lx){console.error("Error loading quiz questions:",Lx)}finally{h(!1)}})()},[]);const L=()=>{const t=E/r.length*100;return 100===t?{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M464 80h-60.1a4 4 0 01-4-4V63.92a32 32 0 00-32-31.92l-223.79.26a32 32 0 00-31.94 31.93V76a4 4 0 01-4 4H48a16 16 0 00-16 16v16c0 54.53 30 112.45 76.52 125.35a7.82 7.82 0 015.55 5.9c5.77 26.89 23.52 52.5 51.41 73.61 20.91 15.83 45.85 27.5 68.27 32.48a8 8 0 016.25 7.8V444a4 4 0 01-4 4h-59.55c-8.61 0-16 6.62-16.43 15.23A16 16 0 00176 480h159.55c8.61 0 16-6.62 16.43-15.23A16 16 0 00336 448h-60a4 4 0 01-4-4v-86.86a8 8 0 016.25-7.8c22.42-5 47.36-16.65 68.27-32.48 27.89-21.11 45.64-46.72 51.41-73.61a7.82 7.82 0 015.55-5.9C450 224.45 480 166.53 480 112V96a16 16 0 00-16-16zM112 198.22a4 4 0 01-6 3.45c-10.26-6.11-17.75-15.37-22.14-21.89-11.91-17.69-19-40.67-19.79-63.63a4 4 0 014-4.15h40a4 4 0 014 4c-.02 27.45-.07 58.87-.07 82.22zm316.13-18.44c-4.39 6.52-11.87 15.78-22.13 21.89a4 4 0 01-6-3.46c0-26.51 0-56.63-.05-82.21a4 4 0 014-4h40a4 4 0 014 4.15c-.79 22.96-7.9 45.94-19.81 63.63z'/></svg>",color:"warning",text:e("perfectScore")}:t>=80?{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M394 480a16 16 0 01-9.39-3L256 383.76 127.39 477a16 16 0 01-24.55-18.08L153 310.35 23 221.2a16 16 0 019-29.2h160.38l48.4-148.95a16 16 0 0130.44 0l48.4 149H480a16 16 0 019.05 29.2L359 310.35l50.13 148.53A16 16 0 01394 480z'/></svg>",color:"success",text:e("excellent")}:t>=60?{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M269 335.61q-6.33.47-12.78.47c-5.23 0-10.4-.24-15.51-.69a176.11 176.11 0 01-127.67-72.94 4 4 0 00-6.77.35l-72 129.4c-2.74 5-3.17 11-.28 15.88A16.78 16.78 0 0048.22 416h78a15.28 15.28 0 0113.62 7.33L178.5 488a16.26 16.26 0 0013.75 8c5.94-.33 12.09-4.19 14.56-9.6l66.11-145.15a4 4 0 00-3.92-5.64zM477.64 391.88l-71.53-129.17a4 4 0 00-6.74-.36 176.5 176.5 0 01-78.31 61.42 16.09 16.09 0 00-8.72 8.25l-36.86 81.1a7.92 7.92 0 000 6.6l30.27 66.59c2.45 5.41 8.59 9.36 14.52 9.69a16.3 16.3 0 0013.7-8.12l38.53-64.58c2.89-4.85 8.13-7.33 13.78-7.3h78.77c6.67 0 11.72-3.48 14-10a16.92 16.92 0 00-1.41-14.12z'/><ellipse cx='256.26' cy='160' rx='48.01' ry='48'/><path d='M256.26 16c-79.42 0-144 64.59-144 144s64.61 144 144 144 144-64.6 144-144-64.59-144-144-144zm0 224a80 80 0 1180-80 80.1 80.1 0 01-80 80z'/></svg>",color:"primary",text:e("goodJob")}:{icon:db,color:"medium",text:e("keepLearning")}},B=(f+1)/r.length;if(i)return o.jsxs(a,{children:[o.jsx(C,{children:o.jsxs(A,{children:[o.jsx(k,{slot:"start",children:o.jsx(P,{})}),o.jsx(T,{children:e("museumQuiz")})]})}),o.jsx(s,{children:o.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"40px"},children:o.jsx(g,{name:"crescent"})})})]});if(0===r.length)return o.jsxs(a,{children:[o.jsx(C,{children:o.jsxs(A,{children:[o.jsx(k,{slot:"start",children:o.jsx(P,{})}),o.jsx(T,{children:e("museumQuiz")})]})}),o.jsx(s,{children:o.jsx("div",{style:{textAlign:"center",padding:"40px"},children:o.jsx("p",{children:e("noQuestionsFound")||"No quiz questions available"})})})]});const z=r[f],F=z[`question_${j}`]||z.question_en,U=[z[`option1_${j}`]||z.option1_en,z[`option2_${j}`]||z.option2_en,z[`option3_${j}`]||z.option3_en,z[`option4_${j}`]||z.option4_en],q=z[`explanation_${j}`]||z.explanation_en;return o.jsxs(a,{children:[o.jsx(C,{children:o.jsxs(A,{children:[o.jsx(k,{slot:"start",children:o.jsx(P,{})}),o.jsx(T,{children:e("museumQuiz")})]})}),o.jsx(s,{fullscreen:!0,children:o.jsx("div",{className:"quiz-container",children:I?o.jsxs(u,{children:[o.jsx(w,{children:o.jsx(b,{style:{textAlign:"center"},children:e("quizComplete")})}),o.jsx(d,{children:o.jsxs("div",{style:{textAlign:"center",padding:"20px"},children:[o.jsx(c,{icon:L().icon,style:{fontSize:"80px"},color:L().color}),o.jsx("h2",{children:L().text}),o.jsxs("h1",{style:{fontSize:"48px",margin:"20px 0"},children:[E," / ",r.length]}),o.jsxs("p",{style:{fontSize:"18px",color:"var(--ion-color-medium)"},children:[e("youScored")," ",Math.round(E/r.length*100),"%"]}),o.jsxs("div",{style:{marginTop:"30px"},children:[o.jsx("h3",{children:e("yourBadges")}),o.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px",flexWrap:"wrap"},children:[E>=3&&o.jsx(G,{color:"primary",style:{padding:"10px 15px",fontSize:"14px"},children:e("scholarBadge")}),E>=4&&o.jsx(G,{color:"success",style:{padding:"10px 15px",fontSize:"14px"},children:e("expertBadge")}),5===E&&o.jsx(G,{color:"warning",style:{padding:"10px 15px",fontSize:"14px"},children:e("masterBadge")})]})]}),o.jsx(l,{expand:"block",onClick:()=>{v(0),S(null),_(0),R(!1),N(new Array(r.length).fill(!1)),M(!1)},style:{marginTop:"30px"},children:e("tryAgain")})]})})]}):o.jsxs(o.Fragment,{children:[o.jsx(u,{children:o.jsxs(d,{children:[o.jsxs("div",{style:{marginBottom:"8px",display:"flex",justifyContent:"space-between"},children:[o.jsxs("span",{children:[e("question")," ",f+1," ",e("of")," ",r.length]}),o.jsxs("span",{children:[e("score"),": ",E]})]}),o.jsx(m,{value:B})]})}),o.jsxs(u,{children:[o.jsx(w,{children:o.jsx(b,{children:F})}),o.jsxs(d,{children:[o.jsx(V,{value:y,onIonChange:e=>{return t=e.detail.value,void S(t);var t},children:U.map((e,t)=>o.jsxs(p,{lines:"none",children:[o.jsx(H,{slot:"start",value:t,disabled:D}),o.jsx(x,{className:"ion-text-wrap",children:e}),D&&t===z.correct_answer&&o.jsx(c,{icon:db,color:"success",slot:"end"}),D&&t===y&&t!==z.correct_answer&&o.jsx(c,{icon:pb,color:"danger",slot:"end"})]},t))}),D&&o.jsx("div",{style:{marginTop:"20px",padding:"16px",backgroundColor:"var(--ion-color-light)",borderRadius:"8px"},children:o.jsxs("p",{style:{margin:0},children:[o.jsxs("strong",{children:[e("explanation"),":"]})," ",q]})}),o.jsx("div",{style:{marginTop:"20px",display:"flex",gap:"10px"},children:D?o.jsx(l,{expand:"block",onClick:()=>{M(!1),S(null),f<r.length-1?v(f+1):R(!0)},style:{flex:1},children:f<r.length-1?e("nextQuestion"):e("viewResults")}):o.jsx(l,{expand:"block",onClick:()=>{if(null===y)return;y===r[f].correct_answer&&_(E+1);const e=[...O];e[f]=!0,N(e),M(!0)},disabled:null===y,style:{flex:1},children:e("submitAnswer")})})]})]})]})})})]})},yx=({audioUrl:e="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",title:t="Audio Guide",artifactId:r})=>{const{playAudio:n,pauseAudio:i,isPlaying:a,currentAudio:s}=ub(),h=(null==s?void 0:s.url)===e&&a;return o.jsxs(u,{className:"audio-guide-card",children:[o.jsx(w,{children:o.jsxs(b,{children:[" ",t]})}),o.jsxs(d,{children:[o.jsx("div",{className:"audio-controls-simple",children:o.jsxs(l,{expand:"block",size:"large",onClick:()=>{h?i():n(e,t,r)},className:"play-button-simple",color:h?"danger":"primary",children:[o.jsx(c,{icon:h?Tb:kb,slot:"start"}),h?"Pause Audio Guide":"Play Audio Guide"]})}),o.jsx("div",{className:"audio-info",children:o.jsx("p",{children:o.jsx("small",{children:h?" Audio is playing in the mini player below. You can continue browsing while listening!":"Listen to the audio guide to learn more about this artifact's history, significance, and the story behind its discovery."})})})]})]})},xx=()=>o.jsxs("div",{style:{padding:"16px"},children:[o.jsx("div",{className:"skeleton skeleton-image",style:{height:"300px",marginBottom:"20px"}}),o.jsx("div",{className:"skeleton skeleton-title",style:{width:"80%",height:"32px",marginBottom:"16px"}}),o.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"20px"},children:[o.jsx("div",{className:"skeleton",style:{width:"100px",height:"24px"}}),o.jsx("div",{className:"skeleton",style:{width:"120px",height:"24px"}}),o.jsx("div",{className:"skeleton",style:{width:"80px",height:"24px"}})]}),o.jsx(u,{children:o.jsxs(d,{children:[o.jsx("div",{className:"skeleton skeleton-text",style:{marginBottom:"8px"}}),o.jsx("div",{className:"skeleton skeleton-text",style:{marginBottom:"8px"}}),o.jsx("div",{className:"skeleton skeleton-text",style:{marginBottom:"8px"}}),o.jsx("div",{className:"skeleton skeleton-text",style:{width:"90%",marginBottom:"8px"}}),o.jsx("div",{className:"skeleton skeleton-text",style:{width:"70%"}})]})}),o.jsx(u,{children:o.jsxs(d,{children:[o.jsx("div",{className:"skeleton skeleton-text",style:{marginBottom:"8px"}}),o.jsx("div",{className:"skeleton skeleton-text",style:{width:"85%",marginBottom:"8px"}}),o.jsx("div",{className:"skeleton skeleton-text",style:{width:"75%"}})]})})]}),Sx=({src:e,alt:t})=>{const[r,n]=ae.useState(!1),[i,a]=ae.useState(1),[s,u]=ae.useState({x:0,y:0}),[d,h]=ae.useState(!1),[p,f]=ae.useState({x:0,y:0}),g=ae.useRef(null),m=()=>{n(!1),a(1),u({x:0,y:0})},w=()=>{h(!1)};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"image-zoom-thumbnail",onClick:()=>{n(!0)},children:[o.jsx("img",{src:e,alt:t}),o.jsxs("div",{className:"image-zoom-overlay",children:[o.jsx(c,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M432 320v112H320M421.8 421.77L304 304M80 192V80h112M90.2 90.23L208 208M320 80h112v112M421.77 90.2L304 208M192 432H80V320M90.23 421.8L208 304' class='ionicon-fill-none ionicon-stroke-width'/></svg>"}),o.jsx("span",{children:"Tap to zoom"})]})]}),o.jsx(q,{isOpen:r,onDidDismiss:m,className:"image-zoom-modal",children:o.jsxs("div",{className:"image-zoom-container",children:[o.jsx("div",{className:"image-zoom-header",children:o.jsx(k,{slot:"end",children:o.jsx(l,{onClick:m,children:o.jsx(c,{icon:hb})})})}),o.jsx("div",{ref:g,className:"image-zoom-content",onTouchStart:e=>{1===e.touches.length&&i>1&&(h(!0),f({x:e.touches[0].clientX-s.x,y:e.touches[0].clientY-s.y}))},onTouchMove:e=>{d&&1===e.touches.length&&u({x:e.touches[0].clientX-p.x,y:e.touches[0].clientY-p.y})},onTouchEnd:()=>{h(!1)},onMouseDown:e=>{i>1&&(h(!0),f({x:e.clientX-s.x,y:e.clientY-s.y}))},onMouseMove:e=>{d&&u({x:e.clientX-p.x,y:e.clientY-p.y})},onMouseUp:w,onMouseLeave:w,children:o.jsx("img",{src:e,alt:t,style:{transform:`scale(${i}) translate(${s.x/i}px, ${s.y/i}px)`,transition:d?"none":"transform 0.2s ease-out",cursor:i>1?d?"grabbing":"grab":"default"}})}),o.jsxs("div",{className:"image-zoom-controls",children:[o.jsx(l,{onClick:()=>{a(e=>Math.max(e-.5,1)),i<=1.5&&u({x:0,y:0})},disabled:i<=1,children:""}),o.jsxs("span",{children:[Math.round(100*i),"%"]}),o.jsx(l,{onClick:()=>{a(e=>Math.min(e+.5,4))},disabled:i>=4,children:"+"}),o.jsx(l,{onClick:()=>{a(1),u({x:0,y:0})},fill:"outline",children:"Reset"})]})]})})]})},Ex=({currentArtifactId:e,category:t,period:r})=>{const{t:n,i18n:i}=me(),a=ce(),{toggleFavorite:s,isFavorite:l}=hx(),[h,p]=ae.useState([]),[f,g]=ae.useState(!0),m=i.language||"en";if(ae.useEffect(()=>{(async()=>{g(!0);try{const n=(await px()).filter(t=>t.id!==e).filter(e=>{const n=t&&e.category===t,i=r&&e.period===r;return n||i}).slice(0,4);p(n)}catch(n){console.error("Error loading related artifacts:",n)}finally{g(!1)}})()},[e,t,r]),f||0===h.length)return null;const v=e=>e[`name_${m}`]||e.name_en||"Untitled";return o.jsxs(u,{className:"related-artifacts-card",children:[o.jsx(w,{children:o.jsx(b,{children:n("relatedArtifacts")||"Related Artifacts"})}),o.jsx(d,{children:o.jsx(B,{children:o.jsx(z,{children:h.map(e=>o.jsx(F,{size:"6",children:o.jsxs("div",{className:"related-artifact-item",onClick:()=>{return t=e.id,void a.push(`/artifact/${t}`);var t},children:[o.jsxs("div",{className:"related-artifact-image",children:[o.jsx(dx,{src:e.image_url,alt:v(e),className:"artifact-image"}),o.jsx("button",{className:"favorite-button",onClick:t=>((e,t)=>{e.stopPropagation(),s(t)})(t,e.id),children:o.jsx(c,{icon:l(e.id)?bb:vb,color:l(e.id)?"danger":"light"})})]}),o.jsxs("div",{className:"related-artifact-info",children:[o.jsx("h4",{children:v(e)}),o.jsx("p",{children:e.period})]})]})},e.id))})})})]})},_x=()=>{const[e,t]=ae.useState(!1);ae.useEffect(()=>{const e=localStorage.getItem("theme"),n="dark"===e||null===e;t(n),r(n);const i=window.matchMedia("(prefers-color-scheme: dark)"),o=e=>{localStorage.getItem("theme")||(t(e.matches),r(e.matches))};return i.addEventListener("change",o),()=>i.removeEventListener("change",o)},[]);const r=e=>{document.body.classList.toggle("dark",e)};return o.jsx(l,{fill:"clear",onClick:()=>{const n=!e;t(n),r(n),localStorage.setItem("theme",n?"dark":"light")},title:e?"Switch to light mode":"Switch to dark mode",children:o.jsx(c,{icon:e?"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 118a22 22 0 01-22-22V48a22 22 0 0144 0v48a22 22 0 01-22 22zM256 486a22 22 0 01-22-22v-48a22 22 0 0144 0v48a22 22 0 01-22 22zM369.14 164.86a22 22 0 01-15.56-37.55l33.94-33.94a22 22 0 0131.11 31.11l-33.94 33.94a21.93 21.93 0 01-15.55 6.44zM108.92 425.08a22 22 0 01-15.55-37.56l33.94-33.94a22 22 0 1131.11 31.11l-33.94 33.94a21.94 21.94 0 01-15.56 6.45zM464 278h-48a22 22 0 010-44h48a22 22 0 010 44zM96 278H48a22 22 0 010-44h48a22 22 0 010 44zM403.08 425.08a21.94 21.94 0 01-15.56-6.45l-33.94-33.94a22 22 0 0131.11-31.11l33.94 33.94a22 22 0 01-15.55 37.56zM142.86 164.86a21.89 21.89 0 01-15.55-6.44l-33.94-33.94a22 22 0 0131.11-31.11l33.94 33.94a22 22 0 01-15.56 37.55zM256 358a102 102 0 11102-102 102.12 102.12 0 01-102 102z'/></svg>":"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M264 480A232 232 0 0132 248c0-94 54-178.28 137.61-214.67a16 16 0 0121.06 21.06C181.07 76.43 176 104.66 176 136c0 110.28 89.72 200 200 200 31.34 0 59.57-5.07 81.61-14.67a16 16 0 0121.06 21.06C442.28 426 358 480 264 480z'/></svg>"})})},Cx=()=>{const{i18n:e}=me();return o.jsxs(E,{value:e.language,onIonChange:t=>{return r=t.detail.value,e.changeLanguage(r),void localStorage.setItem("language",r);var r},interface:"popover",style:{minWidth:"80px"},children:[o.jsx(_,{value:"en",children:" EN"}),o.jsx(_,{value:"it",children:" IT"}),o.jsx(_,{value:"es",children:" ES"}),o.jsx(_,{value:"fr",children:" FR"})]})},Ax=()=>{const{id:e}=pe(),{t:t,i18n:r}=me(),n=ce(),{toggleFavorite:i,isFavorite:h}=hx(),[p,f]=ae.useState(null),[g,m]=ae.useState(!0),[v,y]=ae.useState(null),[x,S]=ae.useState([]),[E,_]=ae.useState(0),[I,R]=ae.useState(0),[O,N]=ae.useState(!0),D=r.language||"en";ae.useEffect(()=>{const e=setTimeout(()=>{N(!1)},3e3);return()=>clearTimeout(e)},[e]),ae.useEffect(()=>{(async()=>{try{const e=await px();S(e)}catch(Lx){console.error("Error loading artifacts:",Lx)}})()},[]),ae.useEffect(()=>{(async()=>{if(e){m(!0),y(null);try{const t=await(async e=>{if(!ob())return console.warn("Supabase is not configured."),null;try{const{data:t,error:r}=await ib.from("artifacts").select("*").eq("id",e).single();return r?(console.error("Error fetching artifact:",r),null):t}catch(v){return console.error("Error fetching artifact:",v),null}})(e);t?f(t):y("Artifact not found")}catch(Lx){console.error("Error loading artifact:",Lx),y("Failed to load artifact")}finally{m(!1)}}})()},[e]);const P=()=>x.findIndex(t=>t.id===e),M=()=>{const e=P();if(e>=0&&e<x.length-1){const t=x[e+1];n.push(`/artifact/${t.id}`)}},j=()=>{const e=P();if(e>0){const t=x[e-1];n.push(`/artifact/${t.id}`)}};if(g)return o.jsxs(a,{children:[o.jsx(C,{children:o.jsxs(A,{children:[o.jsx(k,{slot:"start",children:o.jsx(W,{defaultHref:"/gallery"})}),o.jsx(T,{children:t("artifactDetails")}),o.jsxs(k,{slot:"end",children:[o.jsx(_x,{}),o.jsx(Cx,{})]})]})}),o.jsx(s,{children:o.jsx(xx,{})})]});if(v||!p)return o.jsxs(a,{children:[o.jsx(C,{children:o.jsxs(A,{children:[o.jsx(k,{slot:"start",children:o.jsx(W,{defaultHref:"/gallery"})}),o.jsx(T,{children:"Artifact Not Found"})]})}),o.jsx(s,{children:o.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[o.jsx("p",{children:v||"Sorry, this artifact could not be found."}),o.jsx(l,{onClick:()=>n.push("/gallery"),children:t("backToGallery")||"Back to Gallery"})]})})]});const L=p[`name_${D}`]||p.name_en,B=p[`description_${D}`]||p.description_en;return o.jsxs(a,{children:[o.jsx(C,{children:o.jsxs(A,{children:[o.jsx(k,{slot:"start",children:o.jsx(W,{defaultHref:"/gallery"})}),o.jsx(T,{children:t("artifactDetails")}),o.jsxs(k,{slot:"end",children:[o.jsx(l,{onClick:()=>i(p.id),children:o.jsx(c,{icon:h(p.id)?bb:vb,color:h(p.id)?"danger":"medium"})}),o.jsx(l,{onClick:async()=>{if(navigator.share)try{await navigator.share({title:L,text:B,url:window.location.href})}catch(Lx){console.log("Error sharing:",Lx)}},children:o.jsx(c,{icon:Nb})}),o.jsx(Cx,{}),o.jsx(_x,{})]})]})}),o.jsxs(s,{fullscreen:!0,onTouchStart:e=>{_(e.targetTouches[0].clientX)},onTouchMove:e=>{R(e.targetTouches[0].clientX)},onTouchEnd:()=>{if(!E||!I)return;const e=E-I,t=e<-50;e>50&&M(),t&&j(),_(0),R(0)},children:[o.jsxs("div",{className:"artifact-detail-container",children:[o.jsxs(u,{children:[o.jsx(w,{children:o.jsx(b,{children:L})}),o.jsx(d,{children:"image"===p.type?o.jsx(Sx,{src:p.image_url,alt:L}):o.jsxs("video",{controls:!0,className:"artifact-detail-video",children:[o.jsx("source",{src:p.image_url,type:"video/mp4"}),"Your browser does not support the video tag."]})})]}),p.audio_guide_url&&o.jsx(yx,{title:L,audioUrl:p.audio_guide_url,artifactId:p.id}),o.jsxs(u,{children:[o.jsx(w,{children:o.jsxs(b,{children:[o.jsx(c,{icon:Sb})," Description"]})}),o.jsx(d,{children:o.jsx("p",{className:"detailed-description",children:B})})]}),o.jsxs(u,{children:[o.jsx(w,{children:o.jsx(b,{children:"Artifact Information"})}),o.jsx(d,{children:o.jsxs("div",{className:"info-section",children:[p.period&&o.jsxs("div",{className:"info-item",children:[o.jsx(c,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M480 128a64 64 0 00-64-64h-16V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 00368 48v16H144V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 00112 48v16H96a64 64 0 00-64 64v12a4 4 0 004 4h440a4 4 0 004-4zM32 416a64 64 0 0064 64h320a64 64 0 0064-64V179a3 3 0 00-3-3H35a3 3 0 00-3 3zm344-208a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24zm-80-80a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24zm-80-80a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24zm-80-80a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24z'/></svg>",className:"info-icon"}),o.jsxs("div",{children:[o.jsx("strong",{children:"Period:"}),o.jsx("p",{children:p.period})]})]}),p.origin&&o.jsxs("div",{className:"info-item",children:[o.jsx(c,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='192' r='32'/><path d='M256 32c-88.22 0-160 68.65-160 153 0 40.17 18.31 93.59 54.42 158.78 29 52.34 62.55 99.67 80 123.22a31.75 31.75 0 0051.22 0c17.42-23.55 51-70.88 80-123.22C397.69 278.61 416 225.19 416 185c0-84.35-71.78-153-160-153zm0 224a64 64 0 1164-64 64.07 64.07 0 01-64 64z'/></svg>",className:"info-icon"}),o.jsxs("div",{children:[o.jsx("strong",{children:"Origin:"}),o.jsx("p",{children:p.origin})]})]}),p.material&&o.jsxs("div",{className:"info-item",children:[o.jsx("strong",{children:"Material:"}),o.jsx("p",{children:p.material})]}),p.dimensions&&o.jsxs("div",{className:"info-item",children:[o.jsx("strong",{children:"Dimensions:"}),o.jsx("p",{children:p.dimensions})]}),p.discovered&&o.jsxs("div",{className:"info-item",children:[o.jsx("strong",{children:"Discovered:"}),o.jsx("p",{children:p.discovered})]}),p.condition&&o.jsxs("div",{className:"info-item",children:[o.jsx("strong",{children:"Condition:"}),o.jsx("p",{children:p.condition})]})]})})]}),o.jsx(Ex,{currentArtifactId:p.id,category:p.category,period:p.period}),x.length>1&&o.jsxs("div",{className:"navigation-indicators",children:[o.jsxs("div",{className:"nav-button "+(0===P()?"disabled":""),onClick:j,style:{cursor:0===P()?"not-allowed":"pointer"},children:[o.jsx(c,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>"}),o.jsx("span",{children:"Previous"})]}),o.jsxs("div",{style:{fontSize:"12px",color:"var(--ion-color-medium)"},children:[P()+1," / ",x.length]}),o.jsxs("div",{className:"nav-button "+(P()===x.length-1?"disabled":""),onClick:M,style:{cursor:P()===x.length-1?"not-allowed":"pointer"},children:[o.jsx("span",{children:"Next"}),o.jsx(c,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>"})]})]})]}),O&&x.length>1&&o.jsxs("div",{className:"swipe-hint",children:[o.jsx(c,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M304 48l112 112-112 112M398.87 160H96M208 464L96 352l112-112M114 352h302' class='ionicon-fill-none ionicon-stroke-width'/></svg>"}),o.jsx("span",{children:"Swipe to navigate"})]})]})]})},Tx=()=>{const{t:e}=me();return o.jsxs(a,{children:[o.jsx(C,{children:o.jsxs(A,{children:[o.jsxs(k,{slot:"start",children:[o.jsx(P,{}),o.jsx(W,{defaultHref:"/gallery"})]}),o.jsx(T,{children:e("help")})]})}),o.jsx(s,{fullscreen:!0,className:"help-content",children:o.jsxs("div",{className:"help-container",children:[o.jsxs(u,{children:[o.jsx(w,{children:o.jsx(b,{children:e("helpWelcome")})}),o.jsx(d,{children:o.jsx("p",{children:e("helpIntro")})})]}),o.jsxs(u,{children:[o.jsx(w,{children:o.jsx(b,{children:e("helpFeatures")})}),o.jsx(d,{children:o.jsxs(I,{children:[o.jsxs(p,{children:[o.jsx(c,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M432 112V96a48.14 48.14 0 00-48-48H64a48.14 48.14 0 00-48 48v256a48.14 48.14 0 0048 48h16' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='96' y='128' width='400' height='336' rx='45.99' ry='45.99' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><ellipse cx='372.92' cy='219.64' rx='30.77' ry='30.55' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M342.15 372.17L255 285.78a30.93 30.93 0 00-42.18-1.21L96 387.64M265.23 464l118.59-117.73a31 31 0 0141.46-1.87L496 402.91' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",slot:"start",color:"primary"}),o.jsxs(x,{children:[o.jsx("h2",{children:e("helpGalleryTitle")}),o.jsx("p",{children:e("helpGalleryDesc")})]})]}),o.jsxs(p,{children:[o.jsx(c,{icon:wb,slot:"start",color:"secondary"}),o.jsxs(x,{children:[o.jsx("h2",{children:e("help3DTitle")}),o.jsx("p",{children:e("help3DDesc")})]})]}),o.jsxs(p,{children:[o.jsx(c,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='336' y='336' width='80' height='80' rx='8' ry='8'/><rect x='272' y='272' width='64' height='64' rx='8' ry='8'/><rect x='416' y='416' width='64' height='64' rx='8' ry='8'/><rect x='432' y='272' width='48' height='48' rx='8' ry='8'/><rect x='272' y='432' width='48' height='48' rx='8' ry='8'/><rect x='336' y='96' width='80' height='80' rx='8' ry='8'/><rect x='288' y='48' width='176' height='176' rx='16' ry='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='96' y='96' width='80' height='80' rx='8' ry='8'/><rect x='48' y='48' width='176' height='176' rx='16' ry='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='96' y='336' width='80' height='80' rx='8' ry='8'/><rect x='48' y='288' width='176' height='176' rx='16' ry='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",slot:"start",color:"tertiary"}),o.jsxs(x,{children:[o.jsx("h2",{children:e("helpQRTitle")}),o.jsx("p",{children:e("helpQRDesc")})]})]}),o.jsxs(p,{children:[o.jsx(c,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M350.54 148.68l-26.62-42.06C318.31 100.08 310.62 96 302 96h-92c-8.62 0-16.31 4.08-21.92 10.62l-26.62 42.06C155.85 155.23 148.62 160 140 160H80a32 32 0 00-32 32v192a32 32 0 0032 32h352a32 32 0 0032-32V192a32 32 0 00-32-32h-59c-8.65 0-16.85-4.77-22.46-11.32z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='256' cy='272' r='80' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M124 158v-22h-24v22' class='ionicon-fill-none ionicon-stroke-width'/></svg>",slot:"start",color:"success"}),o.jsxs(x,{children:[o.jsx("h2",{children:e("helpARTitle")}),o.jsx("p",{children:e("helpARDesc")})]})]}),o.jsxs(p,{children:[o.jsx(c,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M467.51 248.83c-18.4-83.18-45.69-136.24-89.43-149.17A91.5 91.5 0 00352 96c-26.89 0-48.11 16-96 16s-69.15-16-96-16a99.09 99.09 0 00-27.2 3.66C89 112.59 61.94 165.7 43.33 248.83c-19 84.91-15.56 152 21.58 164.88 26 9 49.25-9.61 71.27-37 25-31.2 55.79-40.8 119.82-40.8s93.62 9.6 118.66 40.8c22 27.41 46.11 45.79 71.42 37.16 41.02-14.01 40.44-79.13 21.43-165.04z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='292' cy='224' r='20'/><path d='M336 288a20 20 0 1120-19.95A20 20 0 01336 288z'/><circle cx='336' cy='180' r='20'/><circle cx='380' cy='224' r='20'/><path stroke-linecap='round' stroke-linejoin='round' d='M160 176v96M208 224h-96' class='ionicon-fill-none ionicon-stroke-width'/></svg>",slot:"start",color:"warning"}),o.jsxs(x,{children:[o.jsx("h2",{children:e("helpQuizTitle")}),o.jsx("p",{children:e("helpQuizDesc")})]})]}),o.jsxs(p,{children:[o.jsx(c,{icon:vb,slot:"start",color:"danger"}),o.jsxs(x,{children:[o.jsx("h2",{children:e("helpFavoritesTitle")}),o.jsx("p",{children:e("helpFavoritesDesc")})]})]}),o.jsxs(p,{children:[o.jsx(c,{icon:Ob,slot:"start",color:"medium"}),o.jsxs(x,{children:[o.jsx("h2",{children:e("helpSearchTitle")}),o.jsx("p",{children:e("helpSearchDesc")})]})]}),o.jsxs(p,{children:[o.jsx(c,{icon:Nb,slot:"start",color:"primary"}),o.jsxs(x,{children:[o.jsx("h2",{children:e("helpShareTitle")}),o.jsx("p",{children:e("helpShareDesc")})]})]}),o.jsxs(p,{children:[o.jsx(c,{icon:Eb,slot:"start",color:"secondary"}),o.jsxs(x,{children:[o.jsx("h2",{children:e("helpLanguageTitle")}),o.jsx("p",{children:e("helpLanguageDesc")})]})]}),o.jsxs(p,{children:[o.jsx(c,{icon:Ab,slot:"start",color:"tertiary"}),o.jsxs(x,{children:[o.jsx("h2",{children:e("helpThemeTitle")}),o.jsx("p",{children:e("helpThemeDesc")})]})]})]})})]}),o.jsxs(u,{children:[o.jsx(w,{children:o.jsx(b,{children:e("helpTips")})}),o.jsx(d,{children:o.jsxs("ul",{className:"help-tips-list",children:[o.jsx("li",{children:e("helpTip1")}),o.jsx("li",{children:e("helpTip2")}),o.jsx("li",{children:e("helpTip3")}),o.jsx("li",{children:e("helpTip4")}),o.jsx("li",{children:e("helpTip5")})]})})]})]})})]})},kx=()=>{const{t:e}=me();return o.jsxs(a,{children:[o.jsx(C,{children:o.jsxs(A,{children:[o.jsxs(k,{slot:"start",children:[o.jsx(P,{}),o.jsx(W,{defaultHref:"/gallery"})]}),o.jsx(T,{children:e("about")})]})}),o.jsx(s,{fullscreen:!0,className:"about-content",children:o.jsxs("div",{className:"about-container",children:[o.jsxs(u,{className:"about-hero",children:[o.jsxs(w,{children:[o.jsx("div",{className:"about-logo",children:""}),o.jsx(b,{className:"about-title",children:e("aboutAppName")}),o.jsx("p",{className:"about-version",children:e("aboutVersion")})]}),o.jsx(d,{children:o.jsx("p",{className:"about-description",children:e("aboutDescription")})})]}),o.jsxs(u,{children:[o.jsx(w,{children:o.jsx(b,{children:e("aboutFeatures")})}),o.jsx(d,{children:o.jsxs("div",{className:"features-grid",children:[o.jsxs("div",{className:"feature-item",children:[o.jsx(c,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.13 48 48 141.13 48 256s93.13 208 208 208 208-93.13 208-208S370.87 48 256 48z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 48c-58.07 0-112.67 93.13-112.67 208S197.93 464 256 464s112.67-93.13 112.67-208S314.07 48 256 48z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M117.33 117.33c38.24 27.15 86.38 43.34 138.67 43.34s100.43-16.19 138.67-43.34M394.67 394.67c-38.24-27.15-86.38-43.34-138.67-43.34s-100.43 16.19-138.67 43.34' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-miterlimit='10' d='M256 48v416M464 256H48' class='ionicon-fill-none ionicon-stroke-width'/></svg>",color:"primary"}),o.jsx("h3",{children:e("aboutFeature1Title")}),o.jsx("p",{children:e("aboutFeature1Desc")})]}),o.jsxs("div",{className:"feature-item",children:[o.jsx(c,{icon:wb,color:"secondary"}),o.jsx("h3",{children:e("aboutFeature2Title")}),o.jsx("p",{children:e("aboutFeature2Desc")})]}),o.jsxs("div",{className:"feature-item",children:[o.jsx(c,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='128' y='16' width='256' height='480' rx='48' ry='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M176 16h24a8 8 0 018 8h0a16 16 0 0016 16h64a16 16 0 0016-16h0a8 8 0 018-8h24' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",color:"tertiary"}),o.jsx("h3",{children:e("aboutFeature3Title")}),o.jsx("p",{children:e("aboutFeature3Desc")})]}),o.jsxs("div",{className:"feature-item",children:[o.jsx(c,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M93.72 183.25C49.49 198.05 16 233.1 16 288c0 66 54 112 120 112h184.37M467.82 377.74C485.24 363.3 496 341.61 496 312c0-59.82-53-85.76-96-88-8.89-89.54-71-144-144-144-26.16 0-48.79 6.93-67.6 18.14' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M448 448L64 64' class='ionicon-fill-none ionicon-stroke-width'/></svg>",color:"success"}),o.jsx("h3",{children:e("aboutFeature4Title")}),o.jsx("p",{children:e("aboutFeature4Desc")})]})]})})]}),o.jsxs(u,{children:[o.jsx(w,{children:o.jsx(b,{children:e("aboutTechnology")})}),o.jsx(d,{children:o.jsxs("div",{className:"tech-stack",children:[o.jsxs(D,{color:"primary",children:[o.jsx(c,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M410.66 180.72q-7.67-2.62-15.45-4.88 1.29-5.25 2.38-10.56c11.7-56.9 4.05-102.74-22.06-117.83-25-14.48-66 .61-107.36 36.69q-6.1 5.34-11.95 11-3.9-3.76-8-7.36c-43.35-38.58-86.8-54.83-112.88-39.69-25 14.51-32.43 57.6-21.9 111.53q1.58 8 3.55 15.93a320.85 320.85 0 00-17.77 5.6C48.46 198.9 16 226.73 16 255.59c0 29.82 34.84 59.72 87.77 77.85q6.44 2.19 13 4.07-2.13 8.49-3.77 17.17c-10 53-2.2 95.07 22.75 109.49 25.77 14.89 69-.41 111.14-37.31q5-4.38 10-9.25 6.32 6.11 13 11.86c40.8 35.18 81.09 49.39 106 34.93 25.75-14.94 34.12-60.14 23.25-115.13q-1.25-6.3-2.88-12.86 4.56-1.35 8.93-2.79c55-18.27 90.83-47.81 90.83-78-.02-29-33.52-57.01-85.36-74.9zm-129-81.08c35.43-30.91 68.55-43.11 83.65-34.39 16.07 9.29 22.32 46.75 12.22 95.88q-1 4.8-2.16 9.57a487.83 487.83 0 00-64.18-10.16 481.27 481.27 0 00-40.57-50.75q5.38-5.22 11.02-10.15zM157.73 280.25q6.51 12.6 13.61 24.89 7.23 12.54 15.07 24.71a435.28 435.28 0 01-44.24-7.13c4.24-13.72 9.46-27.97 15.56-42.47zm0-48.33c-6-14.19-11.08-28.15-15.25-41.63 13.7-3.07 28.3-5.58 43.52-7.48q-7.65 11.94-14.72 24.23t-13.58 24.88zm10.9 24.17q9.48-19.77 20.42-38.78 10.93-19 23.27-37.13c14.28-1.08 28.92-1.65 43.71-1.65s29.52.57 43.79 1.66q12.21 18.09 23.13 37t20.69 38.6Q334 275.63 323 294.73q-10.91 19-23 37.24c-14.25 1-29 1.55-44 1.55s-29.47-.47-43.46-1.38q-12.43-18.19-23.46-37.29t-20.48-38.76zM340.75 305q7.25-12.58 13.92-25.49a440.41 440.41 0 0116.12 42.32 434.44 434.44 0 01-44.79 7.65q7.62-12.09 14.75-24.48zm13.72-73.07q-6.64-12.65-13.81-25-7-12.18-14.59-24.06c15.31 1.94 30 4.52 43.77 7.67a439.89 439.89 0 01-15.37 41.39zm-98.24-107.45a439.75 439.75 0 0128.25 34.18q-28.35-1.35-56.74 0c9.33-12.34 18.88-23.79 28.49-34.18zM145.66 65.86c16.06-9.32 51.57 4 89 37.27 2.39 2.13 4.8 4.36 7.2 6.67A491.37 491.37 0 00201 160.51a499.12 499.12 0 00-64.06 10q-1.83-7.36-3.3-14.82c-9.05-46.23-3.06-81.08 12.02-89.83zm-23.41 251.85q-6-1.71-11.85-3.71c-23.4-8-42.73-18.44-56-29.81-11.88-10.19-17.9-20.36-17.9-28.6 0-17.51 26.06-39.85 69.52-55q8.19-2.85 16.52-5.21a493.54 493.54 0 0023.4 60.75 502.46 502.46 0 00-23.69 61.58zm111.13 93.67c-18.63 16.32-37.29 27.89-53.74 33.72-14.78 5.23-26.55 5.38-33.66 1.27-15.14-8.75-21.44-42.54-12.85-87.86q1.53-8 3.5-16a480.85 480.85 0 0064.69 9.39 501.2 501.2 0 0041.2 51c-2.98 2.93-6.03 5.75-9.14 8.48zm23.42-23.22c-9.72-10.51-19.42-22.14-28.88-34.64q13.79.54 28.08.54c9.78 0 19.46-.21 29-.64a439.33 439.33 0 01-28.2 34.74zm124.52 28.59c-2.86 15.44-8.61 25.74-15.72 29.86-15.13 8.78-47.48-2.63-82.36-32.72-4-3.44-8-7.13-12.07-11a484.54 484.54 0 0040.23-51.2 477.84 477.84 0 0065-10.05q1.47 5.94 2.6 11.64c4.81 24.3 5.5 46.28 2.32 63.47zm17.4-102.64c-2.62.87-5.32 1.71-8.06 2.53a483.26 483.26 0 00-24.31-60.94 481.52 481.52 0 0023.36-60.06c4.91 1.43 9.68 2.93 14.27 4.52 44.42 15.32 71.52 38 71.52 55.43 0 18.6-29.27 42.74-76.78 58.52z'/><path d='M256 298.55a43 43 0 10-42.86-43 42.91 42.91 0 0042.86 43z'/></svg>"}),o.jsx(x,{children:"React 19"})]}),o.jsxs(D,{color:"primary",children:[o.jsx(c,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M73.6 256c0-100.737 81.663-182.4 182.4-182.4 40.552 0 77.992 13.212 108.286 35.603 7.946-18.702 23.958-33.15 43.67-38.976C366.589 36.357 313.656 16 256 16 123.451 16 16 123.452 16 256s107.451 240 240 240c132.548 0 239.999-107.452 239.999-240 0-27.741-4.718-54.427-13.407-79.269-11.824 15.985-30.428 26.649-51.564 27.742 4.795 16.319 7.371 33.605 7.371 51.527 0 100.737-81.663 182.4-182.399 182.4-100.737 0-182.4-81.663-182.4-182.4z'/><path d='M491.065 207.374a238.383 238.383 0 00-8.473-30.643c-11.823 15.984-30.428 26.649-51.564 27.742a181.577 181.577 0 016.719 35.964c22.259-2.737 41.5-15.226 53.318-33.063zM256 361.001c57.853 0 105-47.057 105-105 0-57.854-47.057-105-105-105s-105 47.146-105 105c0 57.853 47.147 105 105 105zM413.5 166c28.995 0 52.5-23.505 52.5-52.5S442.495 61 413.5 61 361 84.505 361 113.5s23.505 52.5 52.5 52.5z'/></svg>"}),o.jsx(x,{children:"Ionic Framework"})]}),o.jsx(D,{color:"secondary",children:o.jsx(x,{children:"TypeScript"})}),o.jsx(D,{color:"secondary",children:o.jsx(x,{children:"Babylon.js"})}),o.jsx(D,{color:"tertiary",children:o.jsx(x,{children:"i18next"})}),o.jsx(D,{color:"tertiary",children:o.jsx(x,{children:"Vite"})}),o.jsx(D,{color:"success",children:o.jsx(x,{children:"PWA"})}),o.jsx(D,{color:"success",children:o.jsx(x,{children:"Supabase"})})]})})]}),o.jsxs(u,{children:[o.jsx(w,{children:o.jsx(b,{children:e("aboutContact")})}),o.jsxs(d,{children:[o.jsx("p",{children:e("aboutContactDesc")}),o.jsxs("div",{className:"contact-info",children:[o.jsxs("p",{children:[o.jsxs("strong",{children:[e("aboutDeveloper"),":"]})," Museum App Team"]}),o.jsxs("p",{children:[o.jsxs("strong",{children:[e("aboutWebsite"),":"]})," https://gfq40.github.io/museum-app/"]}),o.jsxs("p",{children:[o.jsxs("strong",{children:[e("aboutEmail"),":"]})," info@museumapp.example"]})]})]})]}),o.jsx(u,{children:o.jsxs(d,{className:"about-footer",children:[o.jsx("p",{children:e("aboutCopyright")}),o.jsx("p",{children:e("aboutLicense")})]})})]})})]})},Ix=()=>{const{t:e}=me(),t=e=>{window.open(e,"_blank")};return o.jsxs(a,{children:[o.jsx(C,{children:o.jsxs(A,{children:[o.jsxs(k,{slot:"start",children:[o.jsx(P,{}),o.jsx(W,{defaultHref:"/gallery"})]}),o.jsx(T,{children:e("credits")})]})}),o.jsx(s,{fullscreen:!0,className:"credits-content",children:o.jsxs("div",{className:"credits-container",children:[o.jsxs(u,{children:[o.jsx(w,{children:o.jsx(b,{children:e("creditsThankYou")})}),o.jsx(d,{children:o.jsx("p",{children:e("creditsIntro")})})]}),o.jsxs(u,{children:[o.jsx(w,{children:o.jsxs(b,{children:[o.jsx(c,{icon:gb})," ",e("creditsLibraries")]})}),o.jsx(d,{children:o.jsxs(I,{children:[o.jsxs(p,{button:!0,onClick:()=>t("https://react.dev/"),children:[o.jsxs(x,{children:[o.jsx("h2",{children:"React"}),o.jsx("p",{children:e("creditsReactDesc")})]}),o.jsx(c,{icon:_b,slot:"end"})]}),o.jsxs(p,{button:!0,onClick:()=>t("https://ionicframework.com/"),children:[o.jsxs(x,{children:[o.jsx("h2",{children:"Ionic Framework"}),o.jsx("p",{children:e("creditsIonicDesc")})]}),o.jsx(c,{icon:_b,slot:"end"})]}),o.jsxs(p,{button:!0,onClick:()=>t("https://www.babylonjs.com/"),children:[o.jsxs(x,{children:[o.jsx("h2",{children:"Babylon.js"}),o.jsx("p",{children:e("creditsBabylonDesc")})]}),o.jsx(c,{icon:_b,slot:"end"})]}),o.jsxs(p,{button:!0,onClick:()=>t("https://www.i18next.com/"),children:[o.jsxs(x,{children:[o.jsx("h2",{children:"i18next"}),o.jsx("p",{children:e("creditsI18nDesc")})]}),o.jsx(c,{icon:_b,slot:"end"})]}),o.jsxs(p,{button:!0,onClick:()=>t("https://vitejs.dev/"),children:[o.jsxs(x,{children:[o.jsx("h2",{children:"Vite"}),o.jsx("p",{children:e("creditsViteDesc")})]}),o.jsx(c,{icon:_b,slot:"end"})]}),o.jsxs(p,{button:!0,onClick:()=>t("https://supabase.com/"),children:[o.jsxs(x,{children:[o.jsx("h2",{children:"Supabase"}),o.jsx("p",{children:e("creditsSupabaseDesc")})]}),o.jsx(c,{icon:_b,slot:"end"})]}),o.jsxs(p,{button:!0,onClick:()=>t("https://github.com/mebjas/html5-qrcode"),children:[o.jsxs(x,{children:[o.jsx("h2",{children:"html5-qrcode"}),o.jsx("p",{children:e("creditsQRDesc")})]}),o.jsx(c,{icon:_b,slot:"end"})]})]})})]}),o.jsxs(u,{children:[o.jsx(w,{children:o.jsxs(b,{children:[o.jsx(c,{icon:yb})," ",e("creditsImages")]})}),o.jsxs(d,{children:[o.jsx(I,{children:o.jsxs(p,{button:!0,onClick:()=>t("https://unsplash.com/"),children:[o.jsxs(x,{children:[o.jsx("h2",{children:"Unsplash"}),o.jsx("p",{children:e("creditsUnsplashDesc")})]}),o.jsx(c,{icon:_b,slot:"end"})]})}),o.jsxs("div",{className:"credits-photographers",children:[o.jsx("p",{children:o.jsxs("strong",{children:[e("creditsPhotographers"),":"]})}),o.jsxs("ul",{children:[o.jsx("li",{children:"Europeana (Ancient Pottery)"}),o.jsx("li",{children:"Birmingham Museums Trust (Historical Artifacts)"}),o.jsx("li",{children:"Europeana (Medieval Manuscript)"}),o.jsx("li",{children:"Europeana (Renaissance Painting)"}),o.jsx("li",{children:"Europeana (Ancient Sculpture)"})]})]})]})]}),o.jsxs(u,{children:[o.jsx(w,{children:o.jsxs(b,{children:[o.jsx(c,{icon:gb})," ",e("credits3DModels")]})}),o.jsx(d,{children:o.jsxs(I,{children:[o.jsxs(p,{button:!0,onClick:()=>t("https://sketchfab.com/"),children:[o.jsxs(x,{children:[o.jsx("h2",{children:"Sketchfab"}),o.jsx("p",{children:e("creditsSketchfabDesc")})]}),o.jsx(c,{icon:_b,slot:"end"})]}),o.jsxs(p,{button:!0,onClick:()=>t("https://www.babylonjs.com/"),children:[o.jsxs(x,{children:[o.jsx("h2",{children:"Babylon.js Playground"}),o.jsx("p",{children:e("creditsBabylonPlaygroundDesc")})]}),o.jsx(c,{icon:_b,slot:"end"})]})]})})]}),o.jsxs(u,{children:[o.jsx(w,{children:o.jsxs(b,{children:[o.jsx(c,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M192 218v-6c0-14.84 10-27 24.24-30.59l174.59-46.68A20 20 0 01416 154v22' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M416 295.94v80c0 13.91-8.93 25.59-22 30l-22 8c-25.9 8.72-52-10.42-52-38h0a33.37 33.37 0 0123-32l51-18.15c13.07-4.4 22-15.94 22-29.85V58a10 10 0 00-12.6-9.61L204 102a16.48 16.48 0 00-12 16v226c0 13.91-8.93 25.6-22 30l-52 18c-13.88 4.68-22 17.22-22 32h0c0 27.58 26.52 46.55 52 38l22-8c13.07-4.4 22-16.08 22-30v-80' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>"})," ",e("creditsAudio")]})}),o.jsx(d,{children:o.jsx(I,{children:o.jsxs(p,{button:!0,onClick:()=>t("https://www.soundhelix.com/"),children:[o.jsxs(x,{children:[o.jsx("h2",{children:"SoundHelix"}),o.jsx("p",{children:e("creditsSoundHelixDesc")})]}),o.jsx(c,{icon:_b,slot:"end"})]})})})]}),o.jsxs(u,{children:[o.jsx(w,{children:o.jsxs(b,{children:[o.jsx(c,{icon:yb})," ",e("creditsIcons")]})}),o.jsx(d,{children:o.jsx(I,{children:o.jsxs(p,{button:!0,onClick:()=>t("https://ionic.io/ionicons"),children:[o.jsxs(x,{children:[o.jsx("h2",{children:"Ionicons"}),o.jsx("p",{children:e("creditsIoniconsDesc")})]}),o.jsx(c,{icon:_b,slot:"end"})]})})})]}),o.jsxs(u,{children:[o.jsx(w,{children:o.jsx(b,{children:e("creditsSpecialThanks")})}),o.jsxs(d,{children:[o.jsx("p",{children:e("creditsSpecialThanksDesc")}),o.jsxs("ul",{className:"credits-thanks-list",children:[o.jsx("li",{children:e("creditsThanks1")}),o.jsx("li",{children:e("creditsThanks2")}),o.jsx("li",{children:e("creditsThanks3")}),o.jsx("li",{children:e("creditsThanks4")})]})]})]}),o.jsx(u,{children:o.jsx(d,{className:"credits-footer",children:o.jsx("p",{children:e("creditsFooter")})})})]})})]})},Rx=()=>o.jsxs($,{children:[o.jsxs(X,{children:[o.jsx(fe,{exact:!0,path:"/tabs/gallery",children:o.jsx(fx,{})}),o.jsx(fe,{exact:!0,path:"/tabs/artifact/:id",children:o.jsx(Ax,{})}),o.jsx(fe,{exact:!0,path:"/tabs/exhibits",children:o.jsx(wx,{})}),o.jsx(fe,{path:"/tabs/ar",children:o.jsx(bx,{})}),o.jsx(fe,{path:"/tabs/quiz",children:o.jsx(vx,{})}),o.jsx(fe,{exact:!0,path:"/tabs/help",children:o.jsx(Tx,{})}),o.jsx(fe,{exact:!0,path:"/tabs/about",children:o.jsx(kx,{})}),o.jsx(fe,{exact:!0,path:"/tabs/credits",children:o.jsx(Ix,{})}),o.jsx(fe,{exact:!0,path:"/tabs",children:o.jsx(ge,{to:"/tabs/gallery"})})]}),o.jsxs(Y,{slot:"bottom",children:[o.jsxs(K,{tab:"gallery",href:"/tabs/gallery",children:[o.jsx(c,{"aria-hidden":"true",icon:xb}),o.jsx(x,{children:"Gallery"})]}),o.jsxs(K,{tab:"exhibits",href:"/tabs/exhibits",children:[o.jsx(c,{"aria-hidden":"true",icon:mb}),o.jsx(x,{children:"3D Exhibits"})]}),o.jsxs(K,{tab:"ar",href:"/tabs/ar",children:[o.jsx(c,{"aria-hidden":"true",icon:Rb}),o.jsx(x,{children:"AR View"})]}),o.jsxs(K,{tab:"quiz",href:"/tabs/quiz",children:[o.jsx(c,{"aria-hidden":"true",icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 368a16 16 0 01-7.94-2.11L108 285.84a8 8 0 00-12 6.94V368a16 16 0 008.23 14l144 80a16 16 0 0015.54 0l144-80a16 16 0 008.23-14v-75.22a8 8 0 00-12-6.94l-140.06 80.05A16 16 0 01256 368z'/><path d='M495.92 190.5v-.11a16 16 0 00-8-12.28l-224-128a16 16 0 00-15.88 0l-224 128a16 16 0 000 27.78l224 128a16 16 0 0015.88 0L461 221.28a2 2 0 013 1.74v144.53c0 8.61 6.62 16 15.23 16.43A16 16 0 00496 368V192a14.76 14.76 0 00-.08-1.5z'/></svg>"}),o.jsx(x,{children:"Quiz"})]})]})]}),Ox=()=>{const[e,t]=ae.useState(navigator.onLine),[r,n]=ae.useState(!1);return ae.useEffect(()=>{const e=()=>{t(!0),n(!0)},r=()=>{t(!1),n(!0)};return window.addEventListener("online",e),window.addEventListener("offline",r),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}},[]),o.jsx(o.Fragment,{children:o.jsx(Q,{isOpen:r,onDidDismiss:()=>n(!1),message:e?" Back online! Content will sync automatically.":" You are offline. Cached content is still available.",duration:3e3,color:e?"success":"warning",position:"top"})})},Nx=()=>{const{t:e,i18n:t}=me(),r=ce(),[n,i]=ue.useState(document.body.classList.contains("dark")),a=e=>{r.push(e);const t=document.querySelector("ion-menu");null==t||t.close()};return o.jsxs(Z,{contentId:"main-content",type:"overlay",children:[o.jsx(C,{children:o.jsx(A,{color:"primary",children:o.jsx(T,{children:e("menu")})})}),o.jsx(s,{children:o.jsxs(I,{children:[o.jsxs(J,{children:[o.jsx(c,{icon:Eb,slot:"start"}),o.jsx(x,{children:e("language")})]}),o.jsx(p,{children:o.jsxs(E,{value:t.language,onIonChange:e=>{return r=e.detail.value,void t.changeLanguage(r);var r},interface:"popover",children:[o.jsx(_,{value:"en",children:" English"}),o.jsx(_,{value:"it",children:" Italiano"}),o.jsx(_,{value:"es",children:" Espaol"}),o.jsx(_,{value:"fr",children:" Franais"})]})}),o.jsxs(J,{children:[o.jsx(c,{icon:n?Ab:Db,slot:"start"}),o.jsx(x,{children:e("theme")})]}),o.jsxs(p,{children:[o.jsx(c,{icon:Db,slot:"start"}),o.jsx(x,{children:e("lightMode")}),o.jsx(ee,{checked:n,onIonChange:e=>{return t=e.detail.checked,i(t),document.body.classList.toggle("dark",t),void localStorage.setItem("theme",t?"dark":"light");var t},slot:"end"}),o.jsx(c,{icon:Ab,slot:"end",style:{marginLeft:"8px"}})]}),o.jsx(J,{style:{marginTop:"20px"},children:o.jsx(x,{children:e("information")})}),o.jsxs(p,{button:!0,onClick:()=>a("/tabs/help"),children:[o.jsx(c,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 80a176 176 0 10176 176A176 176 0 00256 80z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M200 202.29s.84-17.5 19.57-32.57C230.68 160.77 244 158.18 256 158c10.93-.14 20.69 1.67 26.53 4.45 10 4.76 29.47 16.38 29.47 41.09 0 26-17 37.81-36.37 50.8S251 281.43 251 296' stroke-linecap='round' stroke-miterlimit='10' stroke-width='28' class='ionicon-fill-none'/><circle cx='250' cy='348' r='20'/></svg>",slot:"start"}),o.jsx(x,{children:e("help")})]}),o.jsxs(p,{button:!0,onClick:()=>a("/tabs/about"),children:[o.jsx(c,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M248 64C146.39 64 64 146.39 64 248s82.39 184 184 184 184-82.39 184-184S349.61 64 248 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M220 220h32v116' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M208 340h88' class='ionicon-fill-none ionicon-stroke-width'/><path d='M248 130a26 26 0 1026 26 26 26 0 00-26-26z'/></svg>",slot:"start"}),o.jsx(x,{children:e("about")})]}),o.jsxs(p,{button:!0,onClick:()=>a("/tabs/credits"),children:[o.jsx(c,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='160' r='128' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M143.65 227.82L48 400l86.86-.42a16 16 0 0113.82 7.8L192 480l88.33-194.32' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M366.54 224L464 400l-86.86-.42a16 16 0 00-13.82 7.8L320 480l-64-140.8' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='256' cy='160' r='64' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",slot:"start"}),o.jsx(x,{children:e("credits")})]})]})})]})},Dx=()=>{const e=ce(),{currentAudio:t,isPlaying:r,currentTime:n,duration:i,playbackRate:a,pauseAudio:s,resumeAudio:h,stopAudio:f,seekTo:g,skipForward:m,skipBackward:w,setPlaybackRate:b}=ub(),[v,y]=ae.useState(!1),[S,E]=ae.useState(void 0);if(!t)return null;const _=e=>isNaN(e)?"0:00":`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`;return o.jsxs("div",{className:"mini-player-container",children:[o.jsx(u,{className:"mini-player-card",children:o.jsxs(d,{className:"mini-player-content",children:[o.jsxs("div",{className:"mini-player-header",children:[o.jsxs("div",{className:"mini-player-title",onClick:()=>{e.push(`/tabs/artifact/${t.artifactId}`)},children:[o.jsx(c,{icon:kb,className:"mini-player-icon"}),o.jsx("span",{children:t.title})]}),o.jsx(l,{fill:"clear",size:"small",onClick:f,children:o.jsx(c,{icon:hb})})]}),o.jsxs("div",{className:"mini-player-progress",children:[o.jsx("span",{className:"time-label",children:_(n)}),o.jsx(te,{min:0,max:i||100,value:n,onIonChange:e=>{return t=e.detail.value,void g(t);var t},className:"progress-range"}),o.jsx("span",{className:"time-label",children:_(i)})]}),o.jsxs("div",{className:"mini-player-controls",children:[o.jsxs(l,{fill:"clear",onClick:()=>w(15),children:[o.jsx(c,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M112 64a16 16 0 0116 16v136.43L360.77 77.11a35.13 35.13 0 0135.77-.44c12 6.8 19.46 20 19.46 34.33v290c0 14.37-7.46 27.53-19.46 34.33a35.14 35.14 0 01-35.77-.45L128 295.57V432a16 16 0 01-32 0V80a16 16 0 0116-16z'/></svg>"}),o.jsx("span",{className:"skip-label",children:"15s"})]}),o.jsx(l,{fill:"solid",shape:"round",onClick:()=>{r?s():h()},className:"play-pause-button",children:o.jsx(c,{icon:r?Tb:kb})}),o.jsxs(l,{fill:"clear",onClick:()=>m(15),children:[o.jsx("span",{className:"skip-label",children:"15s"}),o.jsx(c,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M400 64a16 16 0 00-16 16v136.43L151.23 77.11a35.13 35.13 0 00-35.77-.44C103.46 83.47 96 96.63 96 111v290c0 14.37 7.46 27.53 19.46 34.33a35.14 35.14 0 0035.77-.45L384 295.57V432a16 16 0 0032 0V80a16 16 0 00-16-16z'/></svg>"})]}),o.jsxs(l,{fill:"clear",onClick:e=>{E(e),y(!0)},children:[o.jsx(c,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M425.7 118.25A240 240 0 0076.32 447l.18.2c.33.35.64.71 1 1.05.74.84 1.58 1.79 2.57 2.78a41.17 41.17 0 0060.36-.42 157.13 157.13 0 01231.26 0 41.18 41.18 0 0060.65.06l3.21-3.5.18-.2a239.93 239.93 0 00-10-328.76zM240 128a16 16 0 0132 0v32a16 16 0 01-32 0zM128 304H96a16 16 0 010-32h32a16 16 0 010 32zm48.8-95.2a16 16 0 01-22.62 0l-22.63-22.62a16 16 0 0122.63-22.63l22.62 22.63a16 16 0 010 22.62zm149.3 23.1l-47.5 75.5a31 31 0 01-7 7 30.11 30.11 0 01-35-49l75.5-47.5a10.23 10.23 0 0111.7 0 10.06 10.06 0 012.3 14zm31.72-23.1a16 16 0 01-22.62-22.62l22.62-22.63a16 16 0 0122.63 22.63zm65.88 227.6zM416 304h-32a16 16 0 010-32h32a16 16 0 010 32z'/></svg>"}),o.jsxs("span",{className:"speed-label",children:[a,"x"]})]})]})]})}),o.jsx(re,{isOpen:v,event:S,onDidDismiss:()=>y(!1),children:o.jsx(I,{children:[.5,.75,1,1.25,1.5,2].map(e=>o.jsxs(p,{button:!0,onClick:()=>(b(e),void y(!1)),className:a===e?"speed-selected":"",children:[o.jsxs(x,{children:[e,"x"]}),a===e&&o.jsx(c,{icon:kb,slot:"end"})]},e))})})]})};we.use(be).use(ve).init({resources:{en:{translation:{gallery:"Gallery",exhibits3d:"3D Exhibits",arView:"AR View",artifactDetails:"Artifact Details",virtualMuseum:"Virtual Museum",exploreHistory:"Explore History in Your Hands",continueWithGoogle:"Continue with Google",continueWithApple:"Continue with Apple",continueWithEmail:"Continue with Email",continueAsGuest:"Continue as Guest",or:"or",login:"Login",signUp:"Sign Up",email:"Email",password:"Password",pleaseEnterEmailPassword:"Please enter email and password",checkEmailVerification:"Please check your email to verify your account",alreadyHaveAccount:"Already have an account?",dontHaveAccount:"Don't have an account?",back:"Back",welcomeFooter:"Discover ancient artifacts, explore 3D exhibits, and test your knowledge",guestModeActive:"You're browsing as guest",loginToSaveFavorites:"Login to save favorites",loginToTrackProgress:"Login to track your progress",logout:"Logout",skip:"Skip",next:"Next",getStarted:"Get Started",onboardingSlide1Title:"Explore Artifacts",onboardingSlide1Desc:"Browse through a stunning collection of historical artifacts from around the world with high-quality images and detailed information.",onboardingSlide2Title:"3D & AR Viewing",onboardingSlide2Desc:"Experience artifacts in 3D! Rotate, zoom, and view exhibits in augmented reality for an immersive museum experience.",onboardingSlide3Title:"QR Code Scanning",onboardingSlide3Desc:"Scan QR codes at museums to instantly access detailed information about exhibits and artifacts.",onboardingSlide4Title:"Audio Guides",onboardingSlide4Desc:"Listen to expert audio guides that bring artifacts to life with fascinating stories and historical context.",onboardingSlide5Title:"Save Favorites",onboardingSlide5Desc:"Mark your favorite artifacts and create your personal collection for quick access anytime.",onboardingSlide6Title:"Interactive Quizzes",onboardingSlide6Desc:"Test your knowledge with fun quizzes and earn badges as you learn about history and culture.",onboardingSlide7Title:"Multi-Language",onboardingSlide7Desc:"Available in English, Italian, Spanish, and French. Switch languages anytime to enjoy content in your preferred language.",onboardingSlide8Title:"Ready to Explore!",onboardingSlide8Desc:"You're all set! Start your journey through history and discover amazing artifacts from ancient civilizations.",museumGallery:"Museum Gallery",searchArtifacts:"Search artifacts...",all:"All",favorites:" Favorites",images:"Images",videos:"Videos",noArtifactsFound:"No artifacts found matching your search.",ancientPottery:"Ancient Pottery",ancientPotteryDesc:"Ancient pottery from the Bronze Age",historicalArtifacts:"Historical Artifacts",historicalArtifactsDesc:"Collection of historical artifacts",museumTour:"Museum Tour",museumTourDesc:"Virtual tour of the museum",ancientSculpture:"Ancient Sculpture",ancientSculptureDesc:"Classical sculpture from ancient Greece",audioGuide:"Audio Guide",description:"Description",artifactInformation:"Artifact Information",period:"Period",origin:"Origin",material:"Material",dimensions:"Dimensions",discovered:"Discovered",condition:"Condition",relatedArtifacts:"Related Artifacts",interactive3dViewer:"Interactive 3D Viewer",selectExhibit:"Select an exhibit to view in 3D",useMouseToRotate:"Use mouse/touch to rotate and zoom",ancientGlobe:"Ancient Globe",ancientGlobeDesc:"A spherical artifact",stoneCube:"Stone Cube",stoneCubeDesc:"Carved stone cube",columnFragment:"Column Fragment",columnFragmentDesc:"Ancient column piece",skullModel:"Skull Model",skullModelDesc:"3D scanned skull artifact",damagedHelmet:"Damaged Helmet",damagedHelmetDesc:"Battle-worn ancient helmet",augmentedReality:"Augmented Reality",arNotSupported:"AR not supported",arNotSupportedDesc:"Your device does not support WebXR AR.",startAr:"Start AR Experience",requirements:"Requirements",httpsRequired:"HTTPS connection required",arCapableDevice:"AR-capable device (ARCore/ARKit)",cameraPermission:"Camera permission",modernBrowser:"Modern browser with WebXR support",scanArtifactQr:"Scan Artifact QR Code",pointCamera:"Point your camera at the QR code",qrWellLit:"Make sure the QR code is well lit and centered",cancel:"Cancel",audioGuideDesc:"Listen to the audio guide to learn more about this artifact's history, significance, and the story behind its discovery.",backOnline:" Back online! Content will sync automatically.",offline:" You are offline. Cached content is still available.",switchToDark:"Switch to dark mode",switchToLight:"Switch to light mode",museumQuiz:"Museum Quiz",question:"Question",of:"of",score:"Score",submitAnswer:"Submit Answer",nextQuestion:"Next Question",viewResults:"View Results",explanation:"Explanation",quizComplete:"Quiz Complete!",youScored:"You scored",yourBadges:"Your Badges:",tryAgain:"Try Again",perfectScore:" Perfect Score!",excellent:" Excellent!",goodJob:" Good Job!",keepLearning:" Keep Learning!",scholarBadge:" Scholar",expertBadge:" Expert",masterBadge:" Master",q1Question:"What period is the Ancient Pottery from?",q1Option1:"Iron Age",q1Option2:"Bronze Age",q1Option3:"Stone Age",q1Option4:"Medieval Period",q1Explanation:"The Ancient Pottery dates back to the Bronze Age, approximately 3000-1200 BCE.",q2Question:"Where was the Ancient Sculpture discovered?",q2Option1:"Rome",q2Option2:"Athens",q2Option3:"Egypt",q2Option4:"Mesopotamia",q2Explanation:"The Ancient Sculpture is a classical piece from ancient Greece, discovered in Athens.",q3Question:"What material is the Ancient Pottery made from?",q3Option1:"Bronze",q3Option2:"Marble",q3Option3:"Terracotta",q3Option4:"Gold",q3Explanation:"Ancient pottery was typically made from terracotta, a type of fired clay.",q4Question:"Which civilization is known for creating the first museums?",q4Option1:"Romans",q4Option2:"Greeks",q4Option3:"Egyptians",q4Option4:"Chinese",q4Explanation:'The ancient Greeks created the first museums, called "Mouseion" (temples of the Muses).',q5Question:"What is the primary purpose of museum conservation?",q5Option1:"To make artifacts look new",q5Option2:"To preserve artifacts for future generations",q5Option3:"To increase artifact value",q5Option4:"To clean artifacts regularly",q5Explanation:"Conservation aims to preserve artifacts in their current state for future generations to study and enjoy.",menu:"Menu",language:"Language",theme:"Theme",lightMode:"Light Mode",darkMode:"Dark Mode",information:"Information",help:"Help",about:"About",credits:"Credits",helpWelcome:"Welcome to Museum App",helpIntro:"This guide will help you navigate and make the most of all the features available in the Museum App.",helpFeatures:"Features",helpGalleryTitle:"Gallery",helpGalleryDesc:"Browse through our collection of artifacts with search and filter options.",help3DTitle:"3D Exhibits",help3DDesc:"View interactive 3D models of artifacts. Rotate, zoom, and explore from all angles.",helpQRTitle:"QR Scanner",helpQRDesc:"Scan QR codes at the museum to get instant information about artifacts.",helpARTitle:"AR View",helpARDesc:"Experience artifacts in augmented reality using your device camera.",helpQuizTitle:"Quiz",helpQuizDesc:"Test your knowledge about museum artifacts and history.",helpFavoritesTitle:"Favorites",helpFavoritesDesc:"Save your favorite artifacts for quick access later.",helpSearchTitle:"Search & Filter",helpSearchDesc:"Find specific artifacts using search and category filters.",helpShareTitle:"Share",helpShareDesc:"Share interesting artifacts with friends and family.",helpLanguageTitle:"Multi-Language",helpLanguageDesc:"Switch between English, Italian, Spanish, and French.",helpThemeTitle:"Dark Mode",helpThemeDesc:"Toggle between light and dark themes for comfortable viewing.",helpTips:"Tips & Tricks",helpTip1:"Pull down on the Gallery page to refresh content",helpTip2:"Tap the heart icon to add artifacts to your favorites",helpTip3:"Use pinch gestures to zoom in on 3D models",helpTip4:"The app works offline - cached content is always available",helpTip5:"Complete the quiz to earn badges and test your knowledge",aboutAppName:"Museum App",aboutVersion:"Version 1.0.0",aboutDescription:"An interactive museum experience featuring 3D exhibits, AR viewing, multilingual support, and educational quizzes. Explore artifacts from around the world with cutting-edge technology.",aboutFeatures:"Key Features",aboutFeature1Title:"Multilingual",aboutFeature1Desc:"4 languages supported",aboutFeature2Title:"3D & AR",aboutFeature2Desc:"Interactive viewing",aboutFeature3Title:"Mobile First",aboutFeature3Desc:"Optimized for mobile",aboutFeature4Title:"Offline Mode",aboutFeature4Desc:"Works without internet",aboutTechnology:"Built With",aboutContact:"Contact",aboutContactDesc:"Have questions or feedback? We'd love to hear from you!",aboutDeveloper:"Developer",aboutWebsite:"Website",aboutEmail:"Email",aboutCopyright:" 2024 Museum App. All rights reserved.",aboutLicense:"Open source software built with modern web technologies.",creditsThankYou:"Thank You",creditsIntro:"This app was made possible thanks to these amazing open source projects and resources.",creditsLibraries:"Open Source Libraries",creditsReactDesc:"JavaScript library for building user interfaces",creditsIonicDesc:"Mobile-first UI component library",creditsBabylonDesc:"3D rendering engine for the web",creditsI18nDesc:"Internationalization framework",creditsViteDesc:"Next generation frontend tooling",creditsSupabaseDesc:"Open source Firebase alternative",creditsQRDesc:"QR code scanning library",creditsImages:"Images & Media",creditsUnsplashDesc:"Beautiful free images and photos",creditsPhotographers:"Photographers",credits3DModels:"3D Models",creditsSketchfabDesc:"Platform for 3D and AR content",creditsBabylonPlaygroundDesc:"Sample 3D models and scenes",creditsAudio:"Audio",creditsSoundHelixDesc:"Royalty-free music and audio",creditsIcons:"Icons",creditsIoniconsDesc:"Premium designed icons for web and mobile",creditsSpecialThanks:"Special Thanks",creditsSpecialThanksDesc:"Special thanks to everyone who contributed to making this app possible:",creditsThanks1:"The open source community for amazing tools and libraries",creditsThanks2:"Museums and cultural institutions for preserving history",creditsThanks3:"Photographers and 3D artists for sharing their work",creditsThanks4:"You, for using this app and supporting digital museums",creditsFooter:"Made with  for museum enthusiasts everywhere"}},it:{translation:{gallery:"Galleria",exhibits3d:"Mostre 3D",arView:"Vista AR",artifactDetails:"Dettagli Reperto",virtualMuseum:"Museo Virtuale",exploreHistory:"Esplora la Storia nelle Tue Mani",continueWithGoogle:"Continua con Google",continueWithApple:"Continua con Apple",continueWithEmail:"Continua con Email",continueAsGuest:"Continua come Ospite",or:"oppure",login:"Accedi",signUp:"Registrati",email:"Email",password:"Password",pleaseEnterEmailPassword:"Inserisci email e password",checkEmailVerification:"Controlla la tua email per verificare il tuo account",alreadyHaveAccount:"Hai gi un account?",dontHaveAccount:"Non hai un account?",back:"Indietro",welcomeFooter:"Scopri antichi reperti, esplora mostre 3D e metti alla prova le tue conoscenze",guestModeActive:"Stai navigando come ospite",loginToSaveFavorites:"Accedi per salvare i preferiti",loginToTrackProgress:"Accedi per tracciare i tuoi progressi",logout:"Esci",skip:"Salta",next:"Avanti",getStarted:"Inizia",onboardingSlide1Title:"Esplora i Reperti",onboardingSlide1Desc:"Sfoglia una straordinaria collezione di reperti storici da tutto il mondo con immagini di alta qualit e informazioni dettagliate.",onboardingSlide2Title:"Visualizzazione 3D e AR",onboardingSlide2Desc:"Vivi i reperti in 3D! Ruota, ingrandisci e visualizza le mostre in realt aumentata per un'esperienza museale immersiva.",onboardingSlide3Title:"Scansione Codici QR",onboardingSlide3Desc:"Scansiona i codici QR nei musei per accedere istantaneamente a informazioni dettagliate su mostre e reperti.",onboardingSlide4Title:"Guide Audio",onboardingSlide4Desc:"Ascolta guide audio esperte che danno vita ai reperti con storie affascinanti e contesto storico.",onboardingSlide5Title:"Salva i Preferiti",onboardingSlide5Desc:"Segna i tuoi reperti preferiti e crea la tua collezione personale per un accesso rapido in qualsiasi momento.",onboardingSlide6Title:"Quiz Interattivi",onboardingSlide6Desc:"Metti alla prova le tue conoscenze con quiz divertenti e guadagna badge mentre impari storia e cultura.",onboardingSlide7Title:"Multilingua",onboardingSlide7Desc:"Disponibile in inglese, italiano, spagnolo e francese. Cambia lingua in qualsiasi momento per goderti i contenuti nella tua lingua preferita.",onboardingSlide8Title:"Pronto per Esplorare!",onboardingSlide8Desc:"Sei pronto! Inizia il tuo viaggio attraverso la storia e scopri reperti straordinari dalle antiche civilt.",museumGallery:"Galleria del Museo",searchArtifacts:"Cerca reperti...",all:"Tutti",favorites:" Preferiti",images:"Immagini",videos:"Video",noArtifactsFound:"Nessun reperto trovato corrispondente alla tua ricerca.",ancientPottery:"Ceramica Antica",ancientPotteryDesc:"Ceramica antica dell'et del bronzo",historicalArtifacts:"Reperti Storici",historicalArtifactsDesc:"Collezione di reperti storici",museumTour:"Tour del Museo",museumTourDesc:"Tour virtuale del museo",ancientSculpture:"Scultura Antica",ancientSculptureDesc:"Scultura classica dell'antica Grecia",audioGuide:"Guida Audio",description:"Descrizione",artifactInformation:"Informazioni sul Reperto",period:"Periodo",origin:"Origine",material:"Materiale",dimensions:"Dimensioni",discovered:"Scoperto",condition:"Condizione",relatedArtifacts:"Reperti Correlati",interactive3dViewer:"Visualizzatore 3D Interattivo",selectExhibit:"Seleziona una mostra da visualizzare in 3D",useMouseToRotate:"Usa il mouse/tocco per ruotare e ingrandire",ancientGlobe:"Globo Antico",ancientGlobeDesc:"Un artefatto sferico",stoneCube:"Cubo di Pietra",stoneCubeDesc:"Cubo di pietra scolpito",columnFragment:"Frammento di Colonna",columnFragmentDesc:"Pezzo di colonna antica",skullModel:"Modello di Cranio",skullModelDesc:"Cranio scansionato in 3D",damagedHelmet:"Elmo Danneggiato",damagedHelmetDesc:"Elmo antico consumato dalla battaglia",augmentedReality:"Realt Aumentata",arNotSupported:"AR non supportata",arNotSupportedDesc:"Il tuo dispositivo non supporta WebXR AR.",startAr:"Avvia Esperienza AR",requirements:"Requisiti",httpsRequired:"Connessione HTTPS richiesta",arCapableDevice:"Dispositivo compatibile AR (ARCore/ARKit)",cameraPermission:"Permesso fotocamera",modernBrowser:"Browser moderno con supporto WebXR",scanArtifactQr:"Scansiona Codice QR Reperto",pointCamera:"Punta la fotocamera sul codice QR",qrWellLit:"Assicurati che il codice QR sia ben illuminato e centrato",cancel:"Annulla",audioGuideDesc:"Ascolta la guida audio per saperne di pi sulla storia di questo reperto, il suo significato e la storia della sua scoperta.",backOnline:" Sei di nuovo online! Il contenuto si sincronizzer automaticamente.",offline:" Sei offline. Il contenuto memorizzato  ancora disponibile.",switchToDark:"Passa alla modalit scura",switchToLight:"Passa alla modalit chiara",museumQuiz:"Quiz del Museo",question:"Domanda",of:"di",score:"Punteggio",submitAnswer:"Invia Risposta",nextQuestion:"Prossima Domanda",viewResults:"Visualizza Risultati",explanation:"Spiegazione",quizComplete:"Quiz Completato!",youScored:"Hai ottenuto",yourBadges:"I Tuoi Badge:",tryAgain:"Riprova",perfectScore:" Punteggio Perfetto!",excellent:" Eccellente!",goodJob:" Ottimo Lavoro!",keepLearning:" Continua ad Imparare!",scholarBadge:" Studioso",expertBadge:" Esperto",masterBadge:" Maestro",q1Question:"Da quale periodo proviene la Ceramica Antica?",q1Option1:"Et del Ferro",q1Option2:"Et del Bronzo",q1Option3:"Et della Pietra",q1Option4:"Periodo Medievale",q1Explanation:"La Ceramica Antica risale all'Et del Bronzo, circa 3000-1200 a.C.",q2Question:"Dove  stata scoperta la Scultura Antica?",q2Option1:"Roma",q2Option2:"Atene",q2Option3:"Egitto",q2Option4:"Mesopotamia",q2Explanation:"La Scultura Antica  un pezzo classico dell'antica Grecia, scoperto ad Atene.",q3Question:"Di quale materiale  fatta la Ceramica Antica?",q3Option1:"Bronzo",q3Option2:"Marmo",q3Option3:"Terracotta",q3Option4:"Oro",q3Explanation:"La ceramica antica era tipicamente fatta di terracotta, un tipo di argilla cotta.",q4Question:"Quale civilt  nota per aver creato i primi musei?",q4Option1:"Romani",q4Option2:"Greci",q4Option3:"Egiziani",q4Option4:"Cinesi",q4Explanation:'Gli antichi Greci crearono i primi musei, chiamati "Mouseion" (templi delle Muse).',q5Question:"Qual  lo scopo principale della conservazione museale?",q5Option1:"Far sembrare nuovi i reperti",q5Option2:"Preservare i reperti per le generazioni future",q5Option3:"Aumentare il valore dei reperti",q5Option4:"Pulire regolarmente i reperti",q5Explanation:"La conservazione mira a preservare i reperti nel loro stato attuale per le generazioni future da studiare e apprezzare.",menu:"Menu",language:"Lingua",theme:"Tema",lightMode:"Modalit Chiara",darkMode:"Modalit Scura",information:"Informazioni",help:"Aiuto",about:"Info",credits:"Crediti",helpWelcome:"Benvenuto in Museum App",helpIntro:"Questa guida ti aiuter a navigare e sfruttare al meglio tutte le funzionalit disponibili nell'App del Museo.",helpFeatures:"Funzionalit",helpGalleryTitle:"Galleria",helpGalleryDesc:"Sfoglia la nostra collezione di reperti con opzioni di ricerca e filtro.",help3DTitle:"Mostre 3D",help3DDesc:"Visualizza modelli 3D interattivi di reperti. Ruota, ingrandisci ed esplora da tutte le angolazioni.",helpQRTitle:"Scanner QR",helpQRDesc:"Scansiona i codici QR al museo per ottenere informazioni istantanee sui reperti.",helpARTitle:"Vista AR",helpARDesc:"Sperimenta i reperti in realt aumentata usando la fotocamera del tuo dispositivo.",helpQuizTitle:"Quiz",helpQuizDesc:"Metti alla prova le tue conoscenze sui reperti museali e sulla storia.",helpFavoritesTitle:"Preferiti",helpFavoritesDesc:"Salva i tuoi reperti preferiti per un accesso rapido in seguito.",helpSearchTitle:"Ricerca e Filtro",helpSearchDesc:"Trova reperti specifici usando la ricerca e i filtri per categoria.",helpShareTitle:"Condividi",helpShareDesc:"Condividi reperti interessanti con amici e familiari.",helpLanguageTitle:"Multilingua",helpLanguageDesc:"Passa tra inglese, italiano, spagnolo e francese.",helpThemeTitle:"Modalit Scura",helpThemeDesc:"Passa tra temi chiari e scuri per una visualizzazione confortevole.",helpTips:"Suggerimenti e Trucchi",helpTip1:"Trascina verso il basso nella pagina Galleria per aggiornare i contenuti",helpTip2:"Tocca l'icona del cuore per aggiungere reperti ai tuoi preferiti",helpTip3:"Usa i gesti di pizzico per ingrandire i modelli 3D",helpTip4:"L'app funziona offline - i contenuti memorizzati sono sempre disponibili",helpTip5:"Completa il quiz per guadagnare badge e testare le tue conoscenze",aboutAppName:"Museum App",aboutVersion:"Versione 1.0.0",aboutDescription:"Un'esperienza museale interattiva con mostre 3D, visualizzazione AR, supporto multilingue e quiz educativi. Esplora reperti da tutto il mondo con tecnologia all'avanguardia.",aboutFeatures:"Caratteristiche Principali",aboutFeature1Title:"Multilingua",aboutFeature1Desc:"4 lingue supportate",aboutFeature2Title:"3D e AR",aboutFeature2Desc:"Visualizzazione interattiva",aboutFeature3Title:"Mobile First",aboutFeature3Desc:"Ottimizzato per mobile",aboutFeature4Title:"Modalit Offline",aboutFeature4Desc:"Funziona senza internet",aboutTechnology:"Costruito Con",aboutContact:"Contatti",aboutContactDesc:"Hai domande o feedback? Ci piacerebbe sentirti!",aboutDeveloper:"Sviluppatore",aboutWebsite:"Sito Web",aboutEmail:"Email",aboutCopyright:" 2024 Museum App. Tutti i diritti riservati.",aboutLicense:"Software open source costruito con moderne tecnologie web.",creditsThankYou:"Grazie",creditsIntro:"Questa app  stata resa possibile grazie a questi fantastici progetti e risorse open source.",creditsLibraries:"Librerie Open Source",creditsReactDesc:"Libreria JavaScript per costruire interfacce utente",creditsIonicDesc:"Libreria di componenti UI mobile-first",creditsBabylonDesc:"Motore di rendering 3D per il web",creditsI18nDesc:"Framework di internazionalizzazione",creditsViteDesc:"Strumenti frontend di nuova generazione",creditsSupabaseDesc:"Alternativa open source a Firebase",creditsQRDesc:"Libreria per la scansione di codici QR",creditsImages:"Immagini e Media",creditsUnsplashDesc:"Bellissime immagini e foto gratuite",creditsPhotographers:"Fotografi",credits3DModels:"Modelli 3D",creditsSketchfabDesc:"Piattaforma per contenuti 3D e AR",creditsBabylonPlaygroundDesc:"Modelli e scene 3D di esempio",creditsAudio:"Audio",creditsSoundHelixDesc:"Musica e audio royalty-free",creditsIcons:"Icone",creditsIoniconsDesc:"Icone premium progettate per web e mobile",creditsSpecialThanks:"Ringraziamenti Speciali",creditsSpecialThanksDesc:"Un ringraziamento speciale a tutti coloro che hanno contribuito a rendere possibile questa app:",creditsThanks1:"La comunit open source per strumenti e librerie fantastici",creditsThanks2:"Musei e istituzioni culturali per preservare la storia",creditsThanks3:"Fotografi e artisti 3D per condividere il loro lavoro",creditsThanks4:"Tu, per aver usato questa app e supportato i musei digitali",creditsFooter:"Fatto con  per gli appassionati di musei ovunque"}},es:{translation:{gallery:"Galera",exhibits3d:"Exhibiciones 3D",arView:"Vista AR",artifactDetails:"Detalles del Artefacto",virtualMuseum:"Museo Virtual",exploreHistory:"Explora la Historia en Tus Manos",continueWithGoogle:"Continuar con Google",continueWithApple:"Continuar con Apple",continueWithEmail:"Continuar con Email",continueAsGuest:"Continuar como Invitado",or:"o",login:"Iniciar Sesin",signUp:"Registrarse",email:"Email",password:"Contrasea",pleaseEnterEmailPassword:"Por favor ingresa email y contrasea",checkEmailVerification:"Por favor revisa tu email para verificar tu cuenta",alreadyHaveAccount:"Ya tienes una cuenta?",dontHaveAccount:"No tienes una cuenta?",back:"Atrs",welcomeFooter:"Descubre artefactos antiguos, explora exhibiciones 3D y pon a prueba tus conocimientos",guestModeActive:"Ests navegando como invitado",loginToSaveFavorites:"Inicia sesin para guardar favoritos",loginToTrackProgress:"Inicia sesin para rastrear tu progreso",logout:"Cerrar Sesin",skip:"Saltar",next:"Siguiente",getStarted:"Comenzar",onboardingSlide1Title:"Explora Artefactos",onboardingSlide1Desc:"Navega por una impresionante coleccin de artefactos histricos de todo el mundo con imgenes de alta calidad e informacin detallada.",onboardingSlide2Title:"Visualizacin 3D y AR",onboardingSlide2Desc:"Experimenta artefactos en 3D! Rota, ampla y visualiza exhibiciones en realidad aumentada para una experiencia musestica inmersiva.",onboardingSlide3Title:"Escaneo de Cdigos QR",onboardingSlide3Desc:"Escanea cdigos QR en museos para acceder instantneamente a informacin detallada sobre exhibiciones y artefactos.",onboardingSlide4Title:"Guas de Audio",onboardingSlide4Desc:"Escucha guas de audio expertas que dan vida a los artefactos con historias fascinantes y contexto histrico.",onboardingSlide5Title:"Guardar Favoritos",onboardingSlide5Desc:"Marca tus artefactos favoritos y crea tu coleccin personal para acceso rpido en cualquier momento.",onboardingSlide6Title:"Cuestionarios Interactivos",onboardingSlide6Desc:"Pon a prueba tus conocimientos con cuestionarios divertidos y gana insignias mientras aprendes sobre historia y cultura.",onboardingSlide7Title:"Multiidioma",onboardingSlide7Desc:"Disponible en ingls, italiano, espaol y francs. Cambia de idioma en cualquier momento para disfrutar del contenido en tu idioma preferido.",onboardingSlide8Title:"Listo para Explorar!",onboardingSlide8Desc:"Ests listo! Comienza tu viaje a travs de la historia y descubre artefactos increbles de civilizaciones antiguas.",museumGallery:"Galera del Museo",searchArtifacts:"Buscar artefactos...",all:"Todos",favorites:" Favoritos",images:"Imgenes",videos:"Videos",noArtifactsFound:"No se encontraron artefactos que coincidan con tu bsqueda.",ancientPottery:"Cermica Antigua",ancientPotteryDesc:"Cermica antigua de la Edad del Bronce",historicalArtifacts:"Artefactos Histricos",historicalArtifactsDesc:"Coleccin de artefactos histricos",museumTour:"Tour del Museo",museumTourDesc:"Tour virtual del museo",ancientSculpture:"Escultura Antigua",ancientSculptureDesc:"Escultura clsica de la antigua Grecia",audioGuide:"Gua de Audio",description:"Descripcin",artifactInformation:"Informacin del Artefacto",period:"Perodo",origin:"Origen",material:"Material",dimensions:"Dimensiones",discovered:"Descubierto",condition:"Condicin",relatedArtifacts:"Artefactos Relacionados",interactive3dViewer:"Visor 3D Interactivo",selectExhibit:"Selecciona una exhibicin para ver en 3D",useMouseToRotate:"Usa el ratn/tctil para rotar y hacer zoom",ancientGlobe:"Globo Antiguo",ancientGlobeDesc:"Un artefacto esfrico",stoneCube:"Cubo de Piedra",stoneCubeDesc:"Cubo de piedra tallado",columnFragment:"Fragmento de Columna",columnFragmentDesc:"Pieza de columna antigua",skullModel:"Modelo de Crneo",skullModelDesc:"Crneo escaneado en 3D",damagedHelmet:"Casco Daado",damagedHelmetDesc:"Casco antiguo desgastado por la batalla",augmentedReality:"Realidad Aumentada",arNotSupported:"AR no compatible",arNotSupportedDesc:"Tu dispositivo no es compatible con WebXR AR.",startAr:"Iniciar Experiencia AR",requirements:"Requisitos",httpsRequired:"Conexin HTTPS requerida",arCapableDevice:"Dispositivo compatible con AR (ARCore/ARKit)",cameraPermission:"Permiso de cmara",modernBrowser:"Navegador moderno con soporte WebXR",scanArtifactQr:"Escanear Cdigo QR del Artefacto",pointCamera:"Apunta tu cmara al cdigo QR",qrWellLit:"Asegrate de que el cdigo QR est bien iluminado y centrado",cancel:"Cancelar",audioGuideDesc:"Escucha la gua de audio para aprender ms sobre la historia de este artefacto, su significado y la historia detrs de su descubrimiento.",backOnline:" De vuelta en lnea! El contenido se sincronizar automticamente.",offline:" Ests sin conexin. El contenido en cach an est disponible.",switchToDark:"Cambiar a modo oscuro",switchToLight:"Cambiar a modo claro",museumQuiz:"Quiz del Museo",question:"Pregunta",of:"de",score:"Puntuacin",submitAnswer:"Enviar Respuesta",nextQuestion:"Siguiente Pregunta",viewResults:"Ver Resultados",explanation:"Explicacin",quizComplete:"Quiz Completado!",youScored:"Obtuviste",yourBadges:"Tus Insignias:",tryAgain:"Intentar de Nuevo",perfectScore:" Puntuacin Perfecta!",excellent:" Excelente!",goodJob:" Buen Trabajo!",keepLearning:" Sigue Aprendiendo!",scholarBadge:" Erudito",expertBadge:" Experto",masterBadge:" Maestro",q1Question:"De qu perodo es la Cermica Antigua?",q1Option1:"Edad del Hierro",q1Option2:"Edad del Bronce",q1Option3:"Edad de Piedra",q1Option4:"Perodo Medieval",q1Explanation:"La Cermica Antigua se remonta a la Edad del Bronce, aproximadamente 3000-1200 a.C.",q2Question:"Dnde se descubri la Escultura Antigua?",q2Option1:"Roma",q2Option2:"Atenas",q2Option3:"Egipto",q2Option4:"Mesopotamia",q2Explanation:"La Escultura Antigua es una pieza clsica de la antigua Grecia, descubierta en Atenas.",q3Question:"De qu material est hecha la Cermica Antigua?",q3Option1:"Bronce",q3Option2:"Mrmol",q3Option3:"Terracota",q3Option4:"Oro",q3Explanation:"La cermica antigua se haca tpicamente de terracota, un tipo de arcilla cocida.",q4Question:"Qu civilizacin es conocida por crear los primeros museos?",q4Option1:"Romanos",q4Option2:"Griegos",q4Option3:"Egipcios",q4Option4:"Chinos",q4Explanation:'Los antiguos griegos crearon los primeros museos, llamados "Mouseion" (templos de las Musas).',q5Question:"Cul es el propsito principal de la conservacin musestica?",q5Option1:"Hacer que los artefactos parezcan nuevos",q5Option2:"Preservar artefactos para generaciones futuras",q5Option3:"Aumentar el valor de los artefactos",q5Option4:"Limpiar artefactos regularmente",q5Explanation:"La conservacin tiene como objetivo preservar los artefactos en su estado actual para que las generaciones futuras los estudien y disfruten.",menu:"Men",language:"Idioma",theme:"Tema",lightMode:"Modo Claro",darkMode:"Modo Oscuro",information:"Informacin",help:"Ayuda",about:"Acerca de",credits:"Crditos",helpWelcome:"Bienvenido a Museum App",helpIntro:"Esta gua te ayudar a navegar y aprovechar al mximo todas las funciones disponibles en la App del Museo.",helpFeatures:"Caractersticas",helpGalleryTitle:"Galera",helpGalleryDesc:"Explora nuestra coleccin de artefactos con opciones de bsqueda y filtro.",help3DTitle:"Exposiciones 3D",help3DDesc:"Ver modelos 3D interactivos de artefactos. Rotar, ampliar y explorar desde todos los ngulos.",helpQRTitle:"Escner QR",helpQRDesc:"Escanea cdigos QR en el museo para obtener informacin instantnea sobre artefactos.",helpARTitle:"Vista AR",helpARDesc:"Experimenta artefactos en realidad aumentada usando la cmara de tu dispositivo.",helpQuizTitle:"Cuestionario",helpQuizDesc:"Pon a prueba tus conocimientos sobre artefactos musesticos e historia.",helpFavoritesTitle:"Favoritos",helpFavoritesDesc:"Guarda tus artefactos favoritos para acceso rpido ms tarde.",helpSearchTitle:"Buscar y Filtrar",helpSearchDesc:"Encuentra artefactos especficos usando bsqueda y filtros de categora.",helpShareTitle:"Compartir",helpShareDesc:"Comparte artefactos interesantes con amigos y familiares.",helpLanguageTitle:"Multiidioma",helpLanguageDesc:"Cambia entre ingls, italiano, espaol y francs.",helpThemeTitle:"Modo Oscuro",helpThemeDesc:"Alterna entre temas claros y oscuros para una visualizacin cmoda.",helpTips:"Consejos y Trucos",helpTip1:"Desliza hacia abajo en la pgina de Galera para actualizar el contenido",helpTip2:"Toca el cono del corazn para agregar artefactos a tus favoritos",helpTip3:"Usa gestos de pellizco para acercar modelos 3D",helpTip4:"La app funciona sin conexin - el contenido en cach siempre est disponible",helpTip5:"Completa el cuestionario para ganar insignias y probar tus conocimientos",aboutAppName:"Museum App",aboutVersion:"Versin 1.0.0",aboutDescription:"Una experiencia musestica interactiva con exposiciones 3D, visualizacin AR, soporte multiidioma y cuestionarios educativos.",aboutFeatures:"Caractersticas Clave",aboutFeature1Title:"Multiidioma",aboutFeature1Desc:"4 idiomas soportados",aboutFeature2Title:"3D y AR",aboutFeature2Desc:"Visualizacin interactiva",aboutFeature3Title:"Mobile First",aboutFeature3Desc:"Optimizado para mvil",aboutFeature4Title:"Modo Sin Conexin",aboutFeature4Desc:"Funciona sin internet",aboutTechnology:"Construido Con",aboutContact:"Contacto",aboutContactDesc:"Tienes preguntas o comentarios? Nos encantara saber de ti!",aboutDeveloper:"Desarrollador",aboutWebsite:"Sitio Web",aboutEmail:"Correo",aboutCopyright:" 2024 Museum App. Todos los derechos reservados.",aboutLicense:"Software de cdigo abierto construido con tecnologas web modernas.",creditsThankYou:"Gracias",creditsIntro:"Esta app fue posible gracias a estos increbles proyectos y recursos de cdigo abierto.",creditsLibraries:"Bibliotecas de Cdigo Abierto",creditsReactDesc:"Biblioteca JavaScript para construir interfaces de usuario",creditsIonicDesc:"Biblioteca de componentes UI mobile-first",creditsBabylonDesc:"Motor de renderizado 3D para la web",creditsI18nDesc:"Framework de internacionalizacin",creditsViteDesc:"Herramientas frontend de prxima generacin",creditsSupabaseDesc:"Alternativa de cdigo abierto a Firebase",creditsQRDesc:"Biblioteca de escaneo de cdigos QR",creditsImages:"Imgenes y Medios",creditsUnsplashDesc:"Hermosas imgenes y fotos gratuitas",creditsPhotographers:"Fotgrafos",credits3DModels:"Modelos 3D",creditsSketchfabDesc:"Plataforma para contenido 3D y AR",creditsBabylonPlaygroundDesc:"Modelos y escenas 3D de muestra",creditsAudio:"Audio",creditsSoundHelixDesc:"Msica y audio libre de regalas",creditsIcons:"Iconos",creditsIoniconsDesc:"Iconos premium diseados para web y mvil",creditsSpecialThanks:"Agradecimientos Especiales",creditsSpecialThanksDesc:"Agradecimientos especiales a todos los que contribuyeron a hacer posible esta app:",creditsThanks1:"La comunidad de cdigo abierto por herramientas y bibliotecas increbles",creditsThanks2:"Museos e instituciones culturales por preservar la historia",creditsThanks3:"Fotgrafos y artistas 3D por compartir su trabajo",creditsThanks4:"T, por usar esta app y apoyar los museos digitales",creditsFooter:"Hecho con  para entusiastas de museos en todas partes"}},fr:{translation:{gallery:"Galerie",exhibits3d:"Expositions 3D",arView:"Vue AR",artifactDetails:"Dtails de l'Artefact",virtualMuseum:"Muse Virtuel",exploreHistory:"Explorez l'Histoire dans Vos Mains",continueWithGoogle:"Continuer avec Google",continueWithApple:"Continuer avec Apple",continueWithEmail:"Continuer avec Email",continueAsGuest:"Continuer en tant qu'Invit",or:"ou",login:"Connexion",signUp:"S'inscrire",email:"Email",password:"Mot de passe",pleaseEnterEmailPassword:"Veuillez entrer email et mot de passe",checkEmailVerification:"Veuillez vrifier votre email pour vrifier votre compte",alreadyHaveAccount:"Vous avez dj un compte?",dontHaveAccount:"Vous n'avez pas de compte?",back:"Retour",welcomeFooter:"Dcouvrez des artefacts anciens, explorez des expositions 3D et testez vos connaissances",guestModeActive:"Vous naviguez en tant qu'invit",loginToSaveFavorites:"Connectez-vous pour sauvegarder les favoris",loginToTrackProgress:"Connectez-vous pour suivre vos progrs",logout:"Dconnexion",skip:"Passer",next:"Suivant",getStarted:"Commencer",onboardingSlide1Title:"Explorer les Artefacts",onboardingSlide1Desc:"Parcourez une superbe collection d'artefacts historiques du monde entier avec des images de haute qualit et des informations dtailles.",onboardingSlide2Title:"Visualisation 3D et AR",onboardingSlide2Desc:"Dcouvrez les artefacts en 3D! Faites pivoter, zoomez et visualisez les expositions en ralit augmente pour une exprience musale immersive.",onboardingSlide3Title:"Scan de Codes QR",onboardingSlide3Desc:"Scannez les codes QR dans les muses pour accder instantanment  des informations dtailles sur les expositions et les artefacts.",onboardingSlide4Title:"Guides Audio",onboardingSlide4Desc:"coutez des guides audio experts qui donnent vie aux artefacts avec des histoires fascinantes et un contexte historique.",onboardingSlide5Title:"Sauvegarder les Favoris",onboardingSlide5Desc:"Marquez vos artefacts prfrs et crez votre collection personnelle pour un accs rapide  tout moment.",onboardingSlide6Title:"Quiz Interactifs",onboardingSlide6Desc:"Testez vos connaissances avec des quiz amusants et gagnez des badges en apprenant l'histoire et la culture.",onboardingSlide7Title:"Multilingue",onboardingSlide7Desc:"Disponible en anglais, italien, espagnol et franais. Changez de langue  tout moment pour profiter du contenu dans votre langue prfre.",onboardingSlide8Title:"Prt  Explorer!",onboardingSlide8Desc:"Vous tes prt! Commencez votre voyage  travers l'histoire et dcouvrez des artefacts incroyables des civilisations anciennes.",museumGallery:"Galerie du Muse",searchArtifacts:"Rechercher des artefacts...",all:"Tous",favorites:" Favoris",images:"Images",videos:"Vidos",noArtifactsFound:"Aucun artefact trouv correspondant  votre recherche.",ancientPottery:"Poterie Ancienne",ancientPotteryDesc:"Poterie ancienne de l'ge du bronze",historicalArtifacts:"Artefacts Historiques",historicalArtifactsDesc:"Collection d'artefacts historiques",museumTour:"Visite du Muse",museumTourDesc:"Visite virtuelle du muse",ancientSculpture:"Sculpture Ancienne",ancientSculptureDesc:"Sculpture classique de la Grce antique",audioGuide:"Guide Audio",description:"Description",artifactInformation:"Informations sur l'Artefact",period:"Priode",origin:"Origine",material:"Matriau",dimensions:"Dimensions",discovered:"Dcouvert",condition:"tat",relatedArtifacts:"Artefacts Connexes",interactive3dViewer:"Visionneuse 3D Interactive",selectExhibit:"Slectionnez une exposition  voir en 3D",useMouseToRotate:"Utilisez la souris/tactile pour faire pivoter et zoomer",ancientGlobe:"Globe Ancien",ancientGlobeDesc:"Un artefact sphrique",stoneCube:"Cube de Pierre",stoneCubeDesc:"Cube de pierre sculpt",columnFragment:"Fragment de Colonne",columnFragmentDesc:"Morceau de colonne ancienne",skullModel:"Modle de Crne",skullModelDesc:"Crne scann en 3D",damagedHelmet:"Casque Endommag",damagedHelmetDesc:"Casque ancien us par la bataille",augmentedReality:"Ralit Augmente",arNotSupported:"AR non pris en charge",arNotSupportedDesc:"Votre appareil ne prend pas en charge WebXR AR.",startAr:"Dmarrer l'Exprience AR",requirements:"Exigences",httpsRequired:"Connexion HTTPS requise",arCapableDevice:"Appareil compatible AR (ARCore/ARKit)",cameraPermission:"Permission de camra",modernBrowser:"Navigateur moderne avec support WebXR",scanArtifactQr:"Scanner le Code QR de l'Artefact",pointCamera:"Pointez votre camra sur le code QR",qrWellLit:"Assurez-vous que le code QR est bien clair et centr",cancel:"Annuler",audioGuideDesc:"coutez le guide audio pour en savoir plus sur l'histoire de cet artefact, sa signification et l'histoire de sa dcouverte.",backOnline:" De retour en ligne ! Le contenu se synchronisera automatiquement.",offline:" Vous tes hors ligne. Le contenu en cache est toujours disponible.",switchToDark:"Passer en mode sombre",switchToLight:"Passer en mode clair",museumQuiz:"Quiz du Muse",question:"Question",of:"de",score:"Score",submitAnswer:"Soumettre la Rponse",nextQuestion:"Question Suivante",viewResults:"Voir les Rsultats",explanation:"Explication",quizComplete:"Quiz Termin !",youScored:"Vous avez obtenu",yourBadges:"Vos Badges :",tryAgain:"Ressayer",perfectScore:" Score Parfait !",excellent:" Excellent !",goodJob:" Bon Travail !",keepLearning:" Continuez  Apprendre !",scholarBadge:" rudit",expertBadge:" Expert",masterBadge:" Matre",q1Question:"De quelle priode provient la Poterie Ancienne ?",q1Option1:"ge du Fer",q1Option2:"ge du Bronze",q1Option3:"ge de Pierre",q1Option4:"Priode Mdivale",q1Explanation:"La Poterie Ancienne remonte  l'ge du Bronze, environ 3000-1200 avant J.-C.",q2Question:"O la Sculpture Ancienne a-t-elle t dcouverte ?",q2Option1:"Rome",q2Option2:"Athnes",q2Option3:"gypte",q2Option4:"Msopotamie",q2Explanation:"La Sculpture Ancienne est une pice classique de la Grce antique, dcouverte  Athnes.",q3Question:"De quel matriau est faite la Poterie Ancienne ?",q3Option1:"Bronze",q3Option2:"Marbre",q3Option3:"Terre Cuite",q3Option4:"Or",q3Explanation:"La poterie ancienne tait gnralement faite de terre cuite, un type d'argile cuite.",q4Question:"Quelle civilisation est connue pour avoir cr les premiers muses ?",q4Option1:"Romains",q4Option2:"Grecs",q4Option3:"gyptiens",q4Option4:"Chinois",q4Explanation:'Les anciens Grecs ont cr les premiers muses, appels "Mouseion" (temples des Muses).',q5Question:"Quel est le but principal de la conservation musale ?",q5Option1:"Faire paratre les artefacts neufs",q5Option2:"Prserver les artefacts pour les gnrations futures",q5Option3:"Augmenter la valeur des artefacts",q5Option4:"Nettoyer rgulirement les artefacts",q5Explanation:"La conservation vise  prserver les artefacts dans leur tat actuel pour que les gnrations futures puissent les tudier et en profiter.",menu:"Menu",language:"Langue",theme:"Thme",lightMode:"Mode Clair",darkMode:"Mode Sombre",information:"Information",help:"Aide",about:" propos",credits:"Crdits",helpWelcome:"Bienvenue dans Museum App",helpIntro:"Ce guide vous aidera  naviguer et  tirer le meilleur parti de toutes les fonctionnalits disponibles dans l'App du Muse.",helpFeatures:"Fonctionnalits",helpGalleryTitle:"Galerie",helpGalleryDesc:"Parcourez notre collection d'artefacts avec des options de recherche et de filtre.",help3DTitle:"Expositions 3D",help3DDesc:"Visualisez des modles 3D interactifs d'artefacts. Faites pivoter, zoomez et explorez sous tous les angles.",helpQRTitle:"Scanner QR",helpQRDesc:"Scannez les codes QR au muse pour obtenir des informations instantanes sur les artefacts.",helpARTitle:"Vue AR",helpARDesc:"Dcouvrez les artefacts en ralit augmente en utilisant la camra de votre appareil.",helpQuizTitle:"Quiz",helpQuizDesc:"Testez vos connaissances sur les artefacts musaux et l'histoire.",helpFavoritesTitle:"Favoris",helpFavoritesDesc:"Enregistrez vos artefacts prfrs pour un accs rapide ultrieur.",helpSearchTitle:"Recherche et Filtre",helpSearchDesc:"Trouvez des artefacts spcifiques en utilisant la recherche et les filtres de catgorie.",helpShareTitle:"Partager",helpShareDesc:"Partagez des artefacts intressants avec vos amis et votre famille.",helpLanguageTitle:"Multilingue",helpLanguageDesc:"Basculez entre l'anglais, l'italien, l'espagnol et le franais.",helpThemeTitle:"Mode Sombre",helpThemeDesc:"Basculez entre les thmes clairs et sombres pour un affichage confortable.",helpTips:"Conseils et Astuces",helpTip1:"Tirez vers le bas sur la page Galerie pour actualiser le contenu",helpTip2:"Appuyez sur l'icne du cur pour ajouter des artefacts  vos favoris",helpTip3:"Utilisez les gestes de pincement pour zoomer sur les modles 3D",helpTip4:"L'application fonctionne hors ligne - le contenu en cache est toujours disponible",helpTip5:"Compltez le quiz pour gagner des badges et tester vos connaissances",aboutAppName:"Museum App",aboutVersion:"Version 1.0.0",aboutDescription:"Une exprience musale interactive avec des expositions 3D, une visualisation AR, un support multilingue et des quiz ducatifs.",aboutFeatures:"Caractristiques Cls",aboutFeature1Title:"Multilingue",aboutFeature1Desc:"4 langues supportes",aboutFeature2Title:"3D et AR",aboutFeature2Desc:"Visualisation interactive",aboutFeature3Title:"Mobile First",aboutFeature3Desc:"Optimis pour mobile",aboutFeature4Title:"Mode Hors Ligne",aboutFeature4Desc:"Fonctionne sans internet",aboutTechnology:"Construit Avec",aboutContact:"Contact",aboutContactDesc:"Vous avez des questions ou des commentaires? Nous aimerions vous entendre!",aboutDeveloper:"Dveloppeur",aboutWebsite:"Site Web",aboutEmail:"Email",aboutCopyright:" 2024 Museum App. Tous droits rservs.",aboutLicense:"Logiciel open source construit avec des technologies web modernes.",creditsThankYou:"Merci",creditsIntro:"Cette application a t rendue possible grce  ces incroyables projets et ressources open source.",creditsLibraries:"Bibliothques Open Source",creditsReactDesc:"Bibliothque JavaScript pour construire des interfaces utilisateur",creditsIonicDesc:"Bibliothque de composants UI mobile-first",creditsBabylonDesc:"Moteur de rendu 3D pour le web",creditsI18nDesc:"Framework d'internationalisation",creditsViteDesc:"Outils frontend de nouvelle gnration",creditsSupabaseDesc:"Alternative open source  Firebase",creditsQRDesc:"Bibliothque de scan de codes QR",creditsImages:"Images et Mdias",creditsUnsplashDesc:"Belles images et photos gratuites",creditsPhotographers:"Photographes",credits3DModels:"Modles 3D",creditsSketchfabDesc:"Plateforme pour contenu 3D et AR",creditsBabylonPlaygroundDesc:"Modles et scnes 3D d'exemple",creditsAudio:"Audio",creditsSoundHelixDesc:"Musique et audio libres de droits",creditsIcons:"Icnes",creditsIoniconsDesc:"Icnes premium conues pour le web et le mobile",creditsSpecialThanks:"Remerciements Spciaux",creditsSpecialThanksDesc:"Remerciements spciaux  tous ceux qui ont contribu  rendre cette application possible:",creditsThanks1:"La communaut open source pour des outils et bibliothques incroyables",creditsThanks2:"Les muses et institutions culturelles pour prserver l'histoire",creditsThanks3:"Les photographes et artistes 3D pour partager leur travail",creditsThanks4:"Vous, pour utiliser cette application et soutenir les muses numriques",creditsFooter:"Fait avec  pour les passionns de muses partout"}}},fallbackLng:"en",interpolation:{escapeValue:!1}}),ne();const Px=()=>(ae.useEffect(()=>{"serviceWorker"in navigator&&"https:"===window.location.protocol&&navigator.serviceWorker.register("/museum-app/sw.js").then(e=>{console.log("Service Worker registered:",e)},e=>{console.log("Service Worker registration failed:",e)})},[]),o.jsx(ie,{children:o.jsx(sb,{children:o.jsxs(cb,{children:[o.jsx(Ox,{}),o.jsxs(oe,{basename:"/museum-app",children:[o.jsx(Nx,{}),o.jsxs(X,{id:"main-content",children:[o.jsx(fe,{exact:!0,path:"/onboarding",children:o.jsx(iy,{})}),o.jsx(fe,{exact:!0,path:"/welcome",children:o.jsx(Pb,{})}),o.jsx(fe,{exact:!0,path:"/storage-debug",children:o.jsx(uy,{})}),o.jsx(fe,{exact:!0,path:"/admin-setup",children:o.jsx(cy,{})}),o.jsx(fe,{exact:!0,path:"/admin",children:o.jsx(ly,{})}),o.jsx(fe,{path:"/tabs",children:o.jsx(Rx,{})}),o.jsx(fe,{exact:!0,path:"/",children:o.jsx(ge,{to:"true"===localStorage.getItem("onboardingCompleted")?"/welcome":"/onboarding"})})]}),o.jsx(Dx,{})]})]})})})),Mx=document.getElementById("root");ef.createRoot(Mx).render(o.jsx(ue.StrictMode,{children:o.jsx(Px,{})}))}}});
